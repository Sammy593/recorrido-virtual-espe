var RK=Object.defineProperty;var MK=(n,e,t)=>e in n?RK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var v9=(n,e,t)=>MK(n,typeof e!="symbol"?e+"":e,t);function r_(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var _K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var o_={exports:{}},k3={},a_={exports:{}},qn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),WK=Symbol.for("react.portal"),VK=Symbol.for("react.fragment"),NK=Symbol.for("react.strict_mode"),FK=Symbol.for("react.profiler"),HK=Symbol.for("react.provider"),EK=Symbol.for("react.context"),XK=Symbol.for("react.forward_ref"),zK=Symbol.for("react.suspense"),YK=Symbol.for("react.memo"),KK=Symbol.for("react.lazy"),MG=Symbol.iterator;function LK(n){return n===null||typeof n!="object"?null:(n=MG&&n[MG]||n["@@iterator"],typeof n=="function"?n:null)}var s_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l_=Object.assign,c_={};function B0(n,e,t){this.props=n,this.context=e,this.refs=c_,this.updater=t||s_}B0.prototype.isReactComponent={};B0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};B0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function g_(){}g_.prototype=B0.prototype;function Pv(n,e,t){this.props=n,this.context=e,this.refs=c_,this.updater=t||s_}var Dv=Pv.prototype=new g_;Dv.constructor=Pv;l_(Dv,B0.prototype);Dv.isPureReactComponent=!0;var _G=Array.isArray,u_=Object.prototype.hasOwnProperty,Uv={current:null},d_={key:!0,ref:!0,__self:!0,__source:!0};function I_(n,e,t){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)u_.call(e,i)&&!d_.hasOwnProperty(i)&&(r[i]=e[i]);var s=arguments.length-2;if(s===1)r.children=t;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in s=n.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return{$$typeof:Sh,type:n,key:o,ref:a,props:r,_owner:Uv.current}}function TK(n,e){return{$$typeof:Sh,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Ov(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sh}function kK(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var WG=/\/+/g;function y9(n,e){return typeof n=="object"&&n!==null&&n.key!=null?kK(""+n.key):e.toString(36)}function Vf(n,e,t,i,r){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Sh:case WK:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+y9(a,0):i,_G(r)?(t="",n!=null&&(t=n.replace(WG,"$&/")+"/"),Vf(r,e,t,"",function(c){return c})):r!=null&&(Ov(r)&&(r=TK(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(WG,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",_G(n))for(var s=0;s<n.length;s++){o=n[s];var l=i+y9(o,s);a+=Vf(o,e,t,l,r)}else if(l=LK(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=i+y9(o,s++),a+=Vf(o,e,t,l,r);else if(o==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function J2(n,e,t){if(n==null)return n;var i=[],r=0;return Vf(n,i,"","",function(o){return e.call(t,o,r++)}),i}function PK(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var yo={current:null},Nf={transition:null},DK={ReactCurrentDispatcher:yo,ReactCurrentBatchConfig:Nf,ReactCurrentOwner:Uv};function C_(){throw Error("act(...) is not supported in production builds of React.")}qn.Children={map:J2,forEach:function(n,e,t){J2(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return J2(n,function(){e++}),e},toArray:function(n){return J2(n,function(e){return e})||[]},only:function(n){if(!Ov(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};qn.Component=B0;qn.Fragment=VK;qn.Profiler=FK;qn.PureComponent=Pv;qn.StrictMode=NK;qn.Suspense=zK;qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DK;qn.act=C_;qn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=l_({},n.props),r=n.key,o=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Uv.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in e)u_.call(e,l)&&!d_.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:Sh,type:n.type,key:r,ref:o,props:i,_owner:a}};qn.createContext=function(n){return n={$$typeof:EK,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:HK,_context:n},n.Consumer=n};qn.createElement=I_;qn.createFactory=function(n){var e=I_.bind(null,n);return e.type=n,e};qn.createRef=function(){return{current:null}};qn.forwardRef=function(n){return{$$typeof:XK,render:n}};qn.isValidElement=Ov;qn.lazy=function(n){return{$$typeof:KK,_payload:{_status:-1,_result:n},_init:PK}};qn.memo=function(n,e){return{$$typeof:YK,type:n,compare:e===void 0?null:e}};qn.startTransition=function(n){var e=Nf.transition;Nf.transition={};try{n()}finally{Nf.transition=e}};qn.unstable_act=C_;qn.useCallback=function(n,e){return yo.current.useCallback(n,e)};qn.useContext=function(n){return yo.current.useContext(n)};qn.useDebugValue=function(){};qn.useDeferredValue=function(n){return yo.current.useDeferredValue(n)};qn.useEffect=function(n,e){return yo.current.useEffect(n,e)};qn.useId=function(){return yo.current.useId()};qn.useImperativeHandle=function(n,e,t){return yo.current.useImperativeHandle(n,e,t)};qn.useInsertionEffect=function(n,e){return yo.current.useInsertionEffect(n,e)};qn.useLayoutEffect=function(n,e){return yo.current.useLayoutEffect(n,e)};qn.useMemo=function(n,e){return yo.current.useMemo(n,e)};qn.useReducer=function(n,e,t){return yo.current.useReducer(n,e,t)};qn.useRef=function(n){return yo.current.useRef(n)};qn.useState=function(n){return yo.current.useState(n)};qn.useSyncExternalStore=function(n,e,t){return yo.current.useSyncExternalStore(n,e,t)};qn.useTransition=function(){return yo.current.useTransition()};qn.version="18.3.1";a_.exports=qn;var v=a_.exports;const Gt=y0(v),Zh=r_({__proto__:null,default:Gt},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UK=v,OK=Symbol.for("react.element"),jK=Symbol.for("react.fragment"),JK=Object.prototype.hasOwnProperty,QK=UK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$K={key:!0,ref:!0,__self:!0,__source:!0};function h_(n,e,t){var i,r={},o=null,a=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)JK.call(e,i)&&!$K.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:OK,type:n,key:o,ref:a,props:r,_owner:QK.current}}k3.Fragment=jK;k3.jsx=h_;k3.jsxs=h_;o_.exports=k3;var I=o_.exports,m_={exports:{}},pa={},f_={exports:{}},p_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,L){var P=N.length;N.push(L);e:for(;0<P;){var O=P-1>>>1,ie=N[O];if(0<r(ie,L))N[O]=L,N[P]=ie,P=O;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var L=N[0],P=N.pop();if(P!==L){N[0]=P;e:for(var O=0,ie=N.length,ge=ie>>>1;O<ge;){var J=2*(O+1)-1,Ce=N[J],ve=J+1,Ae=N[ve];if(0>r(Ce,P))ve<ie&&0>r(Ae,Ce)?(N[O]=Ae,N[ve]=P,O=ve):(N[O]=Ce,N[J]=P,O=J);else if(ve<ie&&0>r(Ae,P))N[O]=Ae,N[ve]=P,O=ve;else break e}}return L}function r(N,L){var P=N.sortIndex-L.sortIndex;return P!==0?P:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],c=[],g=1,u=null,d=3,C=!1,f=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(N){for(var L=t(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=N)i(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(c)}}function x(N){if(b=!1,B(N),!f)if(t(l)!==null)f=!0,z(w);else{var L=t(c);L!==null&&D(x,L.startTime-N)}}function w(N,L){f=!1,b&&(b=!1,p(M),M=-1),C=!0;var P=d;try{for(B(L),u=t(l);u!==null&&(!(u.expirationTime>L)||N&&!V());){var O=u.callback;if(typeof O=="function"){u.callback=null,d=u.priorityLevel;var ie=O(u.expirationTime<=L);L=n.unstable_now(),typeof ie=="function"?u.callback=ie:u===t(l)&&i(l),B(L)}else i(l);u=t(l)}if(u!==null)var ge=!0;else{var J=t(c);J!==null&&D(x,J.startTime-L),ge=!1}return ge}finally{u=null,d=P,C=!1}}var S=!1,Z=null,M=-1,q=5,_=-1;function V(){return!(n.unstable_now()-_<q)}function Y(){if(Z!==null){var N=n.unstable_now();_=N;var L=!0;try{L=Z(!0,N)}finally{L?X():(S=!1,Z=null)}}else S=!1}var X;if(typeof y=="function")X=function(){y(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=Y,X=function(){Q.postMessage(null)}}else X=function(){A(Y,0)};function z(N){Z=N,S||(S=!0,X())}function D(N,L){M=A(function(){N(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){f||C||(f=!0,z(w))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var P=d;d=L;try{return N()}finally{d=P}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=d;d=N;try{return L()}finally{d=P}},n.unstable_scheduleCallback=function(N,L,P){var O=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=P+ie,N={id:g++,callback:L,priorityLevel:N,startTime:P,expirationTime:ie,sortIndex:-1},P>O?(N.sortIndex=P,e(c,N),t(l)===null&&N===t(c)&&(b?(p(M),M=-1):b=!0,D(x,P-O))):(N.sortIndex=ie,e(l,N),f||C||(f=!0,z(w))),N},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(N){var L=d;return function(){var P=d;d=L;try{return N.apply(this,arguments)}finally{d=P}}}})(p_);f_.exports=p_;var eL=f_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL=v,Ca=eL;function yt(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A_=new Set,ZC={};function $u(n,e){kd(n,e),kd(n+"Capture",e)}function kd(n,e){for(ZC[n]=e,n=0;n<e.length;n++)A_.add(e[n])}var Dl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e6=Object.prototype.hasOwnProperty,nL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VG={},NG={};function iL(n){return e6.call(NG,n)?!0:e6.call(VG,n)?!1:nL.test(n)?NG[n]=!0:(VG[n]=!0,!1)}function rL(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function oL(n,e,t,i){if(e===null||typeof e>"u"||rL(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bo(n,e,t,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Nr[n]=new Bo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Nr[e]=new Bo(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Nr[n]=new Bo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Nr[n]=new Bo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Nr[n]=new Bo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Nr[n]=new Bo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Nr[n]=new Bo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Nr[n]=new Bo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Nr[n]=new Bo(n,5,!1,n.toLowerCase(),null,!1,!1)});var jv=/[\-:]([a-z])/g;function Jv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(jv,Jv);Nr[e]=new Bo(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(jv,Jv);Nr[e]=new Bo(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(jv,Jv);Nr[e]=new Bo(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Nr[n]=new Bo(n,1,!1,n.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Bo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Nr[n]=new Bo(n,1,!1,n.toLowerCase(),null,!0,!0)});function Qv(n,e,t,i){var r=Nr.hasOwnProperty(e)?Nr[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oL(e,t,r,i)&&(t=null),i||r===null?iL(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var ec=tL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q2=Symbol.for("react.element"),sd=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),t6=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),ey=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),i6=Symbol.for("react.suspense_list"),ty=Symbol.for("react.memo"),Zc=Symbol.for("react.lazy"),y_=Symbol.for("react.offscreen"),FG=Symbol.iterator;function oI(n){return n===null||typeof n!="object"?null:(n=FG&&n[FG]||n["@@iterator"],typeof n=="function"?n:null)}var Ri=Object.assign,B9;function LI(n){if(B9===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);B9=e&&e[1]||""}return`
`+B9+n}var x9=!1;function G9(n,e){if(!n||x9)return"";x9=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||r[a]!==o[s]){var l=`
`+r[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{x9=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?LI(n):""}function aL(n){switch(n.tag){case 5:return LI(n.type);case 16:return LI("Lazy");case 13:return LI("Suspense");case 19:return LI("SuspenseList");case 0:case 2:case 15:return n=G9(n.type,!1),n;case 11:return n=G9(n.type.render,!1),n;case 1:return n=G9(n.type,!0),n;default:return""}}function r6(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ld:return"Fragment";case sd:return"Portal";case t6:return"Profiler";case $v:return"StrictMode";case n6:return"Suspense";case i6:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case v_:return(n.displayName||"Context")+".Consumer";case b_:return(n._context.displayName||"Context")+".Provider";case ey:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ty:return e=n.displayName||null,e!==null?e:r6(n.type)||"Memo";case Zc:e=n._payload,n=n._init;try{return r6(n(e))}catch{}}return null}function sL(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return r6(e);case 8:return e===$v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ng(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function B_(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lL(n){var e=B_(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function $2(n){n._valueTracker||(n._valueTracker=lL(n))}function x_(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=B_(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function up(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function o6(n,e){var t=e.checked;return Ri({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function HG(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ng(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G_(n,e){e=e.checked,e!=null&&Qv(n,"checked",e,!1)}function a6(n,e){G_(n,e);var t=ng(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?s6(n,e.type,t):e.hasOwnProperty("defaultValue")&&s6(n,e.type,ng(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function EG(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function s6(n,e,t){(e!=="number"||up(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var TI=Array.isArray;function qd(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ng(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function l6(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(yt(91));return Ri({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function XG(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(yt(92));if(TI(t)){if(1<t.length)throw Error(yt(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ng(t)}}function w_(n,e){var t=ng(e.value),i=ng(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function zG(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function S_(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c6(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?S_(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var em,Z_=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(em=em||document.createElement("div"),em.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=em.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function qC(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var eC={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cL=["Webkit","ms","Moz","O"];Object.keys(eC).forEach(function(n){cL.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),eC[e]=eC[n]})});function q_(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||eC.hasOwnProperty(n)&&eC[n]?(""+e).trim():e+"px"}function R_(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=q_(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var gL=Ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g6(n,e){if(e){if(gL[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(yt(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(yt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(yt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(yt(62))}}function u6(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d6=null;function ny(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var I6=null,Rd=null,Md=null;function YG(n){if(n=Mh(n)){if(typeof I6!="function")throw Error(yt(280));var e=n.stateNode;e&&(e=j3(e),I6(n.stateNode,n.type,e))}}function M_(n){Rd?Md?Md.push(n):Md=[n]:Rd=n}function __(){if(Rd){var n=Rd,e=Md;if(Md=Rd=null,YG(n),e)for(n=0;n<e.length;n++)YG(e[n])}}function W_(n,e){return n(e)}function V_(){}var w9=!1;function N_(n,e,t){if(w9)return n(e,t);w9=!0;try{return W_(n,e,t)}finally{w9=!1,(Rd!==null||Md!==null)&&(V_(),__())}}function RC(n,e){var t=n.stateNode;if(t===null)return null;var i=j3(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(yt(231,e,typeof t));return t}var C6=!1;if(Dl)try{var aI={};Object.defineProperty(aI,"passive",{get:function(){C6=!0}}),window.addEventListener("test",aI,aI),window.removeEventListener("test",aI,aI)}catch{C6=!1}function uL(n,e,t,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(g){this.onError(g)}}var tC=!1,dp=null,Ip=!1,h6=null,dL={onError:function(n){tC=!0,dp=n}};function IL(n,e,t,i,r,o,a,s,l){tC=!1,dp=null,uL.apply(dL,arguments)}function CL(n,e,t,i,r,o,a,s,l){if(IL.apply(this,arguments),tC){if(tC){var c=dp;tC=!1,dp=null}else throw Error(yt(198));Ip||(Ip=!0,h6=c)}}function e1(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function F_(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function KG(n){if(e1(n)!==n)throw Error(yt(188))}function hL(n){var e=n.alternate;if(!e){if(e=e1(n),e===null)throw Error(yt(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===t)return KG(r),n;if(o===i)return KG(r),e;o=o.sibling}throw Error(yt(188))}if(t.return!==i.return)t=r,i=o;else{for(var a=!1,s=r.child;s;){if(s===t){a=!0,t=r,i=o;break}if(s===i){a=!0,i=r,t=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===t){a=!0,t=o,i=r;break}if(s===i){a=!0,i=o,t=r;break}s=s.sibling}if(!a)throw Error(yt(189))}}if(t.alternate!==i)throw Error(yt(190))}if(t.tag!==3)throw Error(yt(188));return t.stateNode.current===t?n:e}function H_(n){return n=hL(n),n!==null?E_(n):null}function E_(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=E_(n);if(e!==null)return e;n=n.sibling}return null}var X_=Ca.unstable_scheduleCallback,LG=Ca.unstable_cancelCallback,mL=Ca.unstable_shouldYield,fL=Ca.unstable_requestPaint,Yi=Ca.unstable_now,pL=Ca.unstable_getCurrentPriorityLevel,iy=Ca.unstable_ImmediatePriority,z_=Ca.unstable_UserBlockingPriority,Cp=Ca.unstable_NormalPriority,AL=Ca.unstable_LowPriority,Y_=Ca.unstable_IdlePriority,P3=null,Qs=null;function bL(n){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(P3,n,void 0,(n.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:BL,vL=Math.log,yL=Math.LN2;function BL(n){return n>>>=0,n===0?32:31-(vL(n)/yL|0)|0}var tm=64,nm=4194304;function kI(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function hp(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,o=n.pingedLanes,a=t&268435455;if(a!==0){var s=a&~r;s!==0?i=kI(s):(o&=a,o!==0&&(i=kI(o)))}else a=t&~r,a!==0?i=kI(a):o!==0&&(i=kI(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-bs(e),r=1<<t,i|=n[t],e&=~r;return i}function xL(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GL(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-bs(o),s=1<<a,l=r[a];l===-1?(!(s&t)||s&i)&&(r[a]=xL(s,e)):l<=e&&(n.expiredLanes|=s),o&=~s}}function m6(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function K_(){var n=tm;return tm<<=1,!(tm&4194240)&&(tm=64),n}function S9(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function qh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-bs(e),n[e]=t}function wL(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-bs(t),o=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~o}}function ry(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-bs(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var On=0;function L_(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var T_,oy,k_,P_,D_,f6=!1,im=[],Tc=null,kc=null,Pc=null,MC=new Map,_C=new Map,Mc=[],SL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TG(n,e){switch(n){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":kc=null;break;case"mouseover":case"mouseout":Pc=null;break;case"pointerover":case"pointerout":MC.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_C.delete(e.pointerId)}}function sI(n,e,t,i,r,o){return n===null||n.nativeEvent!==o?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Mh(e),e!==null&&oy(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function ZL(n,e,t,i,r){switch(e){case"focusin":return Tc=sI(Tc,n,e,t,i,r),!0;case"dragenter":return kc=sI(kc,n,e,t,i,r),!0;case"mouseover":return Pc=sI(Pc,n,e,t,i,r),!0;case"pointerover":var o=r.pointerId;return MC.set(o,sI(MC.get(o)||null,n,e,t,i,r)),!0;case"gotpointercapture":return o=r.pointerId,_C.set(o,sI(_C.get(o)||null,n,e,t,i,r)),!0}return!1}function U_(n){var e=su(n.target);if(e!==null){var t=e1(e);if(t!==null){if(e=t.tag,e===13){if(e=F_(t),e!==null){n.blockedOn=e,D_(n.priority,function(){k_(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ff(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=p6(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);d6=i,t.target.dispatchEvent(i),d6=null}else return e=Mh(t),e!==null&&oy(e),n.blockedOn=t,!1;e.shift()}return!0}function kG(n,e,t){Ff(n)&&t.delete(e)}function qL(){f6=!1,Tc!==null&&Ff(Tc)&&(Tc=null),kc!==null&&Ff(kc)&&(kc=null),Pc!==null&&Ff(Pc)&&(Pc=null),MC.forEach(kG),_C.forEach(kG)}function lI(n,e){n.blockedOn===e&&(n.blockedOn=null,f6||(f6=!0,Ca.unstable_scheduleCallback(Ca.unstable_NormalPriority,qL)))}function WC(n){function e(r){return lI(r,n)}if(0<im.length){lI(im[0],n);for(var t=1;t<im.length;t++){var i=im[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Tc!==null&&lI(Tc,n),kc!==null&&lI(kc,n),Pc!==null&&lI(Pc,n),MC.forEach(e),_C.forEach(e),t=0;t<Mc.length;t++)i=Mc[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Mc.length&&(t=Mc[0],t.blockedOn===null);)U_(t),t.blockedOn===null&&Mc.shift()}var _d=ec.ReactCurrentBatchConfig,mp=!0;function RL(n,e,t,i){var r=On,o=_d.transition;_d.transition=null;try{On=1,ay(n,e,t,i)}finally{On=r,_d.transition=o}}function ML(n,e,t,i){var r=On,o=_d.transition;_d.transition=null;try{On=4,ay(n,e,t,i)}finally{On=r,_d.transition=o}}function ay(n,e,t,i){if(mp){var r=p6(n,e,t,i);if(r===null)H9(n,e,i,fp,t),TG(n,i);else if(ZL(r,n,e,t,i))i.stopPropagation();else if(TG(n,i),e&4&&-1<SL.indexOf(n)){for(;r!==null;){var o=Mh(r);if(o!==null&&T_(o),o=p6(n,e,t,i),o===null&&H9(n,e,i,fp,t),o===r)break;r=o}r!==null&&i.stopPropagation()}else H9(n,e,i,null,t)}}var fp=null;function p6(n,e,t,i){if(fp=null,n=ny(i),n=su(n),n!==null)if(e=e1(n),e===null)n=null;else if(t=e.tag,t===13){if(n=F_(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return fp=n,null}function O_(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pL()){case iy:return 1;case z_:return 4;case Cp:case AL:return 16;case Y_:return 536870912;default:return 16}default:return 16}}var Vc=null,sy=null,Hf=null;function j_(){if(Hf)return Hf;var n,e=sy,t=e.length,i,r="value"in Vc?Vc.value:Vc.textContent,o=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[o-i];i++);return Hf=r.slice(n,1<i?1-i:void 0)}function Ef(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function rm(){return!0}function PG(){return!1}function Aa(n){function e(t,i,r,o,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(t=n[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rm:PG,this.isPropagationStopped=PG,this}return Ri(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=rm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=rm)},persist:function(){},isPersistent:rm}),e}var x0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ly=Aa(x0),Rh=Ri({},x0,{view:0,detail:0}),_L=Aa(Rh),Z9,q9,cI,D3=Ri({},Rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cy,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==cI&&(cI&&n.type==="mousemove"?(Z9=n.screenX-cI.screenX,q9=n.screenY-cI.screenY):q9=Z9=0,cI=n),Z9)},movementY:function(n){return"movementY"in n?n.movementY:q9}}),DG=Aa(D3),WL=Ri({},D3,{dataTransfer:0}),VL=Aa(WL),NL=Ri({},Rh,{relatedTarget:0}),R9=Aa(NL),FL=Ri({},x0,{animationName:0,elapsedTime:0,pseudoElement:0}),HL=Aa(FL),EL=Ri({},x0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),XL=Aa(EL),zL=Ri({},x0,{data:0}),UG=Aa(zL),YL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TL(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=LL[n])?!!e[n]:!1}function cy(){return TL}var kL=Ri({},Rh,{key:function(n){if(n.key){var e=YL[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ef(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KL[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cy,charCode:function(n){return n.type==="keypress"?Ef(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ef(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),PL=Aa(kL),DL=Ri({},D3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OG=Aa(DL),UL=Ri({},Rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cy}),OL=Aa(UL),jL=Ri({},x0,{propertyName:0,elapsedTime:0,pseudoElement:0}),JL=Aa(jL),QL=Ri({},D3,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$L=Aa(QL),eT=[9,13,27,32],gy=Dl&&"CompositionEvent"in window,nC=null;Dl&&"documentMode"in document&&(nC=document.documentMode);var tT=Dl&&"TextEvent"in window&&!nC,J_=Dl&&(!gy||nC&&8<nC&&11>=nC),jG=" ",JG=!1;function Q_(n,e){switch(n){case"keyup":return eT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $_(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cd=!1;function nT(n,e){switch(n){case"compositionend":return $_(e);case"keypress":return e.which!==32?null:(JG=!0,jG);case"textInput":return n=e.data,n===jG&&JG?null:n;default:return null}}function iT(n,e){if(cd)return n==="compositionend"||!gy&&Q_(n,e)?(n=j_(),Hf=sy=Vc=null,cd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J_&&e.locale!=="ko"?null:e.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QG(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!rT[n.type]:e==="textarea"}function eW(n,e,t,i){M_(i),e=pp(e,"onChange"),0<e.length&&(t=new ly("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var iC=null,VC=null;function oT(n){uW(n,0)}function U3(n){var e=dd(n);if(x_(e))return n}function aT(n,e){if(n==="change")return e}var tW=!1;if(Dl){var M9;if(Dl){var _9="oninput"in document;if(!_9){var $G=document.createElement("div");$G.setAttribute("oninput","return;"),_9=typeof $G.oninput=="function"}M9=_9}else M9=!1;tW=M9&&(!document.documentMode||9<document.documentMode)}function ew(){iC&&(iC.detachEvent("onpropertychange",nW),VC=iC=null)}function nW(n){if(n.propertyName==="value"&&U3(VC)){var e=[];eW(e,VC,n,ny(n)),N_(oT,e)}}function sT(n,e,t){n==="focusin"?(ew(),iC=e,VC=t,iC.attachEvent("onpropertychange",nW)):n==="focusout"&&ew()}function lT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return U3(VC)}function cT(n,e){if(n==="click")return U3(e)}function gT(n,e){if(n==="input"||n==="change")return U3(e)}function uT(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Gs=typeof Object.is=="function"?Object.is:uT;function NC(n,e){if(Gs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!e6.call(e,r)||!Gs(n[r],e[r]))return!1}return!0}function tw(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function nw(n,e){var t=tw(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=tw(t)}}function iW(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?iW(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function rW(){for(var n=window,e=up();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=up(n.document)}return e}function uy(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function dT(n){var e=rW(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&iW(t.ownerDocument.documentElement,t)){if(i!==null&&uy(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!n.extend&&o>i&&(r=i,i=o,o=r),r=nw(t,o);var a=nw(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),o>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var IT=Dl&&"documentMode"in document&&11>=document.documentMode,gd=null,A6=null,rC=null,b6=!1;function iw(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;b6||gd==null||gd!==up(i)||(i=gd,"selectionStart"in i&&uy(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),rC&&NC(rC,i)||(rC=i,i=pp(A6,"onSelect"),0<i.length&&(e=new ly("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=gd)))}function om(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ud={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},W9={},oW={};Dl&&(oW=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function O3(n){if(W9[n])return W9[n];if(!ud[n])return n;var e=ud[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in oW)return W9[n]=e[t];return n}var aW=O3("animationend"),sW=O3("animationiteration"),lW=O3("animationstart"),cW=O3("transitionend"),gW=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ug(n,e){gW.set(n,e),$u(e,[n])}for(var V9=0;V9<rw.length;V9++){var N9=rw[V9],CT=N9.toLowerCase(),hT=N9[0].toUpperCase()+N9.slice(1);ug(CT,"on"+hT)}ug(aW,"onAnimationEnd");ug(sW,"onAnimationIteration");ug(lW,"onAnimationStart");ug("dblclick","onDoubleClick");ug("focusin","onFocus");ug("focusout","onBlur");ug(cW,"onTransitionEnd");kd("onMouseEnter",["mouseout","mouseover"]);kd("onMouseLeave",["mouseout","mouseover"]);kd("onPointerEnter",["pointerout","pointerover"]);kd("onPointerLeave",["pointerout","pointerover"]);$u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$u("onBeforeInput",["compositionend","keypress","textInput","paste"]);$u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var PI="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("cancel close invalid load scroll toggle".split(" ").concat(PI));function ow(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,CL(i,e,void 0,n),n.currentTarget=null}function uW(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;ow(r,s,c),o=l}else for(a=0;a<i.length;a++){if(s=i[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;ow(r,s,c),o=l}}}if(Ip)throw n=h6,Ip=!1,h6=null,n}function gi(n,e){var t=e[G6];t===void 0&&(t=e[G6]=new Set);var i=n+"__bubble";t.has(i)||(dW(e,n,2,!1),t.add(i))}function F9(n,e,t){var i=0;e&&(i|=4),dW(t,n,i,e)}var am="_reactListening"+Math.random().toString(36).slice(2);function FC(n){if(!n[am]){n[am]=!0,A_.forEach(function(t){t!=="selectionchange"&&(mT.has(t)||F9(t,!1,n),F9(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[am]||(e[am]=!0,F9("selectionchange",!1,e))}}function dW(n,e,t,i){switch(O_(e)){case 1:var r=RL;break;case 4:r=ML;break;default:r=ay}t=r.bind(null,e,t,n),r=void 0,!C6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function H9(n,e,t,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var s=i.stateNode.containerInfo;if(s===r||s.nodeType===8&&s.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;s!==null;){if(a=su(s),a===null)return;if(l=a.tag,l===5||l===6){i=o=a;continue e}s=s.parentNode}}i=i.return}N_(function(){var c=o,g=ny(t),u=[];e:{var d=gW.get(n);if(d!==void 0){var C=ly,f=n;switch(n){case"keypress":if(Ef(t)===0)break e;case"keydown":case"keyup":C=PL;break;case"focusin":f="focus",C=R9;break;case"focusout":f="blur",C=R9;break;case"beforeblur":case"afterblur":C=R9;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=DG;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=VL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=OL;break;case aW:case sW:case lW:C=HL;break;case cW:C=JL;break;case"scroll":C=_L;break;case"wheel":C=$L;break;case"copy":case"cut":case"paste":C=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=OG}var b=(e&4)!==0,A=!b&&n==="scroll",p=b?d!==null?d+"Capture":null:d;b=[];for(var y=c,B;y!==null;){B=y;var x=B.stateNode;if(B.tag===5&&x!==null&&(B=x,p!==null&&(x=RC(y,p),x!=null&&b.push(HC(y,x,B)))),A)break;y=y.return}0<b.length&&(d=new C(d,f,null,t,g),u.push({event:d,listeners:b}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",C=n==="mouseout"||n==="pointerout",d&&t!==d6&&(f=t.relatedTarget||t.fromElement)&&(su(f)||f[Ul]))break e;if((C||d)&&(d=g.window===g?g:(d=g.ownerDocument)?d.defaultView||d.parentWindow:window,C?(f=t.relatedTarget||t.toElement,C=c,f=f?su(f):null,f!==null&&(A=e1(f),f!==A||f.tag!==5&&f.tag!==6)&&(f=null)):(C=null,f=c),C!==f)){if(b=DG,x="onMouseLeave",p="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(b=OG,x="onPointerLeave",p="onPointerEnter",y="pointer"),A=C==null?d:dd(C),B=f==null?d:dd(f),d=new b(x,y+"leave",C,t,g),d.target=A,d.relatedTarget=B,x=null,su(g)===c&&(b=new b(p,y+"enter",f,t,g),b.target=B,b.relatedTarget=A,x=b),A=x,C&&f)t:{for(b=C,p=f,y=0,B=b;B;B=Z1(B))y++;for(B=0,x=p;x;x=Z1(x))B++;for(;0<y-B;)b=Z1(b),y--;for(;0<B-y;)p=Z1(p),B--;for(;y--;){if(b===p||p!==null&&b===p.alternate)break t;b=Z1(b),p=Z1(p)}b=null}else b=null;C!==null&&aw(u,d,C,b,!1),f!==null&&A!==null&&aw(u,A,f,b,!0)}}e:{if(d=c?dd(c):window,C=d.nodeName&&d.nodeName.toLowerCase(),C==="select"||C==="input"&&d.type==="file")var w=aT;else if(QG(d))if(tW)w=gT;else{w=lT;var S=sT}else(C=d.nodeName)&&C.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=cT);if(w&&(w=w(n,c))){eW(u,w,t,g);break e}S&&S(n,d,c),n==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&s6(d,"number",d.value)}switch(S=c?dd(c):window,n){case"focusin":(QG(S)||S.contentEditable==="true")&&(gd=S,A6=c,rC=null);break;case"focusout":rC=A6=gd=null;break;case"mousedown":b6=!0;break;case"contextmenu":case"mouseup":case"dragend":b6=!1,iw(u,t,g);break;case"selectionchange":if(IT)break;case"keydown":case"keyup":iw(u,t,g)}var Z;if(gy)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cd?Q_(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(J_&&t.locale!=="ko"&&(cd||M!=="onCompositionStart"?M==="onCompositionEnd"&&cd&&(Z=j_()):(Vc=g,sy="value"in Vc?Vc.value:Vc.textContent,cd=!0)),S=pp(c,M),0<S.length&&(M=new UG(M,n,null,t,g),u.push({event:M,listeners:S}),Z?M.data=Z:(Z=$_(t),Z!==null&&(M.data=Z)))),(Z=tT?nT(n,t):iT(n,t))&&(c=pp(c,"onBeforeInput"),0<c.length&&(g=new UG("onBeforeInput","beforeinput",null,t,g),u.push({event:g,listeners:c}),g.data=Z))}uW(u,e)})}function HC(n,e,t){return{instance:n,listener:e,currentTarget:t}}function pp(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=RC(n,t),o!=null&&i.unshift(HC(n,o,r)),o=RC(n,e),o!=null&&i.push(HC(n,o,r))),n=n.return}return i}function Z1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function aw(n,e,t,i,r){for(var o=e._reactName,a=[];t!==null&&t!==i;){var s=t,l=s.alternate,c=s.stateNode;if(l!==null&&l===i)break;s.tag===5&&c!==null&&(s=c,r?(l=RC(t,o),l!=null&&a.unshift(HC(t,l,s))):r||(l=RC(t,o),l!=null&&a.push(HC(t,l,s)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var fT=/\r\n?/g,pT=/\u0000|\uFFFD/g;function sw(n){return(typeof n=="string"?n:""+n).replace(fT,`
`).replace(pT,"")}function sm(n,e,t){if(e=sw(e),sw(n)!==e&&t)throw Error(yt(425))}function Ap(){}var v6=null,y6=null;function B6(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x6=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,lw=typeof Promise=="function"?Promise:void 0,bT=typeof queueMicrotask=="function"?queueMicrotask:typeof lw<"u"?function(n){return lw.resolve(null).then(n).catch(vT)}:x6;function vT(n){setTimeout(function(){throw n})}function E9(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),WC(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);WC(e)}function Dc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function cw(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var G0=Math.random().toString(36).slice(2),Ds="__reactFiber$"+G0,EC="__reactProps$"+G0,Ul="__reactContainer$"+G0,G6="__reactEvents$"+G0,yT="__reactListeners$"+G0,BT="__reactHandles$"+G0;function su(n){var e=n[Ds];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ul]||t[Ds]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=cw(n);n!==null;){if(t=n[Ds])return t;n=cw(n)}return e}n=t,t=n.parentNode}return null}function Mh(n){return n=n[Ds]||n[Ul],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(yt(33))}function j3(n){return n[EC]||null}var w6=[],Id=-1;function dg(n){return{current:n}}function Ii(n){0>Id||(n.current=w6[Id],w6[Id]=null,Id--)}function li(n,e){Id++,w6[Id]=n.current,n.current=e}var ig={},no=dg(ig),Xo=dg(!1),Fu=ig;function Pd(n,e){var t=n.type.contextTypes;if(!t)return ig;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in t)r[o]=e[o];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function zo(n){return n=n.childContextTypes,n!=null}function bp(){Ii(Xo),Ii(no)}function gw(n,e,t){if(no.current!==ig)throw Error(yt(168));li(no,e),li(Xo,t)}function IW(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(yt(108,sL(n)||"Unknown",r));return Ri({},t,i)}function vp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ig,Fu=no.current,li(no,n),li(Xo,Xo.current),!0}function uw(n,e,t){var i=n.stateNode;if(!i)throw Error(yt(169));t?(n=IW(n,e,Fu),i.__reactInternalMemoizedMergedChildContext=n,Ii(Xo),Ii(no),li(no,n)):Ii(Xo),li(Xo,t)}var Ml=null,J3=!1,X9=!1;function CW(n){Ml===null?Ml=[n]:Ml.push(n)}function xT(n){J3=!0,CW(n)}function Ig(){if(!X9&&Ml!==null){X9=!0;var n=0,e=On;try{var t=Ml;for(On=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Ml=null,J3=!1}catch(r){throw Ml!==null&&(Ml=Ml.slice(n+1)),X_(iy,Ig),r}finally{On=e,X9=!1}}return null}var Cd=[],hd=0,yp=null,Bp=0,Ea=[],Xa=0,Hu=null,Fl=1,Hl="";function Og(n,e){Cd[hd++]=Bp,Cd[hd++]=yp,yp=n,Bp=e}function hW(n,e,t){Ea[Xa++]=Fl,Ea[Xa++]=Hl,Ea[Xa++]=Hu,Hu=n;var i=Fl;n=Hl;var r=32-bs(i)-1;i&=~(1<<r),t+=1;var o=32-bs(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Fl=1<<32-bs(e)+r|t<<r|i,Hl=o+n}else Fl=1<<o|t<<r|i,Hl=n}function dy(n){n.return!==null&&(Og(n,1),hW(n,1,0))}function Iy(n){for(;n===yp;)yp=Cd[--hd],Cd[hd]=null,Bp=Cd[--hd],Cd[hd]=null;for(;n===Hu;)Hu=Ea[--Xa],Ea[Xa]=null,Hl=Ea[--Xa],Ea[Xa]=null,Fl=Ea[--Xa],Ea[Xa]=null}var ua=null,la=null,hi=!1,ps=null;function mW(n,e){var t=Ya(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function dw(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ua=n,la=Dc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ua=n,la=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Hu!==null?{id:Fl,overflow:Hl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ya(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ua=n,la=null,!0):!1;default:return!1}}function S6(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Z6(n){if(hi){var e=la;if(e){var t=e;if(!dw(n,e)){if(S6(n))throw Error(yt(418));e=Dc(t.nextSibling);var i=ua;e&&dw(n,e)?mW(i,t):(n.flags=n.flags&-4097|2,hi=!1,ua=n)}}else{if(S6(n))throw Error(yt(418));n.flags=n.flags&-4097|2,hi=!1,ua=n}}}function Iw(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ua=n}function lm(n){if(n!==ua)return!1;if(!hi)return Iw(n),hi=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!B6(n.type,n.memoizedProps)),e&&(e=la)){if(S6(n))throw fW(),Error(yt(418));for(;e;)mW(n,e),e=Dc(e.nextSibling)}if(Iw(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(yt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){la=Dc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}la=null}}else la=ua?Dc(n.stateNode.nextSibling):null;return!0}function fW(){for(var n=la;n;)n=Dc(n.nextSibling)}function Dd(){la=ua=null,hi=!1}function Cy(n){ps===null?ps=[n]:ps.push(n)}var GT=ec.ReactCurrentBatchConfig;function gI(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(yt(309));var i=t.stateNode}if(!i)throw Error(yt(147,n));var r=i,o=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=r.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof n!="string")throw Error(yt(284));if(!t._owner)throw Error(yt(290,n))}return n}function cm(n,e){throw n=Object.prototype.toString.call(e),Error(yt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Cw(n){var e=n._init;return e(n._payload)}function pW(n){function e(p,y){if(n){var B=p.deletions;B===null?(p.deletions=[y],p.flags|=16):B.push(y)}}function t(p,y){if(!n)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function i(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function r(p,y){return p=Jc(p,y),p.index=0,p.sibling=null,p}function o(p,y,B){return p.index=B,n?(B=p.alternate,B!==null?(B=B.index,B<y?(p.flags|=2,y):B):(p.flags|=2,y)):(p.flags|=1048576,y)}function a(p){return n&&p.alternate===null&&(p.flags|=2),p}function s(p,y,B,x){return y===null||y.tag!==6?(y=P9(B,p.mode,x),y.return=p,y):(y=r(y,B),y.return=p,y)}function l(p,y,B,x){var w=B.type;return w===ld?g(p,y,B.props.children,x,B.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Zc&&Cw(w)===y.type)?(x=r(y,B.props),x.ref=gI(p,y,B),x.return=p,x):(x=kf(B.type,B.key,B.props,null,p.mode,x),x.ref=gI(p,y,B),x.return=p,x)}function c(p,y,B,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==B.containerInfo||y.stateNode.implementation!==B.implementation?(y=D9(B,p.mode,x),y.return=p,y):(y=r(y,B.children||[]),y.return=p,y)}function g(p,y,B,x,w){return y===null||y.tag!==7?(y=xu(B,p.mode,x,w),y.return=p,y):(y=r(y,B),y.return=p,y)}function u(p,y,B){if(typeof y=="string"&&y!==""||typeof y=="number")return y=P9(""+y,p.mode,B),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Q2:return B=kf(y.type,y.key,y.props,null,p.mode,B),B.ref=gI(p,null,y),B.return=p,B;case sd:return y=D9(y,p.mode,B),y.return=p,y;case Zc:var x=y._init;return u(p,x(y._payload),B)}if(TI(y)||oI(y))return y=xu(y,p.mode,B,null),y.return=p,y;cm(p,y)}return null}function d(p,y,B,x){var w=y!==null?y.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return w!==null?null:s(p,y,""+B,x);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q2:return B.key===w?l(p,y,B,x):null;case sd:return B.key===w?c(p,y,B,x):null;case Zc:return w=B._init,d(p,y,w(B._payload),x)}if(TI(B)||oI(B))return w!==null?null:g(p,y,B,x,null);cm(p,B)}return null}function C(p,y,B,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(B)||null,s(y,p,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Q2:return p=p.get(x.key===null?B:x.key)||null,l(y,p,x,w);case sd:return p=p.get(x.key===null?B:x.key)||null,c(y,p,x,w);case Zc:var S=x._init;return C(p,y,B,S(x._payload),w)}if(TI(x)||oI(x))return p=p.get(B)||null,g(y,p,x,w,null);cm(y,x)}return null}function f(p,y,B,x){for(var w=null,S=null,Z=y,M=y=0,q=null;Z!==null&&M<B.length;M++){Z.index>M?(q=Z,Z=null):q=Z.sibling;var _=d(p,Z,B[M],x);if(_===null){Z===null&&(Z=q);break}n&&Z&&_.alternate===null&&e(p,Z),y=o(_,y,M),S===null?w=_:S.sibling=_,S=_,Z=q}if(M===B.length)return t(p,Z),hi&&Og(p,M),w;if(Z===null){for(;M<B.length;M++)Z=u(p,B[M],x),Z!==null&&(y=o(Z,y,M),S===null?w=Z:S.sibling=Z,S=Z);return hi&&Og(p,M),w}for(Z=i(p,Z);M<B.length;M++)q=C(Z,p,M,B[M],x),q!==null&&(n&&q.alternate!==null&&Z.delete(q.key===null?M:q.key),y=o(q,y,M),S===null?w=q:S.sibling=q,S=q);return n&&Z.forEach(function(V){return e(p,V)}),hi&&Og(p,M),w}function b(p,y,B,x){var w=oI(B);if(typeof w!="function")throw Error(yt(150));if(B=w.call(B),B==null)throw Error(yt(151));for(var S=w=null,Z=y,M=y=0,q=null,_=B.next();Z!==null&&!_.done;M++,_=B.next()){Z.index>M?(q=Z,Z=null):q=Z.sibling;var V=d(p,Z,_.value,x);if(V===null){Z===null&&(Z=q);break}n&&Z&&V.alternate===null&&e(p,Z),y=o(V,y,M),S===null?w=V:S.sibling=V,S=V,Z=q}if(_.done)return t(p,Z),hi&&Og(p,M),w;if(Z===null){for(;!_.done;M++,_=B.next())_=u(p,_.value,x),_!==null&&(y=o(_,y,M),S===null?w=_:S.sibling=_,S=_);return hi&&Og(p,M),w}for(Z=i(p,Z);!_.done;M++,_=B.next())_=C(Z,p,M,_.value,x),_!==null&&(n&&_.alternate!==null&&Z.delete(_.key===null?M:_.key),y=o(_,y,M),S===null?w=_:S.sibling=_,S=_);return n&&Z.forEach(function(Y){return e(p,Y)}),hi&&Og(p,M),w}function A(p,y,B,x){if(typeof B=="object"&&B!==null&&B.type===ld&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Q2:e:{for(var w=B.key,S=y;S!==null;){if(S.key===w){if(w=B.type,w===ld){if(S.tag===7){t(p,S.sibling),y=r(S,B.props.children),y.return=p,p=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Zc&&Cw(w)===S.type){t(p,S.sibling),y=r(S,B.props),y.ref=gI(p,S,B),y.return=p,p=y;break e}t(p,S);break}else e(p,S);S=S.sibling}B.type===ld?(y=xu(B.props.children,p.mode,x,B.key),y.return=p,p=y):(x=kf(B.type,B.key,B.props,null,p.mode,x),x.ref=gI(p,y,B),x.return=p,p=x)}return a(p);case sd:e:{for(S=B.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===B.containerInfo&&y.stateNode.implementation===B.implementation){t(p,y.sibling),y=r(y,B.children||[]),y.return=p,p=y;break e}else{t(p,y);break}else e(p,y);y=y.sibling}y=D9(B,p.mode,x),y.return=p,p=y}return a(p);case Zc:return S=B._init,A(p,y,S(B._payload),x)}if(TI(B))return f(p,y,B,x);if(oI(B))return b(p,y,B,x);cm(p,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,y!==null&&y.tag===6?(t(p,y.sibling),y=r(y,B),y.return=p,p=y):(t(p,y),y=P9(B,p.mode,x),y.return=p,p=y),a(p)):t(p,y)}return A}var Ud=pW(!0),AW=pW(!1),xp=dg(null),Gp=null,md=null,hy=null;function my(){hy=md=Gp=null}function fy(n){var e=xp.current;Ii(xp),n._currentValue=e}function q6(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Wd(n,e){Gp=n,hy=md=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Eo=!0),n.firstContext=null)}function Da(n){var e=n._currentValue;if(hy!==n)if(n={context:n,memoizedValue:e,next:null},md===null){if(Gp===null)throw Error(yt(308));md=n,Gp.dependencies={lanes:0,firstContext:n}}else md=md.next=n;return e}var lu=null;function py(n){lu===null?lu=[n]:lu.push(n)}function bW(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,py(e)):(t.next=r.next,r.next=t),e.interleaved=t,Ol(n,i)}function Ol(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var qc=!1;function Ay(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vW(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Kl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Uc(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,En&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ol(n,t)}return r=i.interleaved,r===null?(e.next=e,py(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ol(n,t)}function Xf(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,ry(n,t)}}function hw(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?r=o=a:o=o.next=a,t=t.next}while(t!==null);o===null?r=o=e:o=o.next=e}else r=o=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function wp(n,e,t,i){var r=n.updateQueue;qc=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var g=n.alternate;g!==null&&(g=g.updateQueue,s=g.lastBaseUpdate,s!==a&&(s===null?g.firstBaseUpdate=c:s.next=c,g.lastBaseUpdate=l))}if(o!==null){var u=r.baseState;a=0,g=c=l=null,s=o;do{var d=s.lane,C=s.eventTime;if((i&d)===d){g!==null&&(g=g.next={eventTime:C,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=n,b=s;switch(d=e,C=t,b.tag){case 1:if(f=b.payload,typeof f=="function"){u=f.call(C,u,d);break e}u=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=b.payload,d=typeof f=="function"?f.call(C,u,d):f,d==null)break e;u=Ri({},u,d);break e;case 2:qc=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[s]:d.push(s))}else C={eventTime:C,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},g===null?(c=g=C,l=u):g=g.next=C,a|=d;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;d=s,s=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(g===null&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=g,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Xu|=a,n.lanes=a,n.memoizedState=u}}function mw(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(yt(191,r));r.call(i)}}}var _h={},$s=dg(_h),XC=dg(_h),zC=dg(_h);function cu(n){if(n===_h)throw Error(yt(174));return n}function by(n,e){switch(li(zC,e),li(XC,n),li($s,_h),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c6(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=c6(e,n)}Ii($s),li($s,e)}function Od(){Ii($s),Ii(XC),Ii(zC)}function yW(n){cu(zC.current);var e=cu($s.current),t=c6(e,n.type);e!==t&&(li(XC,n),li($s,t))}function vy(n){XC.current===n&&(Ii($s),Ii(XC))}var yi=dg(0);function Sp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z9=[];function yy(){for(var n=0;n<z9.length;n++)z9[n]._workInProgressVersionPrimary=null;z9.length=0}var zf=ec.ReactCurrentDispatcher,Y9=ec.ReactCurrentBatchConfig,Eu=0,Zi=null,sr=null,mr=null,Zp=!1,oC=!1,YC=0,wT=0;function Kr(){throw Error(yt(321))}function By(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Gs(n[t],e[t]))return!1;return!0}function xy(n,e,t,i,r,o){if(Eu=o,Zi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zf.current=n===null||n.memoizedState===null?RT:MT,n=t(i,r),oC){o=0;do{if(oC=!1,YC=0,25<=o)throw Error(yt(301));o+=1,mr=sr=null,e.updateQueue=null,zf.current=_T,n=t(i,r)}while(oC)}if(zf.current=qp,e=sr!==null&&sr.next!==null,Eu=0,mr=sr=Zi=null,Zp=!1,e)throw Error(yt(300));return n}function Gy(){var n=YC!==0;return YC=0,n}function Ts(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?Zi.memoizedState=mr=n:mr=mr.next=n,mr}function Ua(){if(sr===null){var n=Zi.alternate;n=n!==null?n.memoizedState:null}else n=sr.next;var e=mr===null?Zi.memoizedState:mr.next;if(e!==null)mr=e,sr=n;else{if(n===null)throw Error(yt(310));sr=n,n={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},mr===null?Zi.memoizedState=mr=n:mr=mr.next=n}return mr}function KC(n,e){return typeof e=="function"?e(n):e}function K9(n){var e=Ua(),t=e.queue;if(t===null)throw Error(yt(311));t.lastRenderedReducer=n;var i=sr,r=i.baseQueue,o=t.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,t.pending=null}if(r!==null){o=r.next,i=i.baseState;var s=a=null,l=null,c=o;do{var g=c.lane;if((Eu&g)===g)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var u={lane:g,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=u,a=i):l=l.next=u,Zi.lanes|=g,Xu|=g}c=c.next}while(c!==null&&c!==o);l===null?a=i:l.next=s,Gs(i,e.memoizedState)||(Eo=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do o=r.lane,Zi.lanes|=o,Xu|=o,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function L9(n){var e=Ua(),t=e.queue;if(t===null)throw Error(yt(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,o=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do o=n(o,a.action),a=a.next;while(a!==r);Gs(o,e.memoizedState)||(Eo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,i]}function BW(){}function xW(n,e){var t=Zi,i=Ua(),r=e(),o=!Gs(i.memoizedState,r);if(o&&(i.memoizedState=r,Eo=!0),i=i.queue,wy(SW.bind(null,t,i,n),[n]),i.getSnapshot!==e||o||mr!==null&&mr.memoizedState.tag&1){if(t.flags|=2048,LC(9,wW.bind(null,t,i,r,e),void 0,null),Ar===null)throw Error(yt(349));Eu&30||GW(t,e,r)}return r}function GW(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Zi.updateQueue,e===null?(e={lastEffect:null,stores:null},Zi.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function wW(n,e,t,i){e.value=t,e.getSnapshot=i,ZW(e)&&qW(n)}function SW(n,e,t){return t(function(){ZW(e)&&qW(n)})}function ZW(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Gs(n,t)}catch{return!0}}function qW(n){var e=Ol(n,1);e!==null&&vs(e,n,1,-1)}function fw(n){var e=Ts();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:KC,lastRenderedState:n},e.queue=n,n=n.dispatch=qT.bind(null,Zi,n),[e.memoizedState,n]}function LC(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=Zi.updateQueue,e===null?(e={lastEffect:null,stores:null},Zi.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function RW(){return Ua().memoizedState}function Yf(n,e,t,i){var r=Ts();Zi.flags|=n,r.memoizedState=LC(1|e,t,void 0,i===void 0?null:i)}function Q3(n,e,t,i){var r=Ua();i=i===void 0?null:i;var o=void 0;if(sr!==null){var a=sr.memoizedState;if(o=a.destroy,i!==null&&By(i,a.deps)){r.memoizedState=LC(e,t,o,i);return}}Zi.flags|=n,r.memoizedState=LC(1|e,t,o,i)}function pw(n,e){return Yf(8390656,8,n,e)}function wy(n,e){return Q3(2048,8,n,e)}function MW(n,e){return Q3(4,2,n,e)}function _W(n,e){return Q3(4,4,n,e)}function WW(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function VW(n,e,t){return t=t!=null?t.concat([n]):null,Q3(4,4,WW.bind(null,e,n),t)}function Sy(){}function NW(n,e){var t=Ua();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&By(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function FW(n,e){var t=Ua();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&By(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function HW(n,e,t){return Eu&21?(Gs(t,e)||(t=K_(),Zi.lanes|=t,Xu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Eo=!0),n.memoizedState=t)}function ST(n,e){var t=On;On=t!==0&&4>t?t:4,n(!0);var i=Y9.transition;Y9.transition={};try{n(!1),e()}finally{On=t,Y9.transition=i}}function EW(){return Ua().memoizedState}function ZT(n,e,t){var i=jc(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},XW(n))zW(e,t);else if(t=bW(n,e,t,i),t!==null){var r=Ao();vs(t,n,i,r),YW(t,e,i)}}function qT(n,e,t){var i=jc(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(XW(n))zW(e,r);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,t);if(r.hasEagerState=!0,r.eagerState=s,Gs(s,a)){var l=e.interleaved;l===null?(r.next=r,py(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=bW(n,e,r,i),t!==null&&(r=Ao(),vs(t,n,i,r),YW(t,e,i))}}function XW(n){var e=n.alternate;return n===Zi||e!==null&&e===Zi}function zW(n,e){oC=Zp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function YW(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,ry(n,t)}}var qp={readContext:Da,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},RT={readContext:Da,useCallback:function(n,e){return Ts().memoizedState=[n,e===void 0?null:e],n},useContext:Da,useEffect:pw,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Yf(4194308,4,WW.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Yf(4194308,4,n,e)},useInsertionEffect:function(n,e){return Yf(4,2,n,e)},useMemo:function(n,e){var t=Ts();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ts();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=ZT.bind(null,Zi,n),[i.memoizedState,n]},useRef:function(n){var e=Ts();return n={current:n},e.memoizedState=n},useState:fw,useDebugValue:Sy,useDeferredValue:function(n){return Ts().memoizedState=n},useTransition:function(){var n=fw(!1),e=n[0];return n=ST.bind(null,n[1]),Ts().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=Zi,r=Ts();if(hi){if(t===void 0)throw Error(yt(407));t=t()}else{if(t=e(),Ar===null)throw Error(yt(349));Eu&30||GW(i,e,t)}r.memoizedState=t;var o={value:t,getSnapshot:e};return r.queue=o,pw(SW.bind(null,i,o,n),[n]),i.flags|=2048,LC(9,wW.bind(null,i,o,t,e),void 0,null),t},useId:function(){var n=Ts(),e=Ar.identifierPrefix;if(hi){var t=Hl,i=Fl;t=(i&~(1<<32-bs(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=YC++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=wT++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},MT={readContext:Da,useCallback:NW,useContext:Da,useEffect:wy,useImperativeHandle:VW,useInsertionEffect:MW,useLayoutEffect:_W,useMemo:FW,useReducer:K9,useRef:RW,useState:function(){return K9(KC)},useDebugValue:Sy,useDeferredValue:function(n){var e=Ua();return HW(e,sr.memoizedState,n)},useTransition:function(){var n=K9(KC)[0],e=Ua().memoizedState;return[n,e]},useMutableSource:BW,useSyncExternalStore:xW,useId:EW,unstable_isNewReconciler:!1},_T={readContext:Da,useCallback:NW,useContext:Da,useEffect:wy,useImperativeHandle:VW,useInsertionEffect:MW,useLayoutEffect:_W,useMemo:FW,useReducer:L9,useRef:RW,useState:function(){return L9(KC)},useDebugValue:Sy,useDeferredValue:function(n){var e=Ua();return sr===null?e.memoizedState=n:HW(e,sr.memoizedState,n)},useTransition:function(){var n=L9(KC)[0],e=Ua().memoizedState;return[n,e]},useMutableSource:BW,useSyncExternalStore:xW,useId:EW,unstable_isNewReconciler:!1};function Is(n,e){if(n&&n.defaultProps){e=Ri({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function R6(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ri({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var $3={isMounted:function(n){return(n=n._reactInternals)?e1(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Ao(),r=jc(n),o=Kl(i,r);o.payload=e,t!=null&&(o.callback=t),e=Uc(n,o,r),e!==null&&(vs(e,n,r,i),Xf(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Ao(),r=jc(n),o=Kl(i,r);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Uc(n,o,r),e!==null&&(vs(e,n,r,i),Xf(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ao(),i=jc(n),r=Kl(t,i);r.tag=2,e!=null&&(r.callback=e),e=Uc(n,r,i),e!==null&&(vs(e,n,i,t),Xf(e,n,i))}};function Aw(n,e,t,i,r,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!NC(t,i)||!NC(r,o):!0}function KW(n,e,t){var i=!1,r=ig,o=e.contextType;return typeof o=="object"&&o!==null?o=Da(o):(r=zo(e)?Fu:no.current,i=e.contextTypes,o=(i=i!=null)?Pd(n,r):ig),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$3,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=o),e}function bw(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&$3.enqueueReplaceState(e,e.state,null)}function M6(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Ay(n);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Da(o):(o=zo(e)?Fu:no.current,r.context=Pd(n,o)),r.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(R6(n,e,o,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&$3.enqueueReplaceState(r,r.state,null),wp(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function jd(n,e){try{var t="",i=e;do t+=aL(i),i=i.return;while(i);var r=t}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:r,digest:null}}function T9(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function _6(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var WT=typeof WeakMap=="function"?WeakMap:Map;function LW(n,e,t){t=Kl(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Mp||(Mp=!0,K6=i),_6(n,e)},t}function TW(n,e,t){t=Kl(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){_6(n,e)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){_6(n,e),typeof i!="function"&&(Oc===null?Oc=new Set([this]):Oc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function vw(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new WT;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=DT.bind(null,n,e,t),e.then(n,n))}function yw(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Bw(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Kl(-1,1),e.tag=2,Uc(t,e,1))),t.lanes|=1),n)}var VT=ec.ReactCurrentOwner,Eo=!1;function Io(n,e,t,i){e.child=n===null?AW(e,null,t,i):Ud(e,n.child,t,i)}function xw(n,e,t,i,r){t=t.render;var o=e.ref;return Wd(e,r),i=xy(n,e,t,i,o,r),t=Gy(),n!==null&&!Eo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,jl(n,e,r)):(hi&&t&&dy(e),e.flags|=1,Io(n,e,i,r),e.child)}function Gw(n,e,t,i,r){if(n===null){var o=t.type;return typeof o=="function"&&!Ny(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,kW(n,e,o,i,r)):(n=kf(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(o=n.child,!(n.lanes&r)){var a=o.memoizedProps;if(t=t.compare,t=t!==null?t:NC,t(a,i)&&n.ref===e.ref)return jl(n,e,r)}return e.flags|=1,n=Jc(o,i),n.ref=e.ref,n.return=e,e.child=n}function kW(n,e,t,i,r){if(n!==null){var o=n.memoizedProps;if(NC(o,i)&&n.ref===e.ref)if(Eo=!1,e.pendingProps=i=o,(n.lanes&r)!==0)n.flags&131072&&(Eo=!0);else return e.lanes=n.lanes,jl(n,e,r)}return W6(n,e,t,i,r)}function PW(n,e,t){var i=e.pendingProps,r=i.children,o=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},li(pd,ra),ra|=t;else{if(!(t&1073741824))return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,li(pd,ra),ra|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:t,li(pd,ra),ra|=i}else o!==null?(i=o.baseLanes|t,e.memoizedState=null):i=t,li(pd,ra),ra|=i;return Io(n,e,r,t),e.child}function DW(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function W6(n,e,t,i,r){var o=zo(t)?Fu:no.current;return o=Pd(e,o),Wd(e,r),t=xy(n,e,t,i,o,r),i=Gy(),n!==null&&!Eo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,jl(n,e,r)):(hi&&i&&dy(e),e.flags|=1,Io(n,e,t,r),e.child)}function ww(n,e,t,i,r){if(zo(t)){var o=!0;vp(e)}else o=!1;if(Wd(e,r),e.stateNode===null)Kf(n,e),KW(e,t,i),M6(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=Da(c):(c=zo(t)?Fu:no.current,c=Pd(e,c));var g=t.getDerivedStateFromProps,u=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==i||l!==c)&&bw(e,a,i,c),qc=!1;var d=e.memoizedState;a.state=d,wp(e,i,a,r),l=e.memoizedState,s!==i||d!==l||Xo.current||qc?(typeof g=="function"&&(R6(e,t,g,i),l=e.memoizedState),(s=qc||Aw(e,t,s,i,d,l,c))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,vW(n,e),s=e.memoizedProps,c=e.type===e.elementType?s:Is(e.type,s),a.props=c,u=e.pendingProps,d=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Da(l):(l=zo(t)?Fu:no.current,l=Pd(e,l));var C=t.getDerivedStateFromProps;(g=typeof C=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==u||d!==l)&&bw(e,a,i,l),qc=!1,d=e.memoizedState,a.state=d,wp(e,i,a,r);var f=e.memoizedState;s!==u||d!==f||Xo.current||qc?(typeof C=="function"&&(R6(e,t,C,i),f=e.memoizedState),(c=qc||Aw(e,t,c,i,d,f,l)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,f,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return V6(n,e,t,i,o,r)}function V6(n,e,t,i,r,o){DW(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&uw(e,t,!1),jl(n,e,o);i=e.stateNode,VT.current=e;var s=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=Ud(e,n.child,null,o),e.child=Ud(e,null,s,o)):Io(n,e,s,o),e.memoizedState=i.state,r&&uw(e,t,!0),e.child}function UW(n){var e=n.stateNode;e.pendingContext?gw(n,e.pendingContext,e.pendingContext!==e.context):e.context&&gw(n,e.context,!1),by(n,e.containerInfo)}function Sw(n,e,t,i,r){return Dd(),Cy(r),e.flags|=256,Io(n,e,t,i),e.child}var N6={dehydrated:null,treeContext:null,retryLane:0};function F6(n){return{baseLanes:n,cachePool:null,transitions:null}}function OW(n,e,t){var i=e.pendingProps,r=yi.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(r&2)!==0),s?(o=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),li(yi,r&1),n===null)return Z6(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=nA(a,i,0,null),n=xu(n,i,t,null),o.return=e,n.return=e,o.sibling=n,e.child=o,e.child.memoizedState=F6(t),e.memoizedState=N6,n):Zy(e,a));if(r=n.memoizedState,r!==null&&(s=r.dehydrated,s!==null))return NT(n,e,a,i,s,r,t);if(o){o=i.fallback,a=e.mode,r=n.child,s=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Jc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),s!==null?o=Jc(s,o):(o=xu(o,a,t,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=n.child.memoizedState,a=a===null?F6(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~t,e.memoizedState=N6,i}return o=n.child,n=o.sibling,i=Jc(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Zy(n,e){return e=nA({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function gm(n,e,t,i){return i!==null&&Cy(i),Ud(e,n.child,null,t),n=Zy(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function NT(n,e,t,i,r,o,a){if(t)return e.flags&256?(e.flags&=-257,i=T9(Error(yt(422))),gm(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=nA({mode:"visible",children:i.children},r,0,null),o=xu(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Ud(e,n.child,null,a),e.child.memoizedState=F6(a),e.memoizedState=N6,o);if(!(e.mode&1))return gm(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var s=i.dgst;return i=s,o=Error(yt(419)),i=T9(o,i,void 0),gm(n,e,a,i)}if(s=(a&n.childLanes)!==0,Eo||s){if(i=Ar,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ol(n,r),vs(i,n,r,-1))}return Vy(),i=T9(Error(yt(421))),gm(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=UT.bind(null,n),r._reactRetry=e,null):(n=o.treeContext,la=Dc(r.nextSibling),ua=e,hi=!0,ps=null,n!==null&&(Ea[Xa++]=Fl,Ea[Xa++]=Hl,Ea[Xa++]=Hu,Fl=n.id,Hl=n.overflow,Hu=e),e=Zy(e,i.children),e.flags|=4096,e)}function Zw(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),q6(n.return,e,t)}function k9(n,e,t,i,r){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=t,o.tailMode=r)}function jW(n,e,t){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Io(n,e,i.children,t),i=yi.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zw(n,t,e);else if(n.tag===19)Zw(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(li(yi,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Sp(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),k9(e,!1,r,t,o);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Sp(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}k9(e,!0,t,null,o);break;case"together":k9(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kf(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function jl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Xu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(yt(153));if(e.child!==null){for(n=e.child,t=Jc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Jc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function FT(n,e,t){switch(e.tag){case 3:UW(e),Dd();break;case 5:yW(e);break;case 1:zo(e.type)&&vp(e);break;case 4:by(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;li(xp,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(li(yi,yi.current&1),e.flags|=128,null):t&e.child.childLanes?OW(n,e,t):(li(yi,yi.current&1),n=jl(n,e,t),n!==null?n.sibling:null);li(yi,yi.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return jW(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),li(yi,yi.current),i)break;return null;case 22:case 23:return e.lanes=0,PW(n,e,t)}return jl(n,e,t)}var JW,H6,QW,$W;JW=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};H6=function(){};QW=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,cu($s.current);var o=null;switch(t){case"input":r=o6(n,r),i=o6(n,i),o=[];break;case"select":r=Ri({},r,{value:void 0}),i=Ri({},i,{value:void 0}),o=[];break;case"textarea":r=l6(n,r),i=l6(n,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Ap)}g6(t,i);var a;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var s=r[c];for(a in s)s.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ZC.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(s=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ZC.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gi("scroll",n),o||s===l||(o=[])):(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$W=function(n,e,t,i){t!==i&&(e.flags|=4)};function uI(n,e){if(!hi)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Lr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function HT(n,e,t){var i=e.pendingProps;switch(Iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return zo(e.type)&&bp(),Lr(e),null;case 3:return i=e.stateNode,Od(),Ii(Xo),Ii(no),yy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(lm(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ps!==null&&(k6(ps),ps=null))),H6(n,e),Lr(e),null;case 5:vy(e);var r=cu(zC.current);if(t=e.type,n!==null&&e.stateNode!=null)QW(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(yt(166));return Lr(e),null}if(n=cu($s.current),lm(e)){i=e.stateNode,t=e.type;var o=e.memoizedProps;switch(i[Ds]=e,i[EC]=o,n=(e.mode&1)!==0,t){case"dialog":gi("cancel",i),gi("close",i);break;case"iframe":case"object":case"embed":gi("load",i);break;case"video":case"audio":for(r=0;r<PI.length;r++)gi(PI[r],i);break;case"source":gi("error",i);break;case"img":case"image":case"link":gi("error",i),gi("load",i);break;case"details":gi("toggle",i);break;case"input":HG(i,o),gi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},gi("invalid",i);break;case"textarea":XG(i,o),gi("invalid",i)}g6(t,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?i.textContent!==s&&(o.suppressHydrationWarning!==!0&&sm(i.textContent,s,n),r=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&sm(i.textContent,s,n),r=["children",""+s]):ZC.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&gi("scroll",i)}switch(t){case"input":$2(i),EG(i,o,!0);break;case"textarea":$2(i),zG(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Ap)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=S_(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[Ds]=e,n[EC]=i,JW(n,e,!1,!1),e.stateNode=n;e:{switch(a=u6(t,i),t){case"dialog":gi("cancel",n),gi("close",n),r=i;break;case"iframe":case"object":case"embed":gi("load",n),r=i;break;case"video":case"audio":for(r=0;r<PI.length;r++)gi(PI[r],n);r=i;break;case"source":gi("error",n),r=i;break;case"img":case"image":case"link":gi("error",n),gi("load",n),r=i;break;case"details":gi("toggle",n),r=i;break;case"input":HG(n,i),r=o6(n,i),gi("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Ri({},i,{value:void 0}),gi("invalid",n);break;case"textarea":XG(n,i),r=l6(n,i),gi("invalid",n);break;default:r=i}g6(t,r),s=r;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?R_(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Z_(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&qC(n,l):typeof l=="number"&&qC(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ZC.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gi("scroll",n):l!=null&&Qv(n,o,l,a))}switch(t){case"input":$2(n),EG(n,i,!1);break;case"textarea":$2(n),zG(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ng(i.value));break;case"select":n.multiple=!!i.multiple,o=i.value,o!=null?qd(n,!!i.multiple,o,!1):i.defaultValue!=null&&qd(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Ap)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(n&&e.stateNode!=null)$W(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(yt(166));if(t=cu(zC.current),cu($s.current),lm(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ds]=e,(o=i.nodeValue!==t)&&(n=ua,n!==null))switch(n.tag){case 3:sm(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&sm(i.nodeValue,t,(n.mode&1)!==0)}o&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ds]=e,e.stateNode=i}return Lr(e),null;case 13:if(Ii(yi),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(hi&&la!==null&&e.mode&1&&!(e.flags&128))fW(),Dd(),e.flags|=98560,o=!1;else if(o=lm(e),i!==null&&i.dehydrated!==null){if(n===null){if(!o)throw Error(yt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(yt(317));o[Ds]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),o=!1}else ps!==null&&(k6(ps),ps=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||yi.current&1?lr===0&&(lr=3):Vy())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Od(),H6(n,e),n===null&&FC(e.stateNode.containerInfo),Lr(e),null;case 10:return fy(e.type._context),Lr(e),null;case 17:return zo(e.type)&&bp(),Lr(e),null;case 19:if(Ii(yi),o=e.memoizedState,o===null)return Lr(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)uI(o,!1);else{if(lr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Sp(n),a!==null){for(e.flags|=128,uI(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)o=t,n=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return li(yi,yi.current&1|2),e.child}n=n.sibling}o.tail!==null&&Yi()>Jd&&(e.flags|=128,i=!0,uI(o,!1),e.lanes=4194304)}else{if(!i)if(n=Sp(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),uI(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!hi)return Lr(e),null}else 2*Yi()-o.renderingStartTime>Jd&&t!==1073741824&&(e.flags|=128,i=!0,uI(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(t=o.last,t!==null?t.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Yi(),e.sibling=null,t=yi.current,li(yi,i?t&1|2:t&1),e):(Lr(e),null);case 22:case 23:return Wy(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ra&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(yt(156,e.tag))}function ET(n,e){switch(Iy(e),e.tag){case 1:return zo(e.type)&&bp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Od(),Ii(Xo),Ii(no),yy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return vy(e),null;case 13:if(Ii(yi),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(yt(340));Dd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ii(yi),null;case 4:return Od(),null;case 10:return fy(e.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var um=!1,jr=!1,XT=typeof WeakSet=="function"?WeakSet:Set,jt=null;function fd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Vi(n,e,i)}else t.current=null}function E6(n,e,t){try{t()}catch(i){Vi(n,e,i)}}var qw=!1;function zT(n,e){if(v6=mp,n=rW(),uy(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var a=0,s=-1,l=-1,c=0,g=0,u=n,d=null;t:for(;;){for(var C;u!==t||r!==0&&u.nodeType!==3||(s=a+r),u!==o||i!==0&&u.nodeType!==3||(l=a+i),u.nodeType===3&&(a+=u.nodeValue.length),(C=u.firstChild)!==null;)d=u,u=C;for(;;){if(u===n)break t;if(d===t&&++c===r&&(s=a),d===o&&++g===i&&(l=a),(C=u.nextSibling)!==null)break;u=d,d=u.parentNode}u=C}t=s===-1||l===-1?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(y6={focusedElem:n,selectionRange:t},mp=!1,jt=e;jt!==null;)if(e=jt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,jt=n;else for(;jt!==null;){e=jt;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var b=f.memoizedProps,A=f.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?b:Is(e.type,b),A);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(x){Vi(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,jt=n;break}jt=e.return}return f=qw,qw=!1,f}function aC(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var o=r.destroy;r.destroy=void 0,o!==void 0&&E6(e,t,o)}r=r.next}while(r!==i)}}function eA(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function X6(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function eV(n){var e=n.alternate;e!==null&&(n.alternate=null,eV(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ds],delete e[EC],delete e[G6],delete e[yT],delete e[BT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function tV(n){return n.tag===5||n.tag===3||n.tag===4}function Rw(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||tV(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function z6(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ap));else if(i!==4&&(n=n.child,n!==null))for(z6(n,e,t),n=n.sibling;n!==null;)z6(n,e,t),n=n.sibling}function Y6(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Y6(n,e,t),n=n.sibling;n!==null;)Y6(n,e,t),n=n.sibling}var qr=null,hs=!1;function Cc(n,e,t){for(t=t.child;t!==null;)nV(n,e,t),t=t.sibling}function nV(n,e,t){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(P3,t)}catch{}switch(t.tag){case 5:jr||fd(t,e);case 6:var i=qr,r=hs;qr=null,Cc(n,e,t),qr=i,hs=r,qr!==null&&(hs?(n=qr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):qr.removeChild(t.stateNode));break;case 18:qr!==null&&(hs?(n=qr,t=t.stateNode,n.nodeType===8?E9(n.parentNode,t):n.nodeType===1&&E9(n,t),WC(n)):E9(qr,t.stateNode));break;case 4:i=qr,r=hs,qr=t.stateNode.containerInfo,hs=!0,Cc(n,e,t),qr=i,hs=r;break;case 0:case 11:case 14:case 15:if(!jr&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&E6(t,e,a),r=r.next}while(r!==i)}Cc(n,e,t);break;case 1:if(!jr&&(fd(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(s){Vi(t,e,s)}Cc(n,e,t);break;case 21:Cc(n,e,t);break;case 22:t.mode&1?(jr=(i=jr)||t.memoizedState!==null,Cc(n,e,t),jr=i):Cc(n,e,t);break;default:Cc(n,e,t)}}function Mw(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new XT),e.forEach(function(i){var r=OT.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function os(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var o=n,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:qr=s.stateNode,hs=!1;break e;case 3:qr=s.stateNode.containerInfo,hs=!0;break e;case 4:qr=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(qr===null)throw Error(yt(160));nV(o,a,r),qr=null,hs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Vi(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iV(e,n),e=e.sibling}function iV(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(os(e,n),Xs(n),i&4){try{aC(3,n,n.return),eA(3,n)}catch(b){Vi(n,n.return,b)}try{aC(5,n,n.return)}catch(b){Vi(n,n.return,b)}}break;case 1:os(e,n),Xs(n),i&512&&t!==null&&fd(t,t.return);break;case 5:if(os(e,n),Xs(n),i&512&&t!==null&&fd(t,t.return),n.flags&32){var r=n.stateNode;try{qC(r,"")}catch(b){Vi(n,n.return,b)}}if(i&4&&(r=n.stateNode,r!=null)){var o=n.memoizedProps,a=t!==null?t.memoizedProps:o,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&G_(r,o),u6(s,a);var c=u6(s,o);for(a=0;a<l.length;a+=2){var g=l[a],u=l[a+1];g==="style"?R_(r,u):g==="dangerouslySetInnerHTML"?Z_(r,u):g==="children"?qC(r,u):Qv(r,g,u,c)}switch(s){case"input":a6(r,o);break;case"textarea":w_(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var C=o.value;C!=null?qd(r,!!o.multiple,C,!1):d!==!!o.multiple&&(o.defaultValue!=null?qd(r,!!o.multiple,o.defaultValue,!0):qd(r,!!o.multiple,o.multiple?[]:"",!1))}r[EC]=o}catch(b){Vi(n,n.return,b)}}break;case 6:if(os(e,n),Xs(n),i&4){if(n.stateNode===null)throw Error(yt(162));r=n.stateNode,o=n.memoizedProps;try{r.nodeValue=o}catch(b){Vi(n,n.return,b)}}break;case 3:if(os(e,n),Xs(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{WC(e.containerInfo)}catch(b){Vi(n,n.return,b)}break;case 4:os(e,n),Xs(n);break;case 13:os(e,n),Xs(n),r=n.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(My=Yi())),i&4&&Mw(n);break;case 22:if(g=t!==null&&t.memoizedState!==null,n.mode&1?(jr=(c=jr)||g,os(e,n),jr=c):os(e,n),Xs(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!g&&n.mode&1)for(jt=n,g=n.child;g!==null;){for(u=jt=g;jt!==null;){switch(d=jt,C=d.child,d.tag){case 0:case 11:case 14:case 15:aC(4,d,d.return);break;case 1:fd(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(b){Vi(i,t,b)}}break;case 5:fd(d,d.return);break;case 22:if(d.memoizedState!==null){Ww(u);continue}}C!==null?(C.return=d,jt=C):Ww(u)}g=g.sibling}e:for(g=null,u=n;;){if(u.tag===5){if(g===null){g=u;try{r=u.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=u.stateNode,l=u.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=q_("display",a))}catch(b){Vi(n,n.return,b)}}}else if(u.tag===6){if(g===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(b){Vi(n,n.return,b)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===n)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:os(e,n),Xs(n),i&4&&Mw(n);break;case 21:break;default:os(e,n),Xs(n)}}function Xs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(tV(t)){var i=t;break e}t=t.return}throw Error(yt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(qC(r,""),i.flags&=-33);var o=Rw(n);Y6(n,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,s=Rw(n);z6(n,s,a);break;default:throw Error(yt(161))}}catch(l){Vi(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function YT(n,e,t){jt=n,rV(n)}function rV(n,e,t){for(var i=(n.mode&1)!==0;jt!==null;){var r=jt,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||um;if(!a){var s=r.alternate,l=s!==null&&s.memoizedState!==null||jr;s=um;var c=jr;if(um=a,(jr=l)&&!c)for(jt=r;jt!==null;)a=jt,l=a.child,a.tag===22&&a.memoizedState!==null?Vw(r):l!==null?(l.return=a,jt=l):Vw(r);for(;o!==null;)jt=o,rV(o),o=o.sibling;jt=r,um=s,jr=c}_w(n)}else r.subtreeFlags&8772&&o!==null?(o.return=r,jt=o):_w(n)}}function _w(n){for(;jt!==null;){var e=jt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jr||eA(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!jr)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Is(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&mw(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}mw(e,a,t)}break;case 5:var s=e.stateNode;if(t===null&&e.flags&4){t=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var g=c.memoizedState;if(g!==null){var u=g.dehydrated;u!==null&&WC(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}jr||e.flags&512&&X6(e)}catch(d){Vi(e,e.return,d)}}if(e===n){jt=null;break}if(t=e.sibling,t!==null){t.return=e.return,jt=t;break}jt=e.return}}function Ww(n){for(;jt!==null;){var e=jt;if(e===n){jt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,jt=t;break}jt=e.return}}function Vw(n){for(;jt!==null;){var e=jt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{eA(4,e)}catch(l){Vi(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Vi(e,r,l)}}var o=e.return;try{X6(e)}catch(l){Vi(e,o,l)}break;case 5:var a=e.return;try{X6(e)}catch(l){Vi(e,a,l)}}}catch(l){Vi(e,e.return,l)}if(e===n){jt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,jt=s;break}jt=e.return}}var KT=Math.ceil,Rp=ec.ReactCurrentDispatcher,qy=ec.ReactCurrentOwner,ka=ec.ReactCurrentBatchConfig,En=0,Ar=null,$i=null,Rr=0,ra=0,pd=dg(0),lr=0,TC=null,Xu=0,tA=0,Ry=0,sC=null,No=null,My=0,Jd=1/0,Zl=null,Mp=!1,K6=null,Oc=null,dm=!1,Nc=null,_p=0,lC=0,L6=null,Lf=-1,Tf=0;function Ao(){return En&6?Yi():Lf!==-1?Lf:Lf=Yi()}function jc(n){return n.mode&1?En&2&&Rr!==0?Rr&-Rr:GT.transition!==null?(Tf===0&&(Tf=K_()),Tf):(n=On,n!==0||(n=window.event,n=n===void 0?16:O_(n.type)),n):1}function vs(n,e,t,i){if(50<lC)throw lC=0,L6=null,Error(yt(185));qh(n,t,i),(!(En&2)||n!==Ar)&&(n===Ar&&(!(En&2)&&(tA|=t),lr===4&&_c(n,Rr)),Yo(n,i),t===1&&En===0&&!(e.mode&1)&&(Jd=Yi()+500,J3&&Ig()))}function Yo(n,e){var t=n.callbackNode;GL(n,e);var i=hp(n,n===Ar?Rr:0);if(i===0)t!==null&&LG(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&LG(t),e===1)n.tag===0?xT(Nw.bind(null,n)):CW(Nw.bind(null,n)),bT(function(){!(En&6)&&Ig()}),t=null;else{switch(L_(i)){case 1:t=iy;break;case 4:t=z_;break;case 16:t=Cp;break;case 536870912:t=Y_;break;default:t=Cp}t=dV(t,oV.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function oV(n,e){if(Lf=-1,Tf=0,En&6)throw Error(yt(327));var t=n.callbackNode;if(Vd()&&n.callbackNode!==t)return null;var i=hp(n,n===Ar?Rr:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Wp(n,i);else{e=i;var r=En;En|=2;var o=sV();(Ar!==n||Rr!==e)&&(Zl=null,Jd=Yi()+500,Bu(n,e));do try{kT();break}catch(s){aV(n,s)}while(!0);my(),Rp.current=o,En=r,$i!==null?e=0:(Ar=null,Rr=0,e=lr)}if(e!==0){if(e===2&&(r=m6(n),r!==0&&(i=r,e=T6(n,r))),e===1)throw t=TC,Bu(n,0),_c(n,i),Yo(n,Yi()),t;if(e===6)_c(n,i);else{if(r=n.current.alternate,!(i&30)&&!LT(r)&&(e=Wp(n,i),e===2&&(o=m6(n),o!==0&&(i=o,e=T6(n,o))),e===1))throw t=TC,Bu(n,0),_c(n,i),Yo(n,Yi()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(yt(345));case 2:jg(n,No,Zl);break;case 3:if(_c(n,i),(i&130023424)===i&&(e=My+500-Yi(),10<e)){if(hp(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Ao(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=x6(jg.bind(null,n,No,Zl),e);break}jg(n,No,Zl);break;case 4:if(_c(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-bs(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=Yi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*KT(i/1960))-i,10<i){n.timeoutHandle=x6(jg.bind(null,n,No,Zl),i);break}jg(n,No,Zl);break;case 5:jg(n,No,Zl);break;default:throw Error(yt(329))}}}return Yo(n,Yi()),n.callbackNode===t?oV.bind(null,n):null}function T6(n,e){var t=sC;return n.current.memoizedState.isDehydrated&&(Bu(n,e).flags|=256),n=Wp(n,e),n!==2&&(e=No,No=t,e!==null&&k6(e)),n}function k6(n){No===null?No=n:No.push.apply(No,n)}function LT(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],o=r.getSnapshot;r=r.value;try{if(!Gs(o(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _c(n,e){for(e&=~Ry,e&=~tA,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-bs(e),i=1<<t;n[t]=-1,e&=~i}}function Nw(n){if(En&6)throw Error(yt(327));Vd();var e=hp(n,0);if(!(e&1))return Yo(n,Yi()),null;var t=Wp(n,e);if(n.tag!==0&&t===2){var i=m6(n);i!==0&&(e=i,t=T6(n,i))}if(t===1)throw t=TC,Bu(n,0),_c(n,e),Yo(n,Yi()),t;if(t===6)throw Error(yt(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,jg(n,No,Zl),Yo(n,Yi()),null}function _y(n,e){var t=En;En|=1;try{return n(e)}finally{En=t,En===0&&(Jd=Yi()+500,J3&&Ig())}}function zu(n){Nc!==null&&Nc.tag===0&&!(En&6)&&Vd();var e=En;En|=1;var t=ka.transition,i=On;try{if(ka.transition=null,On=1,n)return n()}finally{On=i,ka.transition=t,En=e,!(En&6)&&Ig()}}function Wy(){ra=pd.current,Ii(pd)}function Bu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,AT(t)),$i!==null)for(t=$i.return;t!==null;){var i=t;switch(Iy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&bp();break;case 3:Od(),Ii(Xo),Ii(no),yy();break;case 5:vy(i);break;case 4:Od();break;case 13:Ii(yi);break;case 19:Ii(yi);break;case 10:fy(i.type._context);break;case 22:case 23:Wy()}t=t.return}if(Ar=n,$i=n=Jc(n.current,null),Rr=ra=e,lr=0,TC=null,Ry=tA=Xu=0,No=sC=null,lu!==null){for(e=0;e<lu.length;e++)if(t=lu[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,o=t.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}t.pending=i}lu=null}return n}function aV(n,e){do{var t=$i;try{if(my(),zf.current=qp,Zp){for(var i=Zi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Zp=!1}if(Eu=0,mr=sr=Zi=null,oC=!1,YC=0,qy.current=null,t===null||t.return===null){lr=1,TC=e,$i=null;break}e:{var o=n,a=t.return,s=t,l=e;if(e=Rr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,g=s,u=g.tag;if(!(g.mode&1)&&(u===0||u===11||u===15)){var d=g.alternate;d?(g.updateQueue=d.updateQueue,g.memoizedState=d.memoizedState,g.lanes=d.lanes):(g.updateQueue=null,g.memoizedState=null)}var C=yw(a);if(C!==null){C.flags&=-257,Bw(C,a,s,o,e),C.mode&1&&vw(o,c,e),e=C,l=c;var f=e.updateQueue;if(f===null){var b=new Set;b.add(l),e.updateQueue=b}else f.add(l);break e}else{if(!(e&1)){vw(o,c,e),Vy();break e}l=Error(yt(426))}}else if(hi&&s.mode&1){var A=yw(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Bw(A,a,s,o,e),Cy(jd(l,s));break e}}o=l=jd(l,s),lr!==4&&(lr=2),sC===null?sC=[o]:sC.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var p=LW(o,l,e);hw(o,p);break e;case 1:s=l;var y=o.type,B=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Oc===null||!Oc.has(B)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=TW(o,s,e);hw(o,x);break e}}o=o.return}while(o!==null)}cV(t)}catch(w){e=w,$i===t&&t!==null&&($i=t=t.return);continue}break}while(!0)}function sV(){var n=Rp.current;return Rp.current=qp,n===null?qp:n}function Vy(){(lr===0||lr===3||lr===2)&&(lr=4),Ar===null||!(Xu&268435455)&&!(tA&268435455)||_c(Ar,Rr)}function Wp(n,e){var t=En;En|=2;var i=sV();(Ar!==n||Rr!==e)&&(Zl=null,Bu(n,e));do try{TT();break}catch(r){aV(n,r)}while(!0);if(my(),En=t,Rp.current=i,$i!==null)throw Error(yt(261));return Ar=null,Rr=0,lr}function TT(){for(;$i!==null;)lV($i)}function kT(){for(;$i!==null&&!mL();)lV($i)}function lV(n){var e=uV(n.alternate,n,ra);n.memoizedProps=n.pendingProps,e===null?cV(n):$i=e,qy.current=null}function cV(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=ET(t,e),t!==null){t.flags&=32767,$i=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{lr=6,$i=null;return}}else if(t=HT(t,e,ra),t!==null){$i=t;return}if(e=e.sibling,e!==null){$i=e;return}$i=e=n}while(e!==null);lr===0&&(lr=5)}function jg(n,e,t){var i=On,r=ka.transition;try{ka.transition=null,On=1,PT(n,e,t,i)}finally{ka.transition=r,On=i}return null}function PT(n,e,t,i){do Vd();while(Nc!==null);if(En&6)throw Error(yt(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(yt(177));n.callbackNode=null,n.callbackPriority=0;var o=t.lanes|t.childLanes;if(wL(n,o),n===Ar&&($i=Ar=null,Rr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||dm||(dm=!0,dV(Cp,function(){return Vd(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=ka.transition,ka.transition=null;var a=On;On=1;var s=En;En|=4,qy.current=null,zT(n,t),iV(t,n),dT(y6),mp=!!v6,y6=v6=null,n.current=t,YT(t),fL(),En=s,On=a,ka.transition=o}else n.current=t;if(dm&&(dm=!1,Nc=n,_p=r),o=n.pendingLanes,o===0&&(Oc=null),bL(t.stateNode),Yo(n,Yi()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mp)throw Mp=!1,n=K6,K6=null,n;return _p&1&&n.tag!==0&&Vd(),o=n.pendingLanes,o&1?n===L6?lC++:(lC=0,L6=n):lC=0,Ig(),null}function Vd(){if(Nc!==null){var n=L_(_p),e=ka.transition,t=On;try{if(ka.transition=null,On=16>n?16:n,Nc===null)var i=!1;else{if(n=Nc,Nc=null,_p=0,En&6)throw Error(yt(331));var r=En;for(En|=4,jt=n.current;jt!==null;){var o=jt,a=o.child;if(jt.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(jt=c;jt!==null;){var g=jt;switch(g.tag){case 0:case 11:case 15:aC(8,g,o)}var u=g.child;if(u!==null)u.return=g,jt=u;else for(;jt!==null;){g=jt;var d=g.sibling,C=g.return;if(eV(g),g===c){jt=null;break}if(d!==null){d.return=C,jt=d;break}jt=C}}}var f=o.alternate;if(f!==null){var b=f.child;if(b!==null){f.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}jt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,jt=a;else e:for(;jt!==null;){if(o=jt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:aC(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,jt=p;break e}jt=o.return}}var y=n.current;for(jt=y;jt!==null;){a=jt;var B=a.child;if(a.subtreeFlags&2064&&B!==null)B.return=a,jt=B;else e:for(a=y;jt!==null;){if(s=jt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:eA(9,s)}}catch(w){Vi(s,s.return,w)}if(s===a){jt=null;break e}var x=s.sibling;if(x!==null){x.return=s.return,jt=x;break e}jt=s.return}}if(En=r,Ig(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(P3,n)}catch{}i=!0}return i}finally{On=t,ka.transition=e}}return!1}function Fw(n,e,t){e=jd(t,e),e=LW(n,e,1),n=Uc(n,e,1),e=Ao(),n!==null&&(qh(n,1,e),Yo(n,e))}function Vi(n,e,t){if(n.tag===3)Fw(n,n,t);else for(;e!==null;){if(e.tag===3){Fw(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Oc===null||!Oc.has(i))){n=jd(t,n),n=TW(e,n,1),e=Uc(e,n,1),n=Ao(),e!==null&&(qh(e,1,n),Yo(e,n));break}}e=e.return}}function DT(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Ao(),n.pingedLanes|=n.suspendedLanes&t,Ar===n&&(Rr&t)===t&&(lr===4||lr===3&&(Rr&130023424)===Rr&&500>Yi()-My?Bu(n,0):Ry|=t),Yo(n,e)}function gV(n,e){e===0&&(n.mode&1?(e=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):e=1);var t=Ao();n=Ol(n,e),n!==null&&(qh(n,e,t),Yo(n,t))}function UT(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),gV(n,t)}function OT(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(yt(314))}i!==null&&i.delete(e),gV(n,t)}var uV;uV=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Xo.current)Eo=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Eo=!1,FT(n,e,t);Eo=!!(n.flags&131072)}else Eo=!1,hi&&e.flags&1048576&&hW(e,Bp,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Kf(n,e),n=e.pendingProps;var r=Pd(e,no.current);Wd(e,t),r=xy(null,e,i,n,r,t);var o=Gy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zo(i)?(o=!0,vp(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Ay(e),r.updater=$3,e.stateNode=r,r._reactInternals=e,M6(e,i,n,t),e=V6(null,e,i,!0,o,t)):(e.tag=0,hi&&o&&dy(e),Io(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Kf(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=JT(i),n=Is(i,n),r){case 0:e=W6(null,e,i,n,t);break e;case 1:e=ww(null,e,i,n,t);break e;case 11:e=xw(null,e,i,n,t);break e;case 14:e=Gw(null,e,i,Is(i.type,n),t);break e}throw Error(yt(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Is(i,r),W6(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Is(i,r),ww(n,e,i,r,t);case 3:e:{if(UW(e),n===null)throw Error(yt(387));i=e.pendingProps,o=e.memoizedState,r=o.element,vW(n,e),wp(e,i,null,t);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=jd(Error(yt(423)),e),e=Sw(n,e,i,t,r);break e}else if(i!==r){r=jd(Error(yt(424)),e),e=Sw(n,e,i,t,r);break e}else for(la=Dc(e.stateNode.containerInfo.firstChild),ua=e,hi=!0,ps=null,t=AW(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Dd(),i===r){e=jl(n,e,t);break e}Io(n,e,i,t)}e=e.child}return e;case 5:return yW(e),n===null&&Z6(e),i=e.type,r=e.pendingProps,o=n!==null?n.memoizedProps:null,a=r.children,B6(i,r)?a=null:o!==null&&B6(i,o)&&(e.flags|=32),DW(n,e),Io(n,e,a,t),e.child;case 6:return n===null&&Z6(e),null;case 13:return OW(n,e,t);case 4:return by(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Ud(e,null,i,t):Io(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Is(i,r),xw(n,e,i,r,t);case 7:return Io(n,e,e.pendingProps,t),e.child;case 8:return Io(n,e,e.pendingProps.children,t),e.child;case 12:return Io(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,li(xp,i._currentValue),i._currentValue=a,o!==null)if(Gs(o.value,a)){if(o.children===r.children&&!Xo.current){e=jl(n,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=Kl(-1,t&-t),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var g=c.pending;g===null?l.next=l:(l.next=g.next,g.next=l),c.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),q6(o.return,t,e),s.lanes|=t;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(yt(341));a.lanes|=t,s=a.alternate,s!==null&&(s.lanes|=t),q6(a,t,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Io(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Wd(e,t),r=Da(r),i=i(r),e.flags|=1,Io(n,e,i,t),e.child;case 14:return i=e.type,r=Is(i,e.pendingProps),r=Is(i.type,r),Gw(n,e,i,r,t);case 15:return kW(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Is(i,r),Kf(n,e),e.tag=1,zo(i)?(n=!0,vp(e)):n=!1,Wd(e,t),KW(e,i,r),M6(e,i,r,t),V6(null,e,i,!0,n,t);case 19:return jW(n,e,t);case 22:return PW(n,e,t)}throw Error(yt(156,e.tag))};function dV(n,e){return X_(n,e)}function jT(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(n,e,t,i){return new jT(n,e,t,i)}function Ny(n){return n=n.prototype,!(!n||!n.isReactComponent)}function JT(n){if(typeof n=="function")return Ny(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ey)return 11;if(n===ty)return 14}return 2}function Jc(n,e){var t=n.alternate;return t===null?(t=Ya(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function kf(n,e,t,i,r,o){var a=2;if(i=n,typeof n=="function")Ny(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case ld:return xu(t.children,r,o,e);case $v:a=8,r|=8;break;case t6:return n=Ya(12,t,e,r|2),n.elementType=t6,n.lanes=o,n;case n6:return n=Ya(13,t,e,r),n.elementType=n6,n.lanes=o,n;case i6:return n=Ya(19,t,e,r),n.elementType=i6,n.lanes=o,n;case y_:return nA(t,r,o,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b_:a=10;break e;case v_:a=9;break e;case ey:a=11;break e;case ty:a=14;break e;case Zc:a=16,i=null;break e}throw Error(yt(130,n==null?n:typeof n,""))}return e=Ya(a,t,e,r),e.elementType=n,e.type=i,e.lanes=o,e}function xu(n,e,t,i){return n=Ya(7,n,i,e),n.lanes=t,n}function nA(n,e,t,i){return n=Ya(22,n,i,e),n.elementType=y_,n.lanes=t,n.stateNode={isHidden:!1},n}function P9(n,e,t){return n=Ya(6,n,null,e),n.lanes=t,n}function D9(n,e,t){return e=Ya(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function QT(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S9(0),this.expirationTimes=S9(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S9(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fy(n,e,t,i,r,o,a,s,l){return n=new QT(n,e,t,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ya(3,null,null,e),n.current=o,o.stateNode=n,o.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(o),n}function $T(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function IV(n){if(!n)return ig;n=n._reactInternals;e:{if(e1(n)!==n||n.tag!==1)throw Error(yt(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(yt(171))}if(n.tag===1){var t=n.type;if(zo(t))return IW(n,t,e)}return e}function CV(n,e,t,i,r,o,a,s,l){return n=Fy(t,i,!0,n,r,o,a,s,l),n.context=IV(null),t=n.current,i=Ao(),r=jc(t),o=Kl(i,r),o.callback=e??null,Uc(t,o,r),n.current.lanes=r,qh(n,r,i),Yo(n,i),n}function iA(n,e,t,i){var r=e.current,o=Ao(),a=jc(r);return t=IV(t),e.context===null?e.context=t:e.pendingContext=t,e=Kl(o,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Uc(r,e,a),n!==null&&(vs(n,r,a,o),Xf(n,r,a)),a}function Vp(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Hw(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Hy(n,e){Hw(n,e),(n=n.alternate)&&Hw(n,e)}function ek(){return null}var hV=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ey(n){this._internalRoot=n}rA.prototype.render=Ey.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(yt(409));iA(n,e,null,null)};rA.prototype.unmount=Ey.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;zu(function(){iA(null,n,null,null)}),e[Ul]=null}};function rA(n){this._internalRoot=n}rA.prototype.unstable_scheduleHydration=function(n){if(n){var e=P_();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Mc.length&&e!==0&&e<Mc[t].priority;t++);Mc.splice(t,0,n),t===0&&U_(n)}};function Xy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function oA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function tk(n,e,t,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=Vp(a);o.call(c)}}var a=CV(e,i,n,0,null,!1,!1,"",Ew);return n._reactRootContainer=a,n[Ul]=a.current,FC(n.nodeType===8?n.parentNode:n),zu(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var s=i;i=function(){var c=Vp(l);s.call(c)}}var l=Fy(n,0,!1,null,null,!1,!1,"",Ew);return n._reactRootContainer=l,n[Ul]=l.current,FC(n.nodeType===8?n.parentNode:n),zu(function(){iA(e,l,t,i)}),l}function aA(n,e,t,i,r){var o=t._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var s=r;r=function(){var l=Vp(a);s.call(l)}}iA(e,a,n,r)}else a=tk(t,e,n,r,i);return Vp(a)}T_=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=kI(e.pendingLanes);t!==0&&(ry(e,t|1),Yo(e,Yi()),!(En&6)&&(Jd=Yi()+500,Ig()))}break;case 13:zu(function(){var i=Ol(n,1);if(i!==null){var r=Ao();vs(i,n,1,r)}}),Hy(n,1)}};oy=function(n){if(n.tag===13){var e=Ol(n,134217728);if(e!==null){var t=Ao();vs(e,n,134217728,t)}Hy(n,134217728)}};k_=function(n){if(n.tag===13){var e=jc(n),t=Ol(n,e);if(t!==null){var i=Ao();vs(t,n,e,i)}Hy(n,e)}};P_=function(){return On};D_=function(n,e){var t=On;try{return On=n,e()}finally{On=t}};I6=function(n,e,t){switch(e){case"input":if(a6(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=j3(i);if(!r)throw Error(yt(90));x_(i),a6(i,r)}}}break;case"textarea":w_(n,t);break;case"select":e=t.value,e!=null&&qd(n,!!t.multiple,e,!1)}};W_=_y;V_=zu;var nk={usingClientEntryPoint:!1,Events:[Mh,dd,j3,M_,__,_y]},dI={findFiberByHostInstance:su,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ik={bundleType:dI.bundleType,version:dI.version,rendererPackageName:dI.rendererPackageName,rendererConfig:dI.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=H_(n),n===null?null:n.stateNode},findFiberByHostInstance:dI.findFiberByHostInstance||ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Im.isDisabled&&Im.supportsFiber)try{P3=Im.inject(ik),Qs=Im}catch{}}pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nk;pa.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xy(e))throw Error(yt(200));return $T(n,e,null,t)};pa.createRoot=function(n,e){if(!Xy(n))throw Error(yt(299));var t=!1,i="",r=hV;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Fy(n,1,!1,null,null,t,!1,i,r),n[Ul]=e.current,FC(n.nodeType===8?n.parentNode:n),new Ey(e)};pa.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(yt(188)):(n=Object.keys(n).join(","),Error(yt(268,n)));return n=H_(e),n=n===null?null:n.stateNode,n};pa.flushSync=function(n){return zu(n)};pa.hydrate=function(n,e,t){if(!oA(e))throw Error(yt(200));return aA(null,n,e,!0,t)};pa.hydrateRoot=function(n,e,t){if(!Xy(n))throw Error(yt(405));var i=t!=null&&t.hydratedSources||null,r=!1,o="",a=hV;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=CV(e,null,n,1,t??null,r,!1,o,a),n[Ul]=e.current,FC(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new rA(e)};pa.render=function(n,e,t){if(!oA(e))throw Error(yt(200));return aA(null,n,e,!1,t)};pa.unmountComponentAtNode=function(n){if(!oA(n))throw Error(yt(40));return n._reactRootContainer?(zu(function(){aA(null,null,n,!1,function(){n._reactRootContainer=null,n[Ul]=null})}),!0):!1};pa.unstable_batchedUpdates=_y;pa.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!oA(t))throw Error(yt(200));if(n==null||n._reactInternals===void 0)throw Error(yt(38));return aA(n,e,t,!1,i)};pa.version="18.3.1-next-f1338f8080-20240426";function mV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mV)}catch(n){console.error(n)}}mV(),m_.exports=pa;var rg=m_.exports;const P6=y0(rg),rk=r_({__proto__:null,default:P6},[rg]);var zy,Xw=rg;zy=Xw.createRoot,Xw.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kC(){return kC=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kC.apply(this,arguments)}var gu;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(gu||(gu={}));const zw="popstate";function ok(n){n===void 0&&(n={});function e(r,o){let{pathname:a="/",search:s="",hash:l=""}=w0(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),D6("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){let a=r.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");s=c===-1?l:l.slice(0,c)}return s+"#"+(typeof o=="string"?o:Np(o))}function i(r,o){Yy(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return sk(e,t,i,n)}function $r(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yy(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ak(){return Math.random().toString(36).substr(2,8)}function Yw(n,e){return{usr:n.state,key:n.key,idx:e}}function D6(n,e,t,i){return t===void 0&&(t=null),kC({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?w0(e):e,{state:t,key:e&&e.key||i||ak()})}function Np(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function w0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function sk(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,s=gu.Pop,l=null,c=g();c==null&&(c=0,a.replaceState(kC({},a.state,{idx:c}),""));function g(){return(a.state||{idx:null}).idx}function u(){s=gu.Pop;let A=g(),p=A==null?null:A-c;c=A,l&&l({action:s,location:b.location,delta:p})}function d(A,p){s=gu.Push;let y=D6(b.location,A,p);t&&t(y,A),c=g()+1;let B=Yw(y,c),x=b.createHref(y);try{a.pushState(B,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(x)}o&&l&&l({action:s,location:b.location,delta:1})}function C(A,p){s=gu.Replace;let y=D6(b.location,A,p);t&&t(y,A),c=g();let B=Yw(y,c),x=b.createHref(y);a.replaceState(B,"",x),o&&l&&l({action:s,location:b.location,delta:0})}function f(A){let p=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof A=="string"?A:Np(A);return y=y.replace(/ $/,"%20"),$r(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let b={get action(){return s},get location(){return n(r,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(zw,u),l=A,()=>{r.removeEventListener(zw,u),l=null}},createHref(A){return e(r,A)},createURL:f,encodeLocation(A){let p=f(A);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:C,go(A){return a.go(A)}};return b}var Kw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Kw||(Kw={}));function lk(n,e,t){return t===void 0&&(t="/"),ck(n,e,t,!1)}function ck(n,e,t,i){let r=typeof e=="string"?w0(e):e,o=Ky(r.pathname||"/",t);if(o==null)return null;let a=fV(n);gk(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=vk(o);s=Ak(a[l],c,i)}return s}function fV(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&($r(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Qc([i,l.relativePath]),g=t.concat(l);o.children&&o.children.length>0&&($r(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fV(o.children,e,g,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:fk(c,o.index),routesMeta:g})};return n.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))r(o,a);else for(let l of pV(o.path))r(o,a,l)}),e}function pV(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=pV(i.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),r&&s.push(...a),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function gk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pk(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const uk=/^:[\w-]+$/,dk=3,Ik=2,Ck=1,hk=10,mk=-2,Lw=n=>n==="*";function fk(n,e){let t=n.split("/"),i=t.length;return t.some(Lw)&&(i+=mk),e&&(i+=Ik),t.filter(r=>!Lw(r)).reduce((r,o)=>r+(uk.test(o)?dk:o===""?Ck:hk),i)}function pk(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Ak(n,e,t){let{routesMeta:i}=n,r={},o="/",a=[];for(let s=0;s<i.length;++s){let l=i[s],c=s===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",u=Tw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},g),d=l.route;if(!u&&c&&t&&!i[i.length-1].route.index&&(u=Tw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},g)),!u)return null;Object.assign(r,u.params),a.push({params:r,pathname:Qc([o,u.pathname]),pathnameBase:Gk(Qc([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=Qc([o,u.pathnameBase]))}return a}function Tw(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=bk(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:i.reduce((c,g,u)=>{let{paramName:d,isOptional:C}=g;if(d==="*"){let b=s[u]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const f=s[u];return C&&!f?c[d]=void 0:c[d]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:n}}function bk(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Yy(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(i.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function vk(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yy(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ky(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function yk(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?w0(n):n;return{pathname:t?t.startsWith("/")?t:Bk(t,e):e,search:wk(i),hash:Sk(r)}}function Bk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function U9(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function AV(n,e){let t=xk(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function bV(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=w0(n):(r=kC({},n),$r(!r.pathname||!r.pathname.includes("?"),U9("?","pathname","search",r)),$r(!r.pathname||!r.pathname.includes("#"),U9("#","pathname","hash",r)),$r(!r.search||!r.search.includes("#"),U9("#","search","hash",r)));let o=n===""||r.pathname==="",a=o?"/":r.pathname,s;if(a==null)s=t;else{let u=e.length-1;if(!i&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),u-=1;r.pathname=d.join("/")}s=u>=0?e[u]:"/"}let l=yk(r,s),c=a&&a!=="/"&&a.endsWith("/"),g=(o||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||g)&&(l.pathname+="/"),l}const Qc=n=>n.join("/").replace(/\/\/+/g,"/"),Gk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),wk=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Sk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Zk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const vV=["post","put","patch","delete"];new Set(vV);const qk=["get",...vV];new Set(qk);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fp(){return Fp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fp.apply(this,arguments)}const Ly=v.createContext(null),Rk=v.createContext(null),t1=v.createContext(null),Ty=v.createContext(null),tc=v.createContext({outlet:null,matches:[],isDataRoute:!1}),yV=v.createContext(null);function Mk(n,e){let{relative:t}=e===void 0?{}:e;Wh()||$r(!1);let{basename:i,navigator:r}=v.useContext(t1),{hash:o,pathname:a,search:s}=xV(n,{relative:t}),l=a;return i!=="/"&&(l=a==="/"?i:Qc([i,a])),r.createHref({pathname:l,search:s,hash:o})}function Wh(){return v.useContext(Ty)!=null}function sA(){return Wh()||$r(!1),v.useContext(Ty).location}function BV(n){v.useContext(t1).static||v.useLayoutEffect(n)}function _k(){let{isDataRoute:n}=v.useContext(tc);return n?Uk():Wk()}function Wk(){Wh()||$r(!1);let n=v.useContext(Ly),{basename:e,future:t,navigator:i}=v.useContext(t1),{matches:r}=v.useContext(tc),{pathname:o}=sA(),a=JSON.stringify(AV(r,t.v7_relativeSplatPath)),s=v.useRef(!1);return BV(()=>{s.current=!0}),v.useCallback(function(c,g){if(g===void 0&&(g={}),!s.current)return;if(typeof c=="number"){i.go(c);return}let u=bV(c,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Qc([e,u.pathname])),(g.replace?i.replace:i.push)(u,g.state,g)},[e,i,a,o,n])}const Vk=v.createContext(null);function Nk(n){let e=v.useContext(tc).outlet;return e&&v.createElement(Vk.Provider,{value:n},e)}function Fk(){let{matches:n}=v.useContext(tc),e=n[n.length-1];return e?e.params:{}}function xV(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=v.useContext(t1),{matches:r}=v.useContext(tc),{pathname:o}=sA(),a=JSON.stringify(AV(r,i.v7_relativeSplatPath));return v.useMemo(()=>bV(n,JSON.parse(a),o,t==="path"),[n,a,o,t])}function Hk(n,e){return Ek(n)}function Ek(n,e,t,i){Wh()||$r(!1);let{navigator:r}=v.useContext(t1),{matches:o}=v.useContext(tc),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=sA(),g;g=c;let u=g.pathname||"/",d=u;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+u.replace(/^\//,"").split("/").slice(b.length).join("/")}let C=lk(n,{pathname:d});return Lk(C&&C.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Qc([l,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Qc([l,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,t,i)}function Xk(){let n=Dk(),e=Zk(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),t?v.createElement("pre",{style:r},t):null,null)}const zk=v.createElement(Xk,null);class Yk extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(tc.Provider,{value:this.props.routeContext},v.createElement(yV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kk(n){let{routeContext:e,match:t,children:i}=n,r=v.useContext(Ly);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(tc.Provider,{value:e},i)}function Lk(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=i)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,s=(r=t)==null?void 0:r.errors;if(s!=null){let g=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);g>=0||$r(!1),a=a.slice(0,Math.min(a.length,g+1))}let l=!1,c=-1;if(t&&i&&i.v7_partialHydration)for(let g=0;g<a.length;g++){let u=a[g];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=g),u.route.id){let{loaderData:d,errors:C}=t,f=u.route.loader&&d[u.route.id]===void 0&&(!C||C[u.route.id]===void 0);if(u.route.lazy||f){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((g,u,d)=>{let C,f=!1,b=null,A=null;t&&(C=s&&u.route.id?s[u.route.id]:void 0,b=u.route.errorElement||zk,l&&(c<0&&d===0?(Ok("route-fallback"),f=!0,A=null):c===d&&(f=!0,A=u.route.hydrateFallbackElement||null)));let p=e.concat(a.slice(0,d+1)),y=()=>{let B;return C?B=b:f?B=A:u.route.Component?B=v.createElement(u.route.Component,null):u.route.element?B=u.route.element:B=g,v.createElement(Kk,{match:u,routeContext:{outlet:g,matches:p,isDataRoute:t!=null},children:B})};return t&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?v.createElement(Yk,{location:t.location,revalidation:t.revalidation,component:b,error:C,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var GV=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(GV||{}),Hp=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Hp||{});function Tk(n){let e=v.useContext(Ly);return e||$r(!1),e}function kk(n){let e=v.useContext(Rk);return e||$r(!1),e}function Pk(n){let e=v.useContext(tc);return e||$r(!1),e}function wV(n){let e=Pk(),t=e.matches[e.matches.length-1];return t.route.id||$r(!1),t.route.id}function Dk(){var n;let e=v.useContext(yV),t=kk(Hp.UseRouteError),i=wV(Hp.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function Uk(){let{router:n}=Tk(GV.UseNavigateStable),e=wV(Hp.UseNavigateStable),t=v.useRef(!1);return BV(()=>{t.current=!0}),v.useCallback(function(r,o){o===void 0&&(o={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Fp({fromRouteId:e},o)))},[n,e])}const kw={};function Ok(n,e,t){kw[n]||(kw[n]=!0)}const Pw={};function jk(n,e){Pw[e]||(Pw[e]=!0,console.warn(e))}const Dw=(n,e,t)=>jk(n,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function Jk(n,e){n!=null&&n.v7_startTransition||Dw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(n!=null&&n.v7_relativeSplatPath)&&!e&&Dw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Qk(n){return Nk(n.context)}function $k(n){let{basename:e="/",children:t=null,location:i,navigationType:r=gu.Pop,navigator:o,static:a=!1,future:s}=n;Wh()&&$r(!1);let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:o,static:a,future:Fp({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof i=="string"&&(i=w0(i));let{pathname:g="/",search:u="",hash:d="",state:C=null,key:f="default"}=i,b=v.useMemo(()=>{let A=Ky(g,l);return A==null?null:{location:{pathname:A,search:u,hash:d,state:C,key:f},navigationType:r}},[l,g,u,d,C,f,r]);return b==null?null:v.createElement(t1.Provider,{value:c},v.createElement(Ty.Provider,{children:t,value:b}))}new Promise(()=>{});/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U6(){return U6=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},U6.apply(this,arguments)}function eP(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function tP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nP(n,e){return n.button===0&&(!e||e==="_self")&&!tP(n)}const iP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rP="6";try{window.__reactRouterVersion=rP}catch{}const oP="startTransition",Uw=Zh[oP];function aP(n){let{basename:e,children:t,future:i,window:r}=n,o=v.useRef();o.current==null&&(o.current=ok({window:r,v5Compat:!0}));let a=o.current,[s,l]=v.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},g=v.useCallback(u=>{c&&Uw?Uw(()=>l(u)):l(u)},[l,c]);return v.useLayoutEffect(()=>a.listen(g),[a,g]),v.useEffect(()=>Jk(i),[i]),v.createElement($k,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,future:i})}const sP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cP=v.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:g,viewTransition:u}=e,d=eP(e,iP),{basename:C}=v.useContext(t1),f,b=!1;if(typeof c=="string"&&lP.test(c)&&(f=c,sP))try{let B=new URL(window.location.href),x=c.startsWith("//")?new URL(B.protocol+c):new URL(c),w=Ky(x.pathname,C);x.origin===B.origin&&w!=null?c=w+x.search+x.hash:b=!0}catch{}let A=Mk(c,{relative:r}),p=gP(c,{replace:a,state:s,target:l,preventScrollReset:g,relative:r,viewTransition:u});function y(B){i&&i(B),B.defaultPrevented||p(B)}return v.createElement("a",U6({},d,{href:f||A,onClick:b||o?i:y,ref:t,target:l}))});var Ow;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ow||(Ow={}));var jw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(jw||(jw={}));function gP(n,e){let{target:t,replace:i,state:r,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=_k(),c=sA(),g=xV(n,{relative:a});return v.useCallback(u=>{if(nP(u,t)){u.preventDefault();let d=i!==void 0?i:Np(c)===Np(g);l(n,{replace:d,state:r,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,g,i,r,t,n,o,a,s])}/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const S0="170",Jg={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qg={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},SV=0,O6=1,ZV=2,uP=3,qV=0,lA=1,cC=2,Cs=3,ol=0,ki=1,Fo=2,el=0,Gu=1,j6=2,J6=3,Q6=4,RV=5,Wc=100,MV=101,_V=102,WV=103,VV=104,NV=200,FV=201,HV=202,EV=203,Ep=204,Xp=205,XV=206,zV=207,YV=208,KV=209,LV=210,TV=211,kV=212,PV=213,DV=214,zp=0,Yp=1,Kp=2,Yu=3,Lp=4,Tp=5,kp=6,Pp=7,Vh=0,UV=1,OV=2,tl=0,jV=1,JV=2,QV=3,cA=4,$V=5,eN=6,tN=7,$6="attached",nN="detached",og=300,al=301,ag=302,Qd=303,PC=304,Z0=306,ws=1e3,Ki=1001,$d=1002,br=1003,gA=1004,dP=1004,uu=1005,IP=1005,Tn=1006,Nd=1007,CP=1007,Ka=1008,e8=1008,Po=1009,uA=1010,dA=1011,e0=1012,Nh=1013,sl=1014,wi=1015,pr=1016,IA=1017,CA=1018,Ku=1020,ky=35902,Py=1021,Dy=1022,Li=1023,Uy=1024,Oy=1025,wu=1026,Lu=1027,Fh=1028,Hh=1029,jy=1030,hA=1031,hP=1032,mA=1033,gC=33776,uC=33777,dC=33778,IC=33779,Dp=35840,Up=35841,Op=35842,jp=35843,Jp=36196,Qp=37492,$p=37496,e3=37808,t3=37809,n3=37810,i3=37811,r3=37812,o3=37813,a3=37814,s3=37815,l3=37816,c3=37817,g3=37818,u3=37819,d3=37820,I3=37821,CC=36492,C3=36494,h3=36495,Jy=36283,m3=36284,f3=36285,p3=36286,iN=2200,rN=2201,oN=2202,t0=2300,n0=2301,Pf=2302,du=2400,Iu=2401,DC=2402,fA=2500,Qy=2501,aN=0,$y=1,A3=2,sN=3200,lN=3201,mP=3202,fP=3203,Cg=0,cN=1,Vl="",Co="srgb",ll="srgb-linear",Eh="linear",Un="srgb",pP=0,$g=7680,AP=7681,bP=7682,vP=7683,yP=34055,BP=34056,xP=5386,GP=512,wP=513,SP=514,ZP=515,qP=516,RP=517,MP=518,t8=519,gN=512,uN=513,dN=514,e7=515,IN=516,CN=517,hN=518,mN=519,UC=35044,fN=35048,_P=35040,WP=35045,VP=35049,NP=35041,FP=35046,HP=35050,EP=35042,XP="100",n8="300 es",Os=2e3,OC=2001;class ja{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,a=r.length;o<a;o++)r[o].call(this,e);e.target=null}}}const Tr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Jw=1234567;const Su=Math.PI/180,i0=180/Math.PI;function da(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Tr[n&255]+Tr[n>>8&255]+Tr[n>>16&255]+Tr[n>>24&255]+"-"+Tr[e&255]+Tr[e>>8&255]+"-"+Tr[e>>16&15|64]+Tr[e>>24&255]+"-"+Tr[t&63|128]+Tr[t>>8&255]+"-"+Tr[t>>16&255]+Tr[t>>24&255]+Tr[i&255]+Tr[i>>8&255]+Tr[i>>16&255]+Tr[i>>24&255]).toLowerCase()}function Ni(n,e,t){return Math.max(e,Math.min(t,n))}function t7(n,e){return(n%e+e)%e}function zP(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function YP(n,e,t){return n!==e?(t-n)/(e-n):0}function hC(n,e,t){return(1-t)*n+t*e}function KP(n,e,t,i){return hC(n,e,1-Math.exp(-t*i))}function LP(n,e=1){return e-Math.abs(t7(n,e*2)-e)}function TP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function kP(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function PP(n,e){return n+Math.floor(Math.random()*(e-n+1))}function DP(n,e){return n+Math.random()*(e-n)}function UP(n){return n*(.5-Math.random())}function OP(n){n!==void 0&&(Jw=n);let e=Jw+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function jP(n){return n*Su}function JP(n){return n*i0}function QP(n){return(n&n-1)===0&&n!==0}function $P(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function eD(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function tD(n,e,t,i,r){const o=Math.cos,a=Math.sin,s=o(t/2),l=a(t/2),c=o((e+i)/2),g=a((e+i)/2),u=o((e-i)/2),d=a((e-i)/2),C=o((i-e)/2),f=a((i-e)/2);switch(r){case"XYX":n.set(s*g,l*u,l*d,s*c);break;case"YZY":n.set(l*d,s*g,l*u,s*c);break;case"ZXZ":n.set(l*u,l*d,s*g,s*c);break;case"XZX":n.set(s*g,l*f,l*C,s*c);break;case"YXY":n.set(l*C,s*g,l*f,s*c);break;case"ZYZ":n.set(l*f,l*C,s*g,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function fo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function pn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const pN={DEG2RAD:Su,RAD2DEG:i0,generateUUID:da,clamp:Ni,euclideanModulo:t7,mapLinear:zP,inverseLerp:YP,lerp:hC,damp:KP,pingpong:LP,smoothstep:TP,smootherstep:kP,randInt:PP,randFloat:DP,randFloatSpread:UP,seededRandom:OP,degToRad:jP,radToDeg:JP,isPowerOfTwo:QP,ceilPowerOfTwo:$P,floorPowerOfTwo:eD,setQuaternionFromProperEuler:tD,normalize:pn,denormalize:fo};class et{constructor(e=0,t=0){et.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ni(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),o=this.x-e.x,a=this.y-e.y;return this.x=o*i-a*r+e.x,this.y=o*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fn{constructor(e,t,i,r,o,a,s,l,c){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,o,a,s,l,c)}set(e,t,i,r,o,a,s,l,c){const g=this.elements;return g[0]=e,g[1]=r,g[2]=s,g[3]=t,g[4]=o,g[5]=l,g[6]=i,g[7]=a,g[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,a=i[0],s=i[3],l=i[6],c=i[1],g=i[4],u=i[7],d=i[2],C=i[5],f=i[8],b=r[0],A=r[3],p=r[6],y=r[1],B=r[4],x=r[7],w=r[2],S=r[5],Z=r[8];return o[0]=a*b+s*y+l*w,o[3]=a*A+s*B+l*S,o[6]=a*p+s*x+l*Z,o[1]=c*b+g*y+u*w,o[4]=c*A+g*B+u*S,o[7]=c*p+g*x+u*Z,o[2]=d*b+C*y+f*w,o[5]=d*A+C*B+f*S,o[8]=d*p+C*x+f*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],g=e[8];return t*a*g-t*s*c-i*o*g+i*s*l+r*o*c-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],g=e[8],u=g*a-s*c,d=s*l-g*o,C=c*o-a*l,f=t*u+i*d+r*C;if(f===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/f;return e[0]=u*b,e[1]=(r*c-g*i)*b,e[2]=(s*i-r*a)*b,e[3]=d*b,e[4]=(g*t-r*l)*b,e[5]=(r*o-s*t)*b,e[6]=C*b,e[7]=(i*l-c*t)*b,e[8]=(a*t-i*o)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(i*l,i*c,-i*(l*a+c*s)+a+e,-r*c,r*l,-r*(-c*a+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(O9.makeScale(e,t)),this}rotate(e){return this.premultiply(O9.makeRotation(-e)),this}translate(e,t){return this.premultiply(O9.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const O9=new fn;function AN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const nD={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ad(n,e){return new nD[n](e)}function jC(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function bN(){const n=jC("canvas");return n.style.display="block",n}const Qw={};function DI(n){n in Qw||(Qw[n]=!0,console.warn(n))}function iD(n,e,t){return new Promise(function(i,r){function o(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(o,t);break;default:i()}}setTimeout(o,t)})}function rD(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function oD(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Wn={enabled:!0,workingColorSpace:ll,spaces:{},convert:function(n,e,t){return this.enabled===!1||e===t||!e||!t||(this.spaces[e].transfer===Un&&(n.r=Ll(n.r),n.g=Ll(n.g),n.b=Ll(n.b)),this.spaces[e].primaries!==this.spaces[t].primaries&&(n.applyMatrix3(this.spaces[e].toXYZ),n.applyMatrix3(this.spaces[t].fromXYZ)),this.spaces[t].transfer===Un&&(n.r=Fd(n.r),n.g=Fd(n.g),n.b=Fd(n.b))),n},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)},getPrimaries:function(n){return this.spaces[n].primaries},getTransfer:function(n){return n===Vl?Eh:this.spaces[n].transfer},getLuminanceCoefficients:function(n,e=this.workingColorSpace){return n.fromArray(this.spaces[e].luminanceCoefficients)},define:function(n){Object.assign(this.spaces,n)},_getMatrix:function(n,e,t){return n.copy(this.spaces[e].toXYZ).multiply(this.spaces[t].fromXYZ)},_getDrawingBufferColorSpace:function(n){return this.spaces[n].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(n=this.workingColorSpace){return this.spaces[n].workingColorSpaceConfig.unpackColorSpace}};function Ll(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Fd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const $w=[.64,.33,.3,.6,.15,.06],eS=[.2126,.7152,.0722],tS=[.3127,.329],nS=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),iS=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Wn.define({[ll]:{primaries:$w,whitePoint:tS,transfer:Eh,toXYZ:nS,fromXYZ:iS,luminanceCoefficients:eS,workingColorSpaceConfig:{unpackColorSpace:Co},outputColorSpaceConfig:{drawingBufferColorSpace:Co}},[Co]:{primaries:$w,whitePoint:tS,transfer:Un,toXYZ:nS,fromXYZ:iS,luminanceCoefficients:eS,outputColorSpaceConfig:{drawingBufferColorSpace:Co}}});let q1;class vN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{q1===void 0&&(q1=jC("canvas")),q1.width=e.width,q1.height=e.height;const i=q1.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=q1}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=jC("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let a=0;a<o.length;a++)o[a]=Ll(o[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Ll(t[i]/255)*255):t[i]=Ll(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let aD=0;class Cu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aD++}),this.uuid=da(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let a=0,s=r.length;a<s;a++)r[a].isDataTexture?o.push(j9(r[a].image)):o.push(j9(r[a]))}else o=j9(r);i.url=o}return t||(e.images[this.uuid]=i),i}}function j9(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?vN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let sD=0;class Ln extends ja{constructor(e=Ln.DEFAULT_IMAGE,t=Ln.DEFAULT_MAPPING,i=Ki,r=Ki,o=Tn,a=Ka,s=Li,l=Po,c=Ln.DEFAULT_ANISOTROPY,g=Vl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:sD++}),this.uuid=da(),this.name="",this.source=new Cu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==og)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ws:e.x=e.x-Math.floor(e.x);break;case Ki:e.x=e.x<0?0:1;break;case $d:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ws:e.y=e.y-Math.floor(e.y);break;case Ki:e.y=e.y<0?0:1;break;case $d:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ln.DEFAULT_IMAGE=null;Ln.DEFAULT_MAPPING=og;Ln.DEFAULT_ANISOTROPY=1;class Hn{constructor(e=0,t=0,i=0,r=1){Hn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*o,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*o,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*o,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,o;const l=e.elements,c=l[0],g=l[4],u=l[8],d=l[1],C=l[5],f=l[9],b=l[2],A=l[6],p=l[10];if(Math.abs(g-d)<.01&&Math.abs(u-b)<.01&&Math.abs(f-A)<.01){if(Math.abs(g+d)<.1&&Math.abs(u+b)<.1&&Math.abs(f+A)<.1&&Math.abs(c+C+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const B=(c+1)/2,x=(C+1)/2,w=(p+1)/2,S=(g+d)/4,Z=(u+b)/4,M=(f+A)/4;return B>x&&B>w?B<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(B),r=S/i,o=Z/i):x>w?x<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(x),i=S/r,o=M/r):w<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(w),i=Z/o,r=M/o),this.set(i,r,o,t),this}let y=Math.sqrt((A-f)*(A-f)+(u-b)*(u-b)+(d-g)*(d-g));return Math.abs(y)<.001&&(y=1),this.x=(A-f)/y,this.y=(u-b)/y,this.z=(d-g)/y,this.w=Math.acos((c+C+p-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class yN extends ja{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Hn(0,0,e,t),this.scissorTest=!1,this.viewport=new Hn(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Tn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const o=new Ln(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);o.flipY=!1,o.generateMipmaps=i.generateMipmaps,o.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Cu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ha extends yN{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class pA extends Ln{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=br,this.minFilter=br,this.wrapR=Ki,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class lD extends ha{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new pA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class n7 extends Ln{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=br,this.minFilter=br,this.wrapR=Ki,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cD extends ha{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new n7(null,e,t,i),this.texture.isRenderTargetTexture=!0}}let Qt=class{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,o,a,s){let l=i[r+0],c=i[r+1],g=i[r+2],u=i[r+3];const d=o[a+0],C=o[a+1],f=o[a+2],b=o[a+3];if(s===0){e[t+0]=l,e[t+1]=c,e[t+2]=g,e[t+3]=u;return}if(s===1){e[t+0]=d,e[t+1]=C,e[t+2]=f,e[t+3]=b;return}if(u!==b||l!==d||c!==C||g!==f){let A=1-s;const p=l*d+c*C+g*f+u*b,y=p>=0?1:-1,B=1-p*p;if(B>Number.EPSILON){const w=Math.sqrt(B),S=Math.atan2(w,p*y);A=Math.sin(A*S)/w,s=Math.sin(s*S)/w}const x=s*y;if(l=l*A+d*x,c=c*A+C*x,g=g*A+f*x,u=u*A+b*x,A===1-s){const w=1/Math.sqrt(l*l+c*c+g*g+u*u);l*=w,c*=w,g*=w,u*=w}}e[t]=l,e[t+1]=c,e[t+2]=g,e[t+3]=u}static multiplyQuaternionsFlat(e,t,i,r,o,a){const s=i[r],l=i[r+1],c=i[r+2],g=i[r+3],u=o[a],d=o[a+1],C=o[a+2],f=o[a+3];return e[t]=s*f+g*u+l*C-c*d,e[t+1]=l*f+g*d+c*u-s*C,e[t+2]=c*f+g*C+s*d-l*u,e[t+3]=g*f-s*u-l*d-c*C,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(i/2),g=s(r/2),u=s(o/2),d=l(i/2),C=l(r/2),f=l(o/2);switch(a){case"XYZ":this._x=d*g*u+c*C*f,this._y=c*C*u-d*g*f,this._z=c*g*f+d*C*u,this._w=c*g*u-d*C*f;break;case"YXZ":this._x=d*g*u+c*C*f,this._y=c*C*u-d*g*f,this._z=c*g*f-d*C*u,this._w=c*g*u+d*C*f;break;case"ZXY":this._x=d*g*u-c*C*f,this._y=c*C*u+d*g*f,this._z=c*g*f+d*C*u,this._w=c*g*u-d*C*f;break;case"ZYX":this._x=d*g*u-c*C*f,this._y=c*C*u+d*g*f,this._z=c*g*f-d*C*u,this._w=c*g*u+d*C*f;break;case"YZX":this._x=d*g*u+c*C*f,this._y=c*C*u+d*g*f,this._z=c*g*f-d*C*u,this._w=c*g*u-d*C*f;break;case"XZY":this._x=d*g*u-c*C*f,this._y=c*C*u-d*g*f,this._z=c*g*f+d*C*u,this._w=c*g*u+d*C*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],o=t[8],a=t[1],s=t[5],l=t[9],c=t[2],g=t[6],u=t[10],d=i+s+u;if(d>0){const C=.5/Math.sqrt(d+1);this._w=.25/C,this._x=(g-l)*C,this._y=(o-c)*C,this._z=(a-r)*C}else if(i>s&&i>u){const C=2*Math.sqrt(1+i-s-u);this._w=(g-l)/C,this._x=.25*C,this._y=(r+a)/C,this._z=(o+c)/C}else if(s>u){const C=2*Math.sqrt(1+s-i-u);this._w=(o-c)/C,this._x=(r+a)/C,this._y=.25*C,this._z=(l+g)/C}else{const C=2*Math.sqrt(1+u-i-s);this._w=(a-r)/C,this._x=(o+c)/C,this._y=(l+g)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ni(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,o=e._z,a=e._w,s=t._x,l=t._y,c=t._z,g=t._w;return this._x=i*g+a*s+r*c-o*l,this._y=r*g+a*l+o*s-i*c,this._z=o*g+a*c+i*l-r*s,this._w=a*g-i*s-r*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,o=this._z,a=this._w;let s=a*e._w+i*e._x+r*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=i,this._y=r,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const C=1-t;return this._w=C*a+t*this._w,this._x=C*i+t*this._x,this._y=C*r+t*this._y,this._z=C*o+t*this._z,this.normalize(),this}const c=Math.sqrt(l),g=Math.atan2(c,s),u=Math.sin((1-t)*g)/c,d=Math.sin(t*g)/c;return this._w=a*u+this._w*d,this._x=i*u+this._x*d,this._y=r*u+this._y*d,this._z=o*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),o*Math.sin(t),o*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}};class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rS.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rS.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[3]*i+o[6]*r,this.y=o[1]*t+o[4]*i+o[7]*r,this.z=o[2]*t+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,o=e.elements,a=1/(o[3]*t+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*t+o[4]*i+o[8]*r+o[12])*a,this.y=(o[1]*t+o[5]*i+o[9]*r+o[13])*a,this.z=(o[2]*t+o[6]*i+o[10]*r+o[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*r-s*i),g=2*(s*t-o*r),u=2*(o*i-a*t);return this.x=t+l*c+a*u-s*g,this.y=i+l*g+s*c-o*u,this.z=r+l*u+o*g-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r,this.y=o[1]*t+o[5]*i+o[9]*r,this.z=o[2]*t+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,o=e.z,a=t.x,s=t.y,l=t.z;return this.x=r*l-o*s,this.y=o*a-i*l,this.z=i*s-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return J9.copy(this).projectOnVector(e),this.sub(J9)}reflect(e){return this.sub(J9.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ni(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const J9=new k,rS=new Qt;class eo{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(as.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(as.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=as.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const o=i.getAttribute("position");if(t===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,as):as.fromBufferAttribute(o,a),as.applyMatrix4(e.matrixWorld),this.expandByPoint(as);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Cm.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Cm.copy(i.boundingBox)),Cm.applyMatrix4(e.matrixWorld),this.union(Cm)}const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,as),as.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(II),hm.subVectors(this.max,II),R1.subVectors(e.a,II),M1.subVectors(e.b,II),_1.subVectors(e.c,II),hc.subVectors(M1,R1),mc.subVectors(_1,M1),_g.subVectors(R1,_1);let t=[0,-hc.z,hc.y,0,-mc.z,mc.y,0,-_g.z,_g.y,hc.z,0,-hc.x,mc.z,0,-mc.x,_g.z,0,-_g.x,-hc.y,hc.x,0,-mc.y,mc.x,0,-_g.y,_g.x,0];return!Q9(t,R1,M1,_1,hm)||(t=[1,0,0,0,1,0,0,0,1],!Q9(t,R1,M1,_1,hm))?!1:(mm.crossVectors(hc,mc),t=[mm.x,mm.y,mm.z],Q9(t,R1,M1,_1,hm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,as).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(as).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(bl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),bl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),bl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),bl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),bl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),bl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),bl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),bl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(bl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const bl=[new k,new k,new k,new k,new k,new k,new k,new k],as=new k,Cm=new eo,R1=new k,M1=new k,_1=new k,hc=new k,mc=new k,_g=new k,II=new k,hm=new k,mm=new k,Wg=new k;function Q9(n,e,t,i,r){for(let o=0,a=n.length-3;o<=a;o+=3){Wg.fromArray(n,o);const s=r.x*Math.abs(Wg.x)+r.y*Math.abs(Wg.y)+r.z*Math.abs(Wg.z),l=e.dot(Wg),c=t.dot(Wg),g=i.dot(Wg);if(Math.max(-Math.max(l,c,g),Math.min(l,c,g))>s)return!1}return!0}const gD=new eo,CI=new k,$9=new k;class Mr{constructor(e=new k,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):gD.setFromPoints(e).getCenter(i);let r=0;for(let o=0,a=e.length;o<a;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;CI.subVectors(e,this.center);const t=CI.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(CI,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):($9.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(CI.copy(e.center).add($9)),this.expandByPoint(CI.copy(e.center).sub($9))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vl=new k,e4=new k,fm=new k,fc=new k,t4=new k,pm=new k,n4=new k;let n1=class{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=vl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vl.copy(this.origin).addScaledVector(this.direction,t),vl.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){e4.copy(e).add(t).multiplyScalar(.5),fm.copy(t).sub(e).normalize(),fc.copy(this.origin).sub(e4);const o=e.distanceTo(t)*.5,a=-this.direction.dot(fm),s=fc.dot(this.direction),l=-fc.dot(fm),c=fc.lengthSq(),g=Math.abs(1-a*a);let u,d,C,f;if(g>0)if(u=a*l-s,d=a*s-l,f=o*g,u>=0)if(d>=-f)if(d<=f){const b=1/g;u*=b,d*=b,C=u*(u+a*d+2*s)+d*(a*u+d+2*l)+c}else d=o,u=Math.max(0,-(a*d+s)),C=-u*u+d*(d+2*l)+c;else d=-o,u=Math.max(0,-(a*d+s)),C=-u*u+d*(d+2*l)+c;else d<=-f?(u=Math.max(0,-(-a*o+s)),d=u>0?-o:Math.min(Math.max(-o,-l),o),C=-u*u+d*(d+2*l)+c):d<=f?(u=0,d=Math.min(Math.max(-o,-l),o),C=d*(d+2*l)+c):(u=Math.max(0,-(a*o+s)),d=u>0?o:Math.min(Math.max(-o,-l),o),C=-u*u+d*(d+2*l)+c);else d=a>0?-o:o,u=Math.max(0,-(a*d+s)),C=-u*u+d*(d+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(e4).addScaledVector(fm,d),C}intersectSphere(e,t){vl.subVectors(e.center,this.origin);const i=vl.dot(this.direction),r=vl.dot(vl)-i*i,o=e.radius*e.radius;if(r>o)return null;const a=Math.sqrt(o-r),s=i-a,l=i+a;return l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,o,a,s,l;const c=1/this.direction.x,g=1/this.direction.y,u=1/this.direction.z,d=this.origin;return c>=0?(i=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(i=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),g>=0?(o=(e.min.y-d.y)*g,a=(e.max.y-d.y)*g):(o=(e.max.y-d.y)*g,a=(e.min.y-d.y)*g),i>a||o>r||((o>i||isNaN(i))&&(i=o),(a<r||isNaN(r))&&(r=a),u>=0?(s=(e.min.z-d.z)*u,l=(e.max.z-d.z)*u):(s=(e.max.z-d.z)*u,l=(e.min.z-d.z)*u),i>l||s>r)||((s>i||i!==i)&&(i=s),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,vl)!==null}intersectTriangle(e,t,i,r,o){t4.subVectors(t,e),pm.subVectors(i,e),n4.crossVectors(t4,pm);let a=this.direction.dot(n4),s;if(a>0){if(r)return null;s=1}else if(a<0)s=-1,a=-a;else return null;fc.subVectors(this.origin,e);const l=s*this.direction.dot(pm.crossVectors(fc,pm));if(l<0)return null;const c=s*this.direction.dot(t4.cross(fc));if(c<0||l+c>a)return null;const g=-s*fc.dot(n4);return g<0?null:this.at(g/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class vt{constructor(e,t,i,r,o,a,s,l,c,g,u,d,C,f,b,A){vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,o,a,s,l,c,g,u,d,C,f,b,A)}set(e,t,i,r,o,a,s,l,c,g,u,d,C,f,b,A){const p=this.elements;return p[0]=e,p[4]=t,p[8]=i,p[12]=r,p[1]=o,p[5]=a,p[9]=s,p[13]=l,p[2]=c,p[6]=g,p[10]=u,p[14]=d,p[3]=C,p[7]=f,p[11]=b,p[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/W1.setFromMatrixColumn(e,0).length(),o=1/W1.setFromMatrixColumn(e,1).length(),a=1/W1.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*o,t[5]=i[5]*o,t[6]=i[6]*o,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,o=e.z,a=Math.cos(i),s=Math.sin(i),l=Math.cos(r),c=Math.sin(r),g=Math.cos(o),u=Math.sin(o);if(e.order==="XYZ"){const d=a*g,C=a*u,f=s*g,b=s*u;t[0]=l*g,t[4]=-l*u,t[8]=c,t[1]=C+f*c,t[5]=d-b*c,t[9]=-s*l,t[2]=b-d*c,t[6]=f+C*c,t[10]=a*l}else if(e.order==="YXZ"){const d=l*g,C=l*u,f=c*g,b=c*u;t[0]=d+b*s,t[4]=f*s-C,t[8]=a*c,t[1]=a*u,t[5]=a*g,t[9]=-s,t[2]=C*s-f,t[6]=b+d*s,t[10]=a*l}else if(e.order==="ZXY"){const d=l*g,C=l*u,f=c*g,b=c*u;t[0]=d-b*s,t[4]=-a*u,t[8]=f+C*s,t[1]=C+f*s,t[5]=a*g,t[9]=b-d*s,t[2]=-a*c,t[6]=s,t[10]=a*l}else if(e.order==="ZYX"){const d=a*g,C=a*u,f=s*g,b=s*u;t[0]=l*g,t[4]=f*c-C,t[8]=d*c+b,t[1]=l*u,t[5]=b*c+d,t[9]=C*c-f,t[2]=-c,t[6]=s*l,t[10]=a*l}else if(e.order==="YZX"){const d=a*l,C=a*c,f=s*l,b=s*c;t[0]=l*g,t[4]=b-d*u,t[8]=f*u+C,t[1]=u,t[5]=a*g,t[9]=-s*g,t[2]=-c*g,t[6]=C*u+f,t[10]=d-b*u}else if(e.order==="XZY"){const d=a*l,C=a*c,f=s*l,b=s*c;t[0]=l*g,t[4]=-u,t[8]=c*g,t[1]=d*u+b,t[5]=a*g,t[9]=C*u-f,t[2]=f*u-C,t[6]=s*g,t[10]=b*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(uD,e,dD)}lookAt(e,t,i){const r=this.elements;return $o.subVectors(e,t),$o.lengthSq()===0&&($o.z=1),$o.normalize(),pc.crossVectors(i,$o),pc.lengthSq()===0&&(Math.abs(i.z)===1?$o.x+=1e-4:$o.z+=1e-4,$o.normalize(),pc.crossVectors(i,$o)),pc.normalize(),Am.crossVectors($o,pc),r[0]=pc.x,r[4]=Am.x,r[8]=$o.x,r[1]=pc.y,r[5]=Am.y,r[9]=$o.y,r[2]=pc.z,r[6]=Am.z,r[10]=$o.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,o=this.elements,a=i[0],s=i[4],l=i[8],c=i[12],g=i[1],u=i[5],d=i[9],C=i[13],f=i[2],b=i[6],A=i[10],p=i[14],y=i[3],B=i[7],x=i[11],w=i[15],S=r[0],Z=r[4],M=r[8],q=r[12],_=r[1],V=r[5],Y=r[9],X=r[13],K=r[2],Q=r[6],z=r[10],D=r[14],N=r[3],L=r[7],P=r[11],O=r[15];return o[0]=a*S+s*_+l*K+c*N,o[4]=a*Z+s*V+l*Q+c*L,o[8]=a*M+s*Y+l*z+c*P,o[12]=a*q+s*X+l*D+c*O,o[1]=g*S+u*_+d*K+C*N,o[5]=g*Z+u*V+d*Q+C*L,o[9]=g*M+u*Y+d*z+C*P,o[13]=g*q+u*X+d*D+C*O,o[2]=f*S+b*_+A*K+p*N,o[6]=f*Z+b*V+A*Q+p*L,o[10]=f*M+b*Y+A*z+p*P,o[14]=f*q+b*X+A*D+p*O,o[3]=y*S+B*_+x*K+w*N,o[7]=y*Z+B*V+x*Q+w*L,o[11]=y*M+B*Y+x*z+w*P,o[15]=y*q+B*X+x*D+w*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],g=e[2],u=e[6],d=e[10],C=e[14],f=e[3],b=e[7],A=e[11],p=e[15];return f*(+o*l*u-r*c*u-o*s*d+i*c*d+r*s*C-i*l*C)+b*(+t*l*C-t*c*d+o*a*d-r*a*C+r*c*g-o*l*g)+A*(+t*c*u-t*s*C-o*a*u+i*a*C+o*s*g-i*c*g)+p*(-r*s*g-t*l*u+t*s*d+r*a*u-i*a*d+i*l*g)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],g=e[8],u=e[9],d=e[10],C=e[11],f=e[12],b=e[13],A=e[14],p=e[15],y=u*A*c-b*d*c+b*l*C-s*A*C-u*l*p+s*d*p,B=f*d*c-g*A*c-f*l*C+a*A*C+g*l*p-a*d*p,x=g*b*c-f*u*c+f*s*C-a*b*C-g*s*p+a*u*p,w=f*u*l-g*b*l-f*s*d+a*b*d+g*s*A-a*u*A,S=t*y+i*B+r*x+o*w;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Z=1/S;return e[0]=y*Z,e[1]=(b*d*o-u*A*o-b*r*C+i*A*C+u*r*p-i*d*p)*Z,e[2]=(s*A*o-b*l*o+b*r*c-i*A*c-s*r*p+i*l*p)*Z,e[3]=(u*l*o-s*d*o-u*r*c+i*d*c+s*r*C-i*l*C)*Z,e[4]=B*Z,e[5]=(g*A*o-f*d*o+f*r*C-t*A*C-g*r*p+t*d*p)*Z,e[6]=(f*l*o-a*A*o-f*r*c+t*A*c+a*r*p-t*l*p)*Z,e[7]=(a*d*o-g*l*o+g*r*c-t*d*c-a*r*C+t*l*C)*Z,e[8]=x*Z,e[9]=(f*u*o-g*b*o-f*i*C+t*b*C+g*i*p-t*u*p)*Z,e[10]=(a*b*o-f*s*o+f*i*c-t*b*c-a*i*p+t*s*p)*Z,e[11]=(g*s*o-a*u*o-g*i*c+t*u*c+a*i*C-t*s*C)*Z,e[12]=w*Z,e[13]=(g*b*r-f*u*r+f*i*d-t*b*d-g*i*A+t*u*A)*Z,e[14]=(f*s*r-a*b*r-f*i*l+t*b*l+a*i*A-t*s*A)*Z,e[15]=(a*u*r-g*s*r+g*i*l-t*u*l-a*i*d+t*s*d)*Z,this}scale(e){const t=this.elements,i=e.x,r=e.y,o=e.z;return t[0]*=i,t[4]*=r,t[8]*=o,t[1]*=i,t[5]*=r,t[9]*=o,t[2]*=i,t[6]*=r,t[10]*=o,t[3]*=i,t[7]*=r,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),o=1-i,a=e.x,s=e.y,l=e.z,c=o*a,g=o*s;return this.set(c*a+i,c*s-r*l,c*l+r*s,0,c*s+r*l,g*s+i,g*l-r*a,0,c*l-r*s,g*l+r*a,o*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,o,a){return this.set(1,i,o,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,o=t._x,a=t._y,s=t._z,l=t._w,c=o+o,g=a+a,u=s+s,d=o*c,C=o*g,f=o*u,b=a*g,A=a*u,p=s*u,y=l*c,B=l*g,x=l*u,w=i.x,S=i.y,Z=i.z;return r[0]=(1-(b+p))*w,r[1]=(C+x)*w,r[2]=(f-B)*w,r[3]=0,r[4]=(C-x)*S,r[5]=(1-(d+p))*S,r[6]=(A+y)*S,r[7]=0,r[8]=(f+B)*Z,r[9]=(A-y)*Z,r[10]=(1-(d+b))*Z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let o=W1.set(r[0],r[1],r[2]).length();const a=W1.set(r[4],r[5],r[6]).length(),s=W1.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],ss.copy(this);const c=1/o,g=1/a,u=1/s;return ss.elements[0]*=c,ss.elements[1]*=c,ss.elements[2]*=c,ss.elements[4]*=g,ss.elements[5]*=g,ss.elements[6]*=g,ss.elements[8]*=u,ss.elements[9]*=u,ss.elements[10]*=u,t.setFromRotationMatrix(ss),i.x=o,i.y=a,i.z=s,this}makePerspective(e,t,i,r,o,a,s=Os){const l=this.elements,c=2*o/(t-e),g=2*o/(i-r),u=(t+e)/(t-e),d=(i+r)/(i-r);let C,f;if(s===Os)C=-(a+o)/(a-o),f=-2*a*o/(a-o);else if(s===OC)C=-a/(a-o),f=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=u,l[12]=0,l[1]=0,l[5]=g,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=C,l[14]=f,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,o,a,s=Os){const l=this.elements,c=1/(t-e),g=1/(i-r),u=1/(a-o),d=(t+e)*c,C=(i+r)*g;let f,b;if(s===Os)f=(a+o)*u,b=-2*u;else if(s===OC)f=o*u,b=-1*u;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*g,l[9]=0,l[13]=-C,l[2]=0,l[6]=0,l[10]=b,l[14]=-f,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const W1=new k,ss=new vt,uD=new k(0,0,0),dD=new k(1,1,1),pc=new k,Am=new k,$o=new k,oS=new vt,aS=new Qt;class rn{constructor(e=0,t=0,i=0,r=rn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,o=r[0],a=r[4],s=r[8],l=r[1],c=r[5],g=r[9],u=r[2],d=r[6],C=r[10];switch(t){case"XYZ":this._y=Math.asin(Ni(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-g,C),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ni(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(s,C),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ni(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,C),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Ni(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,C),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Ni(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-g,c),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(s,C));break;case"XZY":this._z=Math.asin(-Ni(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-g,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return oS.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oS,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return aS.setFromEuler(this),this.setFromQuaternion(aS,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}rn.DEFAULT_ORDER="XYZ";class Zu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let ID=0;const sS=new k,V1=new Qt,yl=new vt,bm=new k,hI=new k,CD=new k,hD=new Qt,lS=new k(1,0,0),cS=new k(0,1,0),gS=new k(0,0,1),uS={type:"added"},mD={type:"removed"},N1={type:"childadded",child:null},i4={type:"childremoved",child:null};class Sn extends ja{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ID++}),this.uuid=da(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sn.DEFAULT_UP.clone();const e=new k,t=new rn,i=new Qt,r=new k(1,1,1);function o(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(o),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new vt},normalMatrix:{value:new fn}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=Sn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return V1.setFromAxisAngle(e,t),this.quaternion.multiply(V1),this}rotateOnWorldAxis(e,t){return V1.setFromAxisAngle(e,t),this.quaternion.premultiply(V1),this}rotateX(e){return this.rotateOnAxis(lS,e)}rotateY(e){return this.rotateOnAxis(cS,e)}rotateZ(e){return this.rotateOnAxis(gS,e)}translateOnAxis(e,t){return sS.copy(e).applyQuaternion(this.quaternion),this.position.add(sS.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(lS,e)}translateY(e){return this.translateOnAxis(cS,e)}translateZ(e){return this.translateOnAxis(gS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yl.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?bm.copy(e):bm.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),hI.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yl.lookAt(hI,bm,this.up):yl.lookAt(bm,hI,this.up),this.quaternion.setFromRotationMatrix(yl),r&&(yl.extractRotation(r.matrixWorld),V1.setFromRotationMatrix(yl),this.quaternion.premultiply(V1.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(uS),N1.child=e,this.dispatchEvent(N1),N1.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(mD),i4.child=e,this.dispatchEvent(i4),i4.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yl.multiply(e.parent.matrixWorld)),e.applyMatrix4(yl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(uS),N1.child=e,this.dispatchEvent(N1),N1.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hI,e,CD),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(hI,hD,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let o=0,a=r.length;o<a;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,g=l.length;c<g;c++){const u=l[c];o(e.shapes,u)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));r.material=s}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];r.animations.push(o(e.animations,l))}}if(t){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),g=a(e.images),u=a(e.shapes),d=a(e.skeletons),C=a(e.animations),f=a(e.nodes);s.length>0&&(i.geometries=s),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),g.length>0&&(i.images=g),u.length>0&&(i.shapes=u),d.length>0&&(i.skeletons=d),C.length>0&&(i.animations=C),f.length>0&&(i.nodes=f)}return i.object=r,i;function a(s){const l=[];for(const c in s){const g=s[c];delete g.metadata,l.push(g)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Sn.DEFAULT_UP=new k(0,1,0);Sn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Sn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ls=new k,Bl=new k,r4=new k,xl=new k,F1=new k,H1=new k,dS=new k,o4=new k,a4=new k,s4=new k,l4=new Hn,c4=new Hn,g4=new Hn;class Ho{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ls.subVectors(e,t),r.cross(ls);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,t,i,r,o){ls.subVectors(r,t),Bl.subVectors(i,t),r4.subVectors(e,t);const a=ls.dot(ls),s=ls.dot(Bl),l=ls.dot(r4),c=Bl.dot(Bl),g=Bl.dot(r4),u=a*c-s*s;if(u===0)return o.set(0,0,0),null;const d=1/u,C=(c*l-s*g)*d,f=(a*g-s*l)*d;return o.set(1-C-f,f,C)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,xl)===null?!1:xl.x>=0&&xl.y>=0&&xl.x+xl.y<=1}static getInterpolation(e,t,i,r,o,a,s,l){return this.getBarycoord(e,t,i,r,xl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,xl.x),l.addScaledVector(a,xl.y),l.addScaledVector(s,xl.z),l)}static getInterpolatedAttribute(e,t,i,r,o,a){return l4.setScalar(0),c4.setScalar(0),g4.setScalar(0),l4.fromBufferAttribute(e,t),c4.fromBufferAttribute(e,i),g4.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(l4,o.x),a.addScaledVector(c4,o.y),a.addScaledVector(g4,o.z),a}static isFrontFacing(e,t,i,r){return ls.subVectors(i,t),Bl.subVectors(e,t),ls.cross(Bl).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ls.subVectors(this.c,this.b),Bl.subVectors(this.a,this.b),ls.cross(Bl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ho.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ho.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,o){return Ho.getInterpolation(e,this.a,this.b,this.c,t,i,r,o)}containsPoint(e){return Ho.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ho.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,o=this.c;let a,s;F1.subVectors(r,i),H1.subVectors(o,i),o4.subVectors(e,i);const l=F1.dot(o4),c=H1.dot(o4);if(l<=0&&c<=0)return t.copy(i);a4.subVectors(e,r);const g=F1.dot(a4),u=H1.dot(a4);if(g>=0&&u<=g)return t.copy(r);const d=l*u-g*c;if(d<=0&&l>=0&&g<=0)return a=l/(l-g),t.copy(i).addScaledVector(F1,a);s4.subVectors(e,o);const C=F1.dot(s4),f=H1.dot(s4);if(f>=0&&C<=f)return t.copy(o);const b=C*c-l*f;if(b<=0&&c>=0&&f<=0)return s=c/(c-f),t.copy(i).addScaledVector(H1,s);const A=g*f-C*u;if(A<=0&&u-g>=0&&C-f>=0)return dS.subVectors(o,r),s=(u-g)/(u-g+(C-f)),t.copy(r).addScaledVector(dS,s);const p=1/(A+b+d);return a=b*p,s=d*p,t.copy(i).addScaledVector(F1,a).addScaledVector(H1,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const BN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ac={h:0,s:0,l:0},vm={h:0,s:0,l:0};function u4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let ke=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Co){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Wn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Wn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Wn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Wn.workingColorSpace){if(e=t7(e,1),t=Ni(t,0,1),i=Ni(i,0,1),t===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+t):i+t-i*t,a=2*i-o;this.r=u4(a,o,e+1/3),this.g=u4(a,o,e),this.b=u4(a,o,e-1/3)}return Wn.toWorkingColorSpace(this,r),this}setStyle(e,t=Co){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=r[1],s=r[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,t);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,t);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(o,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Co){const i=BN[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ll(e.r),this.g=Ll(e.g),this.b=Ll(e.b),this}copyLinearToSRGB(e){return this.r=Fd(e.r),this.g=Fd(e.g),this.b=Fd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Co){return Wn.fromWorkingColorSpace(kr.copy(this),e),Math.round(Ni(kr.r*255,0,255))*65536+Math.round(Ni(kr.g*255,0,255))*256+Math.round(Ni(kr.b*255,0,255))}getHexString(e=Co){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Wn.workingColorSpace){Wn.fromWorkingColorSpace(kr.copy(this),t);const i=kr.r,r=kr.g,o=kr.b,a=Math.max(i,r,o),s=Math.min(i,r,o);let l,c;const g=(s+a)/2;if(s===a)l=0,c=0;else{const u=a-s;switch(c=g<=.5?u/(a+s):u/(2-a-s),a){case i:l=(r-o)/u+(r<o?6:0);break;case r:l=(o-i)/u+2;break;case o:l=(i-r)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=g,e}getRGB(e,t=Wn.workingColorSpace){return Wn.fromWorkingColorSpace(kr.copy(this),t),e.r=kr.r,e.g=kr.g,e.b=kr.b,e}getStyle(e=Co){Wn.fromWorkingColorSpace(kr.copy(this),e);const t=kr.r,i=kr.g,r=kr.b;return e!==Co?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(Ac),this.setHSL(Ac.h+e,Ac.s+t,Ac.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Ac),e.getHSL(vm);const i=hC(Ac.h,vm.h,t),r=hC(Ac.s,vm.s,t),o=hC(Ac.l,vm.l,t);return this.setHSL(i,r,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,o=e.elements;return this.r=o[0]*t+o[3]*i+o[6]*r,this.g=o[1]*t+o[4]*i+o[7]*r,this.b=o[2]*t+o[5]*i+o[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const kr=new ke;ke.NAMES=BN;let fD=0;class er extends ja{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:fD++}),this.uuid=da(),this.name="",this.blending=Gu,this.side=ol,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ep,this.blendDst=Xp,this.blendEquation=Wc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ke(0,0,0),this.blendAlpha=0,this.depthFunc=Yu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=t8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$g,this.stencilZFail=$g,this.stencilZPass=$g,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Gu&&(i.blending=this.blending),this.side!==ol&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Ep&&(i.blendSrc=this.blendSrc),this.blendDst!==Xp&&(i.blendDst=this.blendDst),this.blendEquation!==Wc&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Yu&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==t8&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$g&&(i.stencilFail=this.stencilFail),this.stencilZFail!==$g&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==$g&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(t){const o=r(e.textures),a=r(e.images);o.length>0&&(i.textures=o),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=t[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Qr extends er{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rn,this.combine=Vh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nl=pD();function pD(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,g=0;for(;!(c&8388608);)c<<=1,g-=8388608;c&=-8388609,g+=947912704,o[l]=c|g}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:a,offsetTable:s}}function _o(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ni(n,-65504,65504),Nl.floatView[0]=n;const e=Nl.uint32View[0],t=e>>23&511;return Nl.baseTable[t]+((e&8388607)>>Nl.shiftTable[t])}function UI(n){const e=n>>10;return Nl.uint32View[0]=Nl.mantissaTable[Nl.offsetTable[e]+(n&1023)]+Nl.exponentTable[e],Nl.floatView[0]}const hu={toHalfFloat:_o,fromHalfFloat:UI},Oi=new k,ym=new et;class Xn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=UC,this.updateRanges=[],this.gpuType=wi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ym.fromBufferAttribute(this,t),ym.applyMatrix3(e),this.setXY(t,ym.x,ym.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyMatrix3(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyMatrix4(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.applyNormalMatrix(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Oi.fromBufferAttribute(this,t),Oi.transformDirection(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=fo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=pn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=fo(t,this.array)),t}setX(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=fo(t,this.array)),t}setY(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=fo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=fo(t,this.array)),t}setW(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array),r=pn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==UC&&(e.usage=this.usage),e}}class AD extends Xn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class bD extends Xn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class vD extends Xn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class yD extends Xn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class i7 extends Xn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class BD extends Xn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class r7 extends Xn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class xD extends Xn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=UI(this.array[e*this.itemSize]);return this.normalized&&(t=fo(t,this.array)),t}setX(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize]=_o(t),this}getY(e){let t=UI(this.array[e*this.itemSize+1]);return this.normalized&&(t=fo(t,this.array)),t}setY(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+1]=_o(t),this}getZ(e){let t=UI(this.array[e*this.itemSize+2]);return this.normalized&&(t=fo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+2]=_o(t),this}getW(e){let t=UI(this.array[e*this.itemSize+3]);return this.normalized&&(t=fo(t,this.array)),t}setW(e,t){return this.normalized&&(t=pn(t,this.array)),this.array[e*this.itemSize+3]=_o(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array)),this.array[e+0]=_o(t),this.array[e+1]=_o(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array),r=pn(r,this.array)),this.array[e+0]=_o(t),this.array[e+1]=_o(i),this.array[e+2]=_o(r),this}setXYZW(e,t,i,r,o){return e*=this.itemSize,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array)),this.array[e+0]=_o(t),this.array[e+1]=_o(i),this.array[e+2]=_o(r),this.array[e+3]=_o(o),this}}class $t extends Xn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let GD=0;const _a=new vt,d4=new Sn,E1=new k,ea=new eo,mI=new eo,Cr=new k;class dn extends ja{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GD++}),this.uuid=da(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(AN(e)?r7:i7)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new fn().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _a.makeRotationFromQuaternion(e),this.applyMatrix4(_a),this}rotateX(e){return _a.makeRotationX(e),this.applyMatrix4(_a),this}rotateY(e){return _a.makeRotationY(e),this.applyMatrix4(_a),this}rotateZ(e){return _a.makeRotationZ(e),this.applyMatrix4(_a),this}translate(e,t,i){return _a.makeTranslation(e,t,i),this.applyMatrix4(_a),this}scale(e,t,i){return _a.makeScale(e,t,i),this.applyMatrix4(_a),this}lookAt(e){return d4.lookAt(e),d4.updateMatrix(),this.applyMatrix4(d4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(E1).negate(),this.translate(E1.x,E1.y,E1.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new $t(i,3))}else{for(let i=0,r=t.count;i<r;i++){const o=e[i];t.setXYZ(i,o.x,o.y,o.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new eo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const o=t[i];ea.setFromBufferAttribute(o),this.morphTargetsRelative?(Cr.addVectors(this.boundingBox.min,ea.min),this.boundingBox.expandByPoint(Cr),Cr.addVectors(this.boundingBox.max,ea.max),this.boundingBox.expandByPoint(Cr)):(this.boundingBox.expandByPoint(ea.min),this.boundingBox.expandByPoint(ea.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new k,1/0);return}if(e){const i=this.boundingSphere.center;if(ea.setFromBufferAttribute(e),t)for(let o=0,a=t.length;o<a;o++){const s=t[o];mI.setFromBufferAttribute(s),this.morphTargetsRelative?(Cr.addVectors(ea.min,mI.min),ea.expandByPoint(Cr),Cr.addVectors(ea.max,mI.max),ea.expandByPoint(Cr)):(ea.expandByPoint(mI.min),ea.expandByPoint(mI.max))}ea.getCenter(i);let r=0;for(let o=0,a=e.count;o<a;o++)Cr.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Cr));if(t)for(let o=0,a=t.length;o<a;o++){const s=t[o],l=this.morphTargetsRelative;for(let c=0,g=s.count;c<g;c++)Cr.fromBufferAttribute(s,c),l&&(E1.fromBufferAttribute(e,c),Cr.add(E1)),r=Math.max(r,i.distanceToSquared(Cr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,o=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Xn(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let M=0;M<i.count;M++)s[M]=new k,l[M]=new k;const c=new k,g=new k,u=new k,d=new et,C=new et,f=new et,b=new k,A=new k;function p(M,q,_){c.fromBufferAttribute(i,M),g.fromBufferAttribute(i,q),u.fromBufferAttribute(i,_),d.fromBufferAttribute(o,M),C.fromBufferAttribute(o,q),f.fromBufferAttribute(o,_),g.sub(c),u.sub(c),C.sub(d),f.sub(d);const V=1/(C.x*f.y-f.x*C.y);isFinite(V)&&(b.copy(g).multiplyScalar(f.y).addScaledVector(u,-C.y).multiplyScalar(V),A.copy(u).multiplyScalar(C.x).addScaledVector(g,-f.x).multiplyScalar(V),s[M].add(b),s[q].add(b),s[_].add(b),l[M].add(A),l[q].add(A),l[_].add(A))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let M=0,q=y.length;M<q;++M){const _=y[M],V=_.start,Y=_.count;for(let X=V,K=V+Y;X<K;X+=3)p(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const B=new k,x=new k,w=new k,S=new k;function Z(M){w.fromBufferAttribute(r,M),S.copy(w);const q=s[M];B.copy(q),B.sub(w.multiplyScalar(w.dot(q))).normalize(),x.crossVectors(S,q);const V=x.dot(l[M])<0?-1:1;a.setXYZW(M,B.x,B.y,B.z,V)}for(let M=0,q=y.length;M<q;++M){const _=y[M],V=_.start,Y=_.count;for(let X=V,K=V+Y;X<K;X+=3)Z(e.getX(X+0)),Z(e.getX(X+1)),Z(e.getX(X+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Xn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let d=0,C=i.count;d<C;d++)i.setXYZ(d,0,0,0);const r=new k,o=new k,a=new k,s=new k,l=new k,c=new k,g=new k,u=new k;if(e)for(let d=0,C=e.count;d<C;d+=3){const f=e.getX(d+0),b=e.getX(d+1),A=e.getX(d+2);r.fromBufferAttribute(t,f),o.fromBufferAttribute(t,b),a.fromBufferAttribute(t,A),g.subVectors(a,o),u.subVectors(r,o),g.cross(u),s.fromBufferAttribute(i,f),l.fromBufferAttribute(i,b),c.fromBufferAttribute(i,A),s.add(g),l.add(g),c.add(g),i.setXYZ(f,s.x,s.y,s.z),i.setXYZ(b,l.x,l.y,l.z),i.setXYZ(A,c.x,c.y,c.z)}else for(let d=0,C=t.count;d<C;d+=3)r.fromBufferAttribute(t,d+0),o.fromBufferAttribute(t,d+1),a.fromBufferAttribute(t,d+2),g.subVectors(a,o),u.subVectors(r,o),g.cross(u),i.setXYZ(d+0,g.x,g.y,g.z),i.setXYZ(d+1,g.x,g.y,g.z),i.setXYZ(d+2,g.x,g.y,g.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Cr.fromBufferAttribute(e,t),Cr.normalize(),e.setXYZ(t,Cr.x,Cr.y,Cr.z)}toNonIndexed(){function e(s,l){const c=s.array,g=s.itemSize,u=s.normalized,d=new c.constructor(l.length*g);let C=0,f=0;for(let b=0,A=l.length;b<A;b++){s.isInterleavedBufferAttribute?C=l[b]*s.data.stride+s.offset:C=l[b]*g;for(let p=0;p<g;p++)d[f++]=c[C++]}return new Xn(d,g,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dn,i=this.index.array,r=this.attributes;for(const s in r){const l=r[s],c=e(l,i);t.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let g=0,u=c.length;g<u;g++){const d=c[g],C=e(d,i);l.push(C)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],g=[];for(let u=0,d=c.length;u<d;u++){const C=c[u];g.push(C.toJSON(e.data))}g.length>0&&(r[l]=g,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const g=r[c];this.setAttribute(c,g.clone(t))}const o=e.morphAttributes;for(const c in o){const g=[],u=o[c];for(let d=0,C=u.length;d<C;d++)g.push(u[d].clone(t));this.morphAttributes[c]=g}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,g=a.length;c<g;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const IS=new vt,Vg=new n1,Bm=new Mr,CS=new k,xm=new k,Gm=new k,wm=new k,I4=new k,Sm=new k,hS=new k,Zm=new k;class pi extends Sn{constructor(e=new dn,t=new Qr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const s=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(o&&s){Sm.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const g=s[l],u=o[l];g!==0&&(I4.fromBufferAttribute(u,e),a?Sm.addScaledVector(I4,g):Sm.addScaledVector(I4.sub(t),g))}t.add(Sm)}return t}raycast(e,t){const i=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Bm.copy(i.boundingSphere),Bm.applyMatrix4(o),Vg.copy(e.ray).recast(e.near),!(Bm.containsPoint(Vg.origin)===!1&&(Vg.intersectSphere(Bm,CS)===null||Vg.origin.distanceToSquared(CS)>(e.far-e.near)**2))&&(IS.copy(o).invert(),Vg.copy(e.ray).applyMatrix4(IS),!(i.boundingBox!==null&&Vg.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Vg)))}_computeIntersections(e,t,i){let r;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,g=o.attributes.uv1,u=o.attributes.normal,d=o.groups,C=o.drawRange;if(s!==null)if(Array.isArray(a))for(let f=0,b=d.length;f<b;f++){const A=d[f],p=a[A.materialIndex],y=Math.max(A.start,C.start),B=Math.min(s.count,Math.min(A.start+A.count,C.start+C.count));for(let x=y,w=B;x<w;x+=3){const S=s.getX(x),Z=s.getX(x+1),M=s.getX(x+2);r=qm(this,p,e,i,c,g,u,S,Z,M),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const f=Math.max(0,C.start),b=Math.min(s.count,C.start+C.count);for(let A=f,p=b;A<p;A+=3){const y=s.getX(A),B=s.getX(A+1),x=s.getX(A+2);r=qm(this,a,e,i,c,g,u,y,B,x),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let f=0,b=d.length;f<b;f++){const A=d[f],p=a[A.materialIndex],y=Math.max(A.start,C.start),B=Math.min(l.count,Math.min(A.start+A.count,C.start+C.count));for(let x=y,w=B;x<w;x+=3){const S=x,Z=x+1,M=x+2;r=qm(this,p,e,i,c,g,u,S,Z,M),r&&(r.faceIndex=Math.floor(x/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const f=Math.max(0,C.start),b=Math.min(l.count,C.start+C.count);for(let A=f,p=b;A<p;A+=3){const y=A,B=A+1,x=A+2;r=qm(this,a,e,i,c,g,u,y,B,x),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function wD(n,e,t,i,r,o,a,s){let l;if(e.side===ki?l=i.intersectTriangle(a,o,r,!0,s):l=i.intersectTriangle(r,o,a,e.side===ol,s),l===null)return null;Zm.copy(s),Zm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Zm);return c<t.near||c>t.far?null:{distance:c,point:Zm.clone(),object:n}}function qm(n,e,t,i,r,o,a,s,l,c){n.getVertexPosition(s,xm),n.getVertexPosition(l,Gm),n.getVertexPosition(c,wm);const g=wD(n,e,t,i,xm,Gm,wm,hS);if(g){const u=new k;Ho.getBarycoord(hS,xm,Gm,wm,u),r&&(g.uv=Ho.getInterpolatedAttribute(r,s,l,c,u,new et)),o&&(g.uv1=Ho.getInterpolatedAttribute(o,s,l,c,u,new et)),a&&(g.normal=Ho.getInterpolatedAttribute(a,s,l,c,u,new k),g.normal.dot(i.direction)>0&&g.normal.multiplyScalar(-1));const d={a:s,b:l,c,normal:new k,materialIndex:0};Ho.getNormal(xm,Gm,wm,d.normal),g.face=d,g.barycoord=u}return g}class i1 extends dn{constructor(e=1,t=1,i=1,r=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:o,depthSegments:a};const s=this;r=Math.floor(r),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],g=[],u=[];let d=0,C=0;f("z","y","x",-1,-1,i,t,e,a,o,0),f("z","y","x",1,-1,i,t,-e,a,o,1),f("x","z","y",1,1,e,i,t,r,a,2),f("x","z","y",1,-1,e,i,-t,r,a,3),f("x","y","z",1,-1,e,t,i,r,o,4),f("x","y","z",-1,-1,e,t,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new $t(c,3)),this.setAttribute("normal",new $t(g,3)),this.setAttribute("uv",new $t(u,2));function f(b,A,p,y,B,x,w,S,Z,M,q){const _=x/Z,V=w/M,Y=x/2,X=w/2,K=S/2,Q=Z+1,z=M+1;let D=0,N=0;const L=new k;for(let P=0;P<z;P++){const O=P*V-X;for(let ie=0;ie<Q;ie++){const ge=ie*_-Y;L[b]=ge*y,L[A]=O*B,L[p]=K,c.push(L.x,L.y,L.z),L[b]=0,L[A]=0,L[p]=S>0?1:-1,g.push(L.x,L.y,L.z),u.push(ie/Z),u.push(1-P/M),D+=1}}for(let P=0;P<M;P++)for(let O=0;O<Z;O++){const ie=d+O+Q*P,ge=d+O+Q*(P+1),J=d+(O+1)+Q*(P+1),Ce=d+(O+1)+Q*P;l.push(ie,ge,Ce),l.push(ge,J,Ce),N+=6}s.addGroup(C,N,q),C+=N,d+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function r0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function uo(n){const e={};for(let t=0;t<n.length;t++){const i=r0(n[t]);for(const r in i)e[r]=i[r]}return e}function SD(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function xN(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Wn.workingColorSpace}const GN={clone:r0,merge:uo};var ZD=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qD=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Do extends er{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ZD,this.fragmentShader=qD,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=r0(e.uniforms),this.uniformsGroups=SD(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Xh extends Sn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt,this.coordinateSystem=Os}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bc=new k,mS=new et,fS=new et;class mi extends Xh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=i0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Su*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return i0*2*Math.atan(Math.tan(Su*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){bc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(bc.x,bc.y).multiplyScalar(-e/bc.z),bc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(bc.x,bc.y).multiplyScalar(-e/bc.z)}getViewSize(e,t){return this.getViewBounds(e,mS,fS),t.subVectors(fS,mS)}setViewOffset(e,t,i,r,o,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Su*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,o=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*r/l,t-=a.offsetY*i/c,r*=a.width/l,i*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const X1=-90,z1=1;class o7 extends Sn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new mi(X1,z1,e,t);r.layers=this.layers,this.add(r);const o=new mi(X1,z1,e,t);o.layers=this.layers,this.add(o);const a=new mi(X1,z1,e,t);a.layers=this.layers,this.add(a);const s=new mi(X1,z1,e,t);s.layers=this.layers,this.add(s);const l=new mi(X1,z1,e,t);l.layers=this.layers,this.add(l);const c=new mi(X1,z1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,o,a,s,l]=t;for(const c of t)this.remove(c);if(e===Os)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===OC)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,g]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),C=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const b=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,o),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,s),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=b,e.setRenderTarget(i,5,r),e.render(t,g),e.setRenderTarget(u,d,C),e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class zh extends Ln{constructor(e,t,i,r,o,a,s,l,c,g){e=e!==void 0?e:[],t=t!==void 0?t:al,super(e,t,i,r,o,a,s,l,c,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class AA extends ha{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new zh(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Tn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new i1(5,5,5),o=new Do({name:"CubemapFromEquirect",uniforms:r0(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ki,blending:el});o.uniforms.tEquirect.value=t;const a=new pi(r,o),s=t.minFilter;return t.minFilter===Ka&&(t.minFilter=Tn),new o7(1,10,this).update(e,a),t.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(o)}}const C4=new k,RD=new k,MD=new fn;class _l{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=C4.subVectors(i,t).cross(RD.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(C4),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:t.copy(e.start).addScaledVector(i,o)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||MD.getNormalMatrix(e),r=this.coplanarPoint(C4).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ng=new Mr,Rm=new k;class Yh{constructor(e=new _l,t=new _l,i=new _l,r=new _l,o=new _l,a=new _l){this.planes=[e,t,i,r,o,a]}set(e,t,i,r,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(i),s[3].copy(r),s[4].copy(o),s[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Os){const i=this.planes,r=e.elements,o=r[0],a=r[1],s=r[2],l=r[3],c=r[4],g=r[5],u=r[6],d=r[7],C=r[8],f=r[9],b=r[10],A=r[11],p=r[12],y=r[13],B=r[14],x=r[15];if(i[0].setComponents(l-o,d-c,A-C,x-p).normalize(),i[1].setComponents(l+o,d+c,A+C,x+p).normalize(),i[2].setComponents(l+a,d+g,A+f,x+y).normalize(),i[3].setComponents(l-a,d-g,A-f,x-y).normalize(),i[4].setComponents(l-s,d-u,A-b,x-B).normalize(),t===Os)i[5].setComponents(l+s,d+u,A+b,x+B).normalize();else if(t===OC)i[5].setComponents(s,u,b,B).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ng.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Ng.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ng)}intersectsSprite(e){return Ng.center.set(0,0,0),Ng.radius=.7071067811865476,Ng.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ng)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Rm.x=r.normal.x>0?e.max.x:e.min.x,Rm.y=r.normal.y>0?e.max.y:e.min.y,Rm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Rm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wN(){let n=null,e=!1,t=null,i=null;function r(o,a){t(o,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function _D(n){const e=new WeakMap;function t(s,l){const c=s.array,g=s.usage,u=c.byteLength,d=n.createBuffer();n.bindBuffer(l,d),n.bufferData(l,c,g),s.onUploadCallback();let C;if(c instanceof Float32Array)C=n.FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?C=n.HALF_FLOAT:C=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)C=n.SHORT;else if(c instanceof Uint32Array)C=n.UNSIGNED_INT;else if(c instanceof Int32Array)C=n.INT;else if(c instanceof Int8Array)C=n.BYTE;else if(c instanceof Uint8Array)C=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)C=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:d,type:C,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:u}}function i(s,l,c){const g=l.array,u=l.updateRanges;if(n.bindBuffer(c,s),u.length===0)n.bufferSubData(c,0,g);else{u.sort((C,f)=>C.start-f.start);let d=0;for(let C=1;C<u.length;C++){const f=u[d],b=u[C];b.start<=f.start+f.count+1?f.count=Math.max(f.count,b.start+b.count-f.start):(++d,u[d]=b)}u.length=d+1;for(let C=0,f=u.length;C<f;C++){const b=u[C];n.bufferSubData(c,b.start*g.BYTES_PER_ELEMENT,g,b.start,b.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(n.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const g=e.get(s);(!g||g.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,t(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,s,l),c.version=s.version}}return{get:r,remove:o,update:a}}class hg extends dn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const o=e/2,a=t/2,s=Math.floor(i),l=Math.floor(r),c=s+1,g=l+1,u=e/s,d=t/l,C=[],f=[],b=[],A=[];for(let p=0;p<g;p++){const y=p*d-a;for(let B=0;B<c;B++){const x=B*u-o;f.push(x,-y,0),b.push(0,0,1),A.push(B/s),A.push(1-p/l)}}for(let p=0;p<l;p++)for(let y=0;y<s;y++){const B=y+c*p,x=y+c*(p+1),w=y+1+c*(p+1),S=y+1+c*p;C.push(B,x,S),C.push(x,w,S)}this.setIndex(C),this.setAttribute("position",new $t(f,3)),this.setAttribute("normal",new $t(b,3)),this.setAttribute("uv",new $t(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hg(e.width,e.height,e.widthSegments,e.heightSegments)}}var WD=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,VD=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ND=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,FD=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,HD=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,ED=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,XD=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,zD=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,YD=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,KD=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,LD=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,TD=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kD=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,PD=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,DD=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,UD=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,OD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,jD=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,JD=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,QD=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,$D=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,eU=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,tU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,nU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,iU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,rU=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,sU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,lU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,cU="gl_FragColor = linearToOutputTexel( gl_FragColor );",gU=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,uU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,IU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,AU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,bU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,vU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,BU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,GU=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,wU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,SU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,qU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,RU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,MU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_U=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,WU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,NU=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,FU=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,HU=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,EU=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,XU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,zU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,YU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,KU=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kU=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,PU=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,DU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UU=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,OU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,jU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,JU=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,QU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$U=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,eO=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,tO=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,nO=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,iO=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,rO=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,oO=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,aO=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,sO=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,lO=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,cO=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,gO=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uO=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,dO=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,IO=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,CO=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,hO=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mO=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,fO=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pO=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,AO=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,bO=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vO=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yO=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,BO=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,xO=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,GO=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wO=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,SO=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ZO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,RO=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,MO=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const _O=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WO=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NO=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,FO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,HO=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,XO=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,zO=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,YO=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,KO=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,LO=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TO=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kO=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PO=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,DO=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UO=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OO=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jO=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,JO=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QO=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,$O=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,ej=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ij=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,sj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,lj=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,bn={alphahash_fragment:WD,alphahash_pars_fragment:VD,alphamap_fragment:ND,alphamap_pars_fragment:FD,alphatest_fragment:HD,alphatest_pars_fragment:ED,aomap_fragment:XD,aomap_pars_fragment:zD,batching_pars_vertex:YD,batching_vertex:KD,begin_vertex:LD,beginnormal_vertex:TD,bsdfs:kD,iridescence_fragment:PD,bumpmap_pars_fragment:DD,clipping_planes_fragment:UD,clipping_planes_pars_fragment:OD,clipping_planes_pars_vertex:jD,clipping_planes_vertex:JD,color_fragment:QD,color_pars_fragment:$D,color_pars_vertex:eU,color_vertex:tU,common:nU,cube_uv_reflection_fragment:iU,defaultnormal_vertex:rU,displacementmap_pars_vertex:oU,displacementmap_vertex:aU,emissivemap_fragment:sU,emissivemap_pars_fragment:lU,colorspace_fragment:cU,colorspace_pars_fragment:gU,envmap_fragment:uU,envmap_common_pars_fragment:dU,envmap_pars_fragment:IU,envmap_pars_vertex:CU,envmap_physical_pars_fragment:GU,envmap_vertex:hU,fog_vertex:mU,fog_pars_vertex:fU,fog_fragment:pU,fog_pars_fragment:AU,gradientmap_pars_fragment:bU,lightmap_pars_fragment:vU,lights_lambert_fragment:yU,lights_lambert_pars_fragment:BU,lights_pars_begin:xU,lights_toon_fragment:wU,lights_toon_pars_fragment:SU,lights_phong_fragment:ZU,lights_phong_pars_fragment:qU,lights_physical_fragment:RU,lights_physical_pars_fragment:MU,lights_fragment_begin:_U,lights_fragment_maps:WU,lights_fragment_end:VU,logdepthbuf_fragment:NU,logdepthbuf_pars_fragment:FU,logdepthbuf_pars_vertex:HU,logdepthbuf_vertex:EU,map_fragment:XU,map_pars_fragment:zU,map_particle_fragment:YU,map_particle_pars_fragment:KU,metalnessmap_fragment:LU,metalnessmap_pars_fragment:TU,morphinstance_vertex:kU,morphcolor_vertex:PU,morphnormal_vertex:DU,morphtarget_pars_vertex:UU,morphtarget_vertex:OU,normal_fragment_begin:jU,normal_fragment_maps:JU,normal_pars_fragment:QU,normal_pars_vertex:$U,normal_vertex:eO,normalmap_pars_fragment:tO,clearcoat_normal_fragment_begin:nO,clearcoat_normal_fragment_maps:iO,clearcoat_pars_fragment:rO,iridescence_pars_fragment:oO,opaque_fragment:aO,packing:sO,premultiplied_alpha_fragment:lO,project_vertex:cO,dithering_fragment:gO,dithering_pars_fragment:uO,roughnessmap_fragment:dO,roughnessmap_pars_fragment:IO,shadowmap_pars_fragment:CO,shadowmap_pars_vertex:hO,shadowmap_vertex:mO,shadowmask_pars_fragment:fO,skinbase_vertex:pO,skinning_pars_vertex:AO,skinning_vertex:bO,skinnormal_vertex:vO,specularmap_fragment:yO,specularmap_pars_fragment:BO,tonemapping_fragment:xO,tonemapping_pars_fragment:GO,transmission_fragment:wO,transmission_pars_fragment:SO,uv_pars_fragment:ZO,uv_pars_vertex:qO,uv_vertex:RO,worldpos_vertex:MO,background_vert:_O,background_frag:WO,backgroundCube_vert:VO,backgroundCube_frag:NO,cube_vert:FO,cube_frag:HO,depth_vert:EO,depth_frag:XO,distanceRGBA_vert:zO,distanceRGBA_frag:YO,equirect_vert:KO,equirect_frag:LO,linedashed_vert:TO,linedashed_frag:kO,meshbasic_vert:PO,meshbasic_frag:DO,meshlambert_vert:UO,meshlambert_frag:OO,meshmatcap_vert:jO,meshmatcap_frag:JO,meshnormal_vert:QO,meshnormal_frag:$O,meshphong_vert:ej,meshphong_frag:tj,meshphysical_vert:nj,meshphysical_frag:ij,meshtoon_vert:rj,meshtoon_frag:oj,points_vert:aj,points_frag:sj,shadow_vert:lj,shadow_frag:cj,sprite_vert:gj,sprite_frag:uj},zt={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},As={basic:{uniforms:uo([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.fog]),vertexShader:bn.meshbasic_vert,fragmentShader:bn.meshbasic_frag},lambert:{uniforms:uo([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,zt.lights,{emissive:{value:new ke(0)}}]),vertexShader:bn.meshlambert_vert,fragmentShader:bn.meshlambert_frag},phong:{uniforms:uo([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,zt.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:bn.meshphong_vert,fragmentShader:bn.meshphong_frag},standard:{uniforms:uo([zt.common,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.roughnessmap,zt.metalnessmap,zt.fog,zt.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag},toon:{uniforms:uo([zt.common,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.gradientmap,zt.fog,zt.lights,{emissive:{value:new ke(0)}}]),vertexShader:bn.meshtoon_vert,fragmentShader:bn.meshtoon_frag},matcap:{uniforms:uo([zt.common,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,{matcap:{value:null}}]),vertexShader:bn.meshmatcap_vert,fragmentShader:bn.meshmatcap_frag},points:{uniforms:uo([zt.points,zt.fog]),vertexShader:bn.points_vert,fragmentShader:bn.points_frag},dashed:{uniforms:uo([zt.common,zt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bn.linedashed_vert,fragmentShader:bn.linedashed_frag},depth:{uniforms:uo([zt.common,zt.displacementmap]),vertexShader:bn.depth_vert,fragmentShader:bn.depth_frag},normal:{uniforms:uo([zt.common,zt.bumpmap,zt.normalmap,zt.displacementmap,{opacity:{value:1}}]),vertexShader:bn.meshnormal_vert,fragmentShader:bn.meshnormal_frag},sprite:{uniforms:uo([zt.sprite,zt.fog]),vertexShader:bn.sprite_vert,fragmentShader:bn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:bn.background_vert,fragmentShader:bn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:bn.backgroundCube_vert,fragmentShader:bn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bn.cube_vert,fragmentShader:bn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bn.equirect_vert,fragmentShader:bn.equirect_frag},distanceRGBA:{uniforms:uo([zt.common,zt.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bn.distanceRGBA_vert,fragmentShader:bn.distanceRGBA_frag},shadow:{uniforms:uo([zt.lights,zt.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:bn.shadow_vert,fragmentShader:bn.shadow_frag}};As.physical={uniforms:uo([As.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new et(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new et},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new et},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:bn.meshphysical_vert,fragmentShader:bn.meshphysical_frag};const Mm={r:0,b:0,g:0},Fg=new rn,dj=new vt;function Ij(n,e,t,i,r,o,a){const s=new ke(0);let l=o===!0?0:1,c,g,u=null,d=0,C=null;function f(y){let B=y.isScene===!0?y.background:null;return B&&B.isTexture&&(B=(y.backgroundBlurriness>0?t:e).get(B)),B}function b(y){let B=!1;const x=f(y);x===null?p(s,l):x&&x.isColor&&(p(x,1),B=!0);const w=n.xr.getEnvironmentBlendMode();w==="additive"?i.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||B)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(y,B){const x=f(B);x&&(x.isCubeTexture||x.mapping===Z0)?(g===void 0&&(g=new pi(new i1(1,1,1),new Do({name:"BackgroundCubeMaterial",uniforms:r0(As.backgroundCube.uniforms),vertexShader:As.backgroundCube.vertexShader,fragmentShader:As.backgroundCube.fragmentShader,side:ki,depthTest:!1,depthWrite:!1,fog:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(w,S,Z){this.matrixWorld.copyPosition(Z.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(g)),Fg.copy(B.backgroundRotation),Fg.x*=-1,Fg.y*=-1,Fg.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(Fg.y*=-1,Fg.z*=-1),g.material.uniforms.envMap.value=x,g.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=B.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(dj.makeRotationFromEuler(Fg)),g.material.toneMapped=Wn.getTransfer(x.colorSpace)!==Un,(u!==x||d!==x.version||C!==n.toneMapping)&&(g.material.needsUpdate=!0,u=x,d=x.version,C=n.toneMapping),g.layers.enableAll(),y.unshift(g,g.geometry,g.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new pi(new hg(2,2),new Do({name:"BackgroundMaterial",uniforms:r0(As.background.uniforms),vertexShader:As.background.vertexShader,fragmentShader:As.background.fragmentShader,side:ol,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=B.backgroundIntensity,c.material.toneMapped=Wn.getTransfer(x.colorSpace)!==Un,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(u!==x||d!==x.version||C!==n.toneMapping)&&(c.material.needsUpdate=!0,u=x,d=x.version,C=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function p(y,B){y.getRGB(Mm,xN(n)),i.buffers.color.setClear(Mm.r,Mm.g,Mm.b,B,a)}return{getClearColor:function(){return s},setClearColor:function(y,B=1){s.set(y),l=B,p(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,p(s,l)},render:b,addToRenderList:A}}function Cj(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=d(null);let o=r,a=!1;function s(_,V,Y,X,K){let Q=!1;const z=u(X,Y,V);o!==z&&(o=z,c(o.object)),Q=C(_,X,Y,K),Q&&f(_,X,Y,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(Q||a)&&(a=!1,x(_,V,Y,X),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return n.createVertexArray()}function c(_){return n.bindVertexArray(_)}function g(_){return n.deleteVertexArray(_)}function u(_,V,Y){const X=Y.wireframe===!0;let K=i[_.id];K===void 0&&(K={},i[_.id]=K);let Q=K[V.id];Q===void 0&&(Q={},K[V.id]=Q);let z=Q[X];return z===void 0&&(z=d(l()),Q[X]=z),z}function d(_){const V=[],Y=[],X=[];for(let K=0;K<t;K++)V[K]=0,Y[K]=0,X[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:Y,attributeDivisors:X,object:_,attributes:{},index:null}}function C(_,V,Y,X){const K=o.attributes,Q=V.attributes;let z=0;const D=Y.getAttributes();for(const N in D)if(D[N].location>=0){const P=K[N];let O=Q[N];if(O===void 0&&(N==="instanceMatrix"&&_.instanceMatrix&&(O=_.instanceMatrix),N==="instanceColor"&&_.instanceColor&&(O=_.instanceColor)),P===void 0||P.attribute!==O||O&&P.data!==O.data)return!0;z++}return o.attributesNum!==z||o.index!==X}function f(_,V,Y,X){const K={},Q=V.attributes;let z=0;const D=Y.getAttributes();for(const N in D)if(D[N].location>=0){let P=Q[N];P===void 0&&(N==="instanceMatrix"&&_.instanceMatrix&&(P=_.instanceMatrix),N==="instanceColor"&&_.instanceColor&&(P=_.instanceColor));const O={};O.attribute=P,P&&P.data&&(O.data=P.data),K[N]=O,z++}o.attributes=K,o.attributesNum=z,o.index=X}function b(){const _=o.newAttributes;for(let V=0,Y=_.length;V<Y;V++)_[V]=0}function A(_){p(_,0)}function p(_,V){const Y=o.newAttributes,X=o.enabledAttributes,K=o.attributeDivisors;Y[_]=1,X[_]===0&&(n.enableVertexAttribArray(_),X[_]=1),K[_]!==V&&(n.vertexAttribDivisor(_,V),K[_]=V)}function y(){const _=o.newAttributes,V=o.enabledAttributes;for(let Y=0,X=V.length;Y<X;Y++)V[Y]!==_[Y]&&(n.disableVertexAttribArray(Y),V[Y]=0)}function B(_,V,Y,X,K,Q,z){z===!0?n.vertexAttribIPointer(_,V,Y,K,Q):n.vertexAttribPointer(_,V,Y,X,K,Q)}function x(_,V,Y,X){b();const K=X.attributes,Q=Y.getAttributes(),z=V.defaultAttributeValues;for(const D in Q){const N=Q[D];if(N.location>=0){let L=K[D];if(L===void 0&&(D==="instanceMatrix"&&_.instanceMatrix&&(L=_.instanceMatrix),D==="instanceColor"&&_.instanceColor&&(L=_.instanceColor)),L!==void 0){const P=L.normalized,O=L.itemSize,ie=e.get(L);if(ie===void 0)continue;const ge=ie.buffer,J=ie.type,Ce=ie.bytesPerElement,ve=J===n.INT||J===n.UNSIGNED_INT||L.gpuType===Nh;if(L.isInterleavedBufferAttribute){const Ae=L.data,Xe=Ae.stride,Le=L.offset;if(Ae.isInstancedInterleavedBuffer){for(let Ee=0;Ee<N.locationSize;Ee++)p(N.location+Ee,Ae.meshPerAttribute);_.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Ee=0;Ee<N.locationSize;Ee++)A(N.location+Ee);n.bindBuffer(n.ARRAY_BUFFER,ge);for(let Ee=0;Ee<N.locationSize;Ee++)B(N.location+Ee,O/N.locationSize,J,P,Xe*Ce,(Le+O/N.locationSize*Ee)*Ce,ve)}else{if(L.isInstancedBufferAttribute){for(let Ae=0;Ae<N.locationSize;Ae++)p(N.location+Ae,L.meshPerAttribute);_.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=L.meshPerAttribute*L.count)}else for(let Ae=0;Ae<N.locationSize;Ae++)A(N.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,ge);for(let Ae=0;Ae<N.locationSize;Ae++)B(N.location+Ae,O/N.locationSize,J,P,O*Ce,O/N.locationSize*Ae*Ce,ve)}}else if(z!==void 0){const P=z[D];if(P!==void 0)switch(P.length){case 2:n.vertexAttrib2fv(N.location,P);break;case 3:n.vertexAttrib3fv(N.location,P);break;case 4:n.vertexAttrib4fv(N.location,P);break;default:n.vertexAttrib1fv(N.location,P)}}}}y()}function w(){M();for(const _ in i){const V=i[_];for(const Y in V){const X=V[Y];for(const K in X)g(X[K].object),delete X[K];delete V[Y]}delete i[_]}}function S(_){if(i[_.id]===void 0)return;const V=i[_.id];for(const Y in V){const X=V[Y];for(const K in X)g(X[K].object),delete X[K];delete V[Y]}delete i[_.id]}function Z(_){for(const V in i){const Y=i[V];if(Y[_.id]===void 0)continue;const X=Y[_.id];for(const K in X)g(X[K].object),delete X[K];delete Y[_.id]}}function M(){q(),a=!0,o!==r&&(o=r,c(o.object))}function q(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:s,reset:M,resetDefaultState:q,dispose:w,releaseStatesOfGeometry:S,releaseStatesOfProgram:Z,initAttributes:b,enableAttribute:A,disableUnusedAttributes:y}}function hj(n,e,t){let i;function r(c){i=c}function o(c,g){n.drawArrays(i,c,g),t.update(g,i,1)}function a(c,g,u){u!==0&&(n.drawArraysInstanced(i,c,g,u),t.update(g,i,u))}function s(c,g,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,g,0,u);let C=0;for(let f=0;f<u;f++)C+=g[f];t.update(C,i,1)}function l(c,g,u,d){if(u===0)return;const C=e.get("WEBGL_multi_draw");if(C===null)for(let f=0;f<c.length;f++)a(c[f],g[f],d[f]);else{C.multiDrawArraysInstancedWEBGL(i,c,0,g,0,d,0,u);let f=0;for(let b=0;b<u;b++)f+=g[b]*d[b];t.update(f,i,1)}}this.setMode=r,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function mj(n,e,t,i){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const Z=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(Z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(Z){return!(Z!==Li&&i.convert(Z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(Z){const M=Z===pr&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Z!==Po&&i.convert(Z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&Z!==wi&&!M)}function l(Z){if(Z==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";Z="mediump"}return Z==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const g=l(c);g!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",g,"instead."),c=g);const u=t.logarithmicDepthBuffer===!0,d=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),C=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),p=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),B=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=f>0,S=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:u,reverseDepthBuffer:d,maxTextures:C,maxVertexTextures:f,maxTextureSize:b,maxCubemapSize:A,maxAttributes:p,maxVertexUniforms:y,maxVaryings:B,maxFragmentUniforms:x,vertexTextures:w,maxSamples:S}}function fj(n){const e=this;let t=null,i=0,r=!1,o=!1;const a=new _l,s=new fn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,d){const C=u.length!==0||d||i!==0||r;return r=d,i=u.length,C},this.beginShadows=function(){o=!0,g(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,d){t=g(u,d,0)},this.setState=function(u,d,C){const f=u.clippingPlanes,b=u.clipIntersection,A=u.clipShadows,p=n.get(u);if(!r||f===null||f.length===0||o&&!A)o?g(null):c();else{const y=o?0:i,B=y*4;let x=p.clippingState||null;l.value=x,x=g(f,d,B,C);for(let w=0;w!==B;++w)x[w]=t[w];p.clippingState=x,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function g(u,d,C,f){const b=u!==null?u.length:0;let A=null;if(b!==0){if(A=l.value,f!==!0||A===null){const p=C+b*4,y=d.matrixWorldInverse;s.getNormalMatrix(y),(A===null||A.length<p)&&(A=new Float32Array(p));for(let B=0,x=C;B!==b;++B,x+=4)a.copy(u[B]).applyMatrix4(y,s),a.normal.toArray(A,x),A[x+3]=a.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,A}}function pj(n){let e=new WeakMap;function t(a,s){return s===Qd?a.mapping=al:s===PC&&(a.mapping=ag),a}function i(a){if(a&&a.isTexture){const s=a.mapping;if(s===Qd||s===PC)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new AA(l.height);return c.fromEquirectangularTexture(n,a),e.set(a,c),a.addEventListener("dispose",r),t(c.texture,a.mapping)}else return null}}return a}function r(a){const s=a.target;s.removeEventListener("dispose",r);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}class Pa extends Xh{constructor(e=-1,t=1,i=1,r=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,a=i+e,s=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=g*this.view.offsetY,l=s-g*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const bd=4,pS=[.125,.215,.35,.446,.526,.582],nu=20,h4=new Pa,AS=new ke;let m4=null,f4=0,p4=0,A4=!1;const eu=(1+Math.sqrt(5))/2,Y1=1/eu,bS=[new k(-eu,Y1,0),new k(eu,Y1,0),new k(-Y1,0,eu),new k(Y1,0,eu),new k(0,eu,-Y1),new k(0,eu,Y1),new k(-1,1,-1),new k(1,1,-1),new k(-1,1,1),new k(1,1,1)];class i8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){m4=this._renderer.getRenderTarget(),f4=this._renderer.getActiveCubeFace(),p4=this._renderer.getActiveMipmapLevel(),A4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,i,r,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yS(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(m4,f4,p4),this._renderer.xr.enabled=A4,e.scissorTest=!1,_m(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===al||e.mapping===ag?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),m4=this._renderer.getRenderTarget(),f4=this._renderer.getActiveCubeFace(),p4=this._renderer.getActiveMipmapLevel(),A4=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Tn,minFilter:Tn,generateMipmaps:!1,type:pr,format:Li,colorSpace:ll,depthBuffer:!1},r=vS(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=vS(e,t,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Aj(o)),this._blurMaterial=bj(o,e,t)}return r}_compileMaterial(e){const t=new pi(this._lodPlanes[0],e);this._renderer.compile(t,h4)}_sceneToCubeUV(e,t,i,r){const s=new mi(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],g=this._renderer,u=g.autoClear,d=g.toneMapping;g.getClearColor(AS),g.toneMapping=tl,g.autoClear=!1;const C=new Qr({name:"PMREM.Background",side:ki,depthWrite:!1,depthTest:!1}),f=new pi(new i1,C);let b=!1;const A=e.background;A?A.isColor&&(C.color.copy(A),e.background=null,b=!0):(C.color.copy(AS),b=!0);for(let p=0;p<6;p++){const y=p%3;y===0?(s.up.set(0,l[p],0),s.lookAt(c[p],0,0)):y===1?(s.up.set(0,0,l[p]),s.lookAt(0,c[p],0)):(s.up.set(0,l[p],0),s.lookAt(0,0,c[p]));const B=this._cubeSize;_m(r,y*B,p>2?B:0,B,B),g.setRenderTarget(r),b&&g.render(f,s),g.render(e,s)}f.geometry.dispose(),f.material.dispose(),g.toneMapping=d,g.autoClear=u,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===al||e.mapping===ag;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=BS()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yS());const o=r?this._cubemapMaterial:this._equirectMaterial,a=new pi(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;_m(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,h4)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let o=1;o<r;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=bS[(r-o-1)%bS.length];this._blur(e,o-1,o,a,s)}t.autoClear=i}_blur(e,t,i,r,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",o),this._halfBlur(a,e,i,i,r,"longitudinal",o)}_halfBlur(e,t,i,r,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const g=3,u=new pi(this._lodPlanes[r],c),d=c.uniforms,C=this._sizeLods[i]-1,f=isFinite(o)?Math.PI/(2*C):2*Math.PI/(2*nu-1),b=o/f,A=isFinite(o)?1+Math.floor(g*b):nu;A>nu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${nu}`);const p=[];let y=0;for(let Z=0;Z<nu;++Z){const M=Z/b,q=Math.exp(-M*M/2);p.push(q),Z===0?y+=q:Z<A&&(y+=2*q)}for(let Z=0;Z<p.length;Z++)p[Z]=p[Z]/y;d.envMap.value=e.texture,d.samples.value=A,d.weights.value=p,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:B}=this;d.dTheta.value=f,d.mipInt.value=B-i;const x=this._sizeLods[r],w=3*x*(r>B-bd?r-B+bd:0),S=4*(this._cubeSize-x);_m(t,w,S,3*x,2*x),l.setRenderTarget(t),l.render(u,h4)}}function Aj(n){const e=[],t=[],i=[];let r=n;const o=n-bd+1+pS.length;for(let a=0;a<o;a++){const s=Math.pow(2,r);t.push(s);let l=1/s;a>n-bd?l=pS[a-n+bd-1]:a===0&&(l=0),i.push(l);const c=1/(s-2),g=-c,u=1+c,d=[g,g,u,g,u,u,g,g,u,u,g,u],C=6,f=6,b=3,A=2,p=1,y=new Float32Array(b*f*C),B=new Float32Array(A*f*C),x=new Float32Array(p*f*C);for(let S=0;S<C;S++){const Z=S%3*2/3-1,M=S>2?0:-1,q=[Z,M,0,Z+2/3,M,0,Z+2/3,M+1,0,Z,M,0,Z+2/3,M+1,0,Z,M+1,0];y.set(q,b*f*S),B.set(d,A*f*S);const _=[S,S,S,S,S,S];x.set(_,p*f*S)}const w=new dn;w.setAttribute("position",new Xn(y,b)),w.setAttribute("uv",new Xn(B,A)),w.setAttribute("faceIndex",new Xn(x,p)),e.push(w),r>bd&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function vS(n,e,t){const i=new ha(n,e,t);return i.texture.mapping=Z0,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function _m(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function bj(n,e,t){const i=new Float32Array(nu),r=new k(0,1,0);return new Do({name:"SphericalGaussianBlur",defines:{n:nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:a7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:el,depthTest:!1,depthWrite:!1})}function yS(){return new Do({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:a7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:el,depthTest:!1,depthWrite:!1})}function BS(){return new Do({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:a7(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:el,depthTest:!1,depthWrite:!1})}function a7(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function vj(n){let e=new WeakMap,t=null;function i(s){if(s&&s.isTexture){const l=s.mapping,c=l===Qd||l===PC,g=l===al||l===ag;if(c||g){let u=e.get(s);const d=u!==void 0?u.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==d)return t===null&&(t=new i8(n)),u=c?t.fromEquirectangular(s,u):t.fromCubemap(s,u),u.texture.pmremVersion=s.pmremVersion,e.set(s,u),u.texture;if(u!==void 0)return u.texture;{const C=s.image;return c&&C&&C.height>0||g&&C&&r(C)?(t===null&&(t=new i8(n)),u=c?t.fromEquirectangular(s):t.fromCubemap(s),u.texture.pmremVersion=s.pmremVersion,e.set(s,u),s.addEventListener("dispose",o),u.texture):null}}}return s}function r(s){let l=0;const c=6;for(let g=0;g<c;g++)s[g]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function yj(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&DI("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Bj(n,e,t,i){const r={},o=new WeakMap;function a(u){const d=u.target;d.index!==null&&e.remove(d.index);for(const f in d.attributes)e.remove(d.attributes[f]);for(const f in d.morphAttributes){const b=d.morphAttributes[f];for(let A=0,p=b.length;A<p;A++)e.remove(b[A])}d.removeEventListener("dispose",a),delete r[d.id];const C=o.get(d);C&&(e.remove(C),o.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function s(u,d){return r[d.id]===!0||(d.addEventListener("dispose",a),r[d.id]=!0,t.memory.geometries++),d}function l(u){const d=u.attributes;for(const f in d)e.update(d[f],n.ARRAY_BUFFER);const C=u.morphAttributes;for(const f in C){const b=C[f];for(let A=0,p=b.length;A<p;A++)e.update(b[A],n.ARRAY_BUFFER)}}function c(u){const d=[],C=u.index,f=u.attributes.position;let b=0;if(C!==null){const y=C.array;b=C.version;for(let B=0,x=y.length;B<x;B+=3){const w=y[B+0],S=y[B+1],Z=y[B+2];d.push(w,S,S,Z,Z,w)}}else if(f!==void 0){const y=f.array;b=f.version;for(let B=0,x=y.length/3-1;B<x;B+=3){const w=B+0,S=B+1,Z=B+2;d.push(w,S,S,Z,Z,w)}}else return;const A=new(AN(d)?r7:i7)(d,1);A.version=b;const p=o.get(u);p&&e.remove(p),o.set(u,A)}function g(u){const d=o.get(u);if(d){const C=u.index;C!==null&&d.version<C.version&&c(u)}else c(u);return o.get(u)}return{get:s,update:l,getWireframeAttribute:g}}function xj(n,e,t){let i;function r(d){i=d}let o,a;function s(d){o=d.type,a=d.bytesPerElement}function l(d,C){n.drawElements(i,C,o,d*a),t.update(C,i,1)}function c(d,C,f){f!==0&&(n.drawElementsInstanced(i,C,o,d*a,f),t.update(C,i,f))}function g(d,C,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,C,0,o,d,0,f);let A=0;for(let p=0;p<f;p++)A+=C[p];t.update(A,i,1)}function u(d,C,f,b){if(f===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let p=0;p<d.length;p++)c(d[p]/a,C[p],b[p]);else{A.multiDrawElementsInstancedWEBGL(i,C,0,o,d,0,b,0,f);let p=0;for(let y=0;y<f;y++)p+=C[y]*b[y];t.update(p,i,1)}}this.setMode=r,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=g,this.renderMultiDrawInstances=u}function Gj(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,a,s){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=s*(o/3);break;case n.LINES:t.lines+=s*(o/2);break;case n.LINE_STRIP:t.lines+=s*(o-1);break;case n.LINE_LOOP:t.lines+=s*o;break;case n.POINTS:t.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function wj(n,e,t){const i=new WeakMap,r=new Hn;function o(a,s,l){const c=a.morphTargetInfluences,g=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=g!==void 0?g.length:0;let d=i.get(s);if(d===void 0||d.count!==u){let _=function(){M.dispose(),i.delete(s),s.removeEventListener("dispose",_)};var C=_;d!==void 0&&d.texture.dispose();const f=s.morphAttributes.position!==void 0,b=s.morphAttributes.normal!==void 0,A=s.morphAttributes.color!==void 0,p=s.morphAttributes.position||[],y=s.morphAttributes.normal||[],B=s.morphAttributes.color||[];let x=0;f===!0&&(x=1),b===!0&&(x=2),A===!0&&(x=3);let w=s.attributes.position.count*x,S=1;w>e.maxTextureSize&&(S=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const Z=new Float32Array(w*S*4*u),M=new pA(Z,w,S,u);M.type=wi,M.needsUpdate=!0;const q=x*4;for(let V=0;V<u;V++){const Y=p[V],X=y[V],K=B[V],Q=w*S*4*V;for(let z=0;z<Y.count;z++){const D=z*q;f===!0&&(r.fromBufferAttribute(Y,z),Z[Q+D+0]=r.x,Z[Q+D+1]=r.y,Z[Q+D+2]=r.z,Z[Q+D+3]=0),b===!0&&(r.fromBufferAttribute(X,z),Z[Q+D+4]=r.x,Z[Q+D+5]=r.y,Z[Q+D+6]=r.z,Z[Q+D+7]=0),A===!0&&(r.fromBufferAttribute(K,z),Z[Q+D+8]=r.x,Z[Q+D+9]=r.y,Z[Q+D+10]=r.z,Z[Q+D+11]=K.itemSize===4?r.w:1)}}d={count:u,texture:M,size:new et(w,S)},i.set(s,d),s.addEventListener("dispose",_)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let f=0;for(let A=0;A<c.length;A++)f+=c[A];const b=s.morphTargetsRelative?1:1-f;l.getUniforms().setValue(n,"morphTargetBaseInfluence",b),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",d.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",d.size)}return{update:o}}function Sj(n,e,t,i){let r=new WeakMap;function o(l){const c=i.render.frame,g=l.geometry,u=e.get(l,g);if(r.get(u)!==c&&(e.update(u),r.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;r.get(d)!==c&&(d.update(),r.set(d,c))}return u}function a(){r=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:a}}class s7 extends Ln{constructor(e,t,i,r,o,a,s,l,c,g=wu){if(g!==wu&&g!==Lu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&g===wu&&(i=sl),i===void 0&&g===Lu&&(i=Ku),super(null,r,o,a,s,l,g,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=s!==void 0?s:br,this.minFilter=l!==void 0?l:br,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const SN=new Ln,xS=new s7(1,1),ZN=new pA,qN=new n7,RN=new zh,GS=[],wS=[],SS=new Float32Array(16),ZS=new Float32Array(9),qS=new Float32Array(4);function q0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let o=GS[r];if(o===void 0&&(o=new Float32Array(r),GS[r]=o),e!==0){i.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=t,n[a].toArray(o,s)}return o}function cr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function gr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function bA(n,e){let t=wS[e];t===void 0&&(t=new Int32Array(e),wS[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Zj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function qj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2fv(this.addr,e),gr(t,e)}}function Rj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(cr(t,e))return;n.uniform3fv(this.addr,e),gr(t,e)}}function Mj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4fv(this.addr,e),gr(t,e)}}function _j(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),gr(t,e)}else{if(cr(t,i))return;qS.set(i),n.uniformMatrix2fv(this.addr,!1,qS),gr(t,i)}}function Wj(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),gr(t,e)}else{if(cr(t,i))return;ZS.set(i),n.uniformMatrix3fv(this.addr,!1,ZS),gr(t,i)}}function Vj(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(cr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),gr(t,e)}else{if(cr(t,i))return;SS.set(i),n.uniformMatrix4fv(this.addr,!1,SS),gr(t,i)}}function Nj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Fj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2iv(this.addr,e),gr(t,e)}}function Hj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(cr(t,e))return;n.uniform3iv(this.addr,e),gr(t,e)}}function Ej(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4iv(this.addr,e),gr(t,e)}}function Xj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function zj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(cr(t,e))return;n.uniform2uiv(this.addr,e),gr(t,e)}}function Yj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(cr(t,e))return;n.uniform3uiv(this.addr,e),gr(t,e)}}function Kj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(cr(t,e))return;n.uniform4uiv(this.addr,e),gr(t,e)}}function Lj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let o;this.type===n.SAMPLER_2D_SHADOW?(xS.compareFunction=e7,o=xS):o=SN,t.setTexture2D(e||o,r)}function Tj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||qN,r)}function kj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||RN,r)}function Pj(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||ZN,r)}function Dj(n){switch(n){case 5126:return Zj;case 35664:return qj;case 35665:return Rj;case 35666:return Mj;case 35674:return _j;case 35675:return Wj;case 35676:return Vj;case 5124:case 35670:return Nj;case 35667:case 35671:return Fj;case 35668:case 35672:return Hj;case 35669:case 35673:return Ej;case 5125:return Xj;case 36294:return zj;case 36295:return Yj;case 36296:return Kj;case 35678:case 36198:case 36298:case 36306:case 35682:return Lj;case 35679:case 36299:case 36307:return Tj;case 35680:case 36300:case 36308:case 36293:return kj;case 36289:case 36303:case 36311:case 36292:return Pj}}function Uj(n,e){n.uniform1fv(this.addr,e)}function Oj(n,e){const t=q0(e,this.size,2);n.uniform2fv(this.addr,t)}function jj(n,e){const t=q0(e,this.size,3);n.uniform3fv(this.addr,t)}function Jj(n,e){const t=q0(e,this.size,4);n.uniform4fv(this.addr,t)}function Qj(n,e){const t=q0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function $j(n,e){const t=q0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function eJ(n,e){const t=q0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function tJ(n,e){n.uniform1iv(this.addr,e)}function nJ(n,e){n.uniform2iv(this.addr,e)}function iJ(n,e){n.uniform3iv(this.addr,e)}function rJ(n,e){n.uniform4iv(this.addr,e)}function oJ(n,e){n.uniform1uiv(this.addr,e)}function aJ(n,e){n.uniform2uiv(this.addr,e)}function sJ(n,e){n.uniform3uiv(this.addr,e)}function lJ(n,e){n.uniform4uiv(this.addr,e)}function cJ(n,e,t){const i=this.cache,r=e.length,o=bA(t,r);cr(i,o)||(n.uniform1iv(this.addr,o),gr(i,o));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||SN,o[a])}function gJ(n,e,t){const i=this.cache,r=e.length,o=bA(t,r);cr(i,o)||(n.uniform1iv(this.addr,o),gr(i,o));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||qN,o[a])}function uJ(n,e,t){const i=this.cache,r=e.length,o=bA(t,r);cr(i,o)||(n.uniform1iv(this.addr,o),gr(i,o));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||RN,o[a])}function dJ(n,e,t){const i=this.cache,r=e.length,o=bA(t,r);cr(i,o)||(n.uniform1iv(this.addr,o),gr(i,o));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||ZN,o[a])}function IJ(n){switch(n){case 5126:return Uj;case 35664:return Oj;case 35665:return jj;case 35666:return Jj;case 35674:return Qj;case 35675:return $j;case 35676:return eJ;case 5124:case 35670:return tJ;case 35667:case 35671:return nJ;case 35668:case 35672:return iJ;case 35669:case 35673:return rJ;case 5125:return oJ;case 36294:return aJ;case 36295:return sJ;case 36296:return lJ;case 35678:case 36198:case 36298:case 36306:case 35682:return cJ;case 35679:case 36299:case 36307:return gJ;case 35680:case 36300:case 36308:case 36293:return uJ;case 36289:case 36303:case 36311:case 36292:return dJ}}class CJ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Dj(t.type)}}class hJ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=IJ(t.type)}}class mJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let o=0,a=r.length;o!==a;++o){const s=r[o];s.setValue(e,t[s.id],i)}}}const b4=/(\w+)(\])?(\[|\.)?/g;function RS(n,e){n.seq.push(e),n.map[e.id]=e}function fJ(n,e,t){const i=n.name,r=i.length;for(b4.lastIndex=0;;){const o=b4.exec(i),a=b4.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===r){RS(t,c===void 0?new CJ(s,n,e):new hJ(s,n,e));break}else{let u=t.map[s];u===void 0&&(u=new mJ(s),RS(t,u)),t=u}}}class Df{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const o=e.getActiveUniform(t,r),a=e.getUniformLocation(t,o.name);fJ(o,a,this)}}setValue(e,t,i,r){const o=this.map[t];o!==void 0&&o.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let o=0,a=t.length;o!==a;++o){const s=t[o],l=i[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,o=e.length;r!==o;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function MS(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const pJ=37297;let AJ=0;function bJ(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),o=Math.min(e+6,t.length);for(let a=r;a<o;a++){const s=a+1;i.push(`${s===e?">":" "} ${s}: ${t[a]}`)}return i.join(`
`)}const _S=new fn;function vJ(n){Wn._getMatrix(_S,Wn.workingColorSpace,n);const e=`mat3( ${_S.elements.map(t=>t.toFixed(4))} )`;switch(Wn.getTransfer(n)){case Eh:return[e,"LinearTransferOETF"];case Un:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function WS(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const a=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+bJ(n.getShaderSource(e),a)}else return r}function yJ(n,e){const t=vJ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function BJ(n,e){let t;switch(e){case jV:t="Linear";break;case JV:t="Reinhard";break;case QV:t="Cineon";break;case cA:t="ACESFilmic";break;case eN:t="AgX";break;case tN:t="Neutral";break;case $V:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Wm=new k;function xJ(){Wn.getLuminanceCoefficients(Wm);const n=Wm.x.toFixed(4),e=Wm.y.toFixed(4),t=Wm.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function GJ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(OI).join(`
`)}function wJ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function SJ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const o=n.getActiveAttrib(e,r),a=o.name;let s=1;o.type===n.FLOAT_MAT2&&(s=2),o.type===n.FLOAT_MAT3&&(s=3),o.type===n.FLOAT_MAT4&&(s=4),t[a]={type:o.type,location:n.getAttribLocation(e,a),locationSize:s}}return t}function OI(n){return n!==""}function VS(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function NS(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function r8(n){return n.replace(ZJ,RJ)}const qJ=new Map;function RJ(n,e){let t=bn[e];if(t===void 0){const i=qJ.get(e);if(i!==void 0)t=bn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return r8(t)}const MJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function FS(n){return n.replace(MJ,_J)}function _J(n,e,t,i){let r="";for(let o=parseInt(e);o<parseInt(t);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function HS(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function WJ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===lA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===cC?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Cs&&(e="SHADOWMAP_TYPE_VSM"),e}function VJ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case al:case ag:e="ENVMAP_TYPE_CUBE";break;case Z0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function NJ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ag:e="ENVMAP_MODE_REFRACTION";break}return e}function FJ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Vh:e="ENVMAP_BLENDING_MULTIPLY";break;case UV:e="ENVMAP_BLENDING_MIX";break;case OV:e="ENVMAP_BLENDING_ADD";break}return e}function HJ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function EJ(n,e,t,i){const r=n.getContext(),o=t.defines;let a=t.vertexShader,s=t.fragmentShader;const l=WJ(t),c=VJ(t),g=NJ(t),u=FJ(t),d=HJ(t),C=GJ(t),f=wJ(o),b=r.createProgram();let A,p,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f].filter(OI).join(`
`),A.length>0&&(A+=`
`),p=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f].filter(OI).join(`
`),p.length>0&&(p+=`
`)):(A=[HS(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(OI).join(`
`),p=[HS(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+g:"",t.envMap?"#define "+u:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==tl?"#define TONE_MAPPING":"",t.toneMapping!==tl?bn.tonemapping_pars_fragment:"",t.toneMapping!==tl?BJ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",bn.colorspace_pars_fragment,yJ("linearToOutputTexel",t.outputColorSpace),xJ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(OI).join(`
`)),a=r8(a),a=VS(a,t),a=NS(a,t),s=r8(s),s=VS(s,t),s=NS(s,t),a=FS(a),s=FS(s),t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,A=[C,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,p=["#define varying in",t.glslVersion===n8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===n8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const B=y+A+a,x=y+p+s,w=MS(r,r.VERTEX_SHADER,B),S=MS(r,r.FRAGMENT_SHADER,x);r.attachShader(b,w),r.attachShader(b,S),t.index0AttributeName!==void 0?r.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(b,0,"position"),r.linkProgram(b);function Z(V){if(n.debug.checkShaderErrors){const Y=r.getProgramInfoLog(b).trim(),X=r.getShaderInfoLog(w).trim(),K=r.getShaderInfoLog(S).trim();let Q=!0,z=!0;if(r.getProgramParameter(b,r.LINK_STATUS)===!1)if(Q=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,b,w,S);else{const D=WS(r,w,"vertex"),N=WS(r,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(b,r.VALIDATE_STATUS)+`

Material Name: `+V.name+`
Material Type: `+V.type+`

Program Info Log: `+Y+`
`+D+`
`+N)}else Y!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Y):(X===""||K==="")&&(z=!1);z&&(V.diagnostics={runnable:Q,programLog:Y,vertexShader:{log:X,prefix:A},fragmentShader:{log:K,prefix:p}})}r.deleteShader(w),r.deleteShader(S),M=new Df(r,b),q=SJ(r,b)}let M;this.getUniforms=function(){return M===void 0&&Z(this),M};let q;this.getAttributes=function(){return q===void 0&&Z(this),q};let _=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return _===!1&&(_=r.getProgramParameter(b,pJ)),_},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=AJ++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=w,this.fragmentShader=S,this}let XJ=0;class zJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),o=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new YJ(e),t.set(e,i)),i}}class YJ{constructor(e){this.id=XJ++,this.code=e,this.usedTimes=0}}function KJ(n,e,t,i,r,o,a){const s=new Zu,l=new zJ,c=new Set,g=[],u=r.logarithmicDepthBuffer,d=r.vertexTextures;let C=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(q){return c.add(q),q===0?"uv":`uv${q}`}function A(q,_,V,Y,X){const K=Y.fog,Q=X.geometry,z=q.isMeshStandardMaterial?Y.environment:null,D=(q.isMeshStandardMaterial?t:e).get(q.envMap||z),N=D&&D.mapping===Z0?D.image.height:null,L=f[q.type];q.precision!==null&&(C=r.getMaxPrecision(q.precision),C!==q.precision&&console.warn("THREE.WebGLProgram.getParameters:",q.precision,"not supported, using",C,"instead."));const P=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,O=P!==void 0?P.length:0;let ie=0;Q.morphAttributes.position!==void 0&&(ie=1),Q.morphAttributes.normal!==void 0&&(ie=2),Q.morphAttributes.color!==void 0&&(ie=3);let ge,J,Ce,ve;if(L){const ut=As[L];ge=ut.vertexShader,J=ut.fragmentShader}else ge=q.vertexShader,J=q.fragmentShader,l.update(q),Ce=l.getVertexShaderID(q),ve=l.getFragmentShaderID(q);const Ae=n.getRenderTarget(),Xe=n.state.buffers.depth.getReversed(),Le=X.isInstancedMesh===!0,Ee=X.isBatchedMesh===!0,be=!!q.map,Ie=!!q.matcap,pe=!!D,$=!!q.aoMap,Ge=!!q.lightMap,Ze=!!q.bumpMap,Ye=!!q.normalMap,Ne=!!q.displacementMap,Je=!!q.emissiveMap,Ke=!!q.metalnessMap,U=!!q.roughnessMap,T=q.anisotropy>0,le=q.clearcoat>0,ye=q.dispersion>0,Fe=q.iridescence>0,we=q.sheen>0,tt=q.transmission>0,je=T&&!!q.anisotropyMap,Qe=le&&!!q.clearcoatMap,Rt=le&&!!q.clearcoatNormalMap,ze=le&&!!q.clearcoatRoughnessMap,st=Fe&&!!q.iridescenceMap,gt=Fe&&!!q.iridescenceThicknessMap,ot=we&&!!q.sheenColorMap,dt=we&&!!q.sheenRoughnessMap,ue=!!q.specularMap,Me=!!q.specularColorMap,$e=!!q.specularIntensityMap,ce=tt&&!!q.transmissionMap,Se=tt&&!!q.thicknessMap,_e=!!q.gradientMap,Te=!!q.alphaMap,It=q.alphaTest>0,at=!!q.alphaHash,_t=!!q.extensions;let Ft=tl;q.toneMapped&&(Ae===null||Ae.isXRRenderTarget===!0)&&(Ft=n.toneMapping);const Bt={shaderID:L,shaderType:q.type,shaderName:q.name,vertexShader:ge,fragmentShader:J,defines:q.defines,customVertexShaderID:Ce,customFragmentShaderID:ve,isRawShaderMaterial:q.isRawShaderMaterial===!0,glslVersion:q.glslVersion,precision:C,batching:Ee,batchingColor:Ee&&X._colorsTexture!==null,instancing:Le,instancingColor:Le&&X.instanceColor!==null,instancingMorph:Le&&X.morphTexture!==null,supportsVertexTextures:d,outputColorSpace:Ae===null?n.outputColorSpace:Ae.isXRRenderTarget===!0?Ae.texture.colorSpace:ll,alphaToCoverage:!!q.alphaToCoverage,map:be,matcap:Ie,envMap:pe,envMapMode:pe&&D.mapping,envMapCubeUVHeight:N,aoMap:$,lightMap:Ge,bumpMap:Ze,normalMap:Ye,displacementMap:d&&Ne,emissiveMap:Je,normalMapObjectSpace:Ye&&q.normalMapType===cN,normalMapTangentSpace:Ye&&q.normalMapType===Cg,metalnessMap:Ke,roughnessMap:U,anisotropy:T,anisotropyMap:je,clearcoat:le,clearcoatMap:Qe,clearcoatNormalMap:Rt,clearcoatRoughnessMap:ze,dispersion:ye,iridescence:Fe,iridescenceMap:st,iridescenceThicknessMap:gt,sheen:we,sheenColorMap:ot,sheenRoughnessMap:dt,specularMap:ue,specularColorMap:Me,specularIntensityMap:$e,transmission:tt,transmissionMap:ce,thicknessMap:Se,gradientMap:_e,opaque:q.transparent===!1&&q.blending===Gu&&q.alphaToCoverage===!1,alphaMap:Te,alphaTest:It,alphaHash:at,combine:q.combine,mapUv:be&&b(q.map.channel),aoMapUv:$&&b(q.aoMap.channel),lightMapUv:Ge&&b(q.lightMap.channel),bumpMapUv:Ze&&b(q.bumpMap.channel),normalMapUv:Ye&&b(q.normalMap.channel),displacementMapUv:Ne&&b(q.displacementMap.channel),emissiveMapUv:Je&&b(q.emissiveMap.channel),metalnessMapUv:Ke&&b(q.metalnessMap.channel),roughnessMapUv:U&&b(q.roughnessMap.channel),anisotropyMapUv:je&&b(q.anisotropyMap.channel),clearcoatMapUv:Qe&&b(q.clearcoatMap.channel),clearcoatNormalMapUv:Rt&&b(q.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ze&&b(q.clearcoatRoughnessMap.channel),iridescenceMapUv:st&&b(q.iridescenceMap.channel),iridescenceThicknessMapUv:gt&&b(q.iridescenceThicknessMap.channel),sheenColorMapUv:ot&&b(q.sheenColorMap.channel),sheenRoughnessMapUv:dt&&b(q.sheenRoughnessMap.channel),specularMapUv:ue&&b(q.specularMap.channel),specularColorMapUv:Me&&b(q.specularColorMap.channel),specularIntensityMapUv:$e&&b(q.specularIntensityMap.channel),transmissionMapUv:ce&&b(q.transmissionMap.channel),thicknessMapUv:Se&&b(q.thicknessMap.channel),alphaMapUv:Te&&b(q.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ye||T),vertexColors:q.vertexColors,vertexAlphas:q.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!Q.attributes.uv&&(be||Te),fog:!!K,useFog:q.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:q.flatShading===!0,sizeAttenuation:q.sizeAttenuation===!0,logarithmicDepthBuffer:u,reverseDepthBuffer:Xe,skinning:X.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:ie,numDirLights:_.directional.length,numPointLights:_.point.length,numSpotLights:_.spot.length,numSpotLightMaps:_.spotLightMap.length,numRectAreaLights:_.rectArea.length,numHemiLights:_.hemi.length,numDirLightShadows:_.directionalShadowMap.length,numPointLightShadows:_.pointShadowMap.length,numSpotLightShadows:_.spotShadowMap.length,numSpotLightShadowsWithMaps:_.numSpotLightShadowsWithMaps,numLightProbes:_.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:q.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ft,decodeVideoTexture:be&&q.map.isVideoTexture===!0&&Wn.getTransfer(q.map.colorSpace)===Un,decodeVideoTextureEmissive:Je&&q.emissiveMap.isVideoTexture===!0&&Wn.getTransfer(q.emissiveMap.colorSpace)===Un,premultipliedAlpha:q.premultipliedAlpha,doubleSided:q.side===Fo,flipSided:q.side===ki,useDepthPacking:q.depthPacking>=0,depthPacking:q.depthPacking||0,index0AttributeName:q.index0AttributeName,extensionClipCullDistance:_t&&q.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&q.extensions.multiDraw===!0||Ee)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:q.customProgramCacheKey()};return Bt.vertexUv1s=c.has(1),Bt.vertexUv2s=c.has(2),Bt.vertexUv3s=c.has(3),c.clear(),Bt}function p(q){const _=[];if(q.shaderID?_.push(q.shaderID):(_.push(q.customVertexShaderID),_.push(q.customFragmentShaderID)),q.defines!==void 0)for(const V in q.defines)_.push(V),_.push(q.defines[V]);return q.isRawShaderMaterial===!1&&(y(_,q),B(_,q),_.push(n.outputColorSpace)),_.push(q.customProgramCacheKey),_.join()}function y(q,_){q.push(_.precision),q.push(_.outputColorSpace),q.push(_.envMapMode),q.push(_.envMapCubeUVHeight),q.push(_.mapUv),q.push(_.alphaMapUv),q.push(_.lightMapUv),q.push(_.aoMapUv),q.push(_.bumpMapUv),q.push(_.normalMapUv),q.push(_.displacementMapUv),q.push(_.emissiveMapUv),q.push(_.metalnessMapUv),q.push(_.roughnessMapUv),q.push(_.anisotropyMapUv),q.push(_.clearcoatMapUv),q.push(_.clearcoatNormalMapUv),q.push(_.clearcoatRoughnessMapUv),q.push(_.iridescenceMapUv),q.push(_.iridescenceThicknessMapUv),q.push(_.sheenColorMapUv),q.push(_.sheenRoughnessMapUv),q.push(_.specularMapUv),q.push(_.specularColorMapUv),q.push(_.specularIntensityMapUv),q.push(_.transmissionMapUv),q.push(_.thicknessMapUv),q.push(_.combine),q.push(_.fogExp2),q.push(_.sizeAttenuation),q.push(_.morphTargetsCount),q.push(_.morphAttributeCount),q.push(_.numDirLights),q.push(_.numPointLights),q.push(_.numSpotLights),q.push(_.numSpotLightMaps),q.push(_.numHemiLights),q.push(_.numRectAreaLights),q.push(_.numDirLightShadows),q.push(_.numPointLightShadows),q.push(_.numSpotLightShadows),q.push(_.numSpotLightShadowsWithMaps),q.push(_.numLightProbes),q.push(_.shadowMapType),q.push(_.toneMapping),q.push(_.numClippingPlanes),q.push(_.numClipIntersection),q.push(_.depthPacking)}function B(q,_){s.disableAll(),_.supportsVertexTextures&&s.enable(0),_.instancing&&s.enable(1),_.instancingColor&&s.enable(2),_.instancingMorph&&s.enable(3),_.matcap&&s.enable(4),_.envMap&&s.enable(5),_.normalMapObjectSpace&&s.enable(6),_.normalMapTangentSpace&&s.enable(7),_.clearcoat&&s.enable(8),_.iridescence&&s.enable(9),_.alphaTest&&s.enable(10),_.vertexColors&&s.enable(11),_.vertexAlphas&&s.enable(12),_.vertexUv1s&&s.enable(13),_.vertexUv2s&&s.enable(14),_.vertexUv3s&&s.enable(15),_.vertexTangents&&s.enable(16),_.anisotropy&&s.enable(17),_.alphaHash&&s.enable(18),_.batching&&s.enable(19),_.dispersion&&s.enable(20),_.batchingColor&&s.enable(21),q.push(s.mask),s.disableAll(),_.fog&&s.enable(0),_.useFog&&s.enable(1),_.flatShading&&s.enable(2),_.logarithmicDepthBuffer&&s.enable(3),_.reverseDepthBuffer&&s.enable(4),_.skinning&&s.enable(5),_.morphTargets&&s.enable(6),_.morphNormals&&s.enable(7),_.morphColors&&s.enable(8),_.premultipliedAlpha&&s.enable(9),_.shadowMapEnabled&&s.enable(10),_.doubleSided&&s.enable(11),_.flipSided&&s.enable(12),_.useDepthPacking&&s.enable(13),_.dithering&&s.enable(14),_.transmission&&s.enable(15),_.sheen&&s.enable(16),_.opaque&&s.enable(17),_.pointsUvs&&s.enable(18),_.decodeVideoTexture&&s.enable(19),_.decodeVideoTextureEmissive&&s.enable(20),_.alphaToCoverage&&s.enable(21),q.push(s.mask)}function x(q){const _=f[q.type];let V;if(_){const Y=As[_];V=GN.clone(Y.uniforms)}else V=q.uniforms;return V}function w(q,_){let V;for(let Y=0,X=g.length;Y<X;Y++){const K=g[Y];if(K.cacheKey===_){V=K,++V.usedTimes;break}}return V===void 0&&(V=new EJ(n,_,q,o),g.push(V)),V}function S(q){if(--q.usedTimes===0){const _=g.indexOf(q);g[_]=g[g.length-1],g.pop(),q.destroy()}}function Z(q){l.remove(q)}function M(){l.dispose()}return{getParameters:A,getProgramCacheKey:p,getUniforms:x,acquireProgram:w,releaseProgram:S,releaseShaderCache:Z,programs:g,dispose:M}}function LJ(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let s=n.get(a);return s===void 0&&(s={},n.set(a,s)),s}function i(a){n.delete(a)}function r(a,s,l){n.get(a)[s]=l}function o(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:o}}function TJ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function ES(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function XS(){const n=[];let e=0;const t=[],i=[],r=[];function o(){e=0,t.length=0,i.length=0,r.length=0}function a(u,d,C,f,b,A){let p=n[e];return p===void 0?(p={id:u.id,object:u,geometry:d,material:C,groupOrder:f,renderOrder:u.renderOrder,z:b,group:A},n[e]=p):(p.id=u.id,p.object=u,p.geometry=d,p.material=C,p.groupOrder=f,p.renderOrder=u.renderOrder,p.z=b,p.group=A),e++,p}function s(u,d,C,f,b,A){const p=a(u,d,C,f,b,A);C.transmission>0?i.push(p):C.transparent===!0?r.push(p):t.push(p)}function l(u,d,C,f,b,A){const p=a(u,d,C,f,b,A);C.transmission>0?i.unshift(p):C.transparent===!0?r.unshift(p):t.unshift(p)}function c(u,d){t.length>1&&t.sort(u||TJ),i.length>1&&i.sort(d||ES),r.length>1&&r.sort(d||ES)}function g(){for(let u=e,d=n.length;u<d;u++){const C=n[u];if(C.id===null)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}}return{opaque:t,transmissive:i,transparent:r,init:o,push:s,unshift:l,finish:g,sort:c}}function kJ(){let n=new WeakMap;function e(i,r){const o=n.get(i);let a;return o===void 0?(a=new XS,n.set(i,[a])):r>=o.length?(a=new XS,o.push(a)):a=o[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function PJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new ke};break;case"SpotLight":t={position:new k,direction:new k,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new k,halfWidth:new k,halfHeight:new k};break}return n[e.id]=t,t}}}function DJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let UJ=0;function OJ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function jJ(n){const e=new PJ,t=DJ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new k);const r=new k,o=new vt,a=new vt;function s(c){let g=0,u=0,d=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let C=0,f=0,b=0,A=0,p=0,y=0,B=0,x=0,w=0,S=0,Z=0;c.sort(OJ);for(let q=0,_=c.length;q<_;q++){const V=c[q],Y=V.color,X=V.intensity,K=V.distance,Q=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)g+=Y.r*X,u+=Y.g*X,d+=Y.b*X;else if(V.isLightProbe){for(let z=0;z<9;z++)i.probe[z].addScaledVector(V.sh.coefficients[z],X);Z++}else if(V.isDirectionalLight){const z=e.get(V);if(z.color.copy(V.color).multiplyScalar(V.intensity),V.castShadow){const D=V.shadow,N=t.get(V);N.shadowIntensity=D.intensity,N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,i.directionalShadow[C]=N,i.directionalShadowMap[C]=Q,i.directionalShadowMatrix[C]=V.shadow.matrix,y++}i.directional[C]=z,C++}else if(V.isSpotLight){const z=e.get(V);z.position.setFromMatrixPosition(V.matrixWorld),z.color.copy(Y).multiplyScalar(X),z.distance=K,z.coneCos=Math.cos(V.angle),z.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),z.decay=V.decay,i.spot[b]=z;const D=V.shadow;if(V.map&&(i.spotLightMap[w]=V.map,w++,D.updateMatrices(V),V.castShadow&&S++),i.spotLightMatrix[b]=D.matrix,V.castShadow){const N=t.get(V);N.shadowIntensity=D.intensity,N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,i.spotShadow[b]=N,i.spotShadowMap[b]=Q,x++}b++}else if(V.isRectAreaLight){const z=e.get(V);z.color.copy(Y).multiplyScalar(X),z.halfWidth.set(V.width*.5,0,0),z.halfHeight.set(0,V.height*.5,0),i.rectArea[A]=z,A++}else if(V.isPointLight){const z=e.get(V);if(z.color.copy(V.color).multiplyScalar(V.intensity),z.distance=V.distance,z.decay=V.decay,V.castShadow){const D=V.shadow,N=t.get(V);N.shadowIntensity=D.intensity,N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,N.shadowCameraNear=D.camera.near,N.shadowCameraFar=D.camera.far,i.pointShadow[f]=N,i.pointShadowMap[f]=Q,i.pointShadowMatrix[f]=V.shadow.matrix,B++}i.point[f]=z,f++}else if(V.isHemisphereLight){const z=e.get(V);z.skyColor.copy(V.color).multiplyScalar(X),z.groundColor.copy(V.groundColor).multiplyScalar(X),i.hemi[p]=z,p++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=zt.LTC_FLOAT_1,i.rectAreaLTC2=zt.LTC_FLOAT_2):(i.rectAreaLTC1=zt.LTC_HALF_1,i.rectAreaLTC2=zt.LTC_HALF_2)),i.ambient[0]=g,i.ambient[1]=u,i.ambient[2]=d;const M=i.hash;(M.directionalLength!==C||M.pointLength!==f||M.spotLength!==b||M.rectAreaLength!==A||M.hemiLength!==p||M.numDirectionalShadows!==y||M.numPointShadows!==B||M.numSpotShadows!==x||M.numSpotMaps!==w||M.numLightProbes!==Z)&&(i.directional.length=C,i.spot.length=b,i.rectArea.length=A,i.point.length=f,i.hemi.length=p,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=B,i.pointShadowMap.length=B,i.spotShadow.length=x,i.spotShadowMap.length=x,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=B,i.spotLightMatrix.length=x+w-S,i.spotLightMap.length=w,i.numSpotLightShadowsWithMaps=S,i.numLightProbes=Z,M.directionalLength=C,M.pointLength=f,M.spotLength=b,M.rectAreaLength=A,M.hemiLength=p,M.numDirectionalShadows=y,M.numPointShadows=B,M.numSpotShadows=x,M.numSpotMaps=w,M.numLightProbes=Z,i.version=UJ++)}function l(c,g){let u=0,d=0,C=0,f=0,b=0;const A=g.matrixWorldInverse;for(let p=0,y=c.length;p<y;p++){const B=c[p];if(B.isDirectionalLight){const x=i.directional[u];x.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),x.direction.sub(r),x.direction.transformDirection(A),u++}else if(B.isSpotLight){const x=i.spot[C];x.position.setFromMatrixPosition(B.matrixWorld),x.position.applyMatrix4(A),x.direction.setFromMatrixPosition(B.matrixWorld),r.setFromMatrixPosition(B.target.matrixWorld),x.direction.sub(r),x.direction.transformDirection(A),C++}else if(B.isRectAreaLight){const x=i.rectArea[f];x.position.setFromMatrixPosition(B.matrixWorld),x.position.applyMatrix4(A),a.identity(),o.copy(B.matrixWorld),o.premultiply(A),a.extractRotation(o),x.halfWidth.set(B.width*.5,0,0),x.halfHeight.set(0,B.height*.5,0),x.halfWidth.applyMatrix4(a),x.halfHeight.applyMatrix4(a),f++}else if(B.isPointLight){const x=i.point[d];x.position.setFromMatrixPosition(B.matrixWorld),x.position.applyMatrix4(A),d++}else if(B.isHemisphereLight){const x=i.hemi[b];x.direction.setFromMatrixPosition(B.matrixWorld),x.direction.transformDirection(A),b++}}}return{setup:s,setupView:l,state:i}}function zS(n){const e=new jJ(n),t=[],i=[];function r(g){c.camera=g,t.length=0,i.length=0}function o(g){t.push(g)}function a(g){i.push(g)}function s(){e.setup(t)}function l(g){e.setupView(t,g)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function JJ(n){let e=new WeakMap;function t(r,o=0){const a=e.get(r);let s;return a===void 0?(s=new zS(n),e.set(r,[s])):o>=a.length?(s=new zS(n),a.push(s)):s=a[o],s}function i(){e=new WeakMap}return{get:t,dispose:i}}class l7 extends er{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=sN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class c7 extends er{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const QJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,$J=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function eQ(n,e,t){let i=new Yh;const r=new et,o=new et,a=new Hn,s=new l7({depthPacking:lN}),l=new c7,c={},g=t.maxTextureSize,u={[ol]:ki,[ki]:ol,[Fo]:Fo},d=new Do({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:QJ,fragmentShader:$J}),C=d.clone();C.defines.HORIZONTAL_PASS=1;const f=new dn;f.setAttribute("position",new Xn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new pi(f,d),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=lA;let p=this.type;this.render=function(S,Z,M){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||S.length===0)return;const q=n.getRenderTarget(),_=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),Y=n.state;Y.setBlending(el),Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const X=p!==Cs&&this.type===Cs,K=p===Cs&&this.type!==Cs;for(let Q=0,z=S.length;Q<z;Q++){const D=S[Q],N=D.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",D,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const L=N.getFrameExtents();if(r.multiply(L),o.copy(N.mapSize),(r.x>g||r.y>g)&&(r.x>g&&(o.x=Math.floor(g/L.x),r.x=o.x*L.x,N.mapSize.x=o.x),r.y>g&&(o.y=Math.floor(g/L.y),r.y=o.y*L.y,N.mapSize.y=o.y)),N.map===null||X===!0||K===!0){const O=this.type!==Cs?{minFilter:br,magFilter:br}:{};N.map!==null&&N.map.dispose(),N.map=new ha(r.x,r.y,O),N.map.texture.name=D.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const P=N.getViewportCount();for(let O=0;O<P;O++){const ie=N.getViewport(O);a.set(o.x*ie.x,o.y*ie.y,o.x*ie.z,o.y*ie.w),Y.viewport(a),N.updateMatrices(D,O),i=N.getFrustum(),x(Z,M,N.camera,D,this.type)}N.isPointLightShadow!==!0&&this.type===Cs&&y(N,M),N.needsUpdate=!1}p=this.type,A.needsUpdate=!1,n.setRenderTarget(q,_,V)};function y(S,Z){const M=e.update(b);d.defines.VSM_SAMPLES!==S.blurSamples&&(d.defines.VSM_SAMPLES=S.blurSamples,C.defines.VSM_SAMPLES=S.blurSamples,d.needsUpdate=!0,C.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new ha(r.x,r.y)),d.uniforms.shadow_pass.value=S.map.texture,d.uniforms.resolution.value=S.mapSize,d.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(Z,null,M,d,b,null),C.uniforms.shadow_pass.value=S.mapPass.texture,C.uniforms.resolution.value=S.mapSize,C.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(Z,null,M,C,b,null)}function B(S,Z,M,q){let _=null;const V=M.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(V!==void 0)_=V;else if(_=M.isPointLight===!0?l:s,n.localClippingEnabled&&Z.clipShadows===!0&&Array.isArray(Z.clippingPlanes)&&Z.clippingPlanes.length!==0||Z.displacementMap&&Z.displacementScale!==0||Z.alphaMap&&Z.alphaTest>0||Z.map&&Z.alphaTest>0){const Y=_.uuid,X=Z.uuid;let K=c[Y];K===void 0&&(K={},c[Y]=K);let Q=K[X];Q===void 0&&(Q=_.clone(),K[X]=Q,Z.addEventListener("dispose",w)),_=Q}if(_.visible=Z.visible,_.wireframe=Z.wireframe,q===Cs?_.side=Z.shadowSide!==null?Z.shadowSide:Z.side:_.side=Z.shadowSide!==null?Z.shadowSide:u[Z.side],_.alphaMap=Z.alphaMap,_.alphaTest=Z.alphaTest,_.map=Z.map,_.clipShadows=Z.clipShadows,_.clippingPlanes=Z.clippingPlanes,_.clipIntersection=Z.clipIntersection,_.displacementMap=Z.displacementMap,_.displacementScale=Z.displacementScale,_.displacementBias=Z.displacementBias,_.wireframeLinewidth=Z.wireframeLinewidth,_.linewidth=Z.linewidth,M.isPointLight===!0&&_.isMeshDistanceMaterial===!0){const Y=n.properties.get(_);Y.light=M}return _}function x(S,Z,M,q,_){if(S.visible===!1)return;if(S.layers.test(Z.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&_===Cs)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,S.matrixWorld);const X=e.update(S),K=S.material;if(Array.isArray(K)){const Q=X.groups;for(let z=0,D=Q.length;z<D;z++){const N=Q[z],L=K[N.materialIndex];if(L&&L.visible){const P=B(S,L,q,_);S.onBeforeShadow(n,S,Z,M,X,P,N),n.renderBufferDirect(M,null,X,P,S,N),S.onAfterShadow(n,S,Z,M,X,P,N)}}}else if(K.visible){const Q=B(S,K,q,_);S.onBeforeShadow(n,S,Z,M,X,Q,null),n.renderBufferDirect(M,null,X,Q,S,null),S.onAfterShadow(n,S,Z,M,X,Q,null)}}const Y=S.children;for(let X=0,K=Y.length;X<K;X++)x(Y[X],Z,M,q,_)}function w(S){S.target.removeEventListener("dispose",w);for(const M in c){const q=c[M],_=S.target.uuid;_ in q&&(q[_].dispose(),delete q[_])}}}const tQ={[zp]:Yp,[Kp]:kp,[Lp]:Pp,[Yu]:Tp,[Yp]:zp,[kp]:Kp,[Pp]:Lp,[Tp]:Yu};function nQ(n,e){function t(){let ce=!1;const Se=new Hn;let _e=null;const Te=new Hn(0,0,0,0);return{setMask:function(It){_e!==It&&!ce&&(n.colorMask(It,It,It,It),_e=It)},setLocked:function(It){ce=It},setClear:function(It,at,_t,Ft,Bt){Bt===!0&&(It*=Ft,at*=Ft,_t*=Ft),Se.set(It,at,_t,Ft),Te.equals(Se)===!1&&(n.clearColor(It,at,_t,Ft),Te.copy(Se))},reset:function(){ce=!1,_e=null,Te.set(-1,0,0,0)}}}function i(){let ce=!1,Se=!1,_e=null,Te=null,It=null;return{setReversed:function(at){if(Se!==at){const _t=e.get("EXT_clip_control");Se?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT);const Ft=It;It=null,this.setClear(Ft)}Se=at},getReversed:function(){return Se},setTest:function(at){at?Ae(n.DEPTH_TEST):Xe(n.DEPTH_TEST)},setMask:function(at){_e!==at&&!ce&&(n.depthMask(at),_e=at)},setFunc:function(at){if(Se&&(at=tQ[at]),Te!==at){switch(at){case zp:n.depthFunc(n.NEVER);break;case Yp:n.depthFunc(n.ALWAYS);break;case Kp:n.depthFunc(n.LESS);break;case Yu:n.depthFunc(n.LEQUAL);break;case Lp:n.depthFunc(n.EQUAL);break;case Tp:n.depthFunc(n.GEQUAL);break;case kp:n.depthFunc(n.GREATER);break;case Pp:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Te=at}},setLocked:function(at){ce=at},setClear:function(at){It!==at&&(Se&&(at=1-at),n.clearDepth(at),It=at)},reset:function(){ce=!1,_e=null,Te=null,It=null,Se=!1}}}function r(){let ce=!1,Se=null,_e=null,Te=null,It=null,at=null,_t=null,Ft=null,Bt=null;return{setTest:function(ut){ce||(ut?Ae(n.STENCIL_TEST):Xe(n.STENCIL_TEST))},setMask:function(ut){Se!==ut&&!ce&&(n.stencilMask(ut),Se=ut)},setFunc:function(ut,it,an){(_e!==ut||Te!==it||It!==an)&&(n.stencilFunc(ut,it,an),_e=ut,Te=it,It=an)},setOp:function(ut,it,an){(at!==ut||_t!==it||Ft!==an)&&(n.stencilOp(ut,it,an),at=ut,_t=it,Ft=an)},setLocked:function(ut){ce=ut},setClear:function(ut){Bt!==ut&&(n.clearStencil(ut),Bt=ut)},reset:function(){ce=!1,Se=null,_e=null,Te=null,It=null,at=null,_t=null,Ft=null,Bt=null}}}const o=new t,a=new i,s=new r,l=new WeakMap,c=new WeakMap;let g={},u={},d=new WeakMap,C=[],f=null,b=!1,A=null,p=null,y=null,B=null,x=null,w=null,S=null,Z=new ke(0,0,0),M=0,q=!1,_=null,V=null,Y=null,X=null,K=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,D=0;const N=n.getParameter(n.VERSION);N.indexOf("WebGL")!==-1?(D=parseFloat(/^WebGL (\d)/.exec(N)[1]),z=D>=1):N.indexOf("OpenGL ES")!==-1&&(D=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),z=D>=2);let L=null,P={};const O=n.getParameter(n.SCISSOR_BOX),ie=n.getParameter(n.VIEWPORT),ge=new Hn().fromArray(O),J=new Hn().fromArray(ie);function Ce(ce,Se,_e,Te){const It=new Uint8Array(4),at=n.createTexture();n.bindTexture(ce,at),n.texParameteri(ce,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ce,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _t=0;_t<_e;_t++)ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY?n.texImage3D(Se,0,n.RGBA,1,1,Te,0,n.RGBA,n.UNSIGNED_BYTE,It):n.texImage2D(Se+_t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,It);return at}const ve={};ve[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),ve[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ve[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),Ae(n.DEPTH_TEST),a.setFunc(Yu),Ze(!1),Ye(O6),Ae(n.CULL_FACE),$(el);function Ae(ce){g[ce]!==!0&&(n.enable(ce),g[ce]=!0)}function Xe(ce){g[ce]!==!1&&(n.disable(ce),g[ce]=!1)}function Le(ce,Se){return u[ce]!==Se?(n.bindFramebuffer(ce,Se),u[ce]=Se,ce===n.DRAW_FRAMEBUFFER&&(u[n.FRAMEBUFFER]=Se),ce===n.FRAMEBUFFER&&(u[n.DRAW_FRAMEBUFFER]=Se),!0):!1}function Ee(ce,Se){let _e=C,Te=!1;if(ce){_e=d.get(Se),_e===void 0&&(_e=[],d.set(Se,_e));const It=ce.textures;if(_e.length!==It.length||_e[0]!==n.COLOR_ATTACHMENT0){for(let at=0,_t=It.length;at<_t;at++)_e[at]=n.COLOR_ATTACHMENT0+at;_e.length=It.length,Te=!0}}else _e[0]!==n.BACK&&(_e[0]=n.BACK,Te=!0);Te&&n.drawBuffers(_e)}function be(ce){return f!==ce?(n.useProgram(ce),f=ce,!0):!1}const Ie={[Wc]:n.FUNC_ADD,[MV]:n.FUNC_SUBTRACT,[_V]:n.FUNC_REVERSE_SUBTRACT};Ie[WV]=n.MIN,Ie[VV]=n.MAX;const pe={[NV]:n.ZERO,[FV]:n.ONE,[HV]:n.SRC_COLOR,[Ep]:n.SRC_ALPHA,[LV]:n.SRC_ALPHA_SATURATE,[YV]:n.DST_COLOR,[XV]:n.DST_ALPHA,[EV]:n.ONE_MINUS_SRC_COLOR,[Xp]:n.ONE_MINUS_SRC_ALPHA,[KV]:n.ONE_MINUS_DST_COLOR,[zV]:n.ONE_MINUS_DST_ALPHA,[TV]:n.CONSTANT_COLOR,[kV]:n.ONE_MINUS_CONSTANT_COLOR,[PV]:n.CONSTANT_ALPHA,[DV]:n.ONE_MINUS_CONSTANT_ALPHA};function $(ce,Se,_e,Te,It,at,_t,Ft,Bt,ut){if(ce===el){b===!0&&(Xe(n.BLEND),b=!1);return}if(b===!1&&(Ae(n.BLEND),b=!0),ce!==RV){if(ce!==A||ut!==q){if((p!==Wc||x!==Wc)&&(n.blendEquation(n.FUNC_ADD),p=Wc,x=Wc),ut)switch(ce){case Gu:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case j6:n.blendFunc(n.ONE,n.ONE);break;case J6:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Q6:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case Gu:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case j6:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case J6:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Q6:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}y=null,B=null,w=null,S=null,Z.set(0,0,0),M=0,A=ce,q=ut}return}It=It||Se,at=at||_e,_t=_t||Te,(Se!==p||It!==x)&&(n.blendEquationSeparate(Ie[Se],Ie[It]),p=Se,x=It),(_e!==y||Te!==B||at!==w||_t!==S)&&(n.blendFuncSeparate(pe[_e],pe[Te],pe[at],pe[_t]),y=_e,B=Te,w=at,S=_t),(Ft.equals(Z)===!1||Bt!==M)&&(n.blendColor(Ft.r,Ft.g,Ft.b,Bt),Z.copy(Ft),M=Bt),A=ce,q=!1}function Ge(ce,Se){ce.side===Fo?Xe(n.CULL_FACE):Ae(n.CULL_FACE);let _e=ce.side===ki;Se&&(_e=!_e),Ze(_e),ce.blending===Gu&&ce.transparent===!1?$(el):$(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),a.setFunc(ce.depthFunc),a.setTest(ce.depthTest),a.setMask(ce.depthWrite),o.setMask(ce.colorWrite);const Te=ce.stencilWrite;s.setTest(Te),Te&&(s.setMask(ce.stencilWriteMask),s.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),s.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Je(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?Ae(n.SAMPLE_ALPHA_TO_COVERAGE):Xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ze(ce){_!==ce&&(ce?n.frontFace(n.CW):n.frontFace(n.CCW),_=ce)}function Ye(ce){ce!==SV?(Ae(n.CULL_FACE),ce!==V&&(ce===O6?n.cullFace(n.BACK):ce===ZV?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Xe(n.CULL_FACE),V=ce}function Ne(ce){ce!==Y&&(z&&n.lineWidth(ce),Y=ce)}function Je(ce,Se,_e){ce?(Ae(n.POLYGON_OFFSET_FILL),(X!==Se||K!==_e)&&(n.polygonOffset(Se,_e),X=Se,K=_e)):Xe(n.POLYGON_OFFSET_FILL)}function Ke(ce){ce?Ae(n.SCISSOR_TEST):Xe(n.SCISSOR_TEST)}function U(ce){ce===void 0&&(ce=n.TEXTURE0+Q-1),L!==ce&&(n.activeTexture(ce),L=ce)}function T(ce,Se,_e){_e===void 0&&(L===null?_e=n.TEXTURE0+Q-1:_e=L);let Te=P[_e];Te===void 0&&(Te={type:void 0,texture:void 0},P[_e]=Te),(Te.type!==ce||Te.texture!==Se)&&(L!==_e&&(n.activeTexture(_e),L=_e),n.bindTexture(ce,Se||ve[ce]),Te.type=ce,Te.texture=Se)}function le(){const ce=P[L];ce!==void 0&&ce.type!==void 0&&(n.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function ye(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Fe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function we(){try{n.texSubImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tt(){try{n.texSubImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function je(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Qe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Rt(){try{n.texStorage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ze(){try{n.texStorage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function st(){try{n.texImage2D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function gt(){try{n.texImage3D.apply(n,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ot(ce){ge.equals(ce)===!1&&(n.scissor(ce.x,ce.y,ce.z,ce.w),ge.copy(ce))}function dt(ce){J.equals(ce)===!1&&(n.viewport(ce.x,ce.y,ce.z,ce.w),J.copy(ce))}function ue(ce,Se){let _e=c.get(Se);_e===void 0&&(_e=new WeakMap,c.set(Se,_e));let Te=_e.get(ce);Te===void 0&&(Te=n.getUniformBlockIndex(Se,ce.name),_e.set(ce,Te))}function Me(ce,Se){const Te=c.get(Se).get(ce);l.get(Se)!==Te&&(n.uniformBlockBinding(Se,Te,ce.__bindingPointIndex),l.set(Se,Te))}function $e(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},L=null,P={},u={},d=new WeakMap,C=[],f=null,b=!1,A=null,p=null,y=null,B=null,x=null,w=null,S=null,Z=new ke(0,0,0),M=0,q=!1,_=null,V=null,Y=null,X=null,K=null,ge.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:Ae,disable:Xe,bindFramebuffer:Le,drawBuffers:Ee,useProgram:be,setBlending:$,setMaterial:Ge,setFlipSided:Ze,setCullFace:Ye,setLineWidth:Ne,setPolygonOffset:Je,setScissorTest:Ke,activeTexture:U,bindTexture:T,unbindTexture:le,compressedTexImage2D:ye,compressedTexImage3D:Fe,texImage2D:st,texImage3D:gt,updateUBOMapping:ue,uniformBlockBinding:Me,texStorage2D:Rt,texStorage3D:ze,texSubImage2D:we,texSubImage3D:tt,compressedTexSubImage2D:je,compressedTexSubImage3D:Qe,scissor:ot,viewport:dt,reset:$e}}function iQ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function rQ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function oQ(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function o8(n,e,t,i){const r=aQ(i);switch(t){case Py:return n*e;case Uy:return n*e;case Oy:return n*e*2;case Fh:return n*e/r.components*r.byteLength;case Hh:return n*e/r.components*r.byteLength;case jy:return n*e*2/r.components*r.byteLength;case hA:return n*e*2/r.components*r.byteLength;case Dy:return n*e*3/r.components*r.byteLength;case Li:return n*e*4/r.components*r.byteLength;case mA:return n*e*4/r.components*r.byteLength;case gC:case uC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case dC:case IC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Up:case jp:return Math.max(n,16)*Math.max(e,8)/4;case Dp:case Op:return Math.max(n,8)*Math.max(e,8)/2;case Jp:case Qp:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case $p:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case e3:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case t3:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case n3:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case i3:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case r3:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case o3:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case a3:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case s3:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case l3:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case c3:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case g3:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case u3:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case d3:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case I3:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case CC:case C3:case h3:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Jy:case m3:return Math.ceil(n/4)*Math.ceil(e/4)*8;case f3:case p3:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function aQ(n){switch(n){case Po:case uA:return{byteLength:1,components:1};case e0:case dA:case pr:return{byteLength:2,components:1};case IA:case CA:return{byteLength:2,components:4};case sl:case Nh:case wi:return{byteLength:4,components:1};case ky:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}const sQ={contain:iQ,cover:rQ,fill:oQ,getByteLength:o8};function lQ(n,e,t,i,r,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new et,g=new WeakMap;let u;const d=new WeakMap;let C=!1;try{C=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function f(U,T){return C?new OffscreenCanvas(U,T):jC("canvas")}function b(U,T,le){let ye=1;const Fe=Ke(U);if((Fe.width>le||Fe.height>le)&&(ye=le/Math.max(Fe.width,Fe.height)),ye<1)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap||typeof VideoFrame<"u"&&U instanceof VideoFrame){const we=Math.floor(ye*Fe.width),tt=Math.floor(ye*Fe.height);u===void 0&&(u=f(we,tt));const je=T?f(we,tt):u;return je.width=we,je.height=tt,je.getContext("2d").drawImage(U,0,0,we,tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Fe.width+"x"+Fe.height+") to ("+we+"x"+tt+")."),je}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Fe.width+"x"+Fe.height+")."),U;return U}function A(U){return U.generateMipmaps}function p(U){n.generateMipmap(U)}function y(U){return U.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:U.isWebGL3DRenderTarget?n.TEXTURE_3D:U.isWebGLArrayRenderTarget||U.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function B(U,T,le,ye,Fe=!1){if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let we=T;if(T===n.RED&&(le===n.FLOAT&&(we=n.R32F),le===n.HALF_FLOAT&&(we=n.R16F),le===n.UNSIGNED_BYTE&&(we=n.R8)),T===n.RED_INTEGER&&(le===n.UNSIGNED_BYTE&&(we=n.R8UI),le===n.UNSIGNED_SHORT&&(we=n.R16UI),le===n.UNSIGNED_INT&&(we=n.R32UI),le===n.BYTE&&(we=n.R8I),le===n.SHORT&&(we=n.R16I),le===n.INT&&(we=n.R32I)),T===n.RG&&(le===n.FLOAT&&(we=n.RG32F),le===n.HALF_FLOAT&&(we=n.RG16F),le===n.UNSIGNED_BYTE&&(we=n.RG8)),T===n.RG_INTEGER&&(le===n.UNSIGNED_BYTE&&(we=n.RG8UI),le===n.UNSIGNED_SHORT&&(we=n.RG16UI),le===n.UNSIGNED_INT&&(we=n.RG32UI),le===n.BYTE&&(we=n.RG8I),le===n.SHORT&&(we=n.RG16I),le===n.INT&&(we=n.RG32I)),T===n.RGB_INTEGER&&(le===n.UNSIGNED_BYTE&&(we=n.RGB8UI),le===n.UNSIGNED_SHORT&&(we=n.RGB16UI),le===n.UNSIGNED_INT&&(we=n.RGB32UI),le===n.BYTE&&(we=n.RGB8I),le===n.SHORT&&(we=n.RGB16I),le===n.INT&&(we=n.RGB32I)),T===n.RGBA_INTEGER&&(le===n.UNSIGNED_BYTE&&(we=n.RGBA8UI),le===n.UNSIGNED_SHORT&&(we=n.RGBA16UI),le===n.UNSIGNED_INT&&(we=n.RGBA32UI),le===n.BYTE&&(we=n.RGBA8I),le===n.SHORT&&(we=n.RGBA16I),le===n.INT&&(we=n.RGBA32I)),T===n.RGB&&le===n.UNSIGNED_INT_5_9_9_9_REV&&(we=n.RGB9_E5),T===n.RGBA){const tt=Fe?Eh:Wn.getTransfer(ye);le===n.FLOAT&&(we=n.RGBA32F),le===n.HALF_FLOAT&&(we=n.RGBA16F),le===n.UNSIGNED_BYTE&&(we=tt===Un?n.SRGB8_ALPHA8:n.RGBA8),le===n.UNSIGNED_SHORT_4_4_4_4&&(we=n.RGBA4),le===n.UNSIGNED_SHORT_5_5_5_1&&(we=n.RGB5_A1)}return(we===n.R16F||we===n.R32F||we===n.RG16F||we===n.RG32F||we===n.RGBA16F||we===n.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function x(U,T){let le;return U?T===null||T===sl||T===Ku?le=n.DEPTH24_STENCIL8:T===wi?le=n.DEPTH32F_STENCIL8:T===e0&&(le=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):T===null||T===sl||T===Ku?le=n.DEPTH_COMPONENT24:T===wi?le=n.DEPTH_COMPONENT32F:T===e0&&(le=n.DEPTH_COMPONENT16),le}function w(U,T){return A(U)===!0||U.isFramebufferTexture&&U.minFilter!==br&&U.minFilter!==Tn?Math.log2(Math.max(T.width,T.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?T.mipmaps.length:1}function S(U){const T=U.target;T.removeEventListener("dispose",S),M(T),T.isVideoTexture&&g.delete(T)}function Z(U){const T=U.target;T.removeEventListener("dispose",Z),_(T)}function M(U){const T=i.get(U);if(T.__webglInit===void 0)return;const le=U.source,ye=d.get(le);if(ye){const Fe=ye[T.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&q(U),Object.keys(ye).length===0&&d.delete(le)}i.remove(U)}function q(U){const T=i.get(U);n.deleteTexture(T.__webglTexture);const le=U.source,ye=d.get(le);delete ye[T.__cacheKey],a.memory.textures--}function _(U){const T=i.get(U);if(U.depthTexture&&(U.depthTexture.dispose(),i.remove(U.depthTexture)),U.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++){if(Array.isArray(T.__webglFramebuffer[ye]))for(let Fe=0;Fe<T.__webglFramebuffer[ye].length;Fe++)n.deleteFramebuffer(T.__webglFramebuffer[ye][Fe]);else n.deleteFramebuffer(T.__webglFramebuffer[ye]);T.__webglDepthbuffer&&n.deleteRenderbuffer(T.__webglDepthbuffer[ye])}else{if(Array.isArray(T.__webglFramebuffer))for(let ye=0;ye<T.__webglFramebuffer.length;ye++)n.deleteFramebuffer(T.__webglFramebuffer[ye]);else n.deleteFramebuffer(T.__webglFramebuffer);if(T.__webglDepthbuffer&&n.deleteRenderbuffer(T.__webglDepthbuffer),T.__webglMultisampledFramebuffer&&n.deleteFramebuffer(T.__webglMultisampledFramebuffer),T.__webglColorRenderbuffer)for(let ye=0;ye<T.__webglColorRenderbuffer.length;ye++)T.__webglColorRenderbuffer[ye]&&n.deleteRenderbuffer(T.__webglColorRenderbuffer[ye]);T.__webglDepthRenderbuffer&&n.deleteRenderbuffer(T.__webglDepthRenderbuffer)}const le=U.textures;for(let ye=0,Fe=le.length;ye<Fe;ye++){const we=i.get(le[ye]);we.__webglTexture&&(n.deleteTexture(we.__webglTexture),a.memory.textures--),i.remove(le[ye])}i.remove(U)}let V=0;function Y(){V=0}function X(){const U=V;return U>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+r.maxTextures),V+=1,U}function K(U){const T=[];return T.push(U.wrapS),T.push(U.wrapT),T.push(U.wrapR||0),T.push(U.magFilter),T.push(U.minFilter),T.push(U.anisotropy),T.push(U.internalFormat),T.push(U.format),T.push(U.type),T.push(U.generateMipmaps),T.push(U.premultiplyAlpha),T.push(U.flipY),T.push(U.unpackAlignment),T.push(U.colorSpace),T.join()}function Q(U,T){const le=i.get(U);if(U.isVideoTexture&&Ne(U),U.isRenderTargetTexture===!1&&U.version>0&&le.__version!==U.version){const ye=U.image;if(ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(le,U,T);return}}t.bindTexture(n.TEXTURE_2D,le.__webglTexture,n.TEXTURE0+T)}function z(U,T){const le=i.get(U);if(U.version>0&&le.__version!==U.version){J(le,U,T);return}t.bindTexture(n.TEXTURE_2D_ARRAY,le.__webglTexture,n.TEXTURE0+T)}function D(U,T){const le=i.get(U);if(U.version>0&&le.__version!==U.version){J(le,U,T);return}t.bindTexture(n.TEXTURE_3D,le.__webglTexture,n.TEXTURE0+T)}function N(U,T){const le=i.get(U);if(U.version>0&&le.__version!==U.version){Ce(le,U,T);return}t.bindTexture(n.TEXTURE_CUBE_MAP,le.__webglTexture,n.TEXTURE0+T)}const L={[ws]:n.REPEAT,[Ki]:n.CLAMP_TO_EDGE,[$d]:n.MIRRORED_REPEAT},P={[br]:n.NEAREST,[gA]:n.NEAREST_MIPMAP_NEAREST,[uu]:n.NEAREST_MIPMAP_LINEAR,[Tn]:n.LINEAR,[Nd]:n.LINEAR_MIPMAP_NEAREST,[Ka]:n.LINEAR_MIPMAP_LINEAR},O={[gN]:n.NEVER,[mN]:n.ALWAYS,[uN]:n.LESS,[e7]:n.LEQUAL,[dN]:n.EQUAL,[hN]:n.GEQUAL,[IN]:n.GREATER,[CN]:n.NOTEQUAL};function ie(U,T){if(T.type===wi&&e.has("OES_texture_float_linear")===!1&&(T.magFilter===Tn||T.magFilter===Nd||T.magFilter===uu||T.magFilter===Ka||T.minFilter===Tn||T.minFilter===Nd||T.minFilter===uu||T.minFilter===Ka)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(U,n.TEXTURE_WRAP_S,L[T.wrapS]),n.texParameteri(U,n.TEXTURE_WRAP_T,L[T.wrapT]),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,L[T.wrapR]),n.texParameteri(U,n.TEXTURE_MAG_FILTER,P[T.magFilter]),n.texParameteri(U,n.TEXTURE_MIN_FILTER,P[T.minFilter]),T.compareFunction&&(n.texParameteri(U,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(U,n.TEXTURE_COMPARE_FUNC,O[T.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(T.magFilter===br||T.minFilter!==uu&&T.minFilter!==Ka||T.type===wi&&e.has("OES_texture_float_linear")===!1)return;if(T.anisotropy>1||i.get(T).__currentAnisotropy){const le=e.get("EXT_texture_filter_anisotropic");n.texParameterf(U,le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,r.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy}}}function ge(U,T){let le=!1;U.__webglInit===void 0&&(U.__webglInit=!0,T.addEventListener("dispose",S));const ye=T.source;let Fe=d.get(ye);Fe===void 0&&(Fe={},d.set(ye,Fe));const we=K(T);if(we!==U.__cacheKey){Fe[we]===void 0&&(Fe[we]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,le=!0),Fe[we].usedTimes++;const tt=Fe[U.__cacheKey];tt!==void 0&&(Fe[U.__cacheKey].usedTimes--,tt.usedTimes===0&&q(T)),U.__cacheKey=we,U.__webglTexture=Fe[we].texture}return le}function J(U,T,le){let ye=n.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(ye=n.TEXTURE_2D_ARRAY),T.isData3DTexture&&(ye=n.TEXTURE_3D);const Fe=ge(U,T),we=T.source;t.bindTexture(ye,U.__webglTexture,n.TEXTURE0+le);const tt=i.get(we);if(we.version!==tt.__version||Fe===!0){t.activeTexture(n.TEXTURE0+le);const je=Wn.getPrimaries(Wn.workingColorSpace),Qe=T.colorSpace===Vl?null:Wn.getPrimaries(T.colorSpace),Rt=T.colorSpace===Vl||je===Qe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);let ze=b(T.image,!1,r.maxTextureSize);ze=Je(T,ze);const st=o.convert(T.format,T.colorSpace),gt=o.convert(T.type);let ot=B(T.internalFormat,st,gt,T.colorSpace,T.isVideoTexture);ie(ye,T);let dt;const ue=T.mipmaps,Me=T.isVideoTexture!==!0,$e=tt.__version===void 0||Fe===!0,ce=we.dataReady,Se=w(T,ze);if(T.isDepthTexture)ot=x(T.format===Lu,T.type),$e&&(Me?t.texStorage2D(n.TEXTURE_2D,1,ot,ze.width,ze.height):t.texImage2D(n.TEXTURE_2D,0,ot,ze.width,ze.height,0,st,gt,null));else if(T.isDataTexture)if(ue.length>0){Me&&$e&&t.texStorage2D(n.TEXTURE_2D,Se,ot,ue[0].width,ue[0].height);for(let _e=0,Te=ue.length;_e<Te;_e++)dt=ue[_e],Me?ce&&t.texSubImage2D(n.TEXTURE_2D,_e,0,0,dt.width,dt.height,st,gt,dt.data):t.texImage2D(n.TEXTURE_2D,_e,ot,dt.width,dt.height,0,st,gt,dt.data);T.generateMipmaps=!1}else Me?($e&&t.texStorage2D(n.TEXTURE_2D,Se,ot,ze.width,ze.height),ce&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ze.width,ze.height,st,gt,ze.data)):t.texImage2D(n.TEXTURE_2D,0,ot,ze.width,ze.height,0,st,gt,ze.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){Me&&$e&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Se,ot,ue[0].width,ue[0].height,ze.depth);for(let _e=0,Te=ue.length;_e<Te;_e++)if(dt=ue[_e],T.format!==Li)if(st!==null)if(Me){if(ce)if(T.layerUpdates.size>0){const It=o8(dt.width,dt.height,T.format,T.type);for(const at of T.layerUpdates){const _t=dt.data.subarray(at*It/dt.data.BYTES_PER_ELEMENT,(at+1)*It/dt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,at,dt.width,dt.height,1,st,_t)}T.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,0,dt.width,dt.height,ze.depth,st,dt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,_e,ot,dt.width,dt.height,ze.depth,0,dt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?ce&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,_e,0,0,0,dt.width,dt.height,ze.depth,st,gt,dt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,_e,ot,dt.width,dt.height,ze.depth,0,st,gt,dt.data)}else{Me&&$e&&t.texStorage2D(n.TEXTURE_2D,Se,ot,ue[0].width,ue[0].height);for(let _e=0,Te=ue.length;_e<Te;_e++)dt=ue[_e],T.format!==Li?st!==null?Me?ce&&t.compressedTexSubImage2D(n.TEXTURE_2D,_e,0,0,dt.width,dt.height,st,dt.data):t.compressedTexImage2D(n.TEXTURE_2D,_e,ot,dt.width,dt.height,0,dt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?ce&&t.texSubImage2D(n.TEXTURE_2D,_e,0,0,dt.width,dt.height,st,gt,dt.data):t.texImage2D(n.TEXTURE_2D,_e,ot,dt.width,dt.height,0,st,gt,dt.data)}else if(T.isDataArrayTexture)if(Me){if($e&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Se,ot,ze.width,ze.height,ze.depth),ce)if(T.layerUpdates.size>0){const _e=o8(ze.width,ze.height,T.format,T.type);for(const Te of T.layerUpdates){const It=ze.data.subarray(Te*_e/ze.data.BYTES_PER_ELEMENT,(Te+1)*_e/ze.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Te,ze.width,ze.height,1,st,gt,It)}T.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ze.width,ze.height,ze.depth,st,gt,ze.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ot,ze.width,ze.height,ze.depth,0,st,gt,ze.data);else if(T.isData3DTexture)Me?($e&&t.texStorage3D(n.TEXTURE_3D,Se,ot,ze.width,ze.height,ze.depth),ce&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ze.width,ze.height,ze.depth,st,gt,ze.data)):t.texImage3D(n.TEXTURE_3D,0,ot,ze.width,ze.height,ze.depth,0,st,gt,ze.data);else if(T.isFramebufferTexture){if($e)if(Me)t.texStorage2D(n.TEXTURE_2D,Se,ot,ze.width,ze.height);else{let _e=ze.width,Te=ze.height;for(let It=0;It<Se;It++)t.texImage2D(n.TEXTURE_2D,It,ot,_e,Te,0,st,gt,null),_e>>=1,Te>>=1}}else if(ue.length>0){if(Me&&$e){const _e=Ke(ue[0]);t.texStorage2D(n.TEXTURE_2D,Se,ot,_e.width,_e.height)}for(let _e=0,Te=ue.length;_e<Te;_e++)dt=ue[_e],Me?ce&&t.texSubImage2D(n.TEXTURE_2D,_e,0,0,st,gt,dt):t.texImage2D(n.TEXTURE_2D,_e,ot,st,gt,dt);T.generateMipmaps=!1}else if(Me){if($e){const _e=Ke(ze);t.texStorage2D(n.TEXTURE_2D,Se,ot,_e.width,_e.height)}ce&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st,gt,ze)}else t.texImage2D(n.TEXTURE_2D,0,ot,st,gt,ze);A(T)&&p(ye),tt.__version=we.version,T.onUpdate&&T.onUpdate(T)}U.__version=T.version}function Ce(U,T,le){if(T.image.length!==6)return;const ye=ge(U,T),Fe=T.source;t.bindTexture(n.TEXTURE_CUBE_MAP,U.__webglTexture,n.TEXTURE0+le);const we=i.get(Fe);if(Fe.version!==we.__version||ye===!0){t.activeTexture(n.TEXTURE0+le);const tt=Wn.getPrimaries(Wn.workingColorSpace),je=T.colorSpace===Vl?null:Wn.getPrimaries(T.colorSpace),Qe=T.colorSpace===Vl||tt===je?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);const Rt=T.isCompressedTexture||T.image[0].isCompressedTexture,ze=T.image[0]&&T.image[0].isDataTexture,st=[];for(let Te=0;Te<6;Te++)!Rt&&!ze?st[Te]=b(T.image[Te],!0,r.maxCubemapSize):st[Te]=ze?T.image[Te].image:T.image[Te],st[Te]=Je(T,st[Te]);const gt=st[0],ot=o.convert(T.format,T.colorSpace),dt=o.convert(T.type),ue=B(T.internalFormat,ot,dt,T.colorSpace),Me=T.isVideoTexture!==!0,$e=we.__version===void 0||ye===!0,ce=Fe.dataReady;let Se=w(T,gt);ie(n.TEXTURE_CUBE_MAP,T);let _e;if(Rt){Me&&$e&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Se,ue,gt.width,gt.height);for(let Te=0;Te<6;Te++){_e=st[Te].mipmaps;for(let It=0;It<_e.length;It++){const at=_e[It];T.format!==Li?ot!==null?Me?ce&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It,0,0,at.width,at.height,ot,at.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It,ue,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It,0,0,at.width,at.height,ot,dt,at.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It,ue,at.width,at.height,0,ot,dt,at.data)}}}else{if(_e=T.mipmaps,Me&&$e){_e.length>0&&Se++;const Te=Ke(st[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Se,ue,Te.width,Te.height)}for(let Te=0;Te<6;Te++)if(ze){Me?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,st[Te].width,st[Te].height,ot,dt,st[Te].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,ue,st[Te].width,st[Te].height,0,ot,dt,st[Te].data);for(let It=0;It<_e.length;It++){const _t=_e[It].image[Te].image;Me?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It+1,0,0,_t.width,_t.height,ot,dt,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It+1,ue,_t.width,_t.height,0,ot,dt,_t.data)}}else{Me?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,ot,dt,st[Te]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,ue,ot,dt,st[Te]);for(let It=0;It<_e.length;It++){const at=_e[It];Me?ce&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It+1,0,0,ot,dt,at.image[Te]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,It+1,ue,ot,dt,at.image[Te])}}}A(T)&&p(n.TEXTURE_CUBE_MAP),we.__version=Fe.version,T.onUpdate&&T.onUpdate(T)}U.__version=T.version}function ve(U,T,le,ye,Fe,we){const tt=o.convert(le.format,le.colorSpace),je=o.convert(le.type),Qe=B(le.internalFormat,tt,je,le.colorSpace),Rt=i.get(T),ze=i.get(le);if(ze.__renderTarget=T,!Rt.__hasExternalTextures){const st=Math.max(1,T.width>>we),gt=Math.max(1,T.height>>we);Fe===n.TEXTURE_3D||Fe===n.TEXTURE_2D_ARRAY?t.texImage3D(Fe,we,Qe,st,gt,T.depth,0,tt,je,null):t.texImage2D(Fe,we,Qe,st,gt,0,tt,je,null)}t.bindFramebuffer(n.FRAMEBUFFER,U),Ye(T)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ye,Fe,ze.__webglTexture,0,Ze(T)):(Fe===n.TEXTURE_2D||Fe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Fe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ye,Fe,ze.__webglTexture,we),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ae(U,T,le){if(n.bindRenderbuffer(n.RENDERBUFFER,U),T.depthBuffer){const ye=T.depthTexture,Fe=ye&&ye.isDepthTexture?ye.type:null,we=x(T.stencilBuffer,Fe),tt=T.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,je=Ze(T);Ye(T)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,je,we,T.width,T.height):le?n.renderbufferStorageMultisample(n.RENDERBUFFER,je,we,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,we,T.width,T.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,tt,n.RENDERBUFFER,U)}else{const ye=T.textures;for(let Fe=0;Fe<ye.length;Fe++){const we=ye[Fe],tt=o.convert(we.format,we.colorSpace),je=o.convert(we.type),Qe=B(we.internalFormat,tt,je,we.colorSpace),Rt=Ze(T);le&&Ye(T)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Rt,Qe,T.width,T.height):Ye(T)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Rt,Qe,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,Qe,T.width,T.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Xe(U,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,U),!(T.depthTexture&&T.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ye=i.get(T.depthTexture);ye.__renderTarget=T,(!ye.__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),Q(T.depthTexture,0);const Fe=ye.__webglTexture,we=Ze(T);if(T.depthTexture.format===wu)Ye(T)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Fe,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Fe,0);else if(T.depthTexture.format===Lu)Ye(T)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Fe,0,we):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Fe,0);else throw new Error("Unknown depthTexture format")}function Le(U){const T=i.get(U),le=U.isWebGLCubeRenderTarget===!0;if(T.__boundDepthTexture!==U.depthTexture){const ye=U.depthTexture;if(T.__depthDisposeCallback&&T.__depthDisposeCallback(),ye){const Fe=()=>{delete T.__boundDepthTexture,delete T.__depthDisposeCallback,ye.removeEventListener("dispose",Fe)};ye.addEventListener("dispose",Fe),T.__depthDisposeCallback=Fe}T.__boundDepthTexture=ye}if(U.depthTexture&&!T.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");Xe(T.__webglFramebuffer,U)}else if(le){T.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)if(t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer[ye]),T.__webglDepthbuffer[ye]===void 0)T.__webglDepthbuffer[ye]=n.createRenderbuffer(),Ae(T.__webglDepthbuffer[ye],U,!1);else{const Fe=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=T.__webglDepthbuffer[ye];n.bindRenderbuffer(n.RENDERBUFFER,we),n.framebufferRenderbuffer(n.FRAMEBUFFER,Fe,n.RENDERBUFFER,we)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer===void 0)T.__webglDepthbuffer=n.createRenderbuffer(),Ae(T.__webglDepthbuffer,U,!1);else{const ye=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Fe=T.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ye,n.RENDERBUFFER,Fe)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(U,T,le){const ye=i.get(U);T!==void 0&&ve(ye.__webglFramebuffer,U,U.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),le!==void 0&&Le(U)}function be(U){const T=U.texture,le=i.get(U),ye=i.get(T);U.addEventListener("dispose",Z);const Fe=U.textures,we=U.isWebGLCubeRenderTarget===!0,tt=Fe.length>1;if(tt||(ye.__webglTexture===void 0&&(ye.__webglTexture=n.createTexture()),ye.__version=T.version,a.memory.textures++),we){le.__webglFramebuffer=[];for(let je=0;je<6;je++)if(T.mipmaps&&T.mipmaps.length>0){le.__webglFramebuffer[je]=[];for(let Qe=0;Qe<T.mipmaps.length;Qe++)le.__webglFramebuffer[je][Qe]=n.createFramebuffer()}else le.__webglFramebuffer[je]=n.createFramebuffer()}else{if(T.mipmaps&&T.mipmaps.length>0){le.__webglFramebuffer=[];for(let je=0;je<T.mipmaps.length;je++)le.__webglFramebuffer[je]=n.createFramebuffer()}else le.__webglFramebuffer=n.createFramebuffer();if(tt)for(let je=0,Qe=Fe.length;je<Qe;je++){const Rt=i.get(Fe[je]);Rt.__webglTexture===void 0&&(Rt.__webglTexture=n.createTexture(),a.memory.textures++)}if(U.samples>0&&Ye(U)===!1){le.__webglMultisampledFramebuffer=n.createFramebuffer(),le.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,le.__webglMultisampledFramebuffer);for(let je=0;je<Fe.length;je++){const Qe=Fe[je];le.__webglColorRenderbuffer[je]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,le.__webglColorRenderbuffer[je]);const Rt=o.convert(Qe.format,Qe.colorSpace),ze=o.convert(Qe.type),st=B(Qe.internalFormat,Rt,ze,Qe.colorSpace,U.isXRRenderTarget===!0),gt=Ze(U);n.renderbufferStorageMultisample(n.RENDERBUFFER,gt,st,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+je,n.RENDERBUFFER,le.__webglColorRenderbuffer[je])}n.bindRenderbuffer(n.RENDERBUFFER,null),U.depthBuffer&&(le.__webglDepthRenderbuffer=n.createRenderbuffer(),Ae(le.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(we){t.bindTexture(n.TEXTURE_CUBE_MAP,ye.__webglTexture),ie(n.TEXTURE_CUBE_MAP,T);for(let je=0;je<6;je++)if(T.mipmaps&&T.mipmaps.length>0)for(let Qe=0;Qe<T.mipmaps.length;Qe++)ve(le.__webglFramebuffer[je][Qe],U,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+je,Qe);else ve(le.__webglFramebuffer[je],U,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0);A(T)&&p(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(tt){for(let je=0,Qe=Fe.length;je<Qe;je++){const Rt=Fe[je],ze=i.get(Rt);t.bindTexture(n.TEXTURE_2D,ze.__webglTexture),ie(n.TEXTURE_2D,Rt),ve(le.__webglFramebuffer,U,Rt,n.COLOR_ATTACHMENT0+je,n.TEXTURE_2D,0),A(Rt)&&p(n.TEXTURE_2D)}t.unbindTexture()}else{let je=n.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(je=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(je,ye.__webglTexture),ie(je,T),T.mipmaps&&T.mipmaps.length>0)for(let Qe=0;Qe<T.mipmaps.length;Qe++)ve(le.__webglFramebuffer[Qe],U,T,n.COLOR_ATTACHMENT0,je,Qe);else ve(le.__webglFramebuffer,U,T,n.COLOR_ATTACHMENT0,je,0);A(T)&&p(je),t.unbindTexture()}U.depthBuffer&&Le(U)}function Ie(U){const T=U.textures;for(let le=0,ye=T.length;le<ye;le++){const Fe=T[le];if(A(Fe)){const we=y(U),tt=i.get(Fe).__webglTexture;t.bindTexture(we,tt),p(we),t.unbindTexture()}}}const pe=[],$=[];function Ge(U){if(U.samples>0){if(Ye(U)===!1){const T=U.textures,le=U.width,ye=U.height;let Fe=n.COLOR_BUFFER_BIT;const we=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,tt=i.get(U),je=T.length>1;if(je)for(let Qe=0;Qe<T.length;Qe++)t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,tt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglFramebuffer);for(let Qe=0;Qe<T.length;Qe++){if(U.resolveDepthBuffer&&(U.depthBuffer&&(Fe|=n.DEPTH_BUFFER_BIT),U.stencilBuffer&&U.resolveStencilBuffer&&(Fe|=n.STENCIL_BUFFER_BIT)),je){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,tt.__webglColorRenderbuffer[Qe]);const Rt=i.get(T[Qe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Rt,0)}n.blitFramebuffer(0,0,le,ye,0,0,le,ye,Fe,n.NEAREST),l===!0&&(pe.length=0,$.length=0,pe.push(n.COLOR_ATTACHMENT0+Qe),U.depthBuffer&&U.resolveDepthBuffer===!1&&(pe.push(we),$.push(we),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,$)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,pe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),je)for(let Qe=0;Qe<T.length;Qe++){t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.RENDERBUFFER,tt.__webglColorRenderbuffer[Qe]);const Rt=i.get(T[Qe]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,tt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.TEXTURE_2D,Rt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,tt.__webglMultisampledFramebuffer)}else if(U.depthBuffer&&U.resolveDepthBuffer===!1&&l){const T=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[T])}}}function Ze(U){return Math.min(r.maxSamples,U.samples)}function Ye(U){const T=i.get(U);return U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&T.__useRenderToTexture!==!1}function Ne(U){const T=a.render.frame;g.get(U)!==T&&(g.set(U,T),U.update())}function Je(U,T){const le=U.colorSpace,ye=U.format,Fe=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||le!==ll&&le!==Vl&&(Wn.getTransfer(le)===Un?(ye!==Li||Fe!==Po)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",le)),T}function Ke(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement?(c.width=U.naturalWidth||U.width,c.height=U.naturalHeight||U.height):typeof VideoFrame<"u"&&U instanceof VideoFrame?(c.width=U.displayWidth,c.height=U.displayHeight):(c.width=U.width,c.height=U.height),c}this.allocateTextureUnit=X,this.resetTextureUnits=Y,this.setTexture2D=Q,this.setTexture2DArray=z,this.setTexture3D=D,this.setTextureCube=N,this.rebindTextures=Ee,this.setupRenderTarget=be,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Le,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ye}function MN(n,e){function t(i,r=Vl){let o;const a=Wn.getTransfer(r);if(i===Po)return n.UNSIGNED_BYTE;if(i===IA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===CA)return n.UNSIGNED_SHORT_5_5_5_1;if(i===ky)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===uA)return n.BYTE;if(i===dA)return n.SHORT;if(i===e0)return n.UNSIGNED_SHORT;if(i===Nh)return n.INT;if(i===sl)return n.UNSIGNED_INT;if(i===wi)return n.FLOAT;if(i===pr)return n.HALF_FLOAT;if(i===Py)return n.ALPHA;if(i===Dy)return n.RGB;if(i===Li)return n.RGBA;if(i===Uy)return n.LUMINANCE;if(i===Oy)return n.LUMINANCE_ALPHA;if(i===wu)return n.DEPTH_COMPONENT;if(i===Lu)return n.DEPTH_STENCIL;if(i===Fh)return n.RED;if(i===Hh)return n.RED_INTEGER;if(i===jy)return n.RG;if(i===hA)return n.RG_INTEGER;if(i===mA)return n.RGBA_INTEGER;if(i===gC||i===uC||i===dC||i===IC)if(a===Un)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===gC)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===uC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===dC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===IC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===gC)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===uC)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===dC)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===IC)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Dp||i===Up||i===Op||i===jp)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===Dp)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Up)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Op)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===jp)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Jp||i===Qp||i===$p)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(i===Jp||i===Qp)return a===Un?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===$p)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===e3||i===t3||i===n3||i===i3||i===r3||i===o3||i===a3||i===s3||i===l3||i===c3||i===g3||i===u3||i===d3||i===I3)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(i===e3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===t3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===n3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===i3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===r3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===o3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===a3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===s3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===l3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===c3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===g3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===u3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===d3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===I3)return a===Un?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===CC||i===C3||i===h3)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(i===CC)return a===Un?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===C3)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===h3)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Jy||i===m3||i===f3||i===p3)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(i===CC)return o.COMPRESSED_RED_RGTC1_EXT;if(i===m3)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===f3)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===p3)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Ku?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}class _N extends mi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class El extends Sn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cQ={type:"move"};class v4{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new El,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new El,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new El,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const b of e.hand.values()){const A=t.getJointPose(b,i),p=this._getHandJoint(c,b);A!==null&&(p.matrix.fromArray(A.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=A.radius),p.visible=A!==null}const g=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],d=g.position.distanceTo(u.position),C=.02,f=.005;c.inputState.pinching&&d>C+f?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=C-f&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(cQ)))}return s!==null&&(s.visible=r!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new El;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const gQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,uQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class dQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new Ln,o=e.properties.get(r);o.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Do({vertexShader:gQ,fragmentShader:uQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new pi(new hg(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class IQ extends ja{constructor(e,t){super();const i=this;let r=null,o=1,a=null,s="local-floor",l=1,c=null,g=null,u=null,d=null,C=null,f=null;const b=new dQ,A=t.getContextAttributes();let p=null,y=null;const B=[],x=[],w=new et;let S=null;const Z=new mi;Z.viewport=new Hn;const M=new mi;M.viewport=new Hn;const q=[Z,M],_=new _N;let V=null,Y=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let Ce=B[J];return Ce===void 0&&(Ce=new v4,B[J]=Ce),Ce.getTargetRaySpace()},this.getControllerGrip=function(J){let Ce=B[J];return Ce===void 0&&(Ce=new v4,B[J]=Ce),Ce.getGripSpace()},this.getHand=function(J){let Ce=B[J];return Ce===void 0&&(Ce=new v4,B[J]=Ce),Ce.getHandSpace()};function X(J){const Ce=x.indexOf(J.inputSource);if(Ce===-1)return;const ve=B[Ce];ve!==void 0&&(ve.update(J.inputSource,J.frame,c||a),ve.dispatchEvent({type:J.type,data:J.inputSource}))}function K(){r.removeEventListener("select",X),r.removeEventListener("selectstart",X),r.removeEventListener("selectend",X),r.removeEventListener("squeeze",X),r.removeEventListener("squeezestart",X),r.removeEventListener("squeezeend",X),r.removeEventListener("end",K),r.removeEventListener("inputsourceschange",Q);for(let J=0;J<B.length;J++){const Ce=x[J];Ce!==null&&(x[J]=null,B[J].disconnect(Ce))}V=null,Y=null,b.reset(),e.setRenderTarget(p),C=null,d=null,u=null,r=null,y=null,ge.stop(),i.isPresenting=!1,e.setPixelRatio(S),e.setSize(w.width,w.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){o=J,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){s=J,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return d!==null?d:C},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(J){if(r=J,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",X),r.addEventListener("selectstart",X),r.addEventListener("selectend",X),r.addEventListener("squeeze",X),r.addEventListener("squeezestart",X),r.addEventListener("squeezeend",X),r.addEventListener("end",K),r.addEventListener("inputsourceschange",Q),A.xrCompatible!==!0&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(w),r.renderState.layers===void 0){const Ce={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:o};C=new XRWebGLLayer(r,t,Ce),r.updateRenderState({baseLayer:C}),e.setPixelRatio(1),e.setSize(C.framebufferWidth,C.framebufferHeight,!1),y=new ha(C.framebufferWidth,C.framebufferHeight,{format:Li,type:Po,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}else{let Ce=null,ve=null,Ae=null;A.depth&&(Ae=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ce=A.stencil?Lu:wu,ve=A.stencil?Ku:sl);const Xe={colorFormat:t.RGBA8,depthFormat:Ae,scaleFactor:o};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(Xe),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),y=new ha(d.textureWidth,d.textureHeight,{format:Li,type:Po,depthTexture:new s7(d.textureWidth,d.textureHeight,ve,void 0,void 0,void 0,void 0,void 0,void 0,Ce),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await r.requestReferenceSpace(s),ge.setContext(r),ge.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function Q(J){for(let Ce=0;Ce<J.removed.length;Ce++){const ve=J.removed[Ce],Ae=x.indexOf(ve);Ae>=0&&(x[Ae]=null,B[Ae].disconnect(ve))}for(let Ce=0;Ce<J.added.length;Ce++){const ve=J.added[Ce];let Ae=x.indexOf(ve);if(Ae===-1){for(let Le=0;Le<B.length;Le++)if(Le>=x.length){x.push(ve),Ae=Le;break}else if(x[Le]===null){x[Le]=ve,Ae=Le;break}if(Ae===-1)break}const Xe=B[Ae];Xe&&Xe.connect(ve)}}const z=new k,D=new k;function N(J,Ce,ve){z.setFromMatrixPosition(Ce.matrixWorld),D.setFromMatrixPosition(ve.matrixWorld);const Ae=z.distanceTo(D),Xe=Ce.projectionMatrix.elements,Le=ve.projectionMatrix.elements,Ee=Xe[14]/(Xe[10]-1),be=Xe[14]/(Xe[10]+1),Ie=(Xe[9]+1)/Xe[5],pe=(Xe[9]-1)/Xe[5],$=(Xe[8]-1)/Xe[0],Ge=(Le[8]+1)/Le[0],Ze=Ee*$,Ye=Ee*Ge,Ne=Ae/(-$+Ge),Je=Ne*-$;if(Ce.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Je),J.translateZ(Ne),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),Xe[10]===-1)J.projectionMatrix.copy(Ce.projectionMatrix),J.projectionMatrixInverse.copy(Ce.projectionMatrixInverse);else{const Ke=Ee+Ne,U=be+Ne,T=Ze-Je,le=Ye+(Ae-Je),ye=Ie*be/U*Ke,Fe=pe*be/U*Ke;J.projectionMatrix.makePerspective(T,le,ye,Fe,Ke,U),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function L(J,Ce){Ce===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(Ce.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(r===null)return;let Ce=J.near,ve=J.far;b.texture!==null&&(b.depthNear>0&&(Ce=b.depthNear),b.depthFar>0&&(ve=b.depthFar)),_.near=M.near=Z.near=Ce,_.far=M.far=Z.far=ve,(V!==_.near||Y!==_.far)&&(r.updateRenderState({depthNear:_.near,depthFar:_.far}),V=_.near,Y=_.far),Z.layers.mask=J.layers.mask|2,M.layers.mask=J.layers.mask|4,_.layers.mask=Z.layers.mask|M.layers.mask;const Ae=J.parent,Xe=_.cameras;L(_,Ae);for(let Le=0;Le<Xe.length;Le++)L(Xe[Le],Ae);Xe.length===2?N(_,Z,M):_.projectionMatrix.copy(Z.projectionMatrix),P(J,_,Ae)};function P(J,Ce,ve){ve===null?J.matrix.copy(Ce.matrixWorld):(J.matrix.copy(ve.matrixWorld),J.matrix.invert(),J.matrix.multiply(Ce.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(Ce.projectionMatrix),J.projectionMatrixInverse.copy(Ce.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=i0*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return _},this.getFoveation=function(){if(!(d===null&&C===null))return l},this.setFoveation=function(J){l=J,d!==null&&(d.fixedFoveation=J),C!==null&&C.fixedFoveation!==void 0&&(C.fixedFoveation=J)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(_)};let O=null;function ie(J,Ce){if(g=Ce.getViewerPose(c||a),f=Ce,g!==null){const ve=g.views;C!==null&&(e.setRenderTargetFramebuffer(y,C.framebuffer),e.setRenderTarget(y));let Ae=!1;ve.length!==_.cameras.length&&(_.cameras.length=0,Ae=!0);for(let Le=0;Le<ve.length;Le++){const Ee=ve[Le];let be=null;if(C!==null)be=C.getViewport(Ee);else{const pe=u.getViewSubImage(d,Ee);be=pe.viewport,Le===0&&(e.setRenderTargetTextures(y,pe.colorTexture,d.ignoreDepthValues?void 0:pe.depthStencilTexture),e.setRenderTarget(y))}let Ie=q[Le];Ie===void 0&&(Ie=new mi,Ie.layers.enable(Le),Ie.viewport=new Hn,q[Le]=Ie),Ie.matrix.fromArray(Ee.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(Ee.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(be.x,be.y,be.width,be.height),Le===0&&(_.matrix.copy(Ie.matrix),_.matrix.decompose(_.position,_.quaternion,_.scale)),Ae===!0&&_.cameras.push(Ie)}const Xe=r.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")){const Le=u.getDepthInformation(ve[0]);Le&&Le.isValid&&Le.texture&&b.init(e,Le,r.renderState)}}for(let ve=0;ve<B.length;ve++){const Ae=x[ve],Xe=B[ve];Ae!==null&&Xe!==void 0&&Xe.update(Ae,Ce,c||a)}O&&O(J,Ce),Ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ce}),f=null}const ge=new wN;ge.setAnimationLoop(ie),this.setAnimationLoop=function(J){O=J},this.dispose=function(){}}}const Hg=new rn,CQ=new vt;function hQ(n,e){function t(A,p){A.matrixAutoUpdate===!0&&A.updateMatrix(),p.value.copy(A.matrix)}function i(A,p){p.color.getRGB(A.fogColor.value,xN(n)),p.isFog?(A.fogNear.value=p.near,A.fogFar.value=p.far):p.isFogExp2&&(A.fogDensity.value=p.density)}function r(A,p,y,B,x){p.isMeshBasicMaterial||p.isMeshLambertMaterial?o(A,p):p.isMeshToonMaterial?(o(A,p),u(A,p)):p.isMeshPhongMaterial?(o(A,p),g(A,p)):p.isMeshStandardMaterial?(o(A,p),d(A,p),p.isMeshPhysicalMaterial&&C(A,p,x)):p.isMeshMatcapMaterial?(o(A,p),f(A,p)):p.isMeshDepthMaterial?o(A,p):p.isMeshDistanceMaterial?(o(A,p),b(A,p)):p.isMeshNormalMaterial?o(A,p):p.isLineBasicMaterial?(a(A,p),p.isLineDashedMaterial&&s(A,p)):p.isPointsMaterial?l(A,p,y,B):p.isSpriteMaterial?c(A,p):p.isShadowMaterial?(A.color.value.copy(p.color),A.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function o(A,p){A.opacity.value=p.opacity,p.color&&A.diffuse.value.copy(p.color),p.emissive&&A.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(A.map.value=p.map,t(p.map,A.mapTransform)),p.alphaMap&&(A.alphaMap.value=p.alphaMap,t(p.alphaMap,A.alphaMapTransform)),p.bumpMap&&(A.bumpMap.value=p.bumpMap,t(p.bumpMap,A.bumpMapTransform),A.bumpScale.value=p.bumpScale,p.side===ki&&(A.bumpScale.value*=-1)),p.normalMap&&(A.normalMap.value=p.normalMap,t(p.normalMap,A.normalMapTransform),A.normalScale.value.copy(p.normalScale),p.side===ki&&A.normalScale.value.negate()),p.displacementMap&&(A.displacementMap.value=p.displacementMap,t(p.displacementMap,A.displacementMapTransform),A.displacementScale.value=p.displacementScale,A.displacementBias.value=p.displacementBias),p.emissiveMap&&(A.emissiveMap.value=p.emissiveMap,t(p.emissiveMap,A.emissiveMapTransform)),p.specularMap&&(A.specularMap.value=p.specularMap,t(p.specularMap,A.specularMapTransform)),p.alphaTest>0&&(A.alphaTest.value=p.alphaTest);const y=e.get(p),B=y.envMap,x=y.envMapRotation;B&&(A.envMap.value=B,Hg.copy(x),Hg.x*=-1,Hg.y*=-1,Hg.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(Hg.y*=-1,Hg.z*=-1),A.envMapRotation.value.setFromMatrix4(CQ.makeRotationFromEuler(Hg)),A.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=p.reflectivity,A.ior.value=p.ior,A.refractionRatio.value=p.refractionRatio),p.lightMap&&(A.lightMap.value=p.lightMap,A.lightMapIntensity.value=p.lightMapIntensity,t(p.lightMap,A.lightMapTransform)),p.aoMap&&(A.aoMap.value=p.aoMap,A.aoMapIntensity.value=p.aoMapIntensity,t(p.aoMap,A.aoMapTransform))}function a(A,p){A.diffuse.value.copy(p.color),A.opacity.value=p.opacity,p.map&&(A.map.value=p.map,t(p.map,A.mapTransform))}function s(A,p){A.dashSize.value=p.dashSize,A.totalSize.value=p.dashSize+p.gapSize,A.scale.value=p.scale}function l(A,p,y,B){A.diffuse.value.copy(p.color),A.opacity.value=p.opacity,A.size.value=p.size*y,A.scale.value=B*.5,p.map&&(A.map.value=p.map,t(p.map,A.uvTransform)),p.alphaMap&&(A.alphaMap.value=p.alphaMap,t(p.alphaMap,A.alphaMapTransform)),p.alphaTest>0&&(A.alphaTest.value=p.alphaTest)}function c(A,p){A.diffuse.value.copy(p.color),A.opacity.value=p.opacity,A.rotation.value=p.rotation,p.map&&(A.map.value=p.map,t(p.map,A.mapTransform)),p.alphaMap&&(A.alphaMap.value=p.alphaMap,t(p.alphaMap,A.alphaMapTransform)),p.alphaTest>0&&(A.alphaTest.value=p.alphaTest)}function g(A,p){A.specular.value.copy(p.specular),A.shininess.value=Math.max(p.shininess,1e-4)}function u(A,p){p.gradientMap&&(A.gradientMap.value=p.gradientMap)}function d(A,p){A.metalness.value=p.metalness,p.metalnessMap&&(A.metalnessMap.value=p.metalnessMap,t(p.metalnessMap,A.metalnessMapTransform)),A.roughness.value=p.roughness,p.roughnessMap&&(A.roughnessMap.value=p.roughnessMap,t(p.roughnessMap,A.roughnessMapTransform)),p.envMap&&(A.envMapIntensity.value=p.envMapIntensity)}function C(A,p,y){A.ior.value=p.ior,p.sheen>0&&(A.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),A.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(A.sheenColorMap.value=p.sheenColorMap,t(p.sheenColorMap,A.sheenColorMapTransform)),p.sheenRoughnessMap&&(A.sheenRoughnessMap.value=p.sheenRoughnessMap,t(p.sheenRoughnessMap,A.sheenRoughnessMapTransform))),p.clearcoat>0&&(A.clearcoat.value=p.clearcoat,A.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(A.clearcoatMap.value=p.clearcoatMap,t(p.clearcoatMap,A.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,t(p.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(A.clearcoatNormalMap.value=p.clearcoatNormalMap,t(p.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===ki&&A.clearcoatNormalScale.value.negate())),p.dispersion>0&&(A.dispersion.value=p.dispersion),p.iridescence>0&&(A.iridescence.value=p.iridescence,A.iridescenceIOR.value=p.iridescenceIOR,A.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(A.iridescenceMap.value=p.iridescenceMap,t(p.iridescenceMap,A.iridescenceMapTransform)),p.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=p.iridescenceThicknessMap,t(p.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),p.transmission>0&&(A.transmission.value=p.transmission,A.transmissionSamplerMap.value=y.texture,A.transmissionSamplerSize.value.set(y.width,y.height),p.transmissionMap&&(A.transmissionMap.value=p.transmissionMap,t(p.transmissionMap,A.transmissionMapTransform)),A.thickness.value=p.thickness,p.thicknessMap&&(A.thicknessMap.value=p.thicknessMap,t(p.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=p.attenuationDistance,A.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(A.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(A.anisotropyMap.value=p.anisotropyMap,t(p.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=p.specularIntensity,A.specularColor.value.copy(p.specularColor),p.specularColorMap&&(A.specularColorMap.value=p.specularColorMap,t(p.specularColorMap,A.specularColorMapTransform)),p.specularIntensityMap&&(A.specularIntensityMap.value=p.specularIntensityMap,t(p.specularIntensityMap,A.specularIntensityMapTransform))}function f(A,p){p.matcap&&(A.matcap.value=p.matcap)}function b(A,p){const y=e.get(p).light;A.referencePosition.value.setFromMatrixPosition(y.matrixWorld),A.nearDistance.value=y.shadow.camera.near,A.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function mQ(n,e,t,i){let r={},o={},a=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,B){const x=B.program;i.uniformBlockBinding(y,x)}function c(y,B){let x=r[y.id];x===void 0&&(f(y),x=g(y),r[y.id]=x,y.addEventListener("dispose",A));const w=B.program;i.updateUBOMapping(y,w);const S=e.render.frame;o[y.id]!==S&&(d(y),o[y.id]=S)}function g(y){const B=u();y.__bindingPointIndex=B;const x=n.createBuffer(),w=y.__size,S=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,x),n.bufferData(n.UNIFORM_BUFFER,w,S),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,B,x),x}function u(){for(let y=0;y<s;y++)if(a.indexOf(y)===-1)return a.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const B=r[y.id],x=y.uniforms,w=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,B);for(let S=0,Z=x.length;S<Z;S++){const M=Array.isArray(x[S])?x[S]:[x[S]];for(let q=0,_=M.length;q<_;q++){const V=M[q];if(C(V,S,q,w)===!0){const Y=V.__offset,X=Array.isArray(V.value)?V.value:[V.value];let K=0;for(let Q=0;Q<X.length;Q++){const z=X[Q],D=b(z);typeof z=="number"||typeof z=="boolean"?(V.__data[0]=z,n.bufferSubData(n.UNIFORM_BUFFER,Y+K,V.__data)):z.isMatrix3?(V.__data[0]=z.elements[0],V.__data[1]=z.elements[1],V.__data[2]=z.elements[2],V.__data[3]=0,V.__data[4]=z.elements[3],V.__data[5]=z.elements[4],V.__data[6]=z.elements[5],V.__data[7]=0,V.__data[8]=z.elements[6],V.__data[9]=z.elements[7],V.__data[10]=z.elements[8],V.__data[11]=0):(z.toArray(V.__data,K),K+=D.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Y,V.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function C(y,B,x,w){const S=y.value,Z=B+"_"+x;if(w[Z]===void 0)return typeof S=="number"||typeof S=="boolean"?w[Z]=S:w[Z]=S.clone(),!0;{const M=w[Z];if(typeof S=="number"||typeof S=="boolean"){if(M!==S)return w[Z]=S,!0}else if(M.equals(S)===!1)return M.copy(S),!0}return!1}function f(y){const B=y.uniforms;let x=0;const w=16;for(let Z=0,M=B.length;Z<M;Z++){const q=Array.isArray(B[Z])?B[Z]:[B[Z]];for(let _=0,V=q.length;_<V;_++){const Y=q[_],X=Array.isArray(Y.value)?Y.value:[Y.value];for(let K=0,Q=X.length;K<Q;K++){const z=X[K],D=b(z),N=x%w,L=N%D.boundary,P=N+L;x+=L,P!==0&&w-P<D.storage&&(x+=w-P),Y.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),Y.__offset=x,x+=D.storage}}}const S=x%w;return S>0&&(x+=w-S),y.__size=x,y.__cache={},this}function b(y){const B={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(B.boundary=4,B.storage=4):y.isVector2?(B.boundary=8,B.storage=8):y.isVector3||y.isColor?(B.boundary=16,B.storage=12):y.isVector4?(B.boundary=16,B.storage=16):y.isMatrix3?(B.boundary=48,B.storage=48):y.isMatrix4?(B.boundary=64,B.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),B}function A(y){const B=y.target;B.removeEventListener("dispose",A);const x=a.indexOf(B.__bindingPointIndex);a.splice(x,1),n.deleteBuffer(r[B.id]),delete r[B.id],delete o[B.id]}function p(){for(const y in r)n.deleteBuffer(r[y]);a=[],r={},o={}}return{bind:l,update:c,dispose:p}}class g7{constructor(e={}){const{canvas:t=bN(),context:i=null,depth:r=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:d=!1}=e;this.isWebGLRenderer=!0;let C;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");C=i.getContextAttributes().alpha}else C=a;const f=new Uint32Array(4),b=new Int32Array(4);let A=null,p=null;const y=[],B=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Co,this.toneMapping=tl,this.toneMappingExposure=1;const x=this;let w=!1,S=0,Z=0,M=null,q=-1,_=null;const V=new Hn,Y=new Hn;let X=null;const K=new ke(0);let Q=0,z=t.width,D=t.height,N=1,L=null,P=null;const O=new Hn(0,0,z,D),ie=new Hn(0,0,z,D);let ge=!1;const J=new Yh;let Ce=!1,ve=!1;const Ae=new vt,Xe=new vt,Le=new k,Ee=new Hn,be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ie=!1;function pe(){return M===null?N:1}let $=i;function Ge(H,ee){return t.getContext(H,ee)}try{const H={alpha:!0,depth:r,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:g,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${S0}`),t.addEventListener("webglcontextlost",Te,!1),t.addEventListener("webglcontextrestored",It,!1),t.addEventListener("webglcontextcreationerror",at,!1),$===null){const ee="webgl2";if($=Ge(ee,H),$===null)throw Ge(ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Ze,Ye,Ne,Je,Ke,U,T,le,ye,Fe,we,tt,je,Qe,Rt,ze,st,gt,ot,dt,ue,Me,$e,ce;function Se(){Ze=new yj($),Ze.init(),Me=new MN($,Ze),Ye=new mj($,Ze,e,Me),Ne=new nQ($,Ze),Ye.reverseDepthBuffer&&d&&Ne.buffers.depth.setReversed(!0),Je=new Gj($),Ke=new LJ,U=new lQ($,Ze,Ne,Ke,Ye,Me,Je),T=new pj(x),le=new vj(x),ye=new _D($),$e=new Cj($,ye),Fe=new Bj($,ye,Je,$e),we=new Sj($,Fe,ye,Je),ot=new wj($,Ye,U),ze=new fj(Ke),tt=new KJ(x,T,le,Ze,Ye,$e,ze),je=new hQ(x,Ke),Qe=new kJ,Rt=new JJ(Ze),gt=new Ij(x,T,le,Ne,we,C,l),st=new eQ(x,we,Ye),ce=new mQ($,Je,Ye,Ne),dt=new hj($,Ze,Je),ue=new xj($,Ze,Je),Je.programs=tt.programs,x.capabilities=Ye,x.extensions=Ze,x.properties=Ke,x.renderLists=Qe,x.shadowMap=st,x.state=Ne,x.info=Je}Se();const _e=new IQ(x,$);this.xr=_e,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const H=Ze.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ze.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(H){H!==void 0&&(N=H,this.setSize(z,D,!1))},this.getSize=function(H){return H.set(z,D)},this.setSize=function(H,ee,te=!0){if(_e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=H,D=ee,t.width=Math.floor(H*N),t.height=Math.floor(ee*N),te===!0&&(t.style.width=H+"px",t.style.height=ee+"px"),this.setViewport(0,0,H,ee)},this.getDrawingBufferSize=function(H){return H.set(z*N,D*N).floor()},this.setDrawingBufferSize=function(H,ee,te){z=H,D=ee,N=te,t.width=Math.floor(H*te),t.height=Math.floor(ee*te),this.setViewport(0,0,H,ee)},this.getCurrentViewport=function(H){return H.copy(V)},this.getViewport=function(H){return H.copy(O)},this.setViewport=function(H,ee,te,re){H.isVector4?O.set(H.x,H.y,H.z,H.w):O.set(H,ee,te,re),Ne.viewport(V.copy(O).multiplyScalar(N).round())},this.getScissor=function(H){return H.copy(ie)},this.setScissor=function(H,ee,te,re){H.isVector4?ie.set(H.x,H.y,H.z,H.w):ie.set(H,ee,te,re),Ne.scissor(Y.copy(ie).multiplyScalar(N).round())},this.getScissorTest=function(){return ge},this.setScissorTest=function(H){Ne.setScissorTest(ge=H)},this.setOpaqueSort=function(H){L=H},this.setTransparentSort=function(H){P=H},this.getClearColor=function(H){return H.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(H=!0,ee=!0,te=!0){let re=0;if(H){let ne=!1;if(M!==null){const Be=M.texture.format;ne=Be===mA||Be===hA||Be===Hh}if(ne){const Be=M.texture.type,Re=Be===Po||Be===sl||Be===e0||Be===Ku||Be===IA||Be===CA,Ct=gt.getClearColor(),Ue=gt.getClearAlpha(),lt=Ct.r,pt=Ct.g,rt=Ct.b;Re?(f[0]=lt,f[1]=pt,f[2]=rt,f[3]=Ue,$.clearBufferuiv($.COLOR,0,f)):(b[0]=lt,b[1]=pt,b[2]=rt,b[3]=Ue,$.clearBufferiv($.COLOR,0,b))}else re|=$.COLOR_BUFFER_BIT}ee&&(re|=$.DEPTH_BUFFER_BIT),te&&(re|=$.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),$.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Te,!1),t.removeEventListener("webglcontextrestored",It,!1),t.removeEventListener("webglcontextcreationerror",at,!1),Qe.dispose(),Rt.dispose(),Ke.dispose(),T.dispose(),le.dispose(),we.dispose(),$e.dispose(),ce.dispose(),tt.dispose(),_e.dispose(),_e.removeEventListener("sessionstart",Nn),_e.removeEventListener("sessionend",xt),bt.stop()};function Te(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function It(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const H=Je.autoReset,ee=st.enabled,te=st.autoUpdate,re=st.needsUpdate,ne=st.type;Se(),Je.autoReset=H,st.enabled=ee,st.autoUpdate=te,st.needsUpdate=re,st.type=ne}function at(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function _t(H){const ee=H.target;ee.removeEventListener("dispose",_t),Ft(ee)}function Ft(H){Bt(H),Ke.remove(H)}function Bt(H){const ee=Ke.get(H).programs;ee!==void 0&&(ee.forEach(function(te){tt.releaseProgram(te)}),H.isShaderMaterial&&tt.releaseShaderCache(H))}this.renderBufferDirect=function(H,ee,te,re,ne,Be){ee===null&&(ee=be);const Re=ne.isMesh&&ne.matrixWorld.determinant()<0,Ct=de(H,ee,te,re,ne);Ne.setMaterial(re,Re);let Ue=te.index,lt=1;if(re.wireframe===!0){if(Ue=Fe.getWireframeAttribute(te),Ue===void 0)return;lt=2}const pt=te.drawRange,rt=te.attributes.position;let Ht=pt.start*lt,Et=(pt.start+pt.count)*lt;Be!==null&&(Ht=Math.max(Ht,Be.start*lt),Et=Math.min(Et,(Be.start+Be.count)*lt)),Ue!==null?(Ht=Math.max(Ht,0),Et=Math.min(Et,Ue.count)):rt!=null&&(Ht=Math.max(Ht,0),Et=Math.min(Et,rt.count));const St=Et-Ht;if(St<0||St===1/0)return;$e.setup(ne,re,Ct,te,Ue);let Ut,Xt=dt;if(Ue!==null&&(Ut=ye.get(Ue),Xt=ue,Xt.setIndex(Ut)),ne.isMesh)re.wireframe===!0?(Ne.setLineWidth(re.wireframeLinewidth*pe()),Xt.setMode($.LINES)):Xt.setMode($.TRIANGLES);else if(ne.isLine){let ft=re.linewidth;ft===void 0&&(ft=1),Ne.setLineWidth(ft*pe()),ne.isLineSegments?Xt.setMode($.LINES):ne.isLineLoop?Xt.setMode($.LINE_LOOP):Xt.setMode($.LINE_STRIP)}else ne.isPoints?Xt.setMode($.POINTS):ne.isSprite&&Xt.setMode($.TRIANGLES);if(ne.isBatchedMesh)if(ne._multiDrawInstances!==null)Xt.renderMultiDrawInstances(ne._multiDrawStarts,ne._multiDrawCounts,ne._multiDrawCount,ne._multiDrawInstances);else if(Ze.get("WEBGL_multi_draw"))Xt.renderMultiDraw(ne._multiDrawStarts,ne._multiDrawCounts,ne._multiDrawCount);else{const ft=ne._multiDrawStarts,Ot=ne._multiDrawCounts,Pt=ne._multiDrawCount,yn=Ue?ye.get(Ue).bytesPerElement:1,In=Ke.get(re).currentProgram.getUniforms();for(let An=0;An<Pt;An++)In.setValue($,"_gl_DrawID",An),Xt.render(ft[An]/yn,Ot[An])}else if(ne.isInstancedMesh)Xt.renderInstances(Ht,St,ne.count);else if(te.isInstancedBufferGeometry){const ft=te._maxInstanceCount!==void 0?te._maxInstanceCount:1/0,Ot=Math.min(te.instanceCount,ft);Xt.renderInstances(Ht,St,Ot)}else Xt.render(Ht,St)};function ut(H,ee,te){H.transparent===!0&&H.side===Fo&&H.forceSinglePass===!1?(H.side=ki,H.needsUpdate=!0,Rn(H,ee,te),H.side=ol,H.needsUpdate=!0,Rn(H,ee,te),H.side=Fo):Rn(H,ee,te)}this.compile=function(H,ee,te=null){te===null&&(te=H),p=Rt.get(te),p.init(ee),B.push(p),te.traverseVisible(function(ne){ne.isLight&&ne.layers.test(ee.layers)&&(p.pushLight(ne),ne.castShadow&&p.pushShadow(ne))}),H!==te&&H.traverseVisible(function(ne){ne.isLight&&ne.layers.test(ee.layers)&&(p.pushLight(ne),ne.castShadow&&p.pushShadow(ne))}),p.setupLights();const re=new Set;return H.traverse(function(ne){if(!(ne.isMesh||ne.isPoints||ne.isLine||ne.isSprite))return;const Be=ne.material;if(Be)if(Array.isArray(Be))for(let Re=0;Re<Be.length;Re++){const Ct=Be[Re];ut(Ct,te,ne),re.add(Ct)}else ut(Be,te,ne),re.add(Be)}),B.pop(),p=null,re},this.compileAsync=function(H,ee,te=null){const re=this.compile(H,ee,te);return new Promise(ne=>{function Be(){if(re.forEach(function(Re){Ke.get(Re).currentProgram.isReady()&&re.delete(Re)}),re.size===0){ne(H);return}setTimeout(Be,10)}Ze.get("KHR_parallel_shader_compile")!==null?Be():setTimeout(Be,10)})};let it=null;function an(H){it&&it(H)}function Nn(){bt.stop()}function xt(){bt.start()}const bt=new wN;bt.setAnimationLoop(an),typeof self<"u"&&bt.setContext(self),this.setAnimationLoop=function(H){it=H,_e.setAnimationLoop(H),H===null?bt.stop():bt.start()},_e.addEventListener("sessionstart",Nn),_e.addEventListener("sessionend",xt),this.render=function(H,ee){if(ee!==void 0&&ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),ee.parent===null&&ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),_e.enabled===!0&&_e.isPresenting===!0&&(_e.cameraAutoUpdate===!0&&_e.updateCamera(ee),ee=_e.getCamera()),H.isScene===!0&&H.onBeforeRender(x,H,ee,M),p=Rt.get(H,B.length),p.init(ee),B.push(p),Xe.multiplyMatrices(ee.projectionMatrix,ee.matrixWorldInverse),J.setFromProjectionMatrix(Xe),ve=this.localClippingEnabled,Ce=ze.init(this.clippingPlanes,ve),A=Qe.get(H,y.length),A.init(),y.push(A),_e.enabled===!0&&_e.isPresenting===!0){const Be=x.xr.getDepthSensingMesh();Be!==null&&Wt(Be,ee,-1/0,x.sortObjects)}Wt(H,ee,0,x.sortObjects),A.finish(),x.sortObjects===!0&&A.sort(L,P),Ie=_e.enabled===!1||_e.isPresenting===!1||_e.hasDepthSensing()===!1,Ie&&gt.addToRenderList(A,H),this.info.render.frame++,Ce===!0&&ze.beginShadows();const te=p.state.shadowsArray;st.render(te,H,ee),Ce===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const re=A.opaque,ne=A.transmissive;if(p.setupLights(),ee.isArrayCamera){const Be=ee.cameras;if(ne.length>0)for(let Re=0,Ct=Be.length;Re<Ct;Re++){const Ue=Be[Re];Dt(re,ne,H,Ue)}Ie&&gt.render(H);for(let Re=0,Ct=Be.length;Re<Ct;Re++){const Ue=Be[Re];Vt(A,H,Ue,Ue.viewport)}}else ne.length>0&&Dt(re,ne,H,ee),Ie&&gt.render(H),Vt(A,H,ee);M!==null&&(U.updateMultisampleRenderTarget(M),U.updateRenderTargetMipmap(M)),H.isScene===!0&&H.onAfterRender(x,H,ee),$e.resetDefaultState(),q=-1,_=null,B.pop(),B.length>0?(p=B[B.length-1],Ce===!0&&ze.setGlobalState(x.clippingPlanes,p.state.camera)):p=null,y.pop(),y.length>0?A=y[y.length-1]:A=null};function Wt(H,ee,te,re){if(H.visible===!1)return;if(H.layers.test(ee.layers)){if(H.isGroup)te=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ee);else if(H.isLight)p.pushLight(H),H.castShadow&&p.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||J.intersectsSprite(H)){re&&Ee.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Xe);const Re=we.update(H),Ct=H.material;Ct.visible&&A.push(H,Re,Ct,te,Ee.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||J.intersectsObject(H))){const Re=we.update(H),Ct=H.material;if(re&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Ee.copy(H.boundingSphere.center)):(Re.boundingSphere===null&&Re.computeBoundingSphere(),Ee.copy(Re.boundingSphere.center)),Ee.applyMatrix4(H.matrixWorld).applyMatrix4(Xe)),Array.isArray(Ct)){const Ue=Re.groups;for(let lt=0,pt=Ue.length;lt<pt;lt++){const rt=Ue[lt],Ht=Ct[rt.materialIndex];Ht&&Ht.visible&&A.push(H,Re,Ht,te,Ee.z,rt)}}else Ct.visible&&A.push(H,Re,Ct,te,Ee.z,null)}}const Be=H.children;for(let Re=0,Ct=Be.length;Re<Ct;Re++)Wt(Be[Re],ee,te,re)}function Vt(H,ee,te,re){const ne=H.opaque,Be=H.transmissive,Re=H.transparent;p.setupLightsView(te),Ce===!0&&ze.setGlobalState(x.clippingPlanes,te),re&&Ne.viewport(V.copy(re)),ne.length>0&&qt(ne,ee,te),Be.length>0&&qt(Be,ee,te),Re.length>0&&qt(Re,ee,te),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function Dt(H,ee,te,re){if((te.isScene===!0?te.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[re.id]===void 0&&(p.state.transmissionRenderTarget[re.id]=new ha(1,1,{generateMipmaps:!0,type:Ze.has("EXT_color_buffer_half_float")||Ze.has("EXT_color_buffer_float")?pr:Po,minFilter:Ka,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Wn.workingColorSpace}));const Be=p.state.transmissionRenderTarget[re.id],Re=re.viewport||V;Be.setSize(Re.z,Re.w);const Ct=x.getRenderTarget();x.setRenderTarget(Be),x.getClearColor(K),Q=x.getClearAlpha(),Q<1&&x.setClearColor(16777215,.5),x.clear(),Ie&&gt.render(te);const Ue=x.toneMapping;x.toneMapping=tl;const lt=re.viewport;if(re.viewport!==void 0&&(re.viewport=void 0),p.setupLightsView(re),Ce===!0&&ze.setGlobalState(x.clippingPlanes,re),qt(H,te,re),U.updateMultisampleRenderTarget(Be),U.updateRenderTargetMipmap(Be),Ze.has("WEBGL_multisampled_render_to_texture")===!1){let pt=!1;for(let rt=0,Ht=ee.length;rt<Ht;rt++){const Et=ee[rt],St=Et.object,Ut=Et.geometry,Xt=Et.material,ft=Et.group;if(Xt.side===Fo&&St.layers.test(re.layers)){const Ot=Xt.side;Xt.side=ki,Xt.needsUpdate=!0,Dn(St,te,re,Ut,Xt,ft),Xt.side=Ot,Xt.needsUpdate=!0,pt=!0}}pt===!0&&(U.updateMultisampleRenderTarget(Be),U.updateRenderTargetMipmap(Be))}x.setRenderTarget(Ct),x.setClearColor(K,Q),lt!==void 0&&(re.viewport=lt),x.toneMapping=Ue}function qt(H,ee,te){const re=ee.isScene===!0?ee.overrideMaterial:null;for(let ne=0,Be=H.length;ne<Be;ne++){const Re=H[ne],Ct=Re.object,Ue=Re.geometry,lt=re===null?Re.material:re,pt=Re.group;Ct.layers.test(te.layers)&&Dn(Ct,ee,te,Ue,lt,pt)}}function Dn(H,ee,te,re,ne,Be){H.onBeforeRender(x,ee,te,re,ne,Be),H.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),ne.onBeforeRender(x,ee,te,re,H,Be),ne.transparent===!0&&ne.side===Fo&&ne.forceSinglePass===!1?(ne.side=ki,ne.needsUpdate=!0,x.renderBufferDirect(te,ee,re,ne,H,Be),ne.side=ol,ne.needsUpdate=!0,x.renderBufferDirect(te,ee,re,ne,H,Be),ne.side=Fo):x.renderBufferDirect(te,ee,re,ne,H,Be),H.onAfterRender(x,ee,te,re,ne,Be)}function Rn(H,ee,te){ee.isScene!==!0&&(ee=be);const re=Ke.get(H),ne=p.state.lights,Be=p.state.shadowsArray,Re=ne.state.version,Ct=tt.getParameters(H,ne.state,Be,ee,te),Ue=tt.getProgramCacheKey(Ct);let lt=re.programs;re.environment=H.isMeshStandardMaterial?ee.environment:null,re.fog=ee.fog,re.envMap=(H.isMeshStandardMaterial?le:T).get(H.envMap||re.environment),re.envMapRotation=re.environment!==null&&H.envMap===null?ee.environmentRotation:H.envMapRotation,lt===void 0&&(H.addEventListener("dispose",_t),lt=new Map,re.programs=lt);let pt=lt.get(Ue);if(pt!==void 0){if(re.currentProgram===pt&&re.lightsStateVersion===Re)return j(H,Ct),pt}else Ct.uniforms=tt.getUniforms(H),H.onBeforeCompile(Ct,x),pt=tt.acquireProgram(Ct,Ue),lt.set(Ue,pt),re.uniforms=Ct.uniforms;const rt=re.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(rt.clippingPlanes=ze.uniform),j(H,Ct),re.needsLights=Ve(H),re.lightsStateVersion=Re,re.needsLights&&(rt.ambientLightColor.value=ne.state.ambient,rt.lightProbe.value=ne.state.probe,rt.directionalLights.value=ne.state.directional,rt.directionalLightShadows.value=ne.state.directionalShadow,rt.spotLights.value=ne.state.spot,rt.spotLightShadows.value=ne.state.spotShadow,rt.rectAreaLights.value=ne.state.rectArea,rt.ltc_1.value=ne.state.rectAreaLTC1,rt.ltc_2.value=ne.state.rectAreaLTC2,rt.pointLights.value=ne.state.point,rt.pointLightShadows.value=ne.state.pointShadow,rt.hemisphereLights.value=ne.state.hemi,rt.directionalShadowMap.value=ne.state.directionalShadowMap,rt.directionalShadowMatrix.value=ne.state.directionalShadowMatrix,rt.spotShadowMap.value=ne.state.spotShadowMap,rt.spotLightMatrix.value=ne.state.spotLightMatrix,rt.spotLightMap.value=ne.state.spotLightMap,rt.pointShadowMap.value=ne.state.pointShadowMap,rt.pointShadowMatrix.value=ne.state.pointShadowMatrix),re.currentProgram=pt,re.uniformsList=null,pt}function E(H){if(H.uniformsList===null){const ee=H.currentProgram.getUniforms();H.uniformsList=Df.seqWithValue(ee.seq,H.uniforms)}return H.uniformsList}function j(H,ee){const te=Ke.get(H);te.outputColorSpace=ee.outputColorSpace,te.batching=ee.batching,te.batchingColor=ee.batchingColor,te.instancing=ee.instancing,te.instancingColor=ee.instancingColor,te.instancingMorph=ee.instancingMorph,te.skinning=ee.skinning,te.morphTargets=ee.morphTargets,te.morphNormals=ee.morphNormals,te.morphColors=ee.morphColors,te.morphTargetsCount=ee.morphTargetsCount,te.numClippingPlanes=ee.numClippingPlanes,te.numIntersection=ee.numClipIntersection,te.vertexAlphas=ee.vertexAlphas,te.vertexTangents=ee.vertexTangents,te.toneMapping=ee.toneMapping}function de(H,ee,te,re,ne){ee.isScene!==!0&&(ee=be),U.resetTextureUnits();const Be=ee.fog,Re=re.isMeshStandardMaterial?ee.environment:null,Ct=M===null?x.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:ll,Ue=(re.isMeshStandardMaterial?le:T).get(re.envMap||Re),lt=re.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,pt=!!te.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),rt=!!te.morphAttributes.position,Ht=!!te.morphAttributes.normal,Et=!!te.morphAttributes.color;let St=tl;re.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(St=x.toneMapping);const Ut=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,Xt=Ut!==void 0?Ut.length:0,ft=Ke.get(re),Ot=p.state.lights;if(Ce===!0&&(ve===!0||H!==_)){const Yt=H===_&&re.id===q;ze.setState(re,H,Yt)}let Pt=!1;re.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==Ot.state.version||ft.outputColorSpace!==Ct||ne.isBatchedMesh&&ft.batching===!1||!ne.isBatchedMesh&&ft.batching===!0||ne.isBatchedMesh&&ft.batchingColor===!0&&ne.colorTexture===null||ne.isBatchedMesh&&ft.batchingColor===!1&&ne.colorTexture!==null||ne.isInstancedMesh&&ft.instancing===!1||!ne.isInstancedMesh&&ft.instancing===!0||ne.isSkinnedMesh&&ft.skinning===!1||!ne.isSkinnedMesh&&ft.skinning===!0||ne.isInstancedMesh&&ft.instancingColor===!0&&ne.instanceColor===null||ne.isInstancedMesh&&ft.instancingColor===!1&&ne.instanceColor!==null||ne.isInstancedMesh&&ft.instancingMorph===!0&&ne.morphTexture===null||ne.isInstancedMesh&&ft.instancingMorph===!1&&ne.morphTexture!==null||ft.envMap!==Ue||re.fog===!0&&ft.fog!==Be||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==ze.numPlanes||ft.numIntersection!==ze.numIntersection)||ft.vertexAlphas!==lt||ft.vertexTangents!==pt||ft.morphTargets!==rt||ft.morphNormals!==Ht||ft.morphColors!==Et||ft.toneMapping!==St||ft.morphTargetsCount!==Xt)&&(Pt=!0):(Pt=!0,ft.__version=re.version);let yn=ft.currentProgram;Pt===!0&&(yn=Rn(re,ee,ne));let In=!1,An=!1,At=!1;const nt=yn.getUniforms(),Zt=ft.uniforms;if(Ne.useProgram(yn.program)&&(In=!0,An=!0,At=!0),re.id!==q&&(q=re.id,An=!0),In||_!==H){Ne.buffers.depth.getReversed()?(Ae.copy(H.projectionMatrix),rD(Ae),oD(Ae),nt.setValue($,"projectionMatrix",Ae)):nt.setValue($,"projectionMatrix",H.projectionMatrix),nt.setValue($,"viewMatrix",H.matrixWorldInverse);const un=nt.map.cameraPosition;un!==void 0&&un.setValue($,Le.setFromMatrixPosition(H.matrixWorld)),Ye.logarithmicDepthBuffer&&nt.setValue($,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&nt.setValue($,"isOrthographic",H.isOrthographicCamera===!0),_!==H&&(_=H,An=!0,At=!0)}if(ne.isSkinnedMesh){nt.setOptional($,ne,"bindMatrix"),nt.setOptional($,ne,"bindMatrixInverse");const Yt=ne.skeleton;Yt&&(Yt.boneTexture===null&&Yt.computeBoneTexture(),nt.setValue($,"boneTexture",Yt.boneTexture,U))}ne.isBatchedMesh&&(nt.setOptional($,ne,"batchingTexture"),nt.setValue($,"batchingTexture",ne._matricesTexture,U),nt.setOptional($,ne,"batchingIdTexture"),nt.setValue($,"batchingIdTexture",ne._indirectTexture,U),nt.setOptional($,ne,"batchingColorTexture"),ne._colorsTexture!==null&&nt.setValue($,"batchingColorTexture",ne._colorsTexture,U));const kt=te.morphAttributes;if((kt.position!==void 0||kt.normal!==void 0||kt.color!==void 0)&&ot.update(ne,te,yn),(An||ft.receiveShadow!==ne.receiveShadow)&&(ft.receiveShadow=ne.receiveShadow,nt.setValue($,"receiveShadow",ne.receiveShadow)),re.isMeshGouraudMaterial&&re.envMap!==null&&(Zt.envMap.value=Ue,Zt.flipEnvMap.value=Ue.isCubeTexture&&Ue.isRenderTargetTexture===!1?-1:1),re.isMeshStandardMaterial&&re.envMap===null&&ee.environment!==null&&(Zt.envMapIntensity.value=ee.environmentIntensity),An&&(nt.setValue($,"toneMappingExposure",x.toneMappingExposure),ft.needsLights&&We(Zt,At),Be&&re.fog===!0&&je.refreshFogUniforms(Zt,Be),je.refreshMaterialUniforms(Zt,re,N,D,p.state.transmissionRenderTarget[H.id]),Df.upload($,E(ft),Zt,U)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(Df.upload($,E(ft),Zt,U),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&nt.setValue($,"center",ne.center),nt.setValue($,"modelViewMatrix",ne.modelViewMatrix),nt.setValue($,"normalMatrix",ne.normalMatrix),nt.setValue($,"modelMatrix",ne.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const Yt=re.uniformsGroups;for(let un=0,Cn=Yt.length;un<Cn;un++){const Pn=Yt[un];ce.update(Pn,yn),ce.bind(Pn,yn)}}return yn}function We(H,ee){H.ambientLightColor.needsUpdate=ee,H.lightProbe.needsUpdate=ee,H.directionalLights.needsUpdate=ee,H.directionalLightShadows.needsUpdate=ee,H.pointLights.needsUpdate=ee,H.pointLightShadows.needsUpdate=ee,H.spotLights.needsUpdate=ee,H.spotLightShadows.needsUpdate=ee,H.rectAreaLights.needsUpdate=ee,H.hemisphereLights.needsUpdate=ee}function Ve(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return Z},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(H,ee,te){Ke.get(H.texture).__webglTexture=ee,Ke.get(H.depthTexture).__webglTexture=te;const re=Ke.get(H);re.__hasExternalTextures=!0,re.__autoAllocateDepthBuffer=te===void 0,re.__autoAllocateDepthBuffer||Ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(H,ee){const te=Ke.get(H);te.__webglFramebuffer=ee,te.__useDefaultFramebuffer=ee===void 0},this.setRenderTarget=function(H,ee=0,te=0){M=H,S=ee,Z=te;let re=!0,ne=null,Be=!1,Re=!1;if(H){const Ue=Ke.get(H);if(Ue.__useDefaultFramebuffer!==void 0)Ne.bindFramebuffer($.FRAMEBUFFER,null),re=!1;else if(Ue.__webglFramebuffer===void 0)U.setupRenderTarget(H);else if(Ue.__hasExternalTextures)U.rebindTextures(H,Ke.get(H.texture).__webglTexture,Ke.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const rt=H.depthTexture;if(Ue.__boundDepthTexture!==rt){if(rt!==null&&Ke.has(rt)&&(H.width!==rt.image.width||H.height!==rt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");U.setupDepthRenderbuffer(H)}}const lt=H.texture;(lt.isData3DTexture||lt.isDataArrayTexture||lt.isCompressedArrayTexture)&&(Re=!0);const pt=Ke.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(pt[ee])?ne=pt[ee][te]:ne=pt[ee],Be=!0):H.samples>0&&U.useMultisampledRTT(H)===!1?ne=Ke.get(H).__webglMultisampledFramebuffer:Array.isArray(pt)?ne=pt[te]:ne=pt,V.copy(H.viewport),Y.copy(H.scissor),X=H.scissorTest}else V.copy(O).multiplyScalar(N).floor(),Y.copy(ie).multiplyScalar(N).floor(),X=ge;if(Ne.bindFramebuffer($.FRAMEBUFFER,ne)&&re&&Ne.drawBuffers(H,ne),Ne.viewport(V),Ne.scissor(Y),Ne.setScissorTest(X),Be){const Ue=Ke.get(H.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+ee,Ue.__webglTexture,te)}else if(Re){const Ue=Ke.get(H.texture),lt=ee||0;$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,Ue.__webglTexture,te||0,lt)}q=-1},this.readRenderTargetPixels=function(H,ee,te,re,ne,Be,Re){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=Ke.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&Re!==void 0&&(Ct=Ct[Re]),Ct){Ne.bindFramebuffer($.FRAMEBUFFER,Ct);try{const Ue=H.texture,lt=Ue.format,pt=Ue.type;if(!Ye.textureFormatReadable(lt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ee>=0&&ee<=H.width-re&&te>=0&&te<=H.height-ne&&$.readPixels(ee,te,re,ne,Me.convert(lt),Me.convert(pt),Be)}finally{const Ue=M!==null?Ke.get(M).__webglFramebuffer:null;Ne.bindFramebuffer($.FRAMEBUFFER,Ue)}}},this.readRenderTargetPixelsAsync=async function(H,ee,te,re,ne,Be,Re){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=Ke.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&Re!==void 0&&(Ct=Ct[Re]),Ct){const Ue=H.texture,lt=Ue.format,pt=Ue.type;if(!Ye.textureFormatReadable(lt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ee>=0&&ee<=H.width-re&&te>=0&&te<=H.height-ne){Ne.bindFramebuffer($.FRAMEBUFFER,Ct);const rt=$.createBuffer();$.bindBuffer($.PIXEL_PACK_BUFFER,rt),$.bufferData($.PIXEL_PACK_BUFFER,Be.byteLength,$.STREAM_READ),$.readPixels(ee,te,re,ne,Me.convert(lt),Me.convert(pt),0);const Ht=M!==null?Ke.get(M).__webglFramebuffer:null;Ne.bindFramebuffer($.FRAMEBUFFER,Ht);const Et=$.fenceSync($.SYNC_GPU_COMMANDS_COMPLETE,0);return $.flush(),await iD($,Et,4),$.bindBuffer($.PIXEL_PACK_BUFFER,rt),$.getBufferSubData($.PIXEL_PACK_BUFFER,0,Be),$.deleteBuffer(rt),$.deleteSync(Et),Be}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(H,ee=null,te=0){H.isTexture!==!0&&(DI("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ee=arguments[0]||null,H=arguments[1]);const re=Math.pow(2,-te),ne=Math.floor(H.image.width*re),Be=Math.floor(H.image.height*re),Re=ee!==null?ee.x:0,Ct=ee!==null?ee.y:0;U.setTexture2D(H,0),$.copyTexSubImage2D($.TEXTURE_2D,te,0,0,Re,Ct,ne,Be),Ne.unbindTexture()},this.copyTextureToTexture=function(H,ee,te=null,re=null,ne=0){H.isTexture!==!0&&(DI("WebGLRenderer: copyTextureToTexture function signature has changed."),re=arguments[0]||null,H=arguments[1],ee=arguments[2],ne=arguments[3]||0,te=null);let Be,Re,Ct,Ue,lt,pt,rt,Ht,Et;const St=H.isCompressedTexture?H.mipmaps[ne]:H.image;te!==null?(Be=te.max.x-te.min.x,Re=te.max.y-te.min.y,Ct=te.isBox3?te.max.z-te.min.z:1,Ue=te.min.x,lt=te.min.y,pt=te.isBox3?te.min.z:0):(Be=St.width,Re=St.height,Ct=St.depth||1,Ue=0,lt=0,pt=0),re!==null?(rt=re.x,Ht=re.y,Et=re.z):(rt=0,Ht=0,Et=0);const Ut=Me.convert(ee.format),Xt=Me.convert(ee.type);let ft;ee.isData3DTexture?(U.setTexture3D(ee,0),ft=$.TEXTURE_3D):ee.isDataArrayTexture||ee.isCompressedArrayTexture?(U.setTexture2DArray(ee,0),ft=$.TEXTURE_2D_ARRAY):(U.setTexture2D(ee,0),ft=$.TEXTURE_2D),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,ee.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,ee.unpackAlignment);const Ot=$.getParameter($.UNPACK_ROW_LENGTH),Pt=$.getParameter($.UNPACK_IMAGE_HEIGHT),yn=$.getParameter($.UNPACK_SKIP_PIXELS),In=$.getParameter($.UNPACK_SKIP_ROWS),An=$.getParameter($.UNPACK_SKIP_IMAGES);$.pixelStorei($.UNPACK_ROW_LENGTH,St.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,St.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,Ue),$.pixelStorei($.UNPACK_SKIP_ROWS,lt),$.pixelStorei($.UNPACK_SKIP_IMAGES,pt);const At=H.isDataArrayTexture||H.isData3DTexture,nt=ee.isDataArrayTexture||ee.isData3DTexture;if(H.isRenderTargetTexture||H.isDepthTexture){const Zt=Ke.get(H),kt=Ke.get(ee),Yt=Ke.get(Zt.__renderTarget),un=Ke.get(kt.__renderTarget);Ne.bindFramebuffer($.READ_FRAMEBUFFER,Yt.__webglFramebuffer),Ne.bindFramebuffer($.DRAW_FRAMEBUFFER,un.__webglFramebuffer);for(let Cn=0;Cn<Ct;Cn++)At&&$.framebufferTextureLayer($.READ_FRAMEBUFFER,$.COLOR_ATTACHMENT0,Ke.get(H).__webglTexture,ne,pt+Cn),H.isDepthTexture?(nt&&$.framebufferTextureLayer($.DRAW_FRAMEBUFFER,$.COLOR_ATTACHMENT0,Ke.get(ee).__webglTexture,ne,Et+Cn),$.blitFramebuffer(Ue,lt,Be,Re,rt,Ht,Be,Re,$.DEPTH_BUFFER_BIT,$.NEAREST)):nt?$.copyTexSubImage3D(ft,ne,rt,Ht,Et+Cn,Ue,lt,Be,Re):$.copyTexSubImage2D(ft,ne,rt,Ht,Et+Cn,Ue,lt,Be,Re);Ne.bindFramebuffer($.READ_FRAMEBUFFER,null),Ne.bindFramebuffer($.DRAW_FRAMEBUFFER,null)}else nt?H.isDataTexture||H.isData3DTexture?$.texSubImage3D(ft,ne,rt,Ht,Et,Be,Re,Ct,Ut,Xt,St.data):ee.isCompressedArrayTexture?$.compressedTexSubImage3D(ft,ne,rt,Ht,Et,Be,Re,Ct,Ut,St.data):$.texSubImage3D(ft,ne,rt,Ht,Et,Be,Re,Ct,Ut,Xt,St):H.isDataTexture?$.texSubImage2D($.TEXTURE_2D,ne,rt,Ht,Be,Re,Ut,Xt,St.data):H.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,ne,rt,Ht,St.width,St.height,Ut,St.data):$.texSubImage2D($.TEXTURE_2D,ne,rt,Ht,Be,Re,Ut,Xt,St);$.pixelStorei($.UNPACK_ROW_LENGTH,Ot),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,Pt),$.pixelStorei($.UNPACK_SKIP_PIXELS,yn),$.pixelStorei($.UNPACK_SKIP_ROWS,In),$.pixelStorei($.UNPACK_SKIP_IMAGES,An),ne===0&&ee.generateMipmaps&&$.generateMipmap(ft),Ne.unbindTexture()},this.copyTextureToTexture3D=function(H,ee,te=null,re=null,ne=0){return H.isTexture!==!0&&(DI("WebGLRenderer: copyTextureToTexture3D function signature has changed."),te=arguments[0]||null,re=arguments[1]||null,H=arguments[2],ee=arguments[3],ne=arguments[4]||0),DI('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(H,ee,te,re,ne)},this.initRenderTarget=function(H){Ke.get(H).__webglFramebuffer===void 0&&U.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?U.setTextureCube(H,0):H.isData3DTexture?U.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?U.setTexture2DArray(H,0):U.setTexture2D(H,0),Ne.unbindTexture()},this.resetState=function(){S=0,Z=0,M=null,Ne.reset(),$e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Os}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Wn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Wn._getUnpackColorSpace()}}class vA{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ke(e),this.density=t}clone(){return new vA(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yA{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ke(e),this.near=t,this.far=i}clone(){return new yA(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class o0 extends Sn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new rn,this.environmentIntensity=1,this.environmentRotation=new rn,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Kh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=UC,this.updateRanges=[],this.version=0,this.uuid=da()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=da()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const go=new k;class sg{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)go.fromBufferAttribute(this,t),go.applyMatrix4(e),this.setXYZ(t,go.x,go.y,go.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)go.fromBufferAttribute(this,t),go.applyNormalMatrix(e),this.setXYZ(t,go.x,go.y,go.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)go.fromBufferAttribute(this,t),go.transformDirection(e),this.setXYZ(t,go.x,go.y,go.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=fo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=pn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=pn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=fo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=fo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=fo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=fo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array),r=pn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=pn(t,this.array),i=pn(i,this.array),r=pn(r,this.array),o=pn(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return new Xn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class u7 extends er{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let K1;const fI=new k,L1=new k,T1=new k,k1=new et,pI=new et,WN=new vt,Vm=new k,AI=new k,Nm=new k,YS=new et,y4=new et,KS=new et;class VN extends Sn{constructor(e=new u7){if(super(),this.isSprite=!0,this.type="Sprite",K1===void 0){K1=new dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Kh(t,5);K1.setIndex([0,1,2,0,2,3]),K1.setAttribute("position",new sg(i,3,0,!1)),K1.setAttribute("uv",new sg(i,2,3,!1))}this.geometry=K1,this.material=e,this.center=new et(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),L1.setFromMatrixScale(this.matrixWorld),WN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),T1.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&L1.multiplyScalar(-T1.z);const i=this.material.rotation;let r,o;i!==0&&(o=Math.cos(i),r=Math.sin(i));const a=this.center;Fm(Vm.set(-.5,-.5,0),T1,a,L1,r,o),Fm(AI.set(.5,-.5,0),T1,a,L1,r,o),Fm(Nm.set(.5,.5,0),T1,a,L1,r,o),YS.set(0,0),y4.set(1,0),KS.set(1,1);let s=e.ray.intersectTriangle(Vm,AI,Nm,!1,fI);if(s===null&&(Fm(AI.set(-.5,.5,0),T1,a,L1,r,o),y4.set(0,1),s=e.ray.intersectTriangle(Vm,Nm,AI,!1,fI),s===null))return;const l=e.ray.origin.distanceTo(fI);l<e.near||l>e.far||t.push({distance:l,point:fI.clone(),uv:Ho.getInterpolation(fI,Vm,AI,Nm,YS,y4,KS,new et),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Fm(n,e,t,i,r,o){k1.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(pI.x=o*k1.x-r*k1.y,pI.y=r*k1.x+o*k1.y):pI.copy(k1),n.copy(e),n.x+=pI.x,n.y+=pI.y,n.applyMatrix4(WN)}const Hm=new k,LS=new k;class NN extends Sn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const o=t[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let o;for(o=0;o<r.length&&!(t<r[o].distance);o++);return r.splice(o,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),e<o)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Hm.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Hm);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Hm.setFromMatrixPosition(e.matrixWorld),LS.setFromMatrixPosition(this.matrixWorld);const i=Hm.distanceTo(LS)/e.zoom;t[0].object.visible=!0;let r,o;for(r=1,o=t.length;r<o;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<o;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,o=i.length;r<o;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const TS=new k,kS=new Hn,PS=new Hn,fQ=new k,DS=new vt,Em=new k,B4=new Mr,US=new vt,x4=new n1;class d7 extends pi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=$6,this.bindMatrix=new vt,this.bindMatrixInverse=new vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new eo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Em),this.boundingBox.expandByPoint(Em)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Mr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Em),this.boundingSphere.expandByPoint(Em)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),B4.copy(this.boundingSphere),B4.applyMatrix4(r),e.ray.intersectsSphere(B4)!==!1&&(US.copy(r).invert(),x4.copy(e.ray).applyMatrix4(US),!(this.boundingBox!==null&&x4.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,x4)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Hn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===$6?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===nN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;kS.fromBufferAttribute(r.attributes.skinIndex,e),PS.fromBufferAttribute(r.attributes.skinWeight,e),TS.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const a=PS.getComponent(o);if(a!==0){const s=kS.getComponent(o);DS.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),t.addScaledVector(fQ.copy(TS).applyMatrix4(DS),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class BA extends Sn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ys extends Ln{constructor(e=null,t=1,i=1,r,o,a,s,l,c=br,g=br,u,d){super(null,a,s,l,c,g,r,o,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const OS=new vt,pQ=new vt;let I7=class FN{constructor(e=[],t=[]){this.uuid=da(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new vt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:pQ;OS.multiplyMatrices(s,t[o]),OS.toArray(i,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new FN(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ys(t,e,e,Li,wi);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const o=e.bones[i];let a=t[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new BA),this.bones.push(a),this.boneInverses.push(new vt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,o=t.length;r<o;r++){const a=t[r];e.bones.push(a.uuid);const s=i[r];e.boneInverses.push(s.toArray())}return e}};class Tu extends Xn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const P1=new vt,jS=new vt,Xm=[],JS=new eo,AQ=new vt,bI=new pi,vI=new Mr;class qu extends pi{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Tu(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,AQ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new eo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,P1),JS.copy(e.boundingBox).applyMatrix4(P1),this.boundingBox.union(JS)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Mr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,P1),vI.copy(e.boundingSphere).applyMatrix4(P1),this.boundingSphere.union(vI)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,o=i.length+1,a=e*o+1;for(let s=0;s<i.length;s++)i[s]=r[a+s]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(bI.geometry=this.geometry,bI.material=this.material,bI.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),vI.copy(this.boundingSphere),vI.applyMatrix4(i),e.ray.intersectsSphere(vI)!==!1))for(let o=0;o<r;o++){this.getMatrixAt(o,P1),jS.multiplyMatrices(i,P1),bI.matrixWorld=jS,bI.raycast(e,Xm);for(let a=0,s=Xm.length;a<s;a++){const l=Xm[a];l.instanceId=o,l.object=this,t.push(l)}Xm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Tu(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new ys(new Float32Array(r*this.count),r,this.count,Fh,wi));const o=this.morphTexture.source.data.data;let a=0;for(let c=0;c<i.length;c++)a+=i[c];const s=this.geometry.morphTargetsRelative?1:1-a,l=r*e;o[l]=s,o.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function G4(n,e){return n-e}function bQ(n,e){return n.z-e.z}function vQ(n,e){return e.z-n.z}class yQ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const o=this.pool,a=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];a.push(s),this.index++,s.start=e,s.count=t,s.z=i,s.index=r}reset(){this.list.length=0,this.index=0}}const qo=new vt,BQ=new ke(1,1,1),w4=new Yh,zm=new eo,Eg=new Mr,yI=new k,QS=new k,xQ=new k,S4=new yQ,Pr=new pi,Ym=[];function GQ(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let o=0;o<r;o++)for(let a=0;a<i;a++)e.setComponent(o+t,a,n.getComponent(o,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Xg(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class HN extends pi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,i=t*2,r){super(new dn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new ys(t,e,e,Li,wi);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new ys(t,e,e,Hh,sl);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new ys(t,e,e,Li,wi);i.colorSpace=Wn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const a=e.getAttribute(o),{array:s,itemSize:l,normalized:c}=a,g=new s.constructor(i*l),u=new Xn(g,l,c);t.setAttribute(o,u)}if(e.getIndex()!==null){const o=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Xn(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),o=t.getAttribute(i);if(r.itemSize!==o.itemSize||r.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new eo);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const o=t[i].geometryIndex;this.getMatrixAt(i,qo),this.getBoundingBoxAt(o,zm).applyMatrix4(qo),e.union(zm)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const o=t[i].geometryIndex;this.getMatrixAt(i,qo),this.getBoundingSphereAt(o,Eg).applyMatrix4(qo),e.union(Eg)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(G4),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const o=this._matricesTexture;qo.identity().toArray(o.image.data,r*16),o.needsUpdate=!0;const a=this._colorsTexture;return a&&(BQ.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(G4),l=this._availableGeometryIds.shift(),o[l]=r):(l=this._geometryCount,this._geometryCount++,o.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,o=i.getIndex(),a=t.getIndex(),s=this._geometryInfo[e];if(r&&a.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const g in i.attributes){const u=t.getAttribute(g),d=i.getAttribute(g);GQ(u,d,l);const C=u.itemSize;for(let f=u.count,b=c;f<b;f++){const A=l+f;for(let p=0;p<C;p++)d.setComponent(A,p,0)}d.needsUpdate=!0,d.addUpdateRange(l*C,c*C)}if(r){const g=s.indexStart,u=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let d=0;d<a.count;d++)o.setX(g+d,l+a.getX(d));for(let d=a.count,C=u;d<C;d++)o.setX(g+d,l);o.needsUpdate=!0,o.addUpdateRange(g,s.reservedIndexCount)}return s.start=r?s.indexStart:s.vertexStart,s.count=r?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,o=i.length;r<o;r++)i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?this:(t[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,s)=>s).sort((a,s)=>i[a].vertexStart-i[s].vertexStart),o=this.geometry;for(let a=0,s=i.length;a<s;a++){const l=r[a],c=i[l];if(c.active!==!1){if(o.index!==null){if(c.indexStart!==t){const{indexStart:g,vertexStart:u,reservedIndexCount:d}=c,C=o.index,f=C.array,b=e-u;for(let A=g;A<g+d;A++)f[A]=f[A]+b;C.array.copyWithin(t,g,g+d),C.addUpdateRange(t,d),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:g,reservedVertexCount:u}=c,d=o.attributes;for(const C in d){const f=d[C],{array:b,itemSize:A}=f;b.copyWithin(e*A,g*A,(g+u)*A),f.addUpdateRange(e*A,u*A)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=o.index?c.indexStart:c.vertexStart,this._nextIndexStart=o.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const o=new eo,a=i.index,s=i.attributes.position;for(let l=r.start,c=r.start+r.count;l<c;l++){let g=l;a&&(g=a.getX(g)),o.expandByPoint(yI.fromBufferAttribute(s,g))}r.boundingBox=o}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const o=new Mr;this.getBoundingBoxAt(e,zm),zm.getCenter(o.center);const a=i.index,s=i.attributes.position;let l=0;for(let c=r.start,g=r.start+r.count;c<g;c++){let u=c;a&&(u=a.getX(u)),yI.fromBufferAttribute(s,u),l=Math.max(l,o.center.distanceToSquared(yI))}o.radius=Math.sqrt(l),r.boundingSphere=o}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){const i=this._instanceInfo,r=this._matricesTexture,o=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(t.toArray(o,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._instanceInfo,r=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:t.fromArray(r,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,r=this._colorsTexture.image.data,o=this._instanceInfo;return e>=o.length||o[e].active===!1?this:(t.toArray(r,e*4),i.needsUpdate=!0,this)}getColorAt(e,t){const i=this._colorsTexture.image.data,r=this._instanceInfo;return e>=r.length||r[e].active===!1?null:t.fromArray(i,e*4)}setVisibleAt(e,t){const i=this._instanceInfo;return e>=i.length||i[e].active===!1||i[e].visible===t?this:(i[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}setGeometryIdAt(e,t){const i=this._instanceInfo,r=this._geometryInfo;return e>=i.length||i[e].active===!1||t>=r.length||r[t].active===!1?null:(i[e].geometryIndex=t,this)}getGeometryIdAt(e){const t=this._instanceInfo;return e>=t.length||t[e].active===!1?-1:t[e].geometryIndex}getGeometryRangeAt(e,t={}){if(e<0||e>=this._geometryCount)return null;const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(G4);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),o=new Int32Array(e);Xg(this._multiDrawCounts,r),Xg(this._multiDrawStarts,o),this._multiDrawCounts=r,this._multiDrawStarts=o,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Xg(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Xg(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Xg(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...i.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new dn,this._initializeGeometry(o));const a=this.geometry;o.index&&Xg(o.index.array,a.index.array);for(const s in o.attributes)Xg(o.attributes[s].array,a.attributes[s].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,o=this.matrixWorld,a=this.geometry;Pr.material=this.material,Pr.geometry.index=a.index,Pr.geometry.attributes=a.attributes,Pr.geometry.boundingBox===null&&(Pr.geometry.boundingBox=new eo),Pr.geometry.boundingSphere===null&&(Pr.geometry.boundingSphere=new Mr);for(let s=0,l=i.length;s<l;s++){if(!i[s].visible||!i[s].active)continue;const c=i[s].geometryIndex,g=r[c];Pr.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(s,Pr.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,Pr.geometry.boundingBox),this.getBoundingSphereAt(c,Pr.geometry.boundingSphere),Pr.raycast(e,Ym);for(let u=0,d=Ym.length;u<d;u++){const C=Ym[u];C.object=this,C.batchId=s,t.push(C)}Ym.length=0}Pr.material=null,Pr.geometry.index=null,Pr.geometry.attributes={},Pr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,r,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,g=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,C=this._indirectTexture,f=C.image.data;d&&(qo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),w4.setFromProjectionMatrix(qo,e.coordinateSystem));let b=0;if(this.sortObjects){qo.copy(this.matrixWorld).invert(),yI.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qo),QS.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qo);for(let y=0,B=l.length;y<B;y++)if(l[y].visible&&l[y].active){const x=l[y].geometryIndex;this.getMatrixAt(y,qo),this.getBoundingSphereAt(x,Eg).applyMatrix4(qo);let w=!1;if(d&&(w=!w4.intersectsSphere(Eg)),!w){const S=u[x],Z=xQ.subVectors(Eg.center,yI).dot(QS);S4.push(S.start,S.count,Z,y)}}const A=S4.list,p=this.customSort;p===null?A.sort(o.transparent?vQ:bQ):p.call(this,A,i);for(let y=0,B=A.length;y<B;y++){const x=A[y];c[b]=x.start*s,g[b]=x.count,f[b]=x.index,b++}S4.reset()}else for(let A=0,p=l.length;A<p;A++)if(l[A].visible&&l[A].active){const y=l[A].geometryIndex;let B=!1;if(d&&(this.getMatrixAt(A,qo),this.getBoundingSphereAt(y,Eg).applyMatrix4(qo),B=!w4.intersectsSphere(Eg)),!B){const x=u[y];c[b]=x.start*s,g[b]=x.count,f[b]=A,b++}}C.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,o,a){this.onBeforeRender(e,null,r,o,a)}}class io extends er{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const b3=new k,v3=new k,$S=new vt,BI=new n1,Km=new Mr,Z4=new k,eZ=new k;class Jl extends Sn{constructor(e=new dn,t=new io){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,o=t.count;r<o;r++)b3.fromBufferAttribute(t,r-1),v3.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=b3.distanceTo(v3);e.setAttribute("lineDistance",new $t(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Km.copy(i.boundingSphere),Km.applyMatrix4(r),Km.radius+=o,e.ray.intersectsSphere(Km)===!1)return;$S.copy(r).invert(),BI.copy(e.ray).applyMatrix4($S);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,g=i.index,d=i.attributes.position;if(g!==null){const C=Math.max(0,a.start),f=Math.min(g.count,a.start+a.count);for(let b=C,A=f-1;b<A;b+=c){const p=g.getX(b),y=g.getX(b+1),B=Lm(this,e,BI,l,p,y);B&&t.push(B)}if(this.isLineLoop){const b=g.getX(f-1),A=g.getX(C),p=Lm(this,e,BI,l,b,A);p&&t.push(p)}}else{const C=Math.max(0,a.start),f=Math.min(d.count,a.start+a.count);for(let b=C,A=f-1;b<A;b+=c){const p=Lm(this,e,BI,l,b,b+1);p&&t.push(p)}if(this.isLineLoop){const b=Lm(this,e,BI,l,f-1,C);b&&t.push(b)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const s=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function Lm(n,e,t,i,r,o){const a=n.geometry.attributes.position;if(b3.fromBufferAttribute(a,r),v3.fromBufferAttribute(a,o),t.distanceSqToSegment(b3,v3,Z4,eZ)>i)return;Z4.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(Z4);if(!(l<e.near||l>e.far))return{distance:l,point:eZ.clone().applyMatrix4(n.matrixWorld),index:r,face:null,faceIndex:null,barycoord:null,object:n}}const tZ=new k,nZ=new k;class Zs extends Jl{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,o=t.count;r<o;r+=2)tZ.fromBufferAttribute(t,r),nZ.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+tZ.distanceTo(nZ);e.setAttribute("lineDistance",new $t(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class C7 extends Jl{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class xA extends er{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const iZ=new vt,a8=new n1,Tm=new Mr,km=new k;class h7 extends Sn{constructor(e=new dn,t=new xA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Tm.copy(i.boundingSphere),Tm.applyMatrix4(r),Tm.radius+=o,e.ray.intersectsSphere(Tm)===!1)return;iZ.copy(r).invert(),a8.copy(e.ray).applyMatrix4(iZ);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=i.index,u=i.attributes.position;if(c!==null){const d=Math.max(0,a.start),C=Math.min(c.count,a.start+a.count);for(let f=d,b=C;f<b;f++){const A=c.getX(f);km.fromBufferAttribute(u,A),rZ(km,A,l,r,e,t,this)}}else{const d=Math.max(0,a.start),C=Math.min(u.count,a.start+a.count);for(let f=d,b=C;f<b;f++)km.fromBufferAttribute(u,f),rZ(km,f,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=r.length;o<a;o++){const s=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function rZ(n,e,t,i,r,o,a){const s=a8.distanceSqToPoint(n);if(s<t){const l=new k;a8.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class wQ extends Ln{constructor(e,t,i,r,o,a,s,l,c){super(e,t,i,r,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Tn,this.magFilter=o!==void 0?o:Tn,this.generateMipmaps=!1;const g=this;function u(){g.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class SQ extends Ln{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=br,this.minFilter=br,this.generateMipmaps=!1,this.needsUpdate=!0}}class GA extends Ln{constructor(e,t,i,r,o,a,s,l,c,g,u,d){super(null,a,s,l,c,g,r,o,u,d),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ZQ extends GA{constructor(e,t,i,r,o,a){super(e,t,i,o,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Ki,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qQ extends GA{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,al),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class RQ extends Ln{constructor(e,t,i,r,o,a,s,l,c){super(e,t,i,r,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class qs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),o=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),o+=i.distanceTo(r),t.push(o),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const o=i.length;let a;t?a=t:a=e*i[o-1];let s=0,l=o-1,c;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),c=i[r]-a,c<0)s=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(o-1);const g=i[r],d=i[r+1]-g,C=(a-g)/d;return(r+C)/(o-1)}getTangent(e,t){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const a=this.getPoint(r),s=this.getPoint(o),l=t||(a.isVector2?new et:new k);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],o=[],a=[],s=new k,l=new vt;for(let C=0;C<=e;C++){const f=C/e;r[C]=this.getTangentAt(f,new k)}o[0]=new k,a[0]=new k;let c=Number.MAX_VALUE;const g=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);g<=c&&(c=g,i.set(1,0,0)),u<=c&&(c=u,i.set(0,1,0)),d<=c&&i.set(0,0,1),s.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],s),a[0].crossVectors(r[0],o[0]);for(let C=1;C<=e;C++){if(o[C]=o[C-1].clone(),a[C]=a[C-1].clone(),s.crossVectors(r[C-1],r[C]),s.length()>Number.EPSILON){s.normalize();const f=Math.acos(Ni(r[C-1].dot(r[C]),-1,1));o[C].applyMatrix4(l.makeRotationAxis(s,f))}a[C].crossVectors(r[C],o[C])}if(t===!0){let C=Math.acos(Ni(o[0].dot(o[e]),-1,1));C/=e,r[0].dot(s.crossVectors(o[0],o[e]))>0&&(C=-C);for(let f=1;f<=e;f++)o[f].applyMatrix4(l.makeRotationAxis(r[f],C*f)),a[f].crossVectors(r[f],o[f])}return{tangents:r,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wA extends qs{constructor(e=0,t=0,i=1,r=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,t=new et){const i=t,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(a?o=0:o=r),this.aClockwise===!0&&!a&&(o===r?o=-r:o=o-r);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const g=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=l-this.aX,C=c-this.aY;l=d*g-C*u+this.aX,c=d*u+C*g+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class EN extends wA{constructor(e,t,i,r,o,a){super(e,t,i,i,r,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function m7(){let n=0,e=0,t=0,i=0;function r(o,a,s,l){n=o,e=s,t=-3*o+3*a-2*s-l,i=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){r(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,g,u){let d=(a-o)/c-(s-o)/(c+g)+(s-a)/g,C=(s-a)/g-(l-a)/(g+u)+(l-s)/u;d*=g,C*=g,r(a,s,d,C)},calc:function(o){const a=o*o,s=a*o;return n+e*o+t*a+i*s}}}const Pm=new k,q4=new m7,R4=new m7,M4=new m7;class XN extends qs{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,o=r.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,g;this.closed||s>0?c=r[(s-1)%o]:(Pm.subVectors(r[0],r[1]).add(r[0]),c=Pm);const u=r[s%o],d=r[(s+1)%o];if(this.closed||s+2<o?g=r[(s+2)%o]:(Pm.subVectors(r[o-1],r[o-2]).add(r[o-1]),g=Pm),this.curveType==="centripetal"||this.curveType==="chordal"){const C=this.curveType==="chordal"?.5:.25;let f=Math.pow(c.distanceToSquared(u),C),b=Math.pow(u.distanceToSquared(d),C),A=Math.pow(d.distanceToSquared(g),C);b<1e-4&&(b=1),f<1e-4&&(f=b),A<1e-4&&(A=b),q4.initNonuniformCatmullRom(c.x,u.x,d.x,g.x,f,b,A),R4.initNonuniformCatmullRom(c.y,u.y,d.y,g.y,f,b,A),M4.initNonuniformCatmullRom(c.z,u.z,d.z,g.z,f,b,A)}else this.curveType==="catmullrom"&&(q4.initCatmullRom(c.x,u.x,d.x,g.x,this.tension),R4.initCatmullRom(c.y,u.y,d.y,g.y,this.tension),M4.initCatmullRom(c.z,u.z,d.z,g.z,this.tension));return i.set(q4.calc(l),R4.calc(l),M4.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new k().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function oZ(n,e,t,i,r){const o=(i-e)*.5,a=(r-t)*.5,s=n*n,l=n*s;return(2*t-2*i+o+a)*l+(-3*t+3*i-2*o-a)*s+o*n+t}function MQ(n,e){const t=1-n;return t*t*e}function _Q(n,e){return 2*(1-n)*n*e}function WQ(n,e){return n*n*e}function mC(n,e,t,i){return MQ(n,e)+_Q(n,t)+WQ(n,i)}function VQ(n,e){const t=1-n;return t*t*t*e}function NQ(n,e){const t=1-n;return 3*t*t*n*e}function FQ(n,e){return 3*(1-n)*n*n*e}function HQ(n,e){return n*n*n*e}function fC(n,e,t,i,r){return VQ(n,e)+NQ(n,t)+FQ(n,i)+HQ(n,r)}class f7 extends qs{constructor(e=new et,t=new et,i=new et,r=new et){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new et){const i=t,r=this.v0,o=this.v1,a=this.v2,s=this.v3;return i.set(fC(e,r.x,o.x,a.x,s.x),fC(e,r.y,o.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zN extends qs{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,o=this.v1,a=this.v2,s=this.v3;return i.set(fC(e,r.x,o.x,a.x,s.x),fC(e,r.y,o.y,a.y,s.y),fC(e,r.z,o.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class p7 extends qs{constructor(e=new et,t=new et){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new et){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new et){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YN extends qs{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new k){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class A7 extends qs{constructor(e=new et,t=new et,i=new et){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new et){const i=t,r=this.v0,o=this.v1,a=this.v2;return i.set(mC(e,r.x,o.x,a.x),mC(e,r.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class b7 extends qs{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,o=this.v1,a=this.v2;return i.set(mC(e,r.x,o.x,a.x),mC(e,r.y,o.y,a.y),mC(e,r.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class v7 extends qs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new et){const i=t,r=this.points,o=(r.length-1)*e,a=Math.floor(o),s=o-a,l=r[a===0?a:a-1],c=r[a],g=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return i.set(oZ(s,l.x,c.x,g.x,u.x),oZ(s,l.y,c.y,g.y,u.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new et().fromArray(r))}return this}}var y3=Object.freeze({__proto__:null,ArcCurve:EN,CatmullRomCurve3:XN,CubicBezierCurve:f7,CubicBezierCurve3:zN,EllipseCurve:wA,LineCurve:p7,LineCurve3:YN,QuadraticBezierCurve:A7,QuadraticBezierCurve3:b7,SplineCurve:v7});class KN extends qs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new y3[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const a=r[o]-i,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const a=o[r],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const g=l[c];i&&i.equals(g)||(t.push(g),i=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new y3[r.type]().fromJSON(r))}return this}}class JC extends KN{constructor(e){super(),this.type="Path",this.currentPoint=new et,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new p7(this.currentPoint.clone(),new et(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const o=new A7(this.currentPoint.clone(),new et(e,t),new et(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,o,a){const s=new f7(this.currentPoint.clone(),new et(e,t),new et(i,r),new et(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new v7(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,i,r,o,a),this}absarc(e,t,i,r,o,a){return this.absellipse(e,t,i,i,r,o,a),this}ellipse(e,t,i,r,o,a,s,l){const c=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+c,t+g,i,r,o,a,s,l),this}absellipse(e,t,i,r,o,a,s,l){const c=new wA(e,t,i,r,o,a,s,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const g=c.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lh extends dn{constructor(e=[new et(0,-.5),new et(.5,0),new et(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Ni(r,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],g=1/t,u=new k,d=new et,C=new k,f=new k,b=new k;let A=0,p=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:A=e[y+1].x-e[y].x,p=e[y+1].y-e[y].y,C.x=p*1,C.y=-A,C.z=p*0,b.copy(C),C.normalize(),l.push(C.x,C.y,C.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:A=e[y+1].x-e[y].x,p=e[y+1].y-e[y].y,C.x=p*1,C.y=-A,C.z=p*0,f.copy(C),C.x+=b.x,C.y+=b.y,C.z+=b.z,C.normalize(),l.push(C.x,C.y,C.z),b.copy(f)}for(let y=0;y<=t;y++){const B=i+y*g*r,x=Math.sin(B),w=Math.cos(B);for(let S=0;S<=e.length-1;S++){u.x=e[S].x*x,u.y=e[S].y,u.z=e[S].x*w,a.push(u.x,u.y,u.z),d.x=y/t,d.y=S/(e.length-1),s.push(d.x,d.y);const Z=l[3*S+0]*x,M=l[3*S+1],q=l[3*S+0]*w;c.push(Z,M,q)}}for(let y=0;y<t;y++)for(let B=0;B<e.length-1;B++){const x=B+y*e.length,w=x,S=x+e.length,Z=x+e.length+1,M=x+1;o.push(w,S,M),o.push(Z,M,S)}this.setIndex(o),this.setAttribute("position",new $t(a,3)),this.setAttribute("uv",new $t(s,2)),this.setAttribute("normal",new $t(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lh(e.points,e.segments,e.phiStart,e.phiLength)}}class SA extends Lh{constructor(e=1,t=1,i=4,r=8){const o=new JC;o.absarc(0,-t/2,e,Math.PI*1.5,0),o.absarc(0,t/2,e,0,Math.PI*.5),super(o.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new SA(e.radius,e.length,e.capSegments,e.radialSegments)}}class ZA extends dn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const o=[],a=[],s=[],l=[],c=new k,g=new et;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const C=i+u/t*r;c.x=e*Math.cos(C),c.y=e*Math.sin(C),a.push(c.x,c.y,c.z),s.push(0,0,1),g.x=(a[d]/e+1)/2,g.y=(a[d+1]/e+1)/2,l.push(g.x,g.y)}for(let u=1;u<=t;u++)o.push(u,u+1,0);this.setIndex(o),this.setAttribute("position",new $t(a,3)),this.setAttribute("normal",new $t(s,3)),this.setAttribute("uv",new $t(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class R0 extends dn{constructor(e=1,t=1,i=1,r=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;r=Math.floor(r),o=Math.floor(o);const g=[],u=[],d=[],C=[];let f=0;const b=[],A=i/2;let p=0;y(),a===!1&&(e>0&&B(!0),t>0&&B(!1)),this.setIndex(g),this.setAttribute("position",new $t(u,3)),this.setAttribute("normal",new $t(d,3)),this.setAttribute("uv",new $t(C,2));function y(){const x=new k,w=new k;let S=0;const Z=(t-e)/i;for(let M=0;M<=o;M++){const q=[],_=M/o,V=_*(t-e)+e;for(let Y=0;Y<=r;Y++){const X=Y/r,K=X*l+s,Q=Math.sin(K),z=Math.cos(K);w.x=V*Q,w.y=-_*i+A,w.z=V*z,u.push(w.x,w.y,w.z),x.set(Q,Z,z).normalize(),d.push(x.x,x.y,x.z),C.push(X,1-_),q.push(f++)}b.push(q)}for(let M=0;M<r;M++)for(let q=0;q<o;q++){const _=b[q][M],V=b[q+1][M],Y=b[q+1][M+1],X=b[q][M+1];(e>0||q!==0)&&(g.push(_,V,X),S+=3),(t>0||q!==o-1)&&(g.push(V,Y,X),S+=3)}c.addGroup(p,S,0),p+=S}function B(x){const w=f,S=new et,Z=new k;let M=0;const q=x===!0?e:t,_=x===!0?1:-1;for(let Y=1;Y<=r;Y++)u.push(0,A*_,0),d.push(0,_,0),C.push(.5,.5),f++;const V=f;for(let Y=0;Y<=r;Y++){const K=Y/r*l+s,Q=Math.cos(K),z=Math.sin(K);Z.x=q*z,Z.y=A*_,Z.z=q*Q,u.push(Z.x,Z.y,Z.z),d.push(0,_,0),S.x=Q*.5+.5,S.y=z*.5*_+.5,C.push(S.x,S.y),f++}for(let Y=0;Y<r;Y++){const X=w+Y,K=V+Y;x===!0?g.push(K,K+1,X):g.push(K+1,K,X),M+=3}c.addGroup(p,M,x===!0?1:2),p+=M}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new R0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qA extends R0{constructor(e=1,t=1,i=32,r=1,o=!1,a=0,s=Math.PI*2){super(0,e,t,i,r,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new qA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class mg extends dn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const o=[],a=[];s(r),c(i),g(),this.setAttribute("position",new $t(o,3)),this.setAttribute("normal",new $t(o.slice(),3)),this.setAttribute("uv",new $t(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function s(y){const B=new k,x=new k,w=new k;for(let S=0;S<t.length;S+=3)C(t[S+0],B),C(t[S+1],x),C(t[S+2],w),l(B,x,w,y)}function l(y,B,x,w){const S=w+1,Z=[];for(let M=0;M<=S;M++){Z[M]=[];const q=y.clone().lerp(x,M/S),_=B.clone().lerp(x,M/S),V=S-M;for(let Y=0;Y<=V;Y++)Y===0&&M===S?Z[M][Y]=q:Z[M][Y]=q.clone().lerp(_,Y/V)}for(let M=0;M<S;M++)for(let q=0;q<2*(S-M)-1;q++){const _=Math.floor(q/2);q%2===0?(d(Z[M][_+1]),d(Z[M+1][_]),d(Z[M][_])):(d(Z[M][_+1]),d(Z[M+1][_+1]),d(Z[M+1][_]))}}function c(y){const B=new k;for(let x=0;x<o.length;x+=3)B.x=o[x+0],B.y=o[x+1],B.z=o[x+2],B.normalize().multiplyScalar(y),o[x+0]=B.x,o[x+1]=B.y,o[x+2]=B.z}function g(){const y=new k;for(let B=0;B<o.length;B+=3){y.x=o[B+0],y.y=o[B+1],y.z=o[B+2];const x=A(y)/2/Math.PI+.5,w=p(y)/Math.PI+.5;a.push(x,1-w)}f(),u()}function u(){for(let y=0;y<a.length;y+=6){const B=a[y+0],x=a[y+2],w=a[y+4],S=Math.max(B,x,w),Z=Math.min(B,x,w);S>.9&&Z<.1&&(B<.2&&(a[y+0]+=1),x<.2&&(a[y+2]+=1),w<.2&&(a[y+4]+=1))}}function d(y){o.push(y.x,y.y,y.z)}function C(y,B){const x=y*3;B.x=e[x+0],B.y=e[x+1],B.z=e[x+2]}function f(){const y=new k,B=new k,x=new k,w=new k,S=new et,Z=new et,M=new et;for(let q=0,_=0;q<o.length;q+=9,_+=6){y.set(o[q+0],o[q+1],o[q+2]),B.set(o[q+3],o[q+4],o[q+5]),x.set(o[q+6],o[q+7],o[q+8]),S.set(a[_+0],a[_+1]),Z.set(a[_+2],a[_+3]),M.set(a[_+4],a[_+5]),w.copy(y).add(B).add(x).divideScalar(3);const V=A(w);b(S,_+0,y,V),b(Z,_+2,B,V),b(M,_+4,x,V)}}function b(y,B,x,w){w<0&&y.x===1&&(a[B]=y.x-1),x.x===0&&x.z===0&&(a[B]=w/2/Math.PI+.5)}function A(y){return Math.atan2(y.z,-y.x)}function p(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mg(e.vertices,e.indices,e.radius,e.details)}}class RA extends mg{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new RA(e.radius,e.detail)}}const Dm=new k,Um=new k,_4=new k,Om=new Ho;class LN extends dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),o=Math.cos(Su*t),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],g=["a","b","c"],u=new Array(3),d={},C=[];for(let f=0;f<l;f+=3){a?(c[0]=a.getX(f),c[1]=a.getX(f+1),c[2]=a.getX(f+2)):(c[0]=f,c[1]=f+1,c[2]=f+2);const{a:b,b:A,c:p}=Om;if(b.fromBufferAttribute(s,c[0]),A.fromBufferAttribute(s,c[1]),p.fromBufferAttribute(s,c[2]),Om.getNormal(_4),u[0]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,u[1]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,u[2]=`${Math.round(p.x*r)},${Math.round(p.y*r)},${Math.round(p.z*r)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let y=0;y<3;y++){const B=(y+1)%3,x=u[y],w=u[B],S=Om[g[y]],Z=Om[g[B]],M=`${x}_${w}`,q=`${w}_${x}`;q in d&&d[q]?(_4.dot(d[q].normal)<=o&&(C.push(S.x,S.y,S.z),C.push(Z.x,Z.y,Z.z)),d[q]=null):M in d||(d[M]={index0:c[y],index1:c[B],normal:_4.clone()})}}for(const f in d)if(d[f]){const{index0:b,index1:A}=d[f];Dm.fromBufferAttribute(s,b),Um.fromBufferAttribute(s,A),C.push(Dm.x,Dm.y,Dm.z),C.push(Um.x,Um.y,Um.z)}this.setAttribute("position",new $t(C,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Ru=class extends JC{constructor(e){super(e),this.uuid=da(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new JC().fromJSON(r))}return this}};const EQ={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let o=TN(n,0,r,t,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,g,u,d,C;if(i&&(o=LQ(n,e,o,t)),n.length>80*t){s=c=n[0],l=g=n[1];for(let f=t;f<r;f+=t)u=n[f],d=n[f+1],u<s&&(s=u),d<l&&(l=d),u>c&&(c=u),d>g&&(g=d);C=Math.max(c-s,g-l),C=C!==0?32767/C:0}return QC(o,a,t,s,l,C,0),a}};function TN(n,e,t,i,r){let o,a;if(r===e$(n,e,t,i)>0)for(o=e;o<t;o+=i)a=aZ(o,n[o],n[o+1],a);else for(o=t-i;o>=e;o-=i)a=aZ(o,n[o],n[o+1],a);return a&&MA(a,a.next)&&(eh(a),a=a.next),a}function ku(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(MA(t,t.next)||xi(t.prev,t,t.next)===0)){if(eh(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function QC(n,e,t,i,r,o,a){if(!n)return;!a&&o&&UQ(n,i,r,o);let s=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,o?zQ(n,i,r,o):XQ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),eh(n),n=c.next,s=c.next;continue}if(n=c,n===s){a?a===1?(n=YQ(ku(n),e,t),QC(n,e,t,i,r,o,2)):a===2&&KQ(n,e,t,i,r,o):QC(ku(n),e,t,i,r,o,1);break}}}function XQ(n){const e=n.prev,t=n,i=n.next;if(xi(e,t,i)>=0)return!1;const r=e.x,o=t.x,a=i.x,s=e.y,l=t.y,c=i.y,g=r<o?r<a?r:a:o<a?o:a,u=s<l?s<c?s:c:l<c?l:c,d=r>o?r>a?r:a:o>a?o:a,C=s>l?s>c?s:c:l>c?l:c;let f=i.next;for(;f!==e;){if(f.x>=g&&f.x<=d&&f.y>=u&&f.y<=C&&vd(r,s,o,l,a,c,f.x,f.y)&&xi(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function zQ(n,e,t,i){const r=n.prev,o=n,a=n.next;if(xi(r,o,a)>=0)return!1;const s=r.x,l=o.x,c=a.x,g=r.y,u=o.y,d=a.y,C=s<l?s<c?s:c:l<c?l:c,f=g<u?g<d?g:d:u<d?u:d,b=s>l?s>c?s:c:l>c?l:c,A=g>u?g>d?g:d:u>d?u:d,p=s8(C,f,e,t,i),y=s8(b,A,e,t,i);let B=n.prevZ,x=n.nextZ;for(;B&&B.z>=p&&x&&x.z<=y;){if(B.x>=C&&B.x<=b&&B.y>=f&&B.y<=A&&B!==r&&B!==a&&vd(s,g,l,u,c,d,B.x,B.y)&&xi(B.prev,B,B.next)>=0||(B=B.prevZ,x.x>=C&&x.x<=b&&x.y>=f&&x.y<=A&&x!==r&&x!==a&&vd(s,g,l,u,c,d,x.x,x.y)&&xi(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;B&&B.z>=p;){if(B.x>=C&&B.x<=b&&B.y>=f&&B.y<=A&&B!==r&&B!==a&&vd(s,g,l,u,c,d,B.x,B.y)&&xi(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;x&&x.z<=y;){if(x.x>=C&&x.x<=b&&x.y>=f&&x.y<=A&&x!==r&&x!==a&&vd(s,g,l,u,c,d,x.x,x.y)&&xi(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function YQ(n,e,t){let i=n;do{const r=i.prev,o=i.next.next;!MA(r,o)&&kN(r,i,i.next,o)&&$C(r,o)&&$C(o,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(o.i/t|0),eh(i),eh(i.next),i=n=o),i=i.next}while(i!==n);return ku(i)}function KQ(n,e,t,i,r,o){let a=n;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&JQ(a,s)){let l=PN(a,s);a=ku(a,a.next),l=ku(l,l.next),QC(a,e,t,i,r,o,0),QC(l,e,t,i,r,o,0);return}s=s.next}a=a.next}while(a!==n)}function LQ(n,e,t,i){const r=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*i,l=o<a-1?e[o+1]*i:n.length,c=TN(n,s,l,i,!1),c===c.next&&(c.steiner=!0),r.push(jQ(c));for(r.sort(TQ),o=0;o<r.length;o++)t=kQ(r[o],t);return t}function TQ(n,e){return n.x-e.x}function kQ(n,e){const t=PQ(n,e);if(!t)return e;const i=PN(t,n);return ku(i,i.next),ku(t,t.next)}function PQ(n,e){let t=e,i=-1/0,r;const o=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const d=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=o&&d>i&&(i=d,r=t.x<t.next.x?t:t.next,d===o))return r}t=t.next}while(t!==e);if(!r)return null;const s=r,l=r.x,c=r.y;let g=1/0,u;t=r;do o>=t.x&&t.x>=l&&o!==t.x&&vd(a<c?o:i,a,l,c,a<c?i:o,a,t.x,t.y)&&(u=Math.abs(a-t.y)/(o-t.x),$C(t,n)&&(u<g||u===g&&(t.x>r.x||t.x===r.x&&DQ(r,t)))&&(r=t,g=u)),t=t.next;while(t!==s);return r}function DQ(n,e){return xi(n.prev,n,e.prev)<0&&xi(e.next,n,n.next)<0}function UQ(n,e,t,i){let r=n;do r.z===0&&(r.z=s8(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,OQ(r)}function OQ(n){let e,t,i,r,o,a,s,l,c=1;do{for(t=n,n=null,o=null,a=0;t;){for(a++,i=t,s=0,e=0;e<c&&(s++,i=i.nextZ,!!i);e++);for(l=c;s>0||l>0&&i;)s!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:n=r,r.prevZ=o,o=r;t=i}o.nextZ=null,c*=2}while(a>1);return n}function s8(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function jQ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function vd(n,e,t,i,r,o,a,s){return(r-a)*(e-s)>=(n-a)*(o-s)&&(n-a)*(i-s)>=(t-a)*(e-s)&&(t-a)*(o-s)>=(r-a)*(i-s)}function JQ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!QQ(n,e)&&($C(n,e)&&$C(e,n)&&$Q(n,e)&&(xi(n.prev,n,e.prev)||xi(n,e.prev,e))||MA(n,e)&&xi(n.prev,n,n.next)>0&&xi(e.prev,e,e.next)>0)}function xi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function MA(n,e){return n.x===e.x&&n.y===e.y}function kN(n,e,t,i){const r=Jm(xi(n,e,t)),o=Jm(xi(n,e,i)),a=Jm(xi(t,i,n)),s=Jm(xi(t,i,e));return!!(r!==o&&a!==s||r===0&&jm(n,t,e)||o===0&&jm(n,i,e)||a===0&&jm(t,n,i)||s===0&&jm(t,e,i))}function jm(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Jm(n){return n>0?1:n<0?-1:0}function QQ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&kN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function $C(n,e){return xi(n.prev,n,n.next)<0?xi(n,e,n.next)>=0&&xi(n,n.prev,e)>=0:xi(n,e,n.prev)<0||xi(n,n.next,e)<0}function $Q(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&r<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function PN(n,e){const t=new l8(n.i,n.x,n.y),i=new l8(e.i,e.x,e.y),r=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,o.next=i,i.prev=o,i}function aZ(n,e,t,i){const r=new l8(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function eh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function l8(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function e$(n,e,t,i){let r=0;for(let o=e,a=t-i;o<t;o+=i)r+=(n[a]-n[o])*(n[o+1]+n[a+1]),a=o;return r}class nl{static area(e){const t=e.length;let i=0;for(let r=t-1,o=0;o<t;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return i*.5}static isClockWise(e){return nl.area(e)<0}static triangulateShape(e,t){const i=[],r=[],o=[];sZ(e),lZ(i,e);let a=e.length;t.forEach(sZ);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,lZ(i,t[l]);const s=EQ.triangulate(i,r);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function sZ(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function lZ(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Th extends dn{constructor(e=new Ru([new et(.5,.5),new et(-.5,.5),new et(-.5,-.5),new et(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new $t(r,3)),this.setAttribute("uv",new $t(o,2)),this.computeVertexNormals();function a(s){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1,u=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,C=t.bevelThickness!==void 0?t.bevelThickness:.2,f=t.bevelSize!==void 0?t.bevelSize:C-.1,b=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const p=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:t$;let B,x=!1,w,S,Z,M;p&&(B=p.getSpacedPoints(g),x=!0,d=!1,w=p.computeFrenetFrames(g,!1),S=new k,Z=new k,M=new k),d||(A=0,C=0,f=0,b=0);const q=s.extractPoints(c);let _=q.shape;const V=q.holes;if(!nl.isClockWise(_)){_=_.reverse();for(let Ie=0,pe=V.length;Ie<pe;Ie++){const $=V[Ie];nl.isClockWise($)&&(V[Ie]=$.reverse())}}const X=nl.triangulateShape(_,V),K=_;for(let Ie=0,pe=V.length;Ie<pe;Ie++){const $=V[Ie];_=_.concat($)}function Q(Ie,pe,$){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ie.clone().addScaledVector(pe,$)}const z=_.length,D=X.length;function N(Ie,pe,$){let Ge,Ze,Ye;const Ne=Ie.x-pe.x,Je=Ie.y-pe.y,Ke=$.x-Ie.x,U=$.y-Ie.y,T=Ne*Ne+Je*Je,le=Ne*U-Je*Ke;if(Math.abs(le)>Number.EPSILON){const ye=Math.sqrt(T),Fe=Math.sqrt(Ke*Ke+U*U),we=pe.x-Je/ye,tt=pe.y+Ne/ye,je=$.x-U/Fe,Qe=$.y+Ke/Fe,Rt=((je-we)*U-(Qe-tt)*Ke)/(Ne*U-Je*Ke);Ge=we+Ne*Rt-Ie.x,Ze=tt+Je*Rt-Ie.y;const ze=Ge*Ge+Ze*Ze;if(ze<=2)return new et(Ge,Ze);Ye=Math.sqrt(ze/2)}else{let ye=!1;Ne>Number.EPSILON?Ke>Number.EPSILON&&(ye=!0):Ne<-Number.EPSILON?Ke<-Number.EPSILON&&(ye=!0):Math.sign(Je)===Math.sign(U)&&(ye=!0),ye?(Ge=-Je,Ze=Ne,Ye=Math.sqrt(T)):(Ge=Ne,Ze=Je,Ye=Math.sqrt(T/2))}return new et(Ge/Ye,Ze/Ye)}const L=[];for(let Ie=0,pe=K.length,$=pe-1,Ge=Ie+1;Ie<pe;Ie++,$++,Ge++)$===pe&&($=0),Ge===pe&&(Ge=0),L[Ie]=N(K[Ie],K[$],K[Ge]);const P=[];let O,ie=L.concat();for(let Ie=0,pe=V.length;Ie<pe;Ie++){const $=V[Ie];O=[];for(let Ge=0,Ze=$.length,Ye=Ze-1,Ne=Ge+1;Ge<Ze;Ge++,Ye++,Ne++)Ye===Ze&&(Ye=0),Ne===Ze&&(Ne=0),O[Ge]=N($[Ge],$[Ye],$[Ne]);P.push(O),ie=ie.concat(O)}for(let Ie=0;Ie<A;Ie++){const pe=Ie/A,$=C*Math.cos(pe*Math.PI/2),Ge=f*Math.sin(pe*Math.PI/2)+b;for(let Ze=0,Ye=K.length;Ze<Ye;Ze++){const Ne=Q(K[Ze],L[Ze],Ge);Ae(Ne.x,Ne.y,-$)}for(let Ze=0,Ye=V.length;Ze<Ye;Ze++){const Ne=V[Ze];O=P[Ze];for(let Je=0,Ke=Ne.length;Je<Ke;Je++){const U=Q(Ne[Je],O[Je],Ge);Ae(U.x,U.y,-$)}}}const ge=f+b;for(let Ie=0;Ie<z;Ie++){const pe=d?Q(_[Ie],ie[Ie],ge):_[Ie];x?(Z.copy(w.normals[0]).multiplyScalar(pe.x),S.copy(w.binormals[0]).multiplyScalar(pe.y),M.copy(B[0]).add(Z).add(S),Ae(M.x,M.y,M.z)):Ae(pe.x,pe.y,0)}for(let Ie=1;Ie<=g;Ie++)for(let pe=0;pe<z;pe++){const $=d?Q(_[pe],ie[pe],ge):_[pe];x?(Z.copy(w.normals[Ie]).multiplyScalar($.x),S.copy(w.binormals[Ie]).multiplyScalar($.y),M.copy(B[Ie]).add(Z).add(S),Ae(M.x,M.y,M.z)):Ae($.x,$.y,u/g*Ie)}for(let Ie=A-1;Ie>=0;Ie--){const pe=Ie/A,$=C*Math.cos(pe*Math.PI/2),Ge=f*Math.sin(pe*Math.PI/2)+b;for(let Ze=0,Ye=K.length;Ze<Ye;Ze++){const Ne=Q(K[Ze],L[Ze],Ge);Ae(Ne.x,Ne.y,u+$)}for(let Ze=0,Ye=V.length;Ze<Ye;Ze++){const Ne=V[Ze];O=P[Ze];for(let Je=0,Ke=Ne.length;Je<Ke;Je++){const U=Q(Ne[Je],O[Je],Ge);x?Ae(U.x,U.y+B[g-1].y,B[g-1].x+$):Ae(U.x,U.y,u+$)}}}J(),Ce();function J(){const Ie=r.length/3;if(d){let pe=0,$=z*pe;for(let Ge=0;Ge<D;Ge++){const Ze=X[Ge];Xe(Ze[2]+$,Ze[1]+$,Ze[0]+$)}pe=g+A*2,$=z*pe;for(let Ge=0;Ge<D;Ge++){const Ze=X[Ge];Xe(Ze[0]+$,Ze[1]+$,Ze[2]+$)}}else{for(let pe=0;pe<D;pe++){const $=X[pe];Xe($[2],$[1],$[0])}for(let pe=0;pe<D;pe++){const $=X[pe];Xe($[0]+z*g,$[1]+z*g,$[2]+z*g)}}i.addGroup(Ie,r.length/3-Ie,0)}function Ce(){const Ie=r.length/3;let pe=0;ve(K,pe),pe+=K.length;for(let $=0,Ge=V.length;$<Ge;$++){const Ze=V[$];ve(Ze,pe),pe+=Ze.length}i.addGroup(Ie,r.length/3-Ie,1)}function ve(Ie,pe){let $=Ie.length;for(;--$>=0;){const Ge=$;let Ze=$-1;Ze<0&&(Ze=Ie.length-1);for(let Ye=0,Ne=g+A*2;Ye<Ne;Ye++){const Je=z*Ye,Ke=z*(Ye+1),U=pe+Ge+Je,T=pe+Ze+Je,le=pe+Ze+Ke,ye=pe+Ge+Ke;Le(U,T,le,ye)}}}function Ae(Ie,pe,$){l.push(Ie),l.push(pe),l.push($)}function Xe(Ie,pe,$){Ee(Ie),Ee(pe),Ee($);const Ge=r.length/3,Ze=y.generateTopUV(i,r,Ge-3,Ge-2,Ge-1);be(Ze[0]),be(Ze[1]),be(Ze[2])}function Le(Ie,pe,$,Ge){Ee(Ie),Ee(pe),Ee(Ge),Ee(pe),Ee($),Ee(Ge);const Ze=r.length/3,Ye=y.generateSideWallUV(i,r,Ze-6,Ze-3,Ze-2,Ze-1);be(Ye[0]),be(Ye[1]),be(Ye[3]),be(Ye[1]),be(Ye[2]),be(Ye[3])}function Ee(Ie){r.push(l[Ie*3+0]),r.push(l[Ie*3+1]),r.push(l[Ie*3+2])}function be(Ie){o.push(Ie.x),o.push(Ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return n$(t,i,e)}static fromJSON(e,t){const i=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=t[e.shapes[o]];i.push(s)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new y3[r.type]().fromJSON(r)),new Th(i,e.options)}}const t$={generateTopUV:function(n,e,t,i,r){const o=e[t*3],a=e[t*3+1],s=e[i*3],l=e[i*3+1],c=e[r*3],g=e[r*3+1];return[new et(o,a),new et(s,l),new et(c,g)]},generateSideWallUV:function(n,e,t,i,r,o){const a=e[t*3],s=e[t*3+1],l=e[t*3+2],c=e[i*3],g=e[i*3+1],u=e[i*3+2],d=e[r*3],C=e[r*3+1],f=e[r*3+2],b=e[o*3],A=e[o*3+1],p=e[o*3+2];return Math.abs(s-g)<Math.abs(a-c)?[new et(a,1-l),new et(c,1-u),new et(d,1-f),new et(b,1-p)]:[new et(s,1-l),new et(g,1-u),new et(C,1-f),new et(A,1-p)]}};function n$(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const o=n[i];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class kh extends mg{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kh(e.radius,e.detail)}}class Ph extends mg{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ph(e.radius,e.detail)}}class _A extends dn{constructor(e=.5,t=1,i=32,r=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const s=[],l=[],c=[],g=[];let u=e;const d=(t-e)/r,C=new k,f=new et;for(let b=0;b<=r;b++){for(let A=0;A<=i;A++){const p=o+A/i*a;C.x=u*Math.cos(p),C.y=u*Math.sin(p),l.push(C.x,C.y,C.z),c.push(0,0,1),f.x=(C.x/t+1)/2,f.y=(C.y/t+1)/2,g.push(f.x,f.y)}u+=d}for(let b=0;b<r;b++){const A=b*(i+1);for(let p=0;p<i;p++){const y=p+A,B=y,x=y+i+1,w=y+i+2,S=y+1;s.push(B,x,S),s.push(x,w,S)}}this.setIndex(s),this.setAttribute("position",new $t(l,3)),this.setAttribute("normal",new $t(c,3)),this.setAttribute("uv",new $t(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _A(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class WA extends dn{constructor(e=new Ru([new et(0,.5),new et(-.5,-.5),new et(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let g=0;g<e.length;g++)c(e[g]),this.addGroup(s,l,g),s+=l,l=0;this.setIndex(i),this.setAttribute("position",new $t(r,3)),this.setAttribute("normal",new $t(o,3)),this.setAttribute("uv",new $t(a,2));function c(g){const u=r.length/3,d=g.extractPoints(t);let C=d.shape;const f=d.holes;nl.isClockWise(C)===!1&&(C=C.reverse());for(let A=0,p=f.length;A<p;A++){const y=f[A];nl.isClockWise(y)===!0&&(f[A]=y.reverse())}const b=nl.triangulateShape(C,f);for(let A=0,p=f.length;A<p;A++){const y=f[A];C=C.concat(y)}for(let A=0,p=C.length;A<p;A++){const y=C[A];r.push(y.x,y.y,0),o.push(0,0,1),a.push(y.x,y.y)}for(let A=0,p=b.length;A<p;A++){const y=b[A],B=y[0]+u,x=y[1]+u,w=y[2]+u;i.push(B,x,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return i$(t,e)}static fromJSON(e,t){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const a=t[e.shapes[r]];i.push(a)}return new WA(i,e.curveSegments)}}function i$(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Dh extends dn{constructor(e=1,t=32,i=16,r=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:o,thetaStart:a,thetaLength:s},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+s,Math.PI);let c=0;const g=[],u=new k,d=new k,C=[],f=[],b=[],A=[];for(let p=0;p<=i;p++){const y=[],B=p/i;let x=0;p===0&&a===0?x=.5/t:p===i&&l===Math.PI&&(x=-.5/t);for(let w=0;w<=t;w++){const S=w/t;u.x=-e*Math.cos(r+S*o)*Math.sin(a+B*s),u.y=e*Math.cos(a+B*s),u.z=e*Math.sin(r+S*o)*Math.sin(a+B*s),f.push(u.x,u.y,u.z),d.copy(u).normalize(),b.push(d.x,d.y,d.z),A.push(S+x,1-B),y.push(c++)}g.push(y)}for(let p=0;p<i;p++)for(let y=0;y<t;y++){const B=g[p][y+1],x=g[p][y],w=g[p+1][y],S=g[p+1][y+1];(p!==0||a>0)&&C.push(B,x,S),(p!==i-1||l<Math.PI)&&C.push(x,w,S)}this.setIndex(C),this.setAttribute("position",new $t(f,3)),this.setAttribute("normal",new $t(b,3)),this.setAttribute("uv",new $t(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class VA extends mg{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VA(e.radius,e.detail)}}class NA extends dn{constructor(e=1,t=.4,i=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:o},i=Math.floor(i),r=Math.floor(r);const a=[],s=[],l=[],c=[],g=new k,u=new k,d=new k;for(let C=0;C<=i;C++)for(let f=0;f<=r;f++){const b=f/r*o,A=C/i*Math.PI*2;u.x=(e+t*Math.cos(A))*Math.cos(b),u.y=(e+t*Math.cos(A))*Math.sin(b),u.z=t*Math.sin(A),s.push(u.x,u.y,u.z),g.x=e*Math.cos(b),g.y=e*Math.sin(b),d.subVectors(u,g).normalize(),l.push(d.x,d.y,d.z),c.push(f/r),c.push(C/i)}for(let C=1;C<=i;C++)for(let f=1;f<=r;f++){const b=(r+1)*C+f-1,A=(r+1)*(C-1)+f-1,p=(r+1)*(C-1)+f,y=(r+1)*C+f;a.push(b,A,y),a.push(A,p,y)}this.setIndex(a),this.setAttribute("position",new $t(s,3)),this.setAttribute("normal",new $t(l,3)),this.setAttribute("uv",new $t(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class FA extends dn{constructor(e=1,t=.4,i=64,r=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:o,q:a},i=Math.floor(i),r=Math.floor(r);const s=[],l=[],c=[],g=[],u=new k,d=new k,C=new k,f=new k,b=new k,A=new k,p=new k;for(let B=0;B<=i;++B){const x=B/i*o*Math.PI*2;y(x,o,a,e,C),y(x+.01,o,a,e,f),A.subVectors(f,C),p.addVectors(f,C),b.crossVectors(A,p),p.crossVectors(b,A),b.normalize(),p.normalize();for(let w=0;w<=r;++w){const S=w/r*Math.PI*2,Z=-t*Math.cos(S),M=t*Math.sin(S);u.x=C.x+(Z*p.x+M*b.x),u.y=C.y+(Z*p.y+M*b.y),u.z=C.z+(Z*p.z+M*b.z),l.push(u.x,u.y,u.z),d.subVectors(u,C).normalize(),c.push(d.x,d.y,d.z),g.push(B/i),g.push(w/r)}}for(let B=1;B<=i;B++)for(let x=1;x<=r;x++){const w=(r+1)*(B-1)+(x-1),S=(r+1)*B+(x-1),Z=(r+1)*B+x,M=(r+1)*(B-1)+x;s.push(w,S,M),s.push(S,Z,M)}this.setIndex(s),this.setAttribute("position",new $t(l,3)),this.setAttribute("normal",new $t(c,3)),this.setAttribute("uv",new $t(g,2));function y(B,x,w,S,Z){const M=Math.cos(B),q=Math.sin(B),_=w/x*B,V=Math.cos(_);Z.x=S*(2+V)*.5*M,Z.y=S*(2+V)*q*.5,Z.z=S*Math.sin(_)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new FA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class HA extends dn{constructor(e=new b7(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),t=64,i=1,r=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:o};const a=e.computeFrenetFrames(t,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new k,l=new k,c=new et;let g=new k;const u=[],d=[],C=[],f=[];b(),this.setIndex(f),this.setAttribute("position",new $t(u,3)),this.setAttribute("normal",new $t(d,3)),this.setAttribute("uv",new $t(C,2));function b(){for(let B=0;B<t;B++)A(B);A(o===!1?t:0),y(),p()}function A(B){g=e.getPointAt(B/t,g);const x=a.normals[B],w=a.binormals[B];for(let S=0;S<=r;S++){const Z=S/r*Math.PI*2,M=Math.sin(Z),q=-Math.cos(Z);l.x=q*x.x+M*w.x,l.y=q*x.y+M*w.y,l.z=q*x.z+M*w.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=g.x+i*l.x,s.y=g.y+i*l.y,s.z=g.z+i*l.z,u.push(s.x,s.y,s.z)}}function p(){for(let B=1;B<=t;B++)for(let x=1;x<=r;x++){const w=(r+1)*(B-1)+(x-1),S=(r+1)*B+(x-1),Z=(r+1)*B+x,M=(r+1)*(B-1)+x;f.push(w,S,M),f.push(S,Z,M)}}function y(){for(let B=0;B<=t;B++)for(let x=0;x<=r;x++)c.x=B/t,c.y=x/r,C.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new HA(new y3[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class DN extends dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new k,o=new k;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,g=l.length;c<g;++c){const u=l[c],d=u.start,C=u.count;for(let f=d,b=d+C;f<b;f+=3)for(let A=0;A<3;A++){const p=s.getX(f+A),y=s.getX(f+(A+1)%3);r.fromBufferAttribute(a,p),o.fromBufferAttribute(a,y),cZ(r,o,i)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const g=3*s+c,u=3*s+(c+1)%3;r.fromBufferAttribute(a,g),o.fromBufferAttribute(a,u),cZ(r,o,i)===!0&&(t.push(r.x,r.y,r.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new $t(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function cZ(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var gZ=Object.freeze({__proto__:null,BoxGeometry:i1,CapsuleGeometry:SA,CircleGeometry:ZA,ConeGeometry:qA,CylinderGeometry:R0,DodecahedronGeometry:RA,EdgesGeometry:LN,ExtrudeGeometry:Th,IcosahedronGeometry:kh,LatheGeometry:Lh,OctahedronGeometry:Ph,PlaneGeometry:hg,PolyhedronGeometry:mg,RingGeometry:_A,ShapeGeometry:WA,SphereGeometry:Dh,TetrahedronGeometry:VA,TorusGeometry:NA,TorusKnotGeometry:FA,TubeGeometry:HA,WireframeGeometry:DN});class UN extends er{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ON extends Do{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class ii extends er{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cg,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ja extends ii{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new et(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ni(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class jN extends er{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new ke(16777215),this.specular=new ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cg,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rn,this.combine=Vh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JN extends er{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cg,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class QN extends er{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cg,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $N extends er{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cg,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rn,this.combine=Vh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eF extends er{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cg,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tF extends io{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function mu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function nF(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function iF(n){function e(r,o){return n[r]-n[o]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function c8(n,e,t){const i=n.length,r=new n.constructor(i);for(let o=0,a=0;a!==i;++o){const s=t[o]*e;for(let l=0;l!==e;++l)r[a++]=n[s+l]}return r}function y7(n,e,t,i){let r=1,o=n[0];for(;o!==void 0&&o[i]===void 0;)o=n[r++];if(o===void 0)return;let a=o[i];if(a!==void 0)if(Array.isArray(a))do a=o[i],a!==void 0&&(e.push(o.time),t.push.apply(t,a)),o=n[r++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[i],a!==void 0&&(e.push(o.time),a.toArray(t,t.length)),o=n[r++];while(o!==void 0);else do a=o[i],a!==void 0&&(e.push(o.time),t.push(a)),o=n[r++];while(o!==void 0)}function r$(n,e,t,i,r=30){const o=n.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],g=c.getValueSize(),u=[],d=[];for(let C=0;C<c.times.length;++C){const f=c.times[C]*r;if(!(f<t||f>=i)){u.push(c.times[C]);for(let b=0;b<g;++b)d.push(c.values[C*g+b])}}u.length!==0&&(c.times=mu(u,c.times.constructor),c.values=mu(d,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function o$(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,o=e/i;for(let a=0;a<r;++a){const s=t.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(p){return p.name===s.name&&p.ValueTypeName===l});if(c===void 0)continue;let g=0;const u=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=u/3);let d=0;const C=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=C/3);const f=s.times.length-1;let b;if(o<=s.times[0]){const p=g,y=u-g;b=s.values.slice(p,y)}else if(o>=s.times[f]){const p=f*u+g,y=p+u-g;b=s.values.slice(p,y)}else{const p=s.createInterpolant(),y=g,B=u-g;p.evaluate(o),b=p.resultBuffer.slice(y,B)}l==="quaternion"&&new Qt().fromArray(b).normalize().conjugate().toArray(b);const A=c.times.length;for(let p=0;p<A;++p){const y=p*C+d;if(l==="quaternion")Qt.multiplyQuaternionsFlat(c.values,y,b,0,c.values,y);else{const B=C-d*2;for(let x=0;x<B;++x)c.values[y+x]-=b[x]}}}return n.blendMode=Qy,n}const a$={convertArray:mu,isTypedArray:nF,getKeyframeOrder:iF,sortedArray:c8,flattenJSON:y7,subclip:r$,makeClipAdditive:o$};class M0{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],o=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let s=i+2;;){if(r===void 0){if(e<o)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===s)break;if(o=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=o)){const s=t[1];e<s&&(i=2,o=s);for(let l=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=o,o=t[--i-1],e>=o)break t}a=i,i=0;break n}break e}for(;i<a;){const s=i+a>>>1;e<t[s]?a=s:i=s+1}if(r=t[i],o=t[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let a=0;a!==r;++a)t[a]=i[o+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rF extends M0{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:du,endingEnd:du}}intervalChanged_(e,t,i){const r=this.parameterPositions;let o=e-2,a=e+1,s=r[o],l=r[a];if(s===void 0)switch(this.getSettings_().endingStart){case Iu:o=e,s=2*t-i;break;case DC:o=r.length-2,s=t+r[o]-r[o+1];break;default:o=e,s=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Iu:a=e,l=2*i-t;break;case DC:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const c=(i-t)*.5,g=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(l-i),this._offsetPrev=o*g,this._offsetNext=a*g}interpolate_(e,t,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,g=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,C=this._weightNext,f=(i-t)/(r-t),b=f*f,A=b*f,p=-d*A+2*d*b-d*f,y=(1+d)*A+(-1.5-2*d)*b+(-.5+d)*f+1,B=(-1-C)*A+(1.5+C)*b+.5*f,x=C*A-C*b;for(let w=0;w!==s;++w)o[w]=p*a[g+w]+y*a[c+w]+B*a[l+w]+x*a[u+w];return o}}class B7 extends M0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,g=(i-t)/(r-t),u=1-g;for(let d=0;d!==s;++d)o[d]=a[c+d]*u+a[l+d]*g;return o}}class oF extends M0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Rs{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=mu(t,this.TimeBufferType),this.values=mu(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:mu(e.times,Array),values:mu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new oF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new B7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case t0:t=this.InterpolantFactoryMethodDiscrete;break;case n0:t=this.InterpolantFactoryMethodLinear;break;case Pf:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return t0;case this.InterpolantFactoryMethodLinear:return n0;case this.InterpolantFactoryMethodSmooth:return Pf}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let o=0,a=r-1;for(;o!==r&&i[o]<e;)++o;for(;a!==-1&&i[a]>t;)--a;if(++a,o!==0||a!==r){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=i.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=i[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(r!==void 0&&nF(r))for(let s=0,l=r.length;s!==l;++s){const c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===Pf,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],g=e[s+1];if(c!==g&&(s!==1||c!==e[0]))if(r)l=!0;else{const u=s*i,d=u-i,C=u+i;for(let f=0;f!==i;++f){const b=t[u+f];if(b!==t[d+f]||b!==t[C+f]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const u=s*i,d=a*i;for(let C=0;C!==i;++C)t[d+C]=t[u+C]}++a}}if(o>0){e[a]=e[o];for(let s=o*i,l=a*i,c=0;c!==i;++c)t[l+c]=t[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Rs.prototype.TimeBufferType=Float32Array;Rs.prototype.ValueBufferType=Float32Array;Rs.prototype.DefaultInterpolation=n0;class r1 extends Rs{constructor(e,t,i){super(e,t,i)}}r1.prototype.ValueTypeName="bool";r1.prototype.ValueBufferType=Array;r1.prototype.DefaultInterpolation=t0;r1.prototype.InterpolantFactoryMethodLinear=void 0;r1.prototype.InterpolantFactoryMethodSmooth=void 0;class x7 extends Rs{}x7.prototype.ValueTypeName="color";class Pu extends Rs{}Pu.prototype.ValueTypeName="number";class aF extends M0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(i-t)/(r-t);let c=e*s;for(let g=c+s;c!==g;c+=4)Qt.slerpFlat(o,0,a,c-s,a,c,l);return o}}class Du extends Rs{InterpolantFactoryMethodLinear(e){return new aF(this.times,this.values,this.getValueSize(),e)}}Du.prototype.ValueTypeName="quaternion";Du.prototype.InterpolantFactoryMethodSmooth=void 0;class o1 extends Rs{constructor(e,t,i){super(e,t,i)}}o1.prototype.ValueTypeName="string";o1.prototype.ValueBufferType=Array;o1.prototype.DefaultInterpolation=t0;o1.prototype.InterpolantFactoryMethodLinear=void 0;o1.prototype.InterpolantFactoryMethodSmooth=void 0;class Uu extends Rs{}Uu.prototype.ValueTypeName="vector";class a0{constructor(e="",t=-1,i=[],r=fA){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=da(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,s=i.length;a!==s;++a)t.push(l$(i[a]).scale(r));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=i.length;o!==a;++o)t.push(Rs.toJSON(i[o]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const o=t.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const g=iF(l);l=c8(l,1,g),c=c8(c,1,g),!r&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new Pu(".morphTargetInfluences["+t[s].name+"]",l,c).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],g=c.name.match(o);if(g&&g.length>1){const u=g[1];let d=r[u];d||(r[u]=d=[]),d.push(c)}}const a=[];for(const s in r)a.push(this.CreateFromMorphTargetSequence(s,r[s],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,d,C,f,b){if(C.length!==0){const A=[],p=[];y7(C,A,p,f),A.length!==0&&b.push(new u(d,A,p))}},r=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const d=c[u].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const C={};let f;for(f=0;f<d.length;f++)if(d[f].morphTargets)for(let b=0;b<d[f].morphTargets.length;b++)C[d[f].morphTargets[b]]=-1;for(const b in C){const A=[],p=[];for(let y=0;y!==d[f].morphTargets.length;++y){const B=d[f];A.push(B.time),p.push(B.morphTarget===b?1:0)}r.push(new Pu(".morphTargetInfluence["+b+"]",A,p))}l=C.length*a}else{const C=".bones["+t[u].name+"]";i(Uu,C+".position",d,"pos",r),i(Du,C+".quaternion",d,"rot",r),i(Uu,C+".scale",d,"scl",r)}}return r.length===0?null:new this(o,l,r,s)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const o=this.tracks[i];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function s$(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pu;case"vector":case"vector2":case"vector3":case"vector4":return Uu;case"color":return x7;case"quaternion":return Du;case"bool":case"boolean":return r1;case"string":return o1}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function l$(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=s$(n.type);if(n.times===void 0){const t=[],i=[];y7(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Xl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class EA{constructor(e,t,i){const r=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(g){s++,o===!1&&r.onStart!==void 0&&r.onStart(g,a,s),o=!0},this.itemEnd=function(g){a++,r.onProgress!==void 0&&r.onProgress(g,a,s),a===s&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(g){r.onError!==void 0&&r.onError(g)},this.resolveURL=function(g){return l?l(g):g},this.setURLModifier=function(g){return l=g,this},this.addHandler=function(g,u){return c.push(g,u),this},this.removeHandler=function(g){const u=c.indexOf(g);return u!==-1&&c.splice(u,2),this},this.getHandler=function(g){for(let u=0,d=c.length;u<d;u+=2){const C=c[u],f=c[u+1];if(C.global&&(C.lastIndex=0),C.test(g))return f}return null}}}const yd=new EA;class Br{constructor(e){this.manager=e!==void 0?e:yd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,o){i.load(e,r,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Br.DEFAULT_MATERIAL_NAME="__DEFAULT";const Gl={};class c$ extends Error{constructor(e,t){super(e),this.response=t}}class vr extends Br{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Xl.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Gl[e]!==void 0){Gl[e].push({onLoad:t,onProgress:i,onError:r});return}Gl[e]=[],Gl[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const g=Gl[e],u=c.body.getReader(),d=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),C=d?parseInt(d):0,f=C!==0;let b=0;const A=new ReadableStream({start(p){y();function y(){u.read().then(({done:B,value:x})=>{if(B)p.close();else{b+=x.byteLength;const w=new ProgressEvent("progress",{lengthComputable:f,loaded:b,total:C});for(let S=0,Z=g.length;S<Z;S++){const M=g[S];M.onProgress&&M.onProgress(w)}p.enqueue(x),y()}},B=>{p.error(B)})}}});return new Response(A)}else throw new c$(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(g=>new DOMParser().parseFromString(g,s));case"json":return c.json();default:if(s===void 0)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(s),d=u&&u[1]?u[1].toLowerCase():void 0,C=new TextDecoder(d);return c.arrayBuffer().then(f=>C.decode(f))}}}).then(c=>{Xl.add(e,c);const g=Gl[e];delete Gl[e];for(let u=0,d=g.length;u<d;u++){const C=g[u];C.onLoad&&C.onLoad(c)}}).catch(c=>{const g=Gl[e];if(g===void 0)throw this.manager.itemError(e),c;delete Gl[e];for(let u=0,d=g.length;u<d;u++){const C=g[u];C.onError&&C.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class g$ extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=new vr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=a0.parse(e[i]);t.push(r)}return t}}class u$ extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=[],s=new GA,l=new vr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function g(u){l.load(e[u],function(d){const C=o.parse(d,!0);a[u]={width:C.width,height:C.height,format:C.format,mipmaps:C.mipmaps},c+=1,c===6&&(C.mipmapCount===1&&(s.minFilter=Tn),s.image=a,s.format=C.format,s.needsUpdate=!0,t&&t(s))},i,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)g(u);else l.load(e,function(u){const d=o.parse(u,!0);if(d.isCubemap){const C=d.mipmaps.length/d.mipmapCount;for(let f=0;f<C;f++){a[f]={mipmaps:[]};for(let b=0;b<d.mipmapCount;b++)a[f].mipmaps.push(d.mipmaps[f*d.mipmapCount+b]),a[f].format=d.format,a[f].width=d.width,a[f].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=Tn),s.format=d.format,s.needsUpdate=!0,t&&t(s)},i,r);return s}}class th extends Br{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Xl.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a;const s=jC("img");function l(){g(),Xl.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(u){g(),r&&r(u),o.manager.itemError(e),o.manager.itemEnd(e)}function g(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class sF extends Br{constructor(e){super(e)}load(e,t,i,r){const o=new zh;o.colorSpace=Co;const a=new th(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(g){o.images[c]=g,s++,s===6&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return o}}class G7 extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=new ys,s=new vr(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(g){if(r!==void 0)r(g);else{console.error(g);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Ki,a.wrapT=c.wrapT!==void 0?c.wrapT:Ki,a.magFilter=c.magFilter!==void 0?c.magFilter:Tn,a.minFilter=c.minFilter!==void 0?c.minFilter:Tn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Ka),c.mipmapCount===1&&(a.minFilter=Tn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},i,r),a}}class Fr extends Br{constructor(e){super(e)}load(e,t,i,r){const o=new Ln,a=new th(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,t!==void 0&&t(o)},i,r),o}}class fg extends Sn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class lF extends fg{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const W4=new vt,uZ=new k,dZ=new k;class w7{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yh,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new Hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;uZ.setFromMatrixPosition(e.matrixWorld),t.position.copy(uZ),dZ.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(dZ),t.updateMatrixWorld(),W4.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(W4),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(W4)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class d$ extends w7{constructor(){super(new mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=i0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(i!==t.fov||r!==t.aspect||o!==t.far)&&(t.fov=i,t.aspect=r,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class S7 extends fg{constructor(e,t,i=0,r=Math.PI/3,o=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.distance=i,this.angle=r,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new d$}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const IZ=new vt,xI=new k,V4=new k;class I$ extends w7{constructor(){super(new mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new Hn(2,1,1,1),new Hn(0,1,1,1),new Hn(3,1,1,1),new Hn(1,1,1,1),new Hn(3,0,1,1),new Hn(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),xI.setFromMatrixPosition(e.matrixWorld),i.position.copy(xI),V4.copy(i.position),V4.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(V4),i.updateMatrixWorld(),r.makeTranslation(-xI.x,-xI.y,-xI.z),IZ.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IZ)}}class Z7 extends fg{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new I$}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class C$ extends w7{constructor(){super(new Pa(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class q7 extends fg{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sn.DEFAULT_UP),this.updateMatrix(),this.target=new Sn,this.shadow=new C$}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class cF extends fg{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gF extends fg{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class uF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*o),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*o)),t.addScaledVector(a[6],.315392*(3*o*o-1)),t.addScaledVector(a[7],1.092548*(i*o)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,o=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*o),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*o),t.addScaledVector(a[6],.743125*o*o-.247708),t.addScaledVector(a[7],2*.429043*i*o),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,o=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*o,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*i*o,t[8]=.546274*(i*i-r*r)}}class dF extends fg{constructor(e=new uF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class XA extends Br{constructor(e){super(e),this.textures={}}load(e,t,i,r){const o=this,a=new vr(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(r.uniforms[o]={},a.type){case"t":r.uniforms[o].value=i(a.value);break;case"c":r.uniforms[o].value=new ke().setHex(a.value);break;case"v2":r.uniforms[o].value=new et().fromArray(a.value);break;case"v3":r.uniforms[o].value=new k().fromArray(a.value);break;case"v4":r.uniforms[o].value=new Hn().fromArray(a.value);break;case"m3":r.uniforms[o].value=new fn().fromArray(a.value);break;case"m4":r.uniforms[o].value=new vt().fromArray(a.value);break;default:r.uniforms[o].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new et().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new et().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return XA.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:UN,SpriteMaterial:u7,RawShaderMaterial:ON,ShaderMaterial:Do,PointsMaterial:xA,MeshPhysicalMaterial:Ja,MeshStandardMaterial:ii,MeshPhongMaterial:jN,MeshToonMaterial:JN,MeshNormalMaterial:QN,MeshLambertMaterial:$N,MeshDepthMaterial:l7,MeshDistanceMaterial:c7,MeshBasicMaterial:Qr,MeshMatcapMaterial:eF,LineDashedMaterial:tF,LineBasicMaterial:io,Material:er};return new t[e]}}class $c{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class IF extends dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class CF extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=new vr(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{t(o.parse(JSON.parse(s)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(C,f){if(t[f]!==void 0)return t[f];const A=C.interleavedBuffers[f],p=o(C,A.buffer),y=Ad(A.type,p),B=new Kh(y,A.stride);return B.uuid=A.uuid,t[f]=B,B}function o(C,f){if(i[f]!==void 0)return i[f];const A=C.arrayBuffers[f],p=new Uint32Array(A).buffer;return i[f]=p,p}const a=e.isInstancedBufferGeometry?new IF:new dn,s=e.data.index;if(s!==void 0){const C=Ad(s.type,s.array);a.setIndex(new Xn(C,1))}const l=e.data.attributes;for(const C in l){const f=l[C];let b;if(f.isInterleavedBufferAttribute){const A=r(e.data,f.data);b=new sg(A,f.itemSize,f.offset,f.normalized)}else{const A=Ad(f.type,f.array),p=f.isInstancedBufferAttribute?Tu:Xn;b=new p(A,f.itemSize,f.normalized)}f.name!==void 0&&(b.name=f.name),f.usage!==void 0&&b.setUsage(f.usage),a.setAttribute(C,b)}const c=e.data.morphAttributes;if(c)for(const C in c){const f=c[C],b=[];for(let A=0,p=f.length;A<p;A++){const y=f[A];let B;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);B=new sg(x,y.itemSize,y.offset,y.normalized)}else{const x=Ad(y.type,y.array);B=new Xn(x,y.itemSize,y.normalized)}y.name!==void 0&&(B.name=y.name),b.push(B)}a.morphAttributes[C]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let C=0,f=u.length;C!==f;++C){const b=u[C];a.addGroup(b.start,b.count,b.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const C=new k;d.center!==void 0&&C.fromArray(d.center),a.boundingSphere=new Mr(C,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class h$ extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=this.path===""?$c.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new vr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(u){r!==void 0&&r(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const g=c.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?$c.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new vr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,t),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(s)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,i),g=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,g),this.bindLightTargets(c),t!==void 0){let u=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){u=!0;break}u===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,s,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const o=new Ru().fromJSON(e[i]);t[o.uuid]=o}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new I7().fromJSON(e[o],r);i[s.uuid]=s}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new CF;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(l);break;default:l.type in gZ?s=gZ[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),i[l.uuid]=s}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const o=new XA;o.setTextures(t);for(let a=0,s=e.length;a<s;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=o.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],o=a0.parse(r);t[o.uuid]=o}return t}parseImages(e,t){const i=this,r={};let o;function a(l){return i.manager.itemStart(l),o.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return a(g)}else return l.data?{data:Ad(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new EA(t);o=new th(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,g=e.length;c<g;c++){const u=e[c],d=u.url;if(Array.isArray(d)){const C=[];for(let f=0,b=d.length;f<b;f++){const A=d[f],p=s(A);p!==null&&(p instanceof HTMLImageElement?C.push(p):C.push(new ys(p.data,p.width,p.height)))}r[u.uuid]=new Cu(C)}else{const C=s(u.url);r[u.uuid]=new Cu(C)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return await r.loadAsync(l)}else return a.data?{data:Ad(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new th(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const g=[];for(let u=0,d=c.length;u<d;u++){const C=c[u],f=await o(C);f!==null&&(f instanceof HTMLImageElement?g.push(f):g.push(new ys(f.data,f.width,f.height)))}i[l.uuid]=new Cu(g)}else{const g=await o(l.url);i[l.uuid]=new Cu(g)}}}return i}parseTextures(e,t){function i(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const r={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=t[s.image],c=l.data;let g;Array.isArray(c)?(g=new zh,c.length===6&&(g.needsUpdate=!0)):(c&&c.data?g=new ys:g=new Ln,c&&(g.needsUpdate=!0)),g.source=l,g.uuid=s.uuid,s.name!==void 0&&(g.name=s.name),s.mapping!==void 0&&(g.mapping=i(s.mapping,m$)),s.channel!==void 0&&(g.channel=s.channel),s.offset!==void 0&&g.offset.fromArray(s.offset),s.repeat!==void 0&&g.repeat.fromArray(s.repeat),s.center!==void 0&&g.center.fromArray(s.center),s.rotation!==void 0&&(g.rotation=s.rotation),s.wrap!==void 0&&(g.wrapS=i(s.wrap[0],CZ),g.wrapT=i(s.wrap[1],CZ)),s.format!==void 0&&(g.format=s.format),s.internalFormat!==void 0&&(g.internalFormat=s.internalFormat),s.type!==void 0&&(g.type=s.type),s.colorSpace!==void 0&&(g.colorSpace=s.colorSpace),s.minFilter!==void 0&&(g.minFilter=i(s.minFilter,hZ)),s.magFilter!==void 0&&(g.magFilter=i(s.magFilter,hZ)),s.anisotropy!==void 0&&(g.anisotropy=s.anisotropy),s.flipY!==void 0&&(g.flipY=s.flipY),s.generateMipmaps!==void 0&&(g.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(g.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(g.compareFunction=s.compareFunction),s.userData!==void 0&&(g.userData=s.userData),r[s.uuid]=g}return r}parseObject(e,t,i,r,o){let a;function s(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const C=[];for(let f=0,b=d.length;f<b;f++){const A=d[f];i[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),C.push(i[A])}return C}return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),i[d]}}function c(d){return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),r[d]}let g,u;switch(e.type){case"Scene":a=new o0,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new ke(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new yA(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new vA(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new mi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Pa(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new cF(e.color,e.intensity);break;case"DirectionalLight":a=new q7(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new Z7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new gF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new S7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new lF(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new dF().fromJSON(e);break;case"SkinnedMesh":g=s(e.geometry),u=l(e.material),a=new d7(g,u),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":g=s(e.geometry),u=l(e.material),a=new pi(g,u);break;case"InstancedMesh":g=s(e.geometry),u=l(e.material);const d=e.count,C=e.instanceMatrix,f=e.instanceColor;a=new qu(g,u,d),a.instanceMatrix=new Tu(new Float32Array(C.array),16),f!==void 0&&(a.instanceColor=new Tu(new Float32Array(f.array),f.itemSize));break;case"BatchedMesh":g=s(e.geometry),u=l(e.material),a=new HN(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,u),a.geometry=g,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(b=>{const A=new eo;A.min.fromArray(b.boxMin),A.max.fromArray(b.boxMax);const p=new Mr;return p.radius=b.sphereRadius,p.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:A,sphereInitialized:b.sphereInitialized,sphere:p}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":a=new NN;break;case"Line":a=new Jl(s(e.geometry),l(e.material));break;case"LineLoop":a=new C7(s(e.geometry),l(e.material));break;case"LineSegments":a=new Zs(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new h7(s(e.geometry),l(e.material));break;case"Sprite":a=new VN(l(e.material));break;case"Group":a=new El;break;case"Bone":a=new BA;break;default:a=new Sn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let C=0;C<d.length;C++)a.add(this.parseObject(d[C],t,i,r,o))}if(e.animations!==void 0){const d=e.animations;for(let C=0;C<d.length;C++){const f=d[C];a.animations.push(o[f])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let C=0;C<d.length;C++){const f=d[C],b=a.getObjectByProperty("uuid",f.object);b!==void 0&&a.addLevel(b,f.distance,f.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Sn}})}}const m$={UVMapping:og,CubeReflectionMapping:al,CubeRefractionMapping:ag,EquirectangularReflectionMapping:Qd,EquirectangularRefractionMapping:PC,CubeUVReflectionMapping:Z0},CZ={RepeatWrapping:ws,ClampToEdgeWrapping:Ki,MirroredRepeatWrapping:$d},hZ={NearestFilter:br,NearestMipmapNearestFilter:gA,NearestMipmapLinearFilter:uu,LinearFilter:Tn,LinearMipmapNearestFilter:Nd,LinearMipmapLinearFilter:Ka};class hF extends Br{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Xl.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{t&&t(c),o.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Xl.add(e,c),t&&t(c),o.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Xl.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Xl.add(e,l),o.manager.itemStart(e)}}let Qm;class R7{static getContext(){return Qm===void 0&&(Qm=new(window.AudioContext||window.webkitAudioContext)),Qm}static setContext(e){Qm=e}}class f$ extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=new vr(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);R7.getContext().decodeAudioData(c,function(u){t(u)}).catch(s)}catch(c){s(c)}},i,r);function s(l){r?r(l):console.error(l),o.manager.itemError(e)}}}const mZ=new vt,fZ=new vt,zg=new vt;class p${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,zg.copy(e.projectionMatrix);const r=t.eyeSep/2,o=r*t.near/t.focus,a=t.near*Math.tan(Su*t.fov*.5)/t.zoom;let s,l;fZ.elements[12]=-r,mZ.elements[12]=r,s=-a*t.aspect+o,l=a*t.aspect+o,zg.elements[0]=2*t.near/(l-s),zg.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(zg),s=-a*t.aspect-o,l=a*t.aspect-o,zg.elements[0]=2*t.near/(l-s),zg.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(zg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(fZ),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(mZ)}}class M7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=pZ(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=pZ();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function pZ(){return performance.now()}const Yg=new k,AZ=new Qt,A$=new k,Kg=new k;class b$ extends Sn{constructor(){super(),this.type="AudioListener",this.context=R7.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new M7}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yg,AZ,A$),Kg.set(0,0,-1).applyQuaternion(AZ),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yg.x,r),t.positionY.linearRampToValueAtTime(Yg.y,r),t.positionZ.linearRampToValueAtTime(Yg.z,r),t.forwardX.linearRampToValueAtTime(Kg.x,r),t.forwardY.linearRampToValueAtTime(Kg.y,r),t.forwardZ.linearRampToValueAtTime(Kg.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(Yg.x,Yg.y,Yg.z),t.setOrientation(Kg.x,Kg.y,Kg.z,i.x,i.y,i.z)}}let mF=class extends Sn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Lg=new k,bZ=new Qt,v$=new k,Tg=new k;class y$ extends mF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Lg,bZ,v$),Tg.set(0,0,1).applyQuaternion(bZ);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Lg.x,i),t.positionY.linearRampToValueAtTime(Lg.y,i),t.positionZ.linearRampToValueAtTime(Lg.z,i),t.orientationX.linearRampToValueAtTime(Tg.x,i),t.orientationY.linearRampToValueAtTime(Tg.y,i),t.orientationZ.linearRampToValueAtTime(Tg.z,i)}else t.setPosition(Lg.x,Lg.y,Lg.z),t.setOrientation(Tg.x,Tg.y,Tg.z)}}class B${constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class fF{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,o,a;switch(t){case"quaternion":r=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,o=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==r;++s)i[o+s]=i[s];a=t}else{a+=t;const s=t/a;this._mixBufferRegion(i,o,0,s,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-o,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){s.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let o=i,a=r;o!==a;++o)t[o]=t[r+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,o){if(r>=.5)for(let a=0;a!==o;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Qt.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,o){const a=this._workIndex*o;Qt.multiplyQuaternionsFlat(e,a,e,t,e,i),Qt.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,o){const a=1-r;for(let s=0;s!==o;++s){const l=t+s;e[l]=e[l]*a+e[i+s]*r}}_lerpAdditive(e,t,i,r,o){for(let a=0;a!==o;++a){const s=t+a;e[s]=e[s]+e[i+a]*r}}}const _7="\\[\\]\\.:\\/",x$=new RegExp("["+_7+"]","g"),W7="[^"+_7+"]",G$="[^"+_7.replace("\\.","")+"]",w$=/((?:WC+[\/:])*)/.source.replace("WC",W7),S$=/(WCOD+)?/.source.replace("WCOD",G$),Z$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",W7),q$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",W7),R$=new RegExp("^"+w$+S$+Z$+q$+"$"),M$=["material","materials","bones","map"];class _${constructor(e,t,i){const r=i||Fn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Fn{constructor(e,t,i){this.path=t,this.parsedPath=i||Fn.parseTrackName(t),this.node=Fn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Fn.Composite(e,t,i):new Fn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(x$,"")}static parseTrackName(e){const t=R$.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=i.nodeName.substring(r+1);M$.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===t||s.uuid===t)return s;const l=i(s.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let o=t.propertyIndex;if(e||(e=Fn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===c){c=g;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[r];if(a===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Fn.Composite=_$;Fn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Fn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Fn.prototype.GetterByBindingType=[Fn.prototype._getValue_direct,Fn.prototype._getValue_array,Fn.prototype._getValue_arrayElement,Fn.prototype._getValue_toArray];Fn.prototype.SetterByBindingTypeAndVersioning=[[Fn.prototype._setValue_direct,Fn.prototype._setValue_direct_setNeedsUpdate,Fn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fn.prototype._setValue_array,Fn.prototype._setValue_array_setNeedsUpdate,Fn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fn.prototype._setValue_arrayElement,Fn.prototype._setValue_arrayElement_setNeedsUpdate,Fn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fn.prototype._setValue_fromArray,Fn.prototype._setValue_fromArray_setNeedsUpdate,Fn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class W${constructor(){this.isAnimationObjectGroup=!0,this.uuid=da(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let g=0,u=arguments.length;g!==u;++g){const d=arguments[g],C=d.uuid;let f=t[C];if(f===void 0){f=l++,t[C]=f,e.push(d);for(let b=0,A=a;b!==A;++b)o[b].push(new Fn(d,i[b],r[b]))}else if(f<c){s=e[f];const b=--c,A=e[b];t[A.uuid]=f,e[f]=A,t[C]=b,e[b]=d;for(let p=0,y=a;p!==y;++p){const B=o[p],x=B[b];let w=B[f];B[f]=x,w===void 0&&(w=new Fn(d,i[p],r[p])),B[b]=w}}else e[f]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,g=t[c];if(g!==void 0&&g>=o){const u=o++,d=e[u];t[d.uuid]=g,e[g]=d,t[c]=u,e[u]=l;for(let C=0,f=r;C!==f;++C){const b=i[C],A=b[u],p=b[g];b[g]=A,b[u]=p}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],g=c.uuid,u=t[g];if(u!==void 0)if(delete t[g],u<o){const d=--o,C=e[d],f=--a,b=e[f];t[C.uuid]=u,e[u]=C,t[b.uuid]=d,e[d]=b,e.pop();for(let A=0,p=r;A!==p;++A){const y=i[A],B=y[d],x=y[f];y[u]=B,y[d]=x,y.pop()}}else{const d=--a,C=e[d];d>0&&(t[C.uuid]=u),e[u]=C,e.pop();for(let f=0,b=r;f!==b;++f){const A=i[f];A[u]=A[d],A.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const o=this._bindings;if(r!==void 0)return o[r];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,g=this.nCachedObjects_,u=new Array(c);r=o.length,i[e]=r,a.push(e),s.push(t),o.push(u);for(let d=g,C=l.length;d!==C;++d){const f=l[d];u[d]=new Fn(f,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];t[c]=i,a[i]=l,a.pop(),o[i]=o[s],o.pop(),r[i]=r[s],r.pop()}}}class pF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const o=t.tracks,a=o.length,s=new Array(a),l={endingStart:du,endingEnd:du};for(let c=0;c!==a;++c){const g=o[c].createInterpolant(null);s[c]=g,g.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,o=e._clip.duration,a=o/r,s=r/o;e.warp(1,a,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,o=r.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+i,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Qy:for(let g=0,u=l.length;g!==u;++g)l[g].evaluate(a),c[g].accumulateAdditive(s);break;case fA:default:for(let g=0,u=l.length;g!==u;++g)l[g].evaluate(a),c[g].accumulate(r,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,o=this._loopCount;const a=i===oN;if(e===0)return o===-1?r:a&&(o&1)===1?t-r:r;if(i===iN){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const s=Math.floor(r/t);r-=t*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=r;if(a&&(o&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Iu,r.endingEnd=Iu):(e?r.endingStart=this.zeroSlopeAtStart?Iu:du:r.endingStart=DC,t?r.endingEnd=this.zeroSlopeAtEnd?Iu:du:r.endingEnd=DC)}_scheduleFading(e,t,i){const r=this._mixer,o=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=t,s[1]=o+e,l[1]=i,this}}const V$=new Float32Array(1);class N$ extends ja{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,o=r.length,a=e._propertyBindings,s=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let g=c[l];g===void 0&&(g={},c[l]=g);for(let u=0;u!==o;++u){const d=r[u],C=d.name;let f=g[C];if(f!==void 0)++f.referenceCount,a[u]=f;else{if(f=a[u],f!==void 0){f._cacheIndex===null&&(++f.referenceCount,this._addInactiveBinding(f,l,C));continue}const b=t&&t._propertyBindings[u].binding.parsedPath;f=new fF(Fn.create(i,C,b),d.ValueTypeName,d.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,l,C),a[u]=f}s[u].resultBuffer=f.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,o=this._actionsByClip;let a=o[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],g=e._byClipCacheIndex;c._byClipCacheIndex=g,l[g]=c,l.pop(),e._byClipCacheIndex=null;const u=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const o=t[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,o=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,o=i.path,a=this._bindingsByRootAndName,s=a[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete s[o],Object.keys(s).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,o=t[r];e._cacheIndex=r,t[r]=e,o._cacheIndex=i,t[i]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new B7(new Float32Array(2),new Float32Array(2),1,V$),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=t[r];e.__cacheIndex=r,t[r]=e,o.__cacheIndex=i,t[i]=o}clipAction(e,t,i){const r=t||this._root,o=r.uuid;let a=typeof e=="string"?a0.findByName(r,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(i===void 0&&(a!==null?i=a.blendMode:i=fA),l!==void 0){const u=l.actionByRoot[o];if(u!==void 0&&u.blendMode===i)return u;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const g=new pF(this,a,t,i);return this._bindAction(g,c),this._addInactiveAction(g,s,o),g}existingAction(e,t){const i=t||this._root,r=i.uuid,o=typeof e=="string"?a0.findByName(i,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,o=r[i];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const g=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=g,t[g]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const s=i[a].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,o=r[t];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class V7{constructor(e){this.value=e}clone(){return new V7(this.value.clone===void 0?this.value:this.value.clone())}}let F$=0;class H$ extends ja{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:F$++}),this.name="",this.usage=UC,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const o=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class E$ extends Kh{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class X${constructor(e,t,i,r,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const vZ=new vt;class N7{constructor(e,t,i=0,r=1/0){this.ray=new n1(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Zu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return vZ.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(vZ),this}intersectObject(e,t=!0,i=[]){return g8(e,this,i,t),i.sort(yZ),i}intersectObjects(e,t=!0,i=[]){for(let r=0,o=e.length;r<o;r++)g8(e[r],this,i,t);return i.sort(yZ),i}}function yZ(n,e){return n.distance-e.distance}function g8(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const o=n.children;for(let a=0,s=o.length;a<s;a++)g8(o[a],e,t,!0)}}class u8{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ni(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class z${constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class F7{constructor(e,t,i,r){F7.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const o=this.elements;return o[0]=e,o[2]=t,o[1]=i,o[3]=r,this}}const BZ=new et;class Y${constructor(e=new et(1/0,1/0),t=new et(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=BZ.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,BZ).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const xZ=new k,$m=new k;class K${constructor(e=new k,t=new k){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){xZ.subVectors(e,this.start),$m.subVectors(this.end,this.start);const i=$m.dot($m);let o=$m.dot(xZ)/i;return t&&(o=Ni(o,0,1)),o}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const GZ=new k;class L$ extends Sn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new dn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,g=s/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(g),Math.sin(g),1)}i.setAttribute("position",new $t(r,3));const o=new io({fog:!1,toneMapped:!1});this.cone=new Zs(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),GZ.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(GZ),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const vc=new k,ef=new vt,N4=new vt;class T$ extends Zs{constructor(e){const t=AF(e),i=new dn,r=[],o=[],a=new ke(0,0,1),s=new ke(0,1,0);for(let c=0;c<t.length;c++){const g=t[c];g.parent&&g.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}i.setAttribute("position",new $t(r,3)),i.setAttribute("color",new $t(o,3));const l=new io({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");N4.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<t.length;o++){const s=t[o];s.parent&&s.parent.isBone&&(ef.multiplyMatrices(N4,s.matrixWorld),vc.setFromMatrixPosition(ef),r.setXYZ(a,vc.x,vc.y,vc.z),ef.multiplyMatrices(N4,s.parent.matrixWorld),vc.setFromMatrixPosition(ef),r.setXYZ(a+1,vc.x,vc.y,vc.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function AF(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,AF(n.children[t]));return e}class k$ extends pi{constructor(e,t,i){const r=new Dh(t,4,2),o=new Qr({wireframe:!0,fog:!1,toneMapped:!1});super(r,o),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const P$=new k,wZ=new ke,SZ=new ke;class D$ extends Sn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ph(t);r.rotateY(Math.PI*.5),this.material=new Qr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),a=new Float32Array(o.count*3);r.setAttribute("color",new Xn(a,3)),this.add(new pi(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");wZ.copy(this.light.color),SZ.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const o=i<r/2?wZ:SZ;t.setXYZ(i,o.r,o.g,o.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(P$.setFromMatrixPosition(this.light.matrixWorld).negate())}}class U$ extends Zs{constructor(e=10,t=10,i=4473924,r=8947848){i=new ke(i),r=new ke(r);const o=t/2,a=e/t,s=e/2,l=[],c=[];for(let d=0,C=0,f=-s;d<=t;d++,f+=a){l.push(-s,0,f,s,0,f),l.push(f,0,-s,f,0,s);const b=d===o?i:r;b.toArray(c,C),C+=3,b.toArray(c,C),C+=3,b.toArray(c,C),C+=3,b.toArray(c,C),C+=3}const g=new dn;g.setAttribute("position",new $t(l,3)),g.setAttribute("color",new $t(c,3));const u=new io({vertexColors:!0,toneMapped:!1});super(g,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class O$ extends Zs{constructor(e=10,t=16,i=8,r=64,o=4473924,a=8947848){o=new ke(o),a=new ke(a);const s=[],l=[];if(t>1)for(let u=0;u<t;u++){const d=u/t*(Math.PI*2),C=Math.sin(d)*e,f=Math.cos(d)*e;s.push(0,0,0),s.push(C,0,f);const b=u&1?o:a;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let u=0;u<i;u++){const d=u&1?o:a,C=e-e/i*u;for(let f=0;f<r;f++){let b=f/r*(Math.PI*2),A=Math.sin(b)*C,p=Math.cos(b)*C;s.push(A,0,p),l.push(d.r,d.g,d.b),b=(f+1)/r*(Math.PI*2),A=Math.sin(b)*C,p=Math.cos(b)*C,s.push(A,0,p),l.push(d.r,d.g,d.b)}}const c=new dn;c.setAttribute("position",new $t(s,3)),c.setAttribute("color",new $t(l,3));const g=new io({vertexColors:!0,toneMapped:!1});super(c,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ZZ=new k,tf=new k,qZ=new k;class j$ extends Sn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new dn;r.setAttribute("position",new $t([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new io({fog:!1,toneMapped:!1});this.lightPlane=new Jl(r,o),this.add(this.lightPlane),r=new dn,r.setAttribute("position",new $t([0,0,0,0,0,1],3)),this.targetLine=new Jl(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ZZ.setFromMatrixPosition(this.light.matrixWorld),tf.setFromMatrixPosition(this.light.target.matrixWorld),qZ.subVectors(tf,ZZ),this.lightPlane.lookAt(tf),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(tf),this.targetLine.scale.z=qZ.length()}}const nf=new k,Wi=new Xh;class J$ extends Zs{constructor(e){const t=new dn,i=new io({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(f,b){l(f),l(b)}function l(f){r.push(0,0,0),o.push(0,0,0),a[f]===void 0&&(a[f]=[]),a[f].push(r.length/3-1)}t.setAttribute("position",new $t(r,3)),t.setAttribute("color",new $t(o,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new ke(16755200),g=new ke(16711680),u=new ke(43775),d=new ke(16777215),C=new ke(3355443);this.setColors(c,g,u,d,C)}setColors(e,t,i,r,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,i.r,i.g,i.b),s.setXYZ(33,i.r,i.g,i.b),s.setXYZ(34,i.r,i.g,i.b),s.setXYZ(35,i.r,i.g,i.b),s.setXYZ(36,i.r,i.g,i.b),s.setXYZ(37,i.r,i.g,i.b),s.setXYZ(38,r.r,r.g,r.b),s.setXYZ(39,r.r,r.g,r.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Wi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ei("c",t,e,Wi,0,0,-1),Ei("t",t,e,Wi,0,0,1),Ei("n1",t,e,Wi,-i,-r,-1),Ei("n2",t,e,Wi,i,-r,-1),Ei("n3",t,e,Wi,-i,r,-1),Ei("n4",t,e,Wi,i,r,-1),Ei("f1",t,e,Wi,-i,-r,1),Ei("f2",t,e,Wi,i,-r,1),Ei("f3",t,e,Wi,-i,r,1),Ei("f4",t,e,Wi,i,r,1),Ei("u1",t,e,Wi,i*.7,r*1.1,-1),Ei("u2",t,e,Wi,-i*.7,r*1.1,-1),Ei("u3",t,e,Wi,0,r*2,-1),Ei("cf1",t,e,Wi,-i,0,1),Ei("cf2",t,e,Wi,i,0,1),Ei("cf3",t,e,Wi,0,-r,1),Ei("cf4",t,e,Wi,0,r,1),Ei("cn1",t,e,Wi,-i,0,-1),Ei("cn2",t,e,Wi,i,0,-1),Ei("cn3",t,e,Wi,0,-r,-1),Ei("cn4",t,e,Wi,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ei(n,e,t,i,r,o,a){nf.set(r,o,a).unproject(i);const s=e[n];if(s!==void 0){const l=t.getAttribute("position");for(let c=0,g=s.length;c<g;c++)l.setXYZ(s[c],nf.x,nf.y,nf.z)}}const rf=new eo;class Q$ extends Zs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new dn;o.setIndex(new Xn(i,1)),o.setAttribute("position",new Xn(r,3)),super(o,new io({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&rf.setFromObject(this.object),rf.isEmpty())return;const t=rf.min,i=rf.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=t.x,o[4]=i.y,o[5]=i.z,o[6]=t.x,o[7]=t.y,o[8]=i.z,o[9]=i.x,o[10]=t.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=t.z,o[15]=t.x,o[16]=i.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=i.x,o[22]=t.y,o[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $$ extends Zs{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new dn;o.setIndex(new Xn(i,1)),o.setAttribute("position",new $t(r,3)),super(o,new io({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class eee extends Jl{constructor(e,t=1,i=16776960){const r=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new dn;a.setAttribute("position",new $t(o,3)),a.computeBoundingSphere(),super(a,new io({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new dn;l.setAttribute("position",new $t(s,3)),l.computeBoundingSphere(),this.add(new pi(l,new Qr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const RZ=new k;let of,F4;class tee extends Sn{constructor(e=new k(0,0,1),t=new k(0,0,0),i=1,r=16776960,o=i*.2,a=o*.2){super(),this.type="ArrowHelper",of===void 0&&(of=new dn,of.setAttribute("position",new $t([0,0,0,0,1,0],3)),F4=new R0(0,.5,1,5,1),F4.translate(0,-.5,0)),this.position.copy(t),this.line=new Jl(of,new io({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pi(F4,new Qr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{RZ.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(RZ,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nee extends Zs{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new dn;r.setAttribute("position",new $t(t,3)),r.setAttribute("color",new $t(i,3));const o=new io({vertexColors:!0,toneMapped:!1});super(r,o),this.type="AxesHelper"}setColors(e,t,i){const r=new ke,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(t),r.toArray(o,6),r.toArray(o,9),r.set(i),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bF{constructor(){this.type="ShapePath",this.color=new ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new JC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,o,a){return this.currentPath.bezierCurveTo(e,t,i,r,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(p){const y=[];for(let B=0,x=p.length;B<x;B++){const w=p[B],S=new Ru;S.curves=w.curves,y.push(S)}return y}function i(p,y){const B=y.length;let x=!1;for(let w=B-1,S=0;S<B;w=S++){let Z=y[w],M=y[S],q=M.x-Z.x,_=M.y-Z.y;if(Math.abs(_)>Number.EPSILON){if(_<0&&(Z=y[S],q=-q,M=y[w],_=-_),p.y<Z.y||p.y>M.y)continue;if(p.y===Z.y){if(p.x===Z.x)return!0}else{const V=_*(p.x-Z.x)-q*(p.y-Z.y);if(V===0)return!0;if(V<0)continue;x=!x}}else{if(p.y!==Z.y)continue;if(M.x<=p.x&&p.x<=Z.x||Z.x<=p.x&&p.x<=M.x)return!0}}return x}const r=nl.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new Ru,l.curves=s.curves,c.push(l),c;let g=!r(o[0].getPoints());g=e?!g:g;const u=[],d=[];let C=[],f=0,b;d[f]=void 0,C[f]=[];for(let p=0,y=o.length;p<y;p++)s=o[p],b=s.getPoints(),a=r(b),a=e?!a:a,a?(!g&&d[f]&&f++,d[f]={s:new Ru,p:b},d[f].s.curves=s.curves,g&&f++,C[f]=[]):C[f].push({h:s,p:b[0]});if(!d[0])return t(o);if(d.length>1){let p=!1,y=0;for(let B=0,x=d.length;B<x;B++)u[B]=[];for(let B=0,x=d.length;B<x;B++){const w=C[B];for(let S=0;S<w.length;S++){const Z=w[S];let M=!0;for(let q=0;q<d.length;q++)i(Z.p,d[q].p)&&(B!==q&&y++,M?(M=!1,u[q].push(Z)):p=!0);M&&u[B].push(Z)}}y>0&&p===!1&&(C=u)}let A;for(let p=0,y=d.length;p<y;p++){l=d[p].s,c.push(l),A=C[p];for(let B=0,x=A.length;B<x;B++)l.holes.push(A[B].h)}return c}}class iee extends ja{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class ree extends ha{constructor(e=1,t=1,i=1,r={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...r,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S0);const oee=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:cA,AddEquation:Wc,AddOperation:OV,AdditiveAnimationBlendMode:Qy,AdditiveBlending:j6,AgXToneMapping:eN,AlphaFormat:Py,AlwaysCompare:mN,AlwaysDepth:Yp,AlwaysStencilFunc:t8,AmbientLight:cF,AnimationAction:pF,AnimationClip:a0,AnimationLoader:g$,AnimationMixer:N$,AnimationObjectGroup:W$,AnimationUtils:a$,ArcCurve:EN,ArrayCamera:_N,ArrowHelper:tee,AttachedBindMode:$6,Audio:mF,AudioAnalyser:B$,AudioContext:R7,AudioListener:b$,AudioLoader:f$,AxesHelper:nee,BackSide:ki,BasicDepthPacking:sN,BasicShadowMap:qV,BatchedMesh:HN,Bone:BA,BooleanKeyframeTrack:r1,Box2:Y$,Box3:eo,Box3Helper:$$,BoxGeometry:i1,BoxHelper:Q$,BufferAttribute:Xn,BufferGeometry:dn,BufferGeometryLoader:CF,ByteType:uA,Cache:Xl,Camera:Xh,CameraHelper:J$,CanvasTexture:RQ,CapsuleGeometry:SA,CatmullRomCurve3:XN,CineonToneMapping:QV,CircleGeometry:ZA,ClampToEdgeWrapping:Ki,Clock:M7,Color:ke,ColorKeyframeTrack:x7,ColorManagement:Wn,CompressedArrayTexture:ZQ,CompressedCubeTexture:qQ,CompressedTexture:GA,CompressedTextureLoader:u$,ConeGeometry:qA,ConstantAlphaFactor:PV,ConstantColorFactor:TV,Controls:iee,CubeCamera:o7,CubeReflectionMapping:al,CubeRefractionMapping:ag,CubeTexture:zh,CubeTextureLoader:sF,CubeUVReflectionMapping:Z0,CubicBezierCurve:f7,CubicBezierCurve3:zN,CubicInterpolant:rF,CullFaceBack:O6,CullFaceFront:ZV,CullFaceFrontBack:uP,CullFaceNone:SV,Curve:qs,CurvePath:KN,CustomBlending:RV,CustomToneMapping:$V,CylinderGeometry:R0,Cylindrical:z$,Data3DTexture:n7,DataArrayTexture:pA,DataTexture:ys,DataTextureLoader:G7,DataUtils:hu,DecrementStencilOp:vP,DecrementWrapStencilOp:BP,DefaultLoadingManager:yd,DepthFormat:wu,DepthStencilFormat:Lu,DepthTexture:s7,DetachedBindMode:nN,DirectionalLight:q7,DirectionalLightHelper:j$,DiscreteInterpolant:oF,DodecahedronGeometry:RA,DoubleSide:Fo,DstAlphaFactor:XV,DstColorFactor:YV,DynamicCopyUsage:HP,DynamicDrawUsage:fN,DynamicReadUsage:VP,EdgesGeometry:LN,EllipseCurve:wA,EqualCompare:dN,EqualDepth:Lp,EqualStencilFunc:SP,EquirectangularReflectionMapping:Qd,EquirectangularRefractionMapping:PC,Euler:rn,EventDispatcher:ja,ExtrudeGeometry:Th,FileLoader:vr,Float16BufferAttribute:xD,Float32BufferAttribute:$t,FloatType:wi,Fog:yA,FogExp2:vA,FramebufferTexture:SQ,FrontSide:ol,Frustum:Yh,GLBufferAttribute:X$,GLSL1:XP,GLSL3:n8,GreaterCompare:IN,GreaterDepth:kp,GreaterEqualCompare:hN,GreaterEqualDepth:Tp,GreaterEqualStencilFunc:MP,GreaterStencilFunc:qP,GridHelper:U$,Group:El,HalfFloatType:pr,HemisphereLight:lF,HemisphereLightHelper:D$,IcosahedronGeometry:kh,ImageBitmapLoader:hF,ImageLoader:th,ImageUtils:vN,IncrementStencilOp:bP,IncrementWrapStencilOp:yP,InstancedBufferAttribute:Tu,InstancedBufferGeometry:IF,InstancedInterleavedBuffer:E$,InstancedMesh:qu,Int16BufferAttribute:yD,Int32BufferAttribute:BD,Int8BufferAttribute:AD,IntType:Nh,InterleavedBuffer:Kh,InterleavedBufferAttribute:sg,Interpolant:M0,InterpolateDiscrete:t0,InterpolateLinear:n0,InterpolateSmooth:Pf,InvertStencilOp:xP,KeepStencilOp:$g,KeyframeTrack:Rs,LOD:NN,LatheGeometry:Lh,Layers:Zu,LessCompare:uN,LessDepth:Kp,LessEqualCompare:e7,LessEqualDepth:Yu,LessEqualStencilFunc:ZP,LessStencilFunc:wP,Light:fg,LightProbe:dF,Line:Jl,Line3:K$,LineBasicMaterial:io,LineCurve:p7,LineCurve3:YN,LineDashedMaterial:tF,LineLoop:C7,LineSegments:Zs,LinearFilter:Tn,LinearInterpolant:B7,LinearMipMapLinearFilter:e8,LinearMipMapNearestFilter:CP,LinearMipmapLinearFilter:Ka,LinearMipmapNearestFilter:Nd,LinearSRGBColorSpace:ll,LinearToneMapping:jV,LinearTransfer:Eh,Loader:Br,LoaderUtils:$c,LoadingManager:EA,LoopOnce:iN,LoopPingPong:oN,LoopRepeat:rN,LuminanceAlphaFormat:Oy,LuminanceFormat:Uy,MOUSE:Jg,Material:er,MaterialLoader:XA,MathUtils:pN,Matrix2:F7,Matrix3:fn,Matrix4:vt,MaxEquation:VV,Mesh:pi,MeshBasicMaterial:Qr,MeshDepthMaterial:l7,MeshDistanceMaterial:c7,MeshLambertMaterial:$N,MeshMatcapMaterial:eF,MeshNormalMaterial:QN,MeshPhongMaterial:jN,MeshPhysicalMaterial:Ja,MeshStandardMaterial:ii,MeshToonMaterial:JN,MinEquation:WV,MirroredRepeatWrapping:$d,MixOperation:UV,MultiplyBlending:Q6,MultiplyOperation:Vh,NearestFilter:br,NearestMipMapLinearFilter:IP,NearestMipMapNearestFilter:dP,NearestMipmapLinearFilter:uu,NearestMipmapNearestFilter:gA,NeutralToneMapping:tN,NeverCompare:gN,NeverDepth:zp,NeverStencilFunc:GP,NoBlending:el,NoColorSpace:Vl,NoToneMapping:tl,NormalAnimationBlendMode:fA,NormalBlending:Gu,NotEqualCompare:CN,NotEqualDepth:Pp,NotEqualStencilFunc:RP,NumberKeyframeTrack:Pu,Object3D:Sn,ObjectLoader:h$,ObjectSpaceNormalMap:cN,OctahedronGeometry:Ph,OneFactor:FV,OneMinusConstantAlphaFactor:DV,OneMinusConstantColorFactor:kV,OneMinusDstAlphaFactor:zV,OneMinusDstColorFactor:KV,OneMinusSrcAlphaFactor:Xp,OneMinusSrcColorFactor:EV,OrthographicCamera:Pa,PCFShadowMap:lA,PCFSoftShadowMap:cC,PMREMGenerator:i8,Path:JC,PerspectiveCamera:mi,Plane:_l,PlaneGeometry:hg,PlaneHelper:eee,PointLight:Z7,PointLightHelper:k$,Points:h7,PointsMaterial:xA,PolarGridHelper:O$,PolyhedronGeometry:mg,PositionalAudio:y$,PropertyBinding:Fn,PropertyMixer:fF,QuadraticBezierCurve:A7,QuadraticBezierCurve3:b7,Quaternion:Qt,QuaternionKeyframeTrack:Du,QuaternionLinearInterpolant:aF,RED_GREEN_RGTC2_Format:f3,RED_RGTC1_Format:Jy,REVISION:S0,RGBADepthPacking:lN,RGBAFormat:Li,RGBAIntegerFormat:mA,RGBA_ASTC_10x10_Format:u3,RGBA_ASTC_10x5_Format:l3,RGBA_ASTC_10x6_Format:c3,RGBA_ASTC_10x8_Format:g3,RGBA_ASTC_12x10_Format:d3,RGBA_ASTC_12x12_Format:I3,RGBA_ASTC_4x4_Format:e3,RGBA_ASTC_5x4_Format:t3,RGBA_ASTC_5x5_Format:n3,RGBA_ASTC_6x5_Format:i3,RGBA_ASTC_6x6_Format:r3,RGBA_ASTC_8x5_Format:o3,RGBA_ASTC_8x6_Format:a3,RGBA_ASTC_8x8_Format:s3,RGBA_BPTC_Format:CC,RGBA_ETC2_EAC_Format:$p,RGBA_PVRTC_2BPPV1_Format:jp,RGBA_PVRTC_4BPPV1_Format:Op,RGBA_S3TC_DXT1_Format:uC,RGBA_S3TC_DXT3_Format:dC,RGBA_S3TC_DXT5_Format:IC,RGBDepthPacking:mP,RGBFormat:Dy,RGBIntegerFormat:hP,RGB_BPTC_SIGNED_Format:C3,RGB_BPTC_UNSIGNED_Format:h3,RGB_ETC1_Format:Jp,RGB_ETC2_Format:Qp,RGB_PVRTC_2BPPV1_Format:Up,RGB_PVRTC_4BPPV1_Format:Dp,RGB_S3TC_DXT1_Format:gC,RGDepthPacking:fP,RGFormat:jy,RGIntegerFormat:hA,RawShaderMaterial:ON,Ray:n1,Raycaster:N7,RectAreaLight:gF,RedFormat:Fh,RedIntegerFormat:Hh,ReinhardToneMapping:JV,RenderTarget:yN,RepeatWrapping:ws,ReplaceStencilOp:AP,ReverseSubtractEquation:_V,RingGeometry:_A,SIGNED_RED_GREEN_RGTC2_Format:p3,SIGNED_RED_RGTC1_Format:m3,SRGBColorSpace:Co,SRGBTransfer:Un,Scene:o0,ShaderChunk:bn,ShaderLib:As,ShaderMaterial:Do,ShadowMaterial:UN,Shape:Ru,ShapeGeometry:WA,ShapePath:bF,ShapeUtils:nl,ShortType:dA,Skeleton:I7,SkeletonHelper:T$,SkinnedMesh:d7,Source:Cu,Sphere:Mr,SphereGeometry:Dh,Spherical:u8,SphericalHarmonics3:uF,SplineCurve:v7,SpotLight:S7,SpotLightHelper:L$,Sprite:VN,SpriteMaterial:u7,SrcAlphaFactor:Ep,SrcAlphaSaturateFactor:LV,SrcColorFactor:HV,StaticCopyUsage:FP,StaticDrawUsage:UC,StaticReadUsage:WP,StereoCamera:p$,StreamCopyUsage:EP,StreamDrawUsage:_P,StreamReadUsage:NP,StringKeyframeTrack:o1,SubtractEquation:MV,SubtractiveBlending:J6,TOUCH:Qg,TangentSpaceNormalMap:Cg,TetrahedronGeometry:VA,Texture:Ln,TextureLoader:Fr,TextureUtils:sQ,TorusGeometry:NA,TorusKnotGeometry:FA,Triangle:Ho,TriangleFanDrawMode:A3,TriangleStripDrawMode:$y,TrianglesDrawMode:aN,TubeGeometry:HA,UVMapping:og,Uint16BufferAttribute:i7,Uint32BufferAttribute:r7,Uint8BufferAttribute:bD,Uint8ClampedBufferAttribute:vD,Uniform:V7,UniformsGroup:H$,UniformsLib:zt,UniformsUtils:GN,UnsignedByteType:Po,UnsignedInt248Type:Ku,UnsignedInt5999Type:ky,UnsignedIntType:sl,UnsignedShort4444Type:IA,UnsignedShort5551Type:CA,UnsignedShortType:e0,VSMShadowMap:Cs,Vector2:et,Vector3:k,Vector4:Hn,VectorKeyframeTrack:Uu,VideoTexture:wQ,WebGL3DRenderTarget:cD,WebGLArrayRenderTarget:lD,WebGLCoordinateSystem:Os,WebGLCubeRenderTarget:AA,WebGLMultipleRenderTargets:ree,WebGLRenderTarget:ha,WebGLRenderer:g7,WebGLUtils:MN,WebGPUCoordinateSystem:OC,WireframeGeometry:DN,WrapAroundEnding:DC,ZeroCurvatureEnding:du,ZeroFactor:NV,ZeroSlopeEnding:Iu,ZeroStencilOp:pP,createCanvasElement:bN},Symbol.toStringTag,{value:"Module"}));var vF={exports:{}},a1={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */a1.ConcurrentRoot=1;a1.ContinuousEventPriority=4;a1.DefaultEventPriority=16;a1.DiscreteEventPriority=1;a1.IdleEventPriority=536870912;a1.LegacyRoot=0;vF.exports=a1;var Bd=vF.exports;function aee(n){let e;const t=new Set,i=(c,g)=>{const u=typeof c=="function"?c(e):c;if(u!==e){const d=e;e=g?u:Object.assign({},e,u),t.forEach(C=>C(e,d))}},r=()=>e,o=(c,g=r,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=g(e);function C(){const f=g(e);if(!u(d,f)){const b=d;c(d=f,b)}}return t.add(C),()=>t.delete(C)},l={setState:i,getState:r,subscribe:(c,g,u)=>g||u?o(c,g,u):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const see=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),MZ=see?v.useEffect:v.useLayoutEffect;function H7(n){const e=typeof n=="function"?aee(n):n,t=(i=e.getState,r=Object.is)=>{const[,o]=v.useReducer(A=>A+1,0),a=e.getState(),s=v.useRef(a),l=v.useRef(i),c=v.useRef(r),g=v.useRef(!1),u=v.useRef();u.current===void 0&&(u.current=i(a));let d,C=!1;(s.current!==a||l.current!==i||c.current!==r||g.current)&&(d=i(a),C=!r(u.current,d)),MZ(()=>{C&&(u.current=d),s.current=a,l.current=i,c.current=r,g.current=!1});const f=v.useRef(a);MZ(()=>{const A=()=>{try{const y=e.getState(),B=l.current(y);c.current(u.current,B)||(s.current=y,u.current=B,o())}catch{g.current=!0,o()}},p=e.subscribe(A);return e.getState()!==f.current&&A(),p},[]);const b=C?d:u.current;return v.useDebugValue(b),b};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}const lee=n=>typeof n=="object"&&typeof n.then=="function",fu=[];function yF(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function BF(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const o of fu)if(yF(e,o.keys,o.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return i.lifespan&&i.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,i.lifespan)),o.response;if(!t)throw o.promise}const r={keys:e,equal:i.equal,remove:()=>{const o=fu.indexOf(r);o!==-1&&fu.splice(o,1)},promise:(lee(n)?n:n(...e)).then(o=>{r.response=o,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(o=>r.error=o)};if(fu.push(r),!t)throw r.promise}const cee=(n,e,t)=>BF(n,e,!1,t),gee=(n,e,t)=>void BF(n,e,!0,t),uee=n=>{if(n===void 0||n.length===0)fu.splice(0,fu.length);else{const e=fu.find(t=>yF(n,t.keys,t.equal));e&&e.remove()}};var xF={exports:{}},GF={exports:{}},wF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,L){var P=N.length;N.push(L);e:for(;0<P;){var O=P-1>>>1,ie=N[O];if(0<r(ie,L))N[O]=L,N[P]=ie,P=O;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var L=N[0],P=N.pop();if(P!==L){N[0]=P;e:for(var O=0,ie=N.length,ge=ie>>>1;O<ge;){var J=2*(O+1)-1,Ce=N[J],ve=J+1,Ae=N[ve];if(0>r(Ce,P))ve<ie&&0>r(Ae,Ce)?(N[O]=Ae,N[ve]=P,O=ve):(N[O]=Ce,N[J]=P,O=J);else if(ve<ie&&0>r(Ae,P))N[O]=Ae,N[ve]=P,O=ve;else break e}}return L}function r(N,L){var P=N.sortIndex-L.sortIndex;return P!==0?P:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],c=[],g=1,u=null,d=3,C=!1,f=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(N){for(var L=t(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=N)i(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(c)}}function x(N){if(b=!1,B(N),!f)if(t(l)!==null)f=!0,z(w);else{var L=t(c);L!==null&&D(x,L.startTime-N)}}function w(N,L){f=!1,b&&(b=!1,p(M),M=-1),C=!0;var P=d;try{for(B(L),u=t(l);u!==null&&(!(u.expirationTime>L)||N&&!V());){var O=u.callback;if(typeof O=="function"){u.callback=null,d=u.priorityLevel;var ie=O(u.expirationTime<=L);L=n.unstable_now(),typeof ie=="function"?u.callback=ie:u===t(l)&&i(l),B(L)}else i(l);u=t(l)}if(u!==null)var ge=!0;else{var J=t(c);J!==null&&D(x,J.startTime-L),ge=!1}return ge}finally{u=null,d=P,C=!1}}var S=!1,Z=null,M=-1,q=5,_=-1;function V(){return!(n.unstable_now()-_<q)}function Y(){if(Z!==null){var N=n.unstable_now();_=N;var L=!0;try{L=Z(!0,N)}finally{L?X():(S=!1,Z=null)}}else S=!1}var X;if(typeof y=="function")X=function(){y(Y)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=Y,X=function(){Q.postMessage(null)}}else X=function(){A(Y,0)};function z(N){Z=N,S||(S=!0,X())}function D(N,L){M=A(function(){N(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){f||C||(f=!0,z(w))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var P=d;d=L;try{return N()}finally{d=P}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=d;d=N;try{return L()}finally{d=P}},n.unstable_scheduleCallback=function(N,L,P){var O=n.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?O+P:O):P=O,N){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=P+ie,N={id:g++,callback:L,priorityLevel:N,startTime:P,expirationTime:ie,sortIndex:-1},P>O?(N.sortIndex=P,e(c,N),t(l)===null&&N===t(c)&&(b?(p(M),M=-1):b=!0,D(x,P-O))):(N.sortIndex=ie,e(l,N),f||C||(f=!0,z(w))),N},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(N){var L=d;return function(){var P=d;d=L;try{return N.apply(this,arguments)}finally{d=P}}}})(wF);GF.exports=wF;var d8=GF.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dee=function(e){var t={},i=v,r=d8,o=Object.assign;function a(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,G=1;G<arguments.length;G++)m+="&args[]="+encodeURIComponent(arguments[G]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),f=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),w=Symbol.iterator;function S(h){return h===null||typeof h!="object"?null:(h=w&&h[w]||h["@@iterator"],typeof h=="function"?h:null)}function Z(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case g:return"Fragment";case c:return"Portal";case d:return"Profiler";case u:return"StrictMode";case A:return"Suspense";case p:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case f:return(h.displayName||"Context")+".Consumer";case C:return(h._context.displayName||"Context")+".Provider";case b:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case y:return m=h.displayName||null,m!==null?m:Z(h.type)||"Memo";case B:m=h._payload,h=h._init;try{return Z(h(m))}catch{}}return null}function M(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(m);case 8:return m===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function q(h){var m=h,G=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(G=m.return),h=m.return;while(h)}return m.tag===3?G:null}function _(h){if(q(h)!==h)throw Error(a(188))}function V(h){var m=h.alternate;if(!m){if(m=q(h),m===null)throw Error(a(188));return m!==h?null:h}for(var G=h,R=m;;){var W=G.return;if(W===null)break;var F=W.alternate;if(F===null){if(R=W.return,R!==null){G=R;continue}break}if(W.child===F.child){for(F=W.child;F;){if(F===G)return _(W),h;if(F===R)return _(W),m;F=F.sibling}throw Error(a(188))}if(G.return!==R.return)G=W,R=F;else{for(var se=!1,xe=W.child;xe;){if(xe===G){se=!0,G=W,R=F;break}if(xe===R){se=!0,R=W,G=F;break}xe=xe.sibling}if(!se){for(xe=F.child;xe;){if(xe===G){se=!0,G=F,R=W;break}if(xe===R){se=!0,R=F,G=W;break}xe=xe.sibling}if(!se)throw Error(a(189))}}if(G.alternate!==R)throw Error(a(190))}if(G.tag!==3)throw Error(a(188));return G.stateNode.current===G?h:m}function Y(h){return h=V(h),h!==null?X(h):null}function X(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=X(h);if(m!==null)return m;h=h.sibling}return null}function K(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=K(h);if(m!==null)return m}h=h.sibling}return null}var Q=Array.isArray,z=e.getPublicInstance,D=e.getRootHostContext,N=e.getChildHostContext,L=e.prepareForCommit,P=e.resetAfterCommit,O=e.createInstance,ie=e.appendInitialChild,ge=e.finalizeInitialChildren,J=e.prepareUpdate,Ce=e.shouldSetTextContent,ve=e.createTextInstance,Ae=e.scheduleTimeout,Xe=e.cancelTimeout,Le=e.noTimeout,Ee=e.isPrimaryRenderer,be=e.supportsMutation,Ie=e.supportsPersistence,pe=e.supportsHydration,$=e.getInstanceFromNode,Ge=e.preparePortalMount,Ze=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Ne=e.supportsMicrotasks,Je=e.scheduleMicrotask,Ke=e.supportsTestSelectors,U=e.findFiberRoot,T=e.getBoundingRect,le=e.getTextContent,ye=e.isHiddenSubtree,Fe=e.matchAccessibilityRole,we=e.setFocusIfFocusable,tt=e.setupIntersectionObserver,je=e.appendChild,Qe=e.appendChildToContainer,Rt=e.commitTextUpdate,ze=e.commitMount,st=e.commitUpdate,gt=e.insertBefore,ot=e.insertInContainerBefore,dt=e.removeChild,ue=e.removeChildFromContainer,Me=e.resetTextContent,$e=e.hideInstance,ce=e.hideTextInstance,Se=e.unhideInstance,_e=e.unhideTextInstance,Te=e.clearContainer,It=e.cloneInstance,at=e.createContainerChildSet,_t=e.appendChildToContainerChildSet,Ft=e.finalizeContainerChildren,Bt=e.replaceContainerChildren,ut=e.cloneHiddenInstance,it=e.cloneHiddenTextInstance,an=e.canHydrateInstance,Nn=e.canHydrateTextInstance,xt=e.canHydrateSuspenseInstance,bt=e.isSuspenseInstancePending,Wt=e.isSuspenseInstanceFallback,Vt=e.registerSuspenseInstanceRetry,Dt=e.getNextHydratableSibling,qt=e.getFirstHydratableChild,Dn=e.getFirstHydratableChildWithinContainer,Rn=e.getFirstHydratableChildWithinSuspenseInstance,E=e.hydrateInstance,j=e.hydrateTextInstance,de=e.hydrateSuspenseInstance,We=e.getNextHydratableInstanceAfterSuspenseInstance,Ve=e.commitHydratedContainer,H=e.commitHydratedSuspenseInstance,ee=e.clearSuspenseBoundary,te=e.clearSuspenseBoundaryFromContainer,re=e.shouldDeleteUnhydratedTailInstances,ne=e.didNotMatchHydratedContainerTextInstance,Be=e.didNotMatchHydratedTextInstance,Re;function Ct(h){if(Re===void 0)try{throw Error()}catch(G){var m=G.stack.trim().match(/\n( *(at )?)/);Re=m&&m[1]||""}return`
`+Re+h}var Ue=!1;function lt(h,m){if(!h||Ue)return"";Ue=!0;var G=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(wt){var R=wt}Reflect.construct(h,[],m)}else{try{m.call()}catch(wt){R=wt}h.call(m.prototype)}else{try{throw Error()}catch(wt){R=wt}h()}}catch(wt){if(wt&&R&&typeof wt.stack=="string"){for(var W=wt.stack.split(`
`),F=R.stack.split(`
`),se=W.length-1,xe=F.length-1;1<=se&&0<=xe&&W[se]!==F[xe];)xe--;for(;1<=se&&0<=xe;se--,xe--)if(W[se]!==F[xe]){if(se!==1||xe!==1)do if(se--,xe--,0>xe||W[se]!==F[xe]){var Oe=`
`+W[se].replace(" at new "," at ");return h.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",h.displayName)),Oe}while(1<=se&&0<=xe);break}}}finally{Ue=!1,Error.prepareStackTrace=G}return(h=h?h.displayName||h.name:"")?Ct(h):""}var pt=Object.prototype.hasOwnProperty,rt=[],Ht=-1;function Et(h){return{current:h}}function St(h){0>Ht||(h.current=rt[Ht],rt[Ht]=null,Ht--)}function Ut(h,m){Ht++,rt[Ht]=h.current,h.current=m}var Xt={},ft=Et(Xt),Ot=Et(!1),Pt=Xt;function yn(h,m){var G=h.type.contextTypes;if(!G)return Xt;var R=h.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===m)return R.__reactInternalMemoizedMaskedChildContext;var W={},F;for(F in G)W[F]=m[F];return R&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=W),W}function In(h){return h=h.childContextTypes,h!=null}function An(){St(Ot),St(ft)}function At(h,m,G){if(ft.current!==Xt)throw Error(a(168));Ut(ft,m),Ut(Ot,G)}function nt(h,m,G){var R=h.stateNode;if(m=m.childContextTypes,typeof R.getChildContext!="function")return G;R=R.getChildContext();for(var W in R)if(!(W in m))throw Error(a(108,M(h)||"Unknown",W));return o({},G,R)}function Zt(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Xt,Pt=ft.current,Ut(ft,h),Ut(Ot,Ot.current),!0}function kt(h,m,G){var R=h.stateNode;if(!R)throw Error(a(169));G?(h=nt(h,m,Pt),R.__reactInternalMemoizedMergedChildContext=h,St(Ot),St(ft),Ut(ft,h)):St(Ot),Ut(Ot,G)}var Yt=Math.clz32?Math.clz32:Pn,un=Math.log,Cn=Math.LN2;function Pn(h){return h>>>=0,h===0?32:31-(un(h)/Cn|0)|0}var ir=64,rr=4194304;function bi(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Gr(h,m){var G=h.pendingLanes;if(G===0)return 0;var R=0,W=h.suspendedLanes,F=h.pingedLanes,se=G&268435455;if(se!==0){var xe=se&~W;xe!==0?R=bi(xe):(F&=se,F!==0&&(R=bi(F)))}else se=G&~W,se!==0?R=bi(se):F!==0&&(R=bi(F));if(R===0)return 0;if(m!==0&&m!==R&&!(m&W)&&(W=R&-R,F=m&-m,W>=F||W===16&&(F&4194240)!==0))return m;if(R&4&&(R|=G&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=R;0<m;)G=31-Yt(m),W=1<<G,R|=h[G],m&=~W;return R}function xo(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ba(h,m){for(var G=h.suspendedLanes,R=h.pingedLanes,W=h.expirationTimes,F=h.pendingLanes;0<F;){var se=31-Yt(F),xe=1<<se,Oe=W[se];Oe===-1?(!(xe&G)||xe&R)&&(W[se]=xo(xe,m)):Oe<=m&&(h.expiredLanes|=xe),F&=~xe}}function vg(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function I1(h){for(var m=[],G=0;31>G;G++)m.push(h);return m}function oc(h,m,G){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Yt(m),h[m]=G}function wr(h,m){var G=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var R=h.eventTimes;for(h=h.expirationTimes;0<G;){var W=31-Yt(G),F=1<<W;m[W]=0,R[W]=-1,h[W]=-1,G&=~F}}function Ms(h,m){var G=h.entangledLanes|=m;for(h=h.entanglements;G;){var R=31-Yt(G),W=1<<R;W&m|h[R]&m&&(h[R]|=m),G&=~W}}var Bn=0;function ns(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var _s=r.unstable_scheduleCallback,yg=r.unstable_cancelCallback,C1=r.unstable_shouldYield,Y0=r.unstable_requestPaint,Mt=r.unstable_now,ln=r.unstable_ImmediatePriority,oi=r.unstable_UserBlockingPriority,ci=r.unstable_NormalPriority,ai=r.unstable_IdlePriority,Il=null,Go=null;function l2(h){if(Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(Il,h,void 0,(h.current.flags&128)===128)}catch{}}function h1(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Ws=typeof Object.is=="function"?Object.is:h1,Cl=null,c2=!1,B5=!1;function nx(h){Cl===null?Cl=[h]:Cl.push(h)}function JY(h){c2=!0,nx(h)}function Vs(){if(!B5&&Cl!==null){B5=!0;var h=0,m=Bn;try{var G=Cl;for(Bn=1;h<G.length;h++){var R=G[h];do R=R(!0);while(R!==null)}Cl=null,c2=!1}catch(W){throw Cl!==null&&(Cl=Cl.slice(h+1)),_s(ln,Vs),W}finally{Bn=m,B5=!1}}return null}var QY=s.ReactCurrentBatchConfig;function g2(h,m){if(Ws(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var G=Object.keys(h),R=Object.keys(m);if(G.length!==R.length)return!1;for(R=0;R<G.length;R++){var W=G[R];if(!pt.call(m,W)||!Ws(h[W],m[W]))return!1}return!0}function $Y(h){switch(h.tag){case 5:return Ct(h.type);case 16:return Ct("Lazy");case 13:return Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 2:case 15:return h=lt(h.type,!1),h;case 11:return h=lt(h.type.render,!1),h;case 1:return h=lt(h.type,!0),h;default:return""}}function is(h,m){if(h&&h.defaultProps){m=o({},m),h=h.defaultProps;for(var G in h)m[G]===void 0&&(m[G]=h[G]);return m}return m}var u2=Et(null),d2=null,m1=null,x5=null;function G5(){x5=m1=d2=null}function ix(h,m,G){Ee?(Ut(u2,m._currentValue),m._currentValue=G):(Ut(u2,m._currentValue2),m._currentValue2=G)}function w5(h){var m=u2.current;St(u2),Ee?h._currentValue=m:h._currentValue2=m}function S5(h,m,G){for(;h!==null;){var R=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,R!==null&&(R.childLanes|=m)):R!==null&&(R.childLanes&m)!==m&&(R.childLanes|=m),h===G)break;h=h.return}}function f1(h,m){d2=h,x5=m1=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(Jo=!0),h.firstContext=null)}function xa(h){var m=Ee?h._currentValue:h._currentValue2;if(x5!==h)if(h={context:h,memoizedValue:m,next:null},m1===null){if(d2===null)throw Error(a(308));m1=h,d2.dependencies={lanes:0,firstContext:h}}else m1=m1.next=h;return m}var Ns=null,ac=!1;function Z5(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rx(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function hl(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function sc(h,m){var G=h.updateQueue;G!==null&&(G=G.shared,Di!==null&&h.mode&1&&!(xn&2)?(h=G.interleaved,h===null?(m.next=m,Ns===null?Ns=[G]:Ns.push(G)):(m.next=h.next,h.next=m),G.interleaved=m):(h=G.pending,h===null?m.next=m:(m.next=h.next,h.next=m),G.pending=m))}function I2(h,m,G){if(m=m.updateQueue,m!==null&&(m=m.shared,(G&4194240)!==0)){var R=m.lanes;R&=h.pendingLanes,G|=R,m.lanes=G,Ms(h,G)}}function ox(h,m){var G=h.updateQueue,R=h.alternate;if(R!==null&&(R=R.updateQueue,G===R)){var W=null,F=null;if(G=G.firstBaseUpdate,G!==null){do{var se={eventTime:G.eventTime,lane:G.lane,tag:G.tag,payload:G.payload,callback:G.callback,next:null};F===null?W=F=se:F=F.next=se,G=G.next}while(G!==null);F===null?W=F=m:F=F.next=m}else W=F=m;G={baseState:R.baseState,firstBaseUpdate:W,lastBaseUpdate:F,shared:R.shared,effects:R.effects},h.updateQueue=G;return}h=G.lastBaseUpdate,h===null?G.firstBaseUpdate=m:h.next=m,G.lastBaseUpdate=m}function C2(h,m,G,R){var W=h.updateQueue;ac=!1;var F=W.firstBaseUpdate,se=W.lastBaseUpdate,xe=W.shared.pending;if(xe!==null){W.shared.pending=null;var Oe=xe,wt=Oe.next;Oe.next=null,se===null?F=wt:se.next=wt,se=Oe;var Jt=h.alternate;Jt!==null&&(Jt=Jt.updateQueue,xe=Jt.lastBaseUpdate,xe!==se&&(xe===null?Jt.firstBaseUpdate=wt:xe.next=wt,Jt.lastBaseUpdate=Oe))}if(F!==null){var hn=W.baseState;se=0,Jt=wt=Oe=null,xe=F;do{var cn=xe.lane,ei=xe.eventTime;if((R&cn)===cn){Jt!==null&&(Jt=Jt.next={eventTime:ei,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var on=h,Yr=xe;switch(cn=m,ei=G,Yr.tag){case 1:if(on=Yr.payload,typeof on=="function"){hn=on.call(ei,hn,cn);break e}hn=on;break e;case 3:on.flags=on.flags&-65537|128;case 0:if(on=Yr.payload,cn=typeof on=="function"?on.call(ei,hn,cn):on,cn==null)break e;hn=o({},hn,cn);break e;case 2:ac=!0}}xe.callback!==null&&xe.lane!==0&&(h.flags|=64,cn=W.effects,cn===null?W.effects=[xe]:cn.push(xe))}else ei={eventTime:ei,lane:cn,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Jt===null?(wt=Jt=ei,Oe=hn):Jt=Jt.next=ei,se|=cn;if(xe=xe.next,xe===null){if(xe=W.shared.pending,xe===null)break;cn=xe,xe=cn.next,cn.next=null,W.lastBaseUpdate=cn,W.shared.pending=null}}while(!0);if(Jt===null&&(Oe=hn),W.baseState=Oe,W.firstBaseUpdate=wt,W.lastBaseUpdate=Jt,m=W.shared.interleaved,m!==null){W=m;do se|=W.lane,W=W.next;while(W!==m)}else F===null&&(W.shared.lanes=0);w1|=se,h.lanes=se,h.memoizedState=hn}}function ax(h,m,G){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var R=h[m],W=R.callback;if(W!==null){if(R.callback=null,R=G,typeof W!="function")throw Error(a(191,W));W.call(R)}}}var sx=new i.Component().refs;function q5(h,m,G,R){m=h.memoizedState,G=G(R,m),G=G==null?m:o({},m,G),h.memoizedState=G,h.lanes===0&&(h.updateQueue.baseState=G)}var h2={isMounted:function(h){return(h=h._reactInternals)?q(h)===h:!1},enqueueSetState:function(h,m,G){h=h._reactInternals;var R=co(),W=gc(h),F=hl(R,W);F.payload=m,G!=null&&(F.callback=G),sc(h,F),m=qa(h,W,R),m!==null&&I2(m,h,W)},enqueueReplaceState:function(h,m,G){h=h._reactInternals;var R=co(),W=gc(h),F=hl(R,W);F.tag=1,F.payload=m,G!=null&&(F.callback=G),sc(h,F),m=qa(h,W,R),m!==null&&I2(m,h,W)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var G=co(),R=gc(h),W=hl(G,R);W.tag=2,m!=null&&(W.callback=m),sc(h,W),m=qa(h,R,G),m!==null&&I2(m,h,R)}};function lx(h,m,G,R,W,F,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(R,F,se):m.prototype&&m.prototype.isPureReactComponent?!g2(G,R)||!g2(W,F):!0}function cx(h,m,G){var R=!1,W=Xt,F=m.contextType;return typeof F=="object"&&F!==null?F=xa(F):(W=In(m)?Pt:ft.current,R=m.contextTypes,F=(R=R!=null)?yn(h,W):Xt),m=new m(G,F),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=h2,h.stateNode=m,m._reactInternals=h,R&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=W,h.__reactInternalMemoizedMaskedChildContext=F),m}function gx(h,m,G,R){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(G,R),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(G,R),m.state!==h&&h2.enqueueReplaceState(m,m.state,null)}function R5(h,m,G,R){var W=h.stateNode;W.props=G,W.state=h.memoizedState,W.refs=sx,Z5(h);var F=m.contextType;typeof F=="object"&&F!==null?W.context=xa(F):(F=In(m)?Pt:ft.current,W.context=yn(h,F)),W.state=h.memoizedState,F=m.getDerivedStateFromProps,typeof F=="function"&&(q5(h,m,F,G),W.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(m=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),m!==W.state&&h2.enqueueReplaceState(W,W.state,null),C2(h,G,W,R),W.state=h.memoizedState),typeof W.componentDidMount=="function"&&(h.flags|=4194308)}var p1=[],A1=0,m2=null,f2=0,Ga=[],wa=0,Bg=null,ml=1,fl="";function xg(h,m){p1[A1++]=f2,p1[A1++]=m2,m2=h,f2=m}function ux(h,m,G){Ga[wa++]=ml,Ga[wa++]=fl,Ga[wa++]=Bg,Bg=h;var R=ml;h=fl;var W=32-Yt(R)-1;R&=~(1<<W),G+=1;var F=32-Yt(m)+W;if(30<F){var se=W-W%5;F=(R&(1<<se)-1).toString(32),R>>=se,W-=se,ml=1<<32-Yt(m)+W|G<<W|R,fl=F+h}else ml=1<<F|G<<W|R,fl=h}function M5(h){h.return!==null&&(xg(h,1),ux(h,1,0))}function _5(h){for(;h===m2;)m2=p1[--A1],p1[A1]=null,f2=p1[--A1],p1[A1]=null;for(;h===Bg;)Bg=Ga[--wa],Ga[wa]=null,fl=Ga[--wa],Ga[wa]=null,ml=Ga[--wa],Ga[wa]=null}var Oo=null,jo=null,Ci=!1,K0=!1,rs=null;function dx(h,m){var G=Ra(5,null,null,0);G.elementType="DELETED",G.stateNode=m,G.return=h,m=h.deletions,m===null?(h.deletions=[G],h.flags|=16):m.push(G)}function Ix(h,m){switch(h.tag){case 5:return m=an(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,Oo=h,jo=qt(m),!0):!1;case 6:return m=Nn(m,h.pendingProps),m!==null?(h.stateNode=m,Oo=h,jo=null,!0):!1;case 13:if(m=xt(m),m!==null){var G=Bg!==null?{id:ml,overflow:fl}:null;return h.memoizedState={dehydrated:m,treeContext:G,retryLane:1073741824},G=Ra(18,null,null,0),G.stateNode=m,G.return=h,h.child=G,Oo=h,jo=null,!0}return!1;default:return!1}}function W5(h){return(h.mode&1)!==0&&(h.flags&128)===0}function V5(h){if(Ci){var m=jo;if(m){var G=m;if(!Ix(h,m)){if(W5(h))throw Error(a(418));m=Dt(G);var R=Oo;m&&Ix(h,m)?dx(R,G):(h.flags=h.flags&-4097|2,Ci=!1,Oo=h)}}else{if(W5(h))throw Error(a(418));h.flags=h.flags&-4097|2,Ci=!1,Oo=h}}}function Cx(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Oo=h}function L0(h){if(!pe||h!==Oo)return!1;if(!Ci)return Cx(h),Ci=!0,!1;if(h.tag!==3&&(h.tag!==5||re(h.type)&&!Ce(h.type,h.memoizedProps))){var m=jo;if(m){if(W5(h)){for(h=jo;h;)h=Dt(h);throw Error(a(418))}for(;m;)dx(h,m),m=Dt(m)}}if(Cx(h),h.tag===13){if(!pe)throw Error(a(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));jo=We(h)}else jo=Oo?Dt(h.stateNode):null;return!0}function b1(){pe&&(jo=Oo=null,K0=Ci=!1)}function N5(h){rs===null?rs=[h]:rs.push(h)}function T0(h,m,G){if(h=G.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(G._owner){if(G=G._owner,G){if(G.tag!==1)throw Error(a(309));var R=G.stateNode}if(!R)throw Error(a(147,h));var W=R,F=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===F?m.ref:(m=function(se){var xe=W.refs;xe===sx&&(xe=W.refs={}),se===null?delete xe[F]:xe[F]=se},m._stringRef=F,m)}if(typeof h!="string")throw Error(a(284));if(!G._owner)throw Error(a(290,h))}return h}function p2(h,m){throw h=Object.prototype.toString.call(m),Error(a(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function hx(h){var m=h._init;return m(h._payload)}function mx(h){function m(He,qe){if(h){var De=He.deletions;De===null?(He.deletions=[qe],He.flags|=16):De.push(qe)}}function G(He,qe){if(!h)return null;for(;qe!==null;)m(He,qe),qe=qe.sibling;return null}function R(He,qe){for(He=new Map;qe!==null;)qe.key!==null?He.set(qe.key,qe):He.set(qe.index,qe),qe=qe.sibling;return He}function W(He,qe){return He=dc(He,qe),He.index=0,He.sibling=null,He}function F(He,qe,De){return He.index=De,h?(De=He.alternate,De!==null?(De=De.index,De<qe?(He.flags|=2,qe):De):(He.flags|=2,qe)):(He.flags|=1048576,qe)}function se(He){return h&&He.alternate===null&&(He.flags|=2),He}function xe(He,qe,De,Tt){return qe===null||qe.tag!==6?(qe=p9(De,He.mode,Tt),qe.return=He,qe):(qe=W(qe,De),qe.return=He,qe)}function Oe(He,qe,De,Tt){var en=De.type;return en===g?Jt(He,qe,De.props.children,Tt,De.key):qe!==null&&(qe.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===B&&hx(en)===qe.type)?(Tt=W(qe,De.props),Tt.ref=T0(He,qe,De),Tt.return=He,Tt):(Tt=O2(De.type,De.key,De.props,null,He.mode,Tt),Tt.ref=T0(He,qe,De),Tt.return=He,Tt)}function wt(He,qe,De,Tt){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==De.containerInfo||qe.stateNode.implementation!==De.implementation?(qe=A9(De,He.mode,Tt),qe.return=He,qe):(qe=W(qe,De.children||[]),qe.return=He,qe)}function Jt(He,qe,De,Tt,en){return qe===null||qe.tag!==7?(qe=Mg(De,He.mode,Tt,en),qe.return=He,qe):(qe=W(qe,De),qe.return=He,qe)}function hn(He,qe,De){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return qe=p9(""+qe,He.mode,De),qe.return=He,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return De=O2(qe.type,qe.key,qe.props,null,He.mode,De),De.ref=T0(He,null,qe),De.return=He,De;case c:return qe=A9(qe,He.mode,De),qe.return=He,qe;case B:var Tt=qe._init;return hn(He,Tt(qe._payload),De)}if(Q(qe)||S(qe))return qe=Mg(qe,He.mode,De,null),qe.return=He,qe;p2(He,qe)}return null}function cn(He,qe,De,Tt){var en=qe!==null?qe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return en!==null?null:xe(He,qe,""+De,Tt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===en?Oe(He,qe,De,Tt):null;case c:return De.key===en?wt(He,qe,De,Tt):null;case B:return en=De._init,cn(He,qe,en(De._payload),Tt)}if(Q(De)||S(De))return en!==null?null:Jt(He,qe,De,Tt,null);p2(He,De)}return null}function ei(He,qe,De,Tt,en){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return He=He.get(De)||null,xe(qe,He,""+Tt,en);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case l:return He=He.get(Tt.key===null?De:Tt.key)||null,Oe(qe,He,Tt,en);case c:return He=He.get(Tt.key===null?De:Tt.key)||null,wt(qe,He,Tt,en);case B:var vn=Tt._init;return ei(He,qe,De,vn(Tt._payload),en)}if(Q(Tt)||S(Tt))return He=He.get(De)||null,Jt(qe,He,Tt,en,null);p2(qe,Tt)}return null}function on(He,qe,De,Tt){for(var en=null,vn=null,mn=qe,zn=qe=0,Ir=null;mn!==null&&zn<De.length;zn++){mn.index>zn?(Ir=mn,mn=null):Ir=mn.sibling;var Yn=cn(He,mn,De[zn],Tt);if(Yn===null){mn===null&&(mn=Ir);break}h&&mn&&Yn.alternate===null&&m(He,mn),qe=F(Yn,qe,zn),vn===null?en=Yn:vn.sibling=Yn,vn=Yn,mn=Ir}if(zn===De.length)return G(He,mn),Ci&&xg(He,zn),en;if(mn===null){for(;zn<De.length;zn++)mn=hn(He,De[zn],Tt),mn!==null&&(qe=F(mn,qe,zn),vn===null?en=mn:vn.sibling=mn,vn=mn);return Ci&&xg(He,zn),en}for(mn=R(He,mn);zn<De.length;zn++)Ir=ei(mn,He,zn,De[zn],Tt),Ir!==null&&(h&&Ir.alternate!==null&&mn.delete(Ir.key===null?zn:Ir.key),qe=F(Ir,qe,zn),vn===null?en=Ir:vn.sibling=Ir,vn=Ir);return h&&mn.forEach(function(Ic){return m(He,Ic)}),Ci&&xg(He,zn),en}function Yr(He,qe,De,Tt){var en=S(De);if(typeof en!="function")throw Error(a(150));if(De=en.call(De),De==null)throw Error(a(151));for(var vn=en=null,mn=qe,zn=qe=0,Ir=null,Yn=De.next();mn!==null&&!Yn.done;zn++,Yn=De.next()){mn.index>zn?(Ir=mn,mn=null):Ir=mn.sibling;var Ic=cn(He,mn,Yn.value,Tt);if(Ic===null){mn===null&&(mn=Ir);break}h&&mn&&Ic.alternate===null&&m(He,mn),qe=F(Ic,qe,zn),vn===null?en=Ic:vn.sibling=Ic,vn=Ic,mn=Ir}if(Yn.done)return G(He,mn),Ci&&xg(He,zn),en;if(mn===null){for(;!Yn.done;zn++,Yn=De.next())Yn=hn(He,Yn.value,Tt),Yn!==null&&(qe=F(Yn,qe,zn),vn===null?en=Yn:vn.sibling=Yn,vn=Yn);return Ci&&xg(He,zn),en}for(mn=R(He,mn);!Yn.done;zn++,Yn=De.next())Yn=ei(mn,He,zn,Yn.value,Tt),Yn!==null&&(h&&Yn.alternate!==null&&mn.delete(Yn.key===null?zn:Yn.key),qe=F(Yn,qe,zn),vn===null?en=Yn:vn.sibling=Yn,vn=Yn);return h&&mn.forEach(function(qK){return m(He,qK)}),Ci&&xg(He,zn),en}function Ma(He,qe,De,Tt){if(typeof De=="object"&&De!==null&&De.type===g&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var en=De.key,vn=qe;vn!==null;){if(vn.key===en){if(en=De.type,en===g){if(vn.tag===7){G(He,vn.sibling),qe=W(vn,De.props.children),qe.return=He,He=qe;break e}}else if(vn.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===B&&hx(en)===vn.type){G(He,vn.sibling),qe=W(vn,De.props),qe.ref=T0(He,vn,De),qe.return=He,He=qe;break e}G(He,vn);break}else m(He,vn);vn=vn.sibling}De.type===g?(qe=Mg(De.props.children,He.mode,Tt,De.key),qe.return=He,He=qe):(Tt=O2(De.type,De.key,De.props,null,He.mode,Tt),Tt.ref=T0(He,qe,De),Tt.return=He,He=Tt)}return se(He);case c:e:{for(vn=De.key;qe!==null;){if(qe.key===vn)if(qe.tag===4&&qe.stateNode.containerInfo===De.containerInfo&&qe.stateNode.implementation===De.implementation){G(He,qe.sibling),qe=W(qe,De.children||[]),qe.return=He,He=qe;break e}else{G(He,qe);break}else m(He,qe);qe=qe.sibling}qe=A9(De,He.mode,Tt),qe.return=He,He=qe}return se(He);case B:return vn=De._init,Ma(He,qe,vn(De._payload),Tt)}if(Q(De))return on(He,qe,De,Tt);if(S(De))return Yr(He,qe,De,Tt);p2(He,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,qe!==null&&qe.tag===6?(G(He,qe.sibling),qe=W(qe,De),qe.return=He,He=qe):(G(He,qe),qe=p9(De,He.mode,Tt),qe.return=He,He=qe),se(He)):G(He,qe)}return Ma}var v1=mx(!0),fx=mx(!1),k0={},Sa=Et(k0),P0=Et(k0),y1=Et(k0);function Fs(h){if(h===k0)throw Error(a(174));return h}function F5(h,m){Ut(y1,m),Ut(P0,h),Ut(Sa,k0),h=D(m),St(Sa),Ut(Sa,h)}function B1(){St(Sa),St(P0),St(y1)}function px(h){var m=Fs(y1.current),G=Fs(Sa.current);m=N(G,h.type,m),G!==m&&(Ut(P0,h),Ut(Sa,m))}function H5(h){P0.current===h&&(St(Sa),St(P0))}var vi=Et(0);function A2(h){for(var m=h;m!==null;){if(m.tag===13){var G=m.memoizedState;if(G!==null&&(G=G.dehydrated,G===null||bt(G)||Wt(G)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var E5=[];function X5(){for(var h=0;h<E5.length;h++){var m=E5[h];Ee?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}E5.length=0}var b2=s.ReactCurrentDispatcher,Za=s.ReactCurrentBatchConfig,x1=0,_i=null,Er=null,dr=null,v2=!1,D0=!1,U0=0,eK=0;function Xr(){throw Error(a(321))}function z5(h,m){if(m===null)return!1;for(var G=0;G<m.length&&G<h.length;G++)if(!Ws(h[G],m[G]))return!1;return!0}function Y5(h,m,G,R,W,F){if(x1=F,_i=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,b2.current=h===null||h.memoizedState===null?rK:oK,h=G(R,W),D0){F=0;do{if(D0=!1,U0=0,25<=F)throw Error(a(301));F+=1,dr=Er=null,m.updateQueue=null,b2.current=aK,h=G(R,W)}while(D0)}if(b2.current=w2,m=Er!==null&&Er.next!==null,x1=0,dr=Er=_i=null,v2=!1,m)throw Error(a(300));return h}function K5(){var h=U0!==0;return U0=0,h}function pl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?_i.memoizedState=dr=h:dr=dr.next=h,dr}function Hs(){if(Er===null){var h=_i.alternate;h=h!==null?h.memoizedState:null}else h=Er.next;var m=dr===null?_i.memoizedState:dr.next;if(m!==null)dr=m,Er=h;else{if(h===null)throw Error(a(310));Er=h,h={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},dr===null?_i.memoizedState=dr=h:dr=dr.next=h}return dr}function Gg(h,m){return typeof m=="function"?m(h):m}function y2(h){var m=Hs(),G=m.queue;if(G===null)throw Error(a(311));G.lastRenderedReducer=h;var R=Er,W=R.baseQueue,F=G.pending;if(F!==null){if(W!==null){var se=W.next;W.next=F.next,F.next=se}R.baseQueue=W=F,G.pending=null}if(W!==null){F=W.next,R=R.baseState;var xe=se=null,Oe=null,wt=F;do{var Jt=wt.lane;if((x1&Jt)===Jt)Oe!==null&&(Oe=Oe.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),R=wt.hasEagerState?wt.eagerState:h(R,wt.action);else{var hn={lane:Jt,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Oe===null?(xe=Oe=hn,se=R):Oe=Oe.next=hn,_i.lanes|=Jt,w1|=Jt}wt=wt.next}while(wt!==null&&wt!==F);Oe===null?se=R:Oe.next=xe,Ws(R,m.memoizedState)||(Jo=!0),m.memoizedState=R,m.baseState=se,m.baseQueue=Oe,G.lastRenderedState=R}if(h=G.interleaved,h!==null){W=h;do F=W.lane,_i.lanes|=F,w1|=F,W=W.next;while(W!==h)}else W===null&&(G.lanes=0);return[m.memoizedState,G.dispatch]}function B2(h){var m=Hs(),G=m.queue;if(G===null)throw Error(a(311));G.lastRenderedReducer=h;var R=G.dispatch,W=G.pending,F=m.memoizedState;if(W!==null){G.pending=null;var se=W=W.next;do F=h(F,se.action),se=se.next;while(se!==W);Ws(F,m.memoizedState)||(Jo=!0),m.memoizedState=F,m.baseQueue===null&&(m.baseState=F),G.lastRenderedState=F}return[F,R]}function Ax(){}function bx(h,m){var G=_i,R=Hs(),W=m(),F=!Ws(R.memoizedState,W);if(F&&(R.memoizedState=W,Jo=!0),R=R.queue,j0(Bx.bind(null,G,R,h),[h]),R.getSnapshot!==m||F||dr!==null&&dr.memoizedState.tag&1){if(G.flags|=2048,O0(9,yx.bind(null,G,R,W,m),void 0,null),Di===null)throw Error(a(349));x1&30||vx(G,m,W)}return W}function vx(h,m,G){h.flags|=16384,h={getSnapshot:m,value:G},m=_i.updateQueue,m===null?(m={lastEffect:null,stores:null},_i.updateQueue=m,m.stores=[h]):(G=m.stores,G===null?m.stores=[h]:G.push(h))}function yx(h,m,G,R){m.value=G,m.getSnapshot=R,xx(m)&&qa(h,1,-1)}function Bx(h,m,G){return G(function(){xx(m)&&qa(h,1,-1)})}function xx(h){var m=h.getSnapshot;h=h.value;try{var G=m();return!Ws(h,G)}catch{return!0}}function L5(h){var m=pl();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:h},m.queue=h,h=h.dispatch=iK.bind(null,_i,h),[m.memoizedState,h]}function O0(h,m,G,R){return h={tag:h,create:m,destroy:G,deps:R,next:null},m=_i.updateQueue,m===null?(m={lastEffect:null,stores:null},_i.updateQueue=m,m.lastEffect=h.next=h):(G=m.lastEffect,G===null?m.lastEffect=h.next=h:(R=G.next,G.next=h,h.next=R,m.lastEffect=h)),h}function Gx(){return Hs().memoizedState}function x2(h,m,G,R){var W=pl();_i.flags|=h,W.memoizedState=O0(1|m,G,void 0,R===void 0?null:R)}function G2(h,m,G,R){var W=Hs();R=R===void 0?null:R;var F=void 0;if(Er!==null){var se=Er.memoizedState;if(F=se.destroy,R!==null&&z5(R,se.deps)){W.memoizedState=O0(m,G,F,R);return}}_i.flags|=h,W.memoizedState=O0(1|m,G,F,R)}function T5(h,m){return x2(8390656,8,h,m)}function j0(h,m){return G2(2048,8,h,m)}function wx(h,m){return G2(4,2,h,m)}function Sx(h,m){return G2(4,4,h,m)}function Zx(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function qx(h,m,G){return G=G!=null?G.concat([h]):null,G2(4,4,Zx.bind(null,m,h),G)}function k5(){}function Rx(h,m){var G=Hs();m=m===void 0?null:m;var R=G.memoizedState;return R!==null&&m!==null&&z5(m,R[1])?R[0]:(G.memoizedState=[h,m],h)}function Mx(h,m){var G=Hs();m=m===void 0?null:m;var R=G.memoizedState;return R!==null&&m!==null&&z5(m,R[1])?R[0]:(h=h(),G.memoizedState=[h,m],h)}function tK(h,m){var G=Bn;Bn=G!==0&&4>G?G:4,h(!0);var R=Za.transition;Za.transition={};try{h(!1),m()}finally{Bn=G,Za.transition=R}}function _x(){return Hs().memoizedState}function nK(h,m,G){var R=gc(h);G={lane:R,action:G,hasEagerState:!1,eagerState:null,next:null},Wx(h)?Vx(m,G):(Nx(h,m,G),G=co(),h=qa(h,R,G),h!==null&&Fx(h,m,R))}function iK(h,m,G){var R=gc(h),W={lane:R,action:G,hasEagerState:!1,eagerState:null,next:null};if(Wx(h))Vx(m,W);else{Nx(h,m,W);var F=h.alternate;if(h.lanes===0&&(F===null||F.lanes===0)&&(F=m.lastRenderedReducer,F!==null))try{var se=m.lastRenderedState,xe=F(se,G);if(W.hasEagerState=!0,W.eagerState=xe,Ws(xe,se))return}catch{}finally{}G=co(),h=qa(h,R,G),h!==null&&Fx(h,m,R)}}function Wx(h){var m=h.alternate;return h===_i||m!==null&&m===_i}function Vx(h,m){D0=v2=!0;var G=h.pending;G===null?m.next=m:(m.next=G.next,G.next=m),h.pending=m}function Nx(h,m,G){Di!==null&&h.mode&1&&!(xn&2)?(h=m.interleaved,h===null?(G.next=G,Ns===null?Ns=[m]:Ns.push(m)):(G.next=h.next,h.next=G),m.interleaved=G):(h=m.pending,h===null?G.next=G:(G.next=h.next,h.next=G),m.pending=G)}function Fx(h,m,G){if(G&4194240){var R=m.lanes;R&=h.pendingLanes,G|=R,m.lanes=G,Ms(h,G)}}var w2={readContext:xa,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},rK={readContext:xa,useCallback:function(h,m){return pl().memoizedState=[h,m===void 0?null:m],h},useContext:xa,useEffect:T5,useImperativeHandle:function(h,m,G){return G=G!=null?G.concat([h]):null,x2(4194308,4,Zx.bind(null,m,h),G)},useLayoutEffect:function(h,m){return x2(4194308,4,h,m)},useInsertionEffect:function(h,m){return x2(4,2,h,m)},useMemo:function(h,m){var G=pl();return m=m===void 0?null:m,h=h(),G.memoizedState=[h,m],h},useReducer:function(h,m,G){var R=pl();return m=G!==void 0?G(m):m,R.memoizedState=R.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},R.queue=h,h=h.dispatch=nK.bind(null,_i,h),[R.memoizedState,h]},useRef:function(h){var m=pl();return h={current:h},m.memoizedState=h},useState:L5,useDebugValue:k5,useDeferredValue:function(h){var m=L5(h),G=m[0],R=m[1];return T5(function(){var W=Za.transition;Za.transition={};try{R(h)}finally{Za.transition=W}},[h]),G},useTransition:function(){var h=L5(!1),m=h[0];return h=tK.bind(null,h[1]),pl().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,G){var R=_i,W=pl();if(Ci){if(G===void 0)throw Error(a(407));G=G()}else{if(G=m(),Di===null)throw Error(a(349));x1&30||vx(R,m,G)}W.memoizedState=G;var F={value:G,getSnapshot:m};return W.queue=F,T5(Bx.bind(null,R,F,h),[h]),R.flags|=2048,O0(9,yx.bind(null,R,F,G,m),void 0,null),G},useId:function(){var h=pl(),m=Di.identifierPrefix;if(Ci){var G=fl,R=ml;G=(R&~(1<<32-Yt(R)-1)).toString(32)+G,m=":"+m+"R"+G,G=U0++,0<G&&(m+="H"+G.toString(32)),m+=":"}else G=eK++,m=":"+m+"r"+G.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},oK={readContext:xa,useCallback:Rx,useContext:xa,useEffect:j0,useImperativeHandle:qx,useInsertionEffect:wx,useLayoutEffect:Sx,useMemo:Mx,useReducer:y2,useRef:Gx,useState:function(){return y2(Gg)},useDebugValue:k5,useDeferredValue:function(h){var m=y2(Gg),G=m[0],R=m[1];return j0(function(){var W=Za.transition;Za.transition={};try{R(h)}finally{Za.transition=W}},[h]),G},useTransition:function(){var h=y2(Gg)[0],m=Hs().memoizedState;return[h,m]},useMutableSource:Ax,useSyncExternalStore:bx,useId:_x,unstable_isNewReconciler:!1},aK={readContext:xa,useCallback:Rx,useContext:xa,useEffect:j0,useImperativeHandle:qx,useInsertionEffect:wx,useLayoutEffect:Sx,useMemo:Mx,useReducer:B2,useRef:Gx,useState:function(){return B2(Gg)},useDebugValue:k5,useDeferredValue:function(h){var m=B2(Gg),G=m[0],R=m[1];return j0(function(){var W=Za.transition;Za.transition={};try{R(h)}finally{Za.transition=W}},[h]),G},useTransition:function(){var h=B2(Gg)[0],m=Hs().memoizedState;return[h,m]},useMutableSource:Ax,useSyncExternalStore:bx,useId:_x,unstable_isNewReconciler:!1};function P5(h,m){try{var G="",R=m;do G+=$Y(R),R=R.return;while(R);var W=G}catch(F){W=`
Error generating stack: `+F.message+`
`+F.stack}return{value:h,source:m,stack:W}}function D5(h,m){try{console.error(m.value)}catch(G){setTimeout(function(){throw G})}}var sK=typeof WeakMap=="function"?WeakMap:Map;function Hx(h,m,G){G=hl(-1,G),G.tag=3,G.payload={element:null};var R=m.value;return G.callback=function(){K2||(K2=!0,u9=R),D5(h,m)},G}function Ex(h,m,G){G=hl(-1,G),G.tag=3;var R=h.type.getDerivedStateFromError;if(typeof R=="function"){var W=m.value;G.payload=function(){return R(W)},G.callback=function(){D5(h,m)}}var F=h.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(G.callback=function(){D5(h,m),typeof R!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})}),G}function Xx(h,m,G){var R=h.pingCache;if(R===null){R=h.pingCache=new sK;var W=new Set;R.set(m,W)}else W=R.get(m),W===void 0&&(W=new Set,R.set(m,W));W.has(G)||(W.add(G),h=vK.bind(null,h,m,G),m.then(h,h))}function zx(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function Yx(h,m,G,R,W){return h.mode&1?(h.flags|=65536,h.lanes=W,h):(h===m?h.flags|=65536:(h.flags|=128,G.flags|=131072,G.flags&=-52805,G.tag===1&&(G.alternate===null?G.tag=17:(m=hl(-1,1),m.tag=2,sc(G,m))),G.lanes|=1),h)}function Es(h){h.flags|=4}function Kx(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var J0,Q0,S2,Z2;if(be)J0=function(h,m){for(var G=m.child;G!==null;){if(G.tag===5||G.tag===6)ie(h,G.stateNode);else if(G.tag!==4&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===m)break;for(;G.sibling===null;){if(G.return===null||G.return===m)return;G=G.return}G.sibling.return=G.return,G=G.sibling}},Q0=function(){},S2=function(h,m,G,R,W){if(h=h.memoizedProps,h!==R){var F=m.stateNode,se=Fs(Sa.current);G=J(F,G,h,R,W,se),(m.updateQueue=G)&&Es(m)}},Z2=function(h,m,G,R){G!==R&&Es(m)};else if(Ie){J0=function(h,m,G,R){for(var W=m.child;W!==null;){if(W.tag===5){var F=W.stateNode;G&&R&&(F=ut(F,W.type,W.memoizedProps,W)),ie(h,F)}else if(W.tag===6)F=W.stateNode,G&&R&&(F=it(F,W.memoizedProps,W)),ie(h,F);else if(W.tag!==4){if(W.tag===22&&W.memoizedState!==null)F=W.child,F!==null&&(F.return=W),J0(h,W,!0,!0);else if(W.child!==null){W.child.return=W,W=W.child;continue}}if(W===m)break;for(;W.sibling===null;){if(W.return===null||W.return===m)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};var Lx=function(h,m,G,R){for(var W=m.child;W!==null;){if(W.tag===5){var F=W.stateNode;G&&R&&(F=ut(F,W.type,W.memoizedProps,W)),_t(h,F)}else if(W.tag===6)F=W.stateNode,G&&R&&(F=it(F,W.memoizedProps,W)),_t(h,F);else if(W.tag!==4){if(W.tag===22&&W.memoizedState!==null)F=W.child,F!==null&&(F.return=W),Lx(h,W,!0,!0);else if(W.child!==null){W.child.return=W,W=W.child;continue}}if(W===m)break;for(;W.sibling===null;){if(W.return===null||W.return===m)return;W=W.return}W.sibling.return=W.return,W=W.sibling}};Q0=function(h,m){var G=m.stateNode;if(!Kx(h,m)){h=G.containerInfo;var R=at(h);Lx(R,m,!1,!1),G.pendingChildren=R,Es(m),Ft(h,R)}},S2=function(h,m,G,R,W){var F=h.stateNode,se=h.memoizedProps;if((h=Kx(h,m))&&se===R)m.stateNode=F;else{var xe=m.stateNode,Oe=Fs(Sa.current),wt=null;se!==R&&(wt=J(xe,G,se,R,W,Oe)),h&&wt===null?m.stateNode=F:(F=It(F,wt,G,se,R,m,h,xe),ge(F,G,R,W,Oe)&&Es(m),m.stateNode=F,h?Es(m):J0(F,m,!1,!1))}},Z2=function(h,m,G,R){G!==R?(h=Fs(y1.current),G=Fs(Sa.current),m.stateNode=ve(R,h,G,m),Es(m)):m.stateNode=h.stateNode}}else Q0=function(){},S2=function(){},Z2=function(){};function $0(h,m){if(!Ci)switch(h.tailMode){case"hidden":m=h.tail;for(var G=null;m!==null;)m.alternate!==null&&(G=m),m=m.sibling;G===null?h.tail=null:G.sibling=null;break;case"collapsed":G=h.tail;for(var R=null;G!==null;)G.alternate!==null&&(R=G),G=G.sibling;R===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:R.sibling=null}}function zr(h){var m=h.alternate!==null&&h.alternate.child===h.child,G=0,R=0;if(m)for(var W=h.child;W!==null;)G|=W.lanes|W.childLanes,R|=W.subtreeFlags&14680064,R|=W.flags&14680064,W.return=h,W=W.sibling;else for(W=h.child;W!==null;)G|=W.lanes|W.childLanes,R|=W.subtreeFlags,R|=W.flags,W.return=h,W=W.sibling;return h.subtreeFlags|=R,h.childLanes=G,m}function lK(h,m,G){var R=m.pendingProps;switch(_5(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(m),null;case 1:return In(m.type)&&An(),zr(m),null;case 3:return R=m.stateNode,B1(),St(Ot),St(ft),X5(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(h===null||h.child===null)&&(L0(m)?Es(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,rs!==null&&(C9(rs),rs=null))),Q0(h,m),zr(m),null;case 5:H5(m),G=Fs(y1.current);var W=m.type;if(h!==null&&m.stateNode!=null)S2(h,m,W,R,G),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!R){if(m.stateNode===null)throw Error(a(166));return zr(m),null}if(h=Fs(Sa.current),L0(m)){if(!pe)throw Error(a(175));h=E(m.stateNode,m.type,m.memoizedProps,G,h,m,!K0),m.updateQueue=h,h!==null&&Es(m)}else{var F=O(W,R,G,h,m);J0(F,m,!1,!1),m.stateNode=F,ge(F,W,R,G,h)&&Es(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return zr(m),null;case 6:if(h&&m.stateNode!=null)Z2(h,m,h.memoizedProps,R);else{if(typeof R!="string"&&m.stateNode===null)throw Error(a(166));if(h=Fs(y1.current),G=Fs(Sa.current),L0(m)){if(!pe)throw Error(a(176));if(h=m.stateNode,R=m.memoizedProps,(G=j(h,R,m,!K0))&&(W=Oo,W!==null))switch(F=(W.mode&1)!==0,W.tag){case 3:ne(W.stateNode.containerInfo,h,R,F);break;case 5:Be(W.type,W.memoizedProps,W.stateNode,h,R,F)}G&&Es(m)}else m.stateNode=ve(R,h,G,m)}return zr(m),null;case 13:if(St(vi),R=m.memoizedState,Ci&&jo!==null&&m.mode&1&&!(m.flags&128)){for(h=jo;h;)h=Dt(h);return b1(),m.flags|=98560,m}if(R!==null&&R.dehydrated!==null){if(R=L0(m),h===null){if(!R)throw Error(a(318));if(!pe)throw Error(a(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));de(h,m)}else b1(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return zr(m),null}return rs!==null&&(C9(rs),rs=null),m.flags&128?(m.lanes=G,m):(R=R!==null,G=!1,h===null?L0(m):G=h.memoizedState!==null,R&&!G&&(m.child.flags|=8192,m.mode&1&&(h===null||vi.current&1?or===0&&(or=3):m9())),m.updateQueue!==null&&(m.flags|=4),zr(m),null);case 4:return B1(),Q0(h,m),h===null&&Ge(m.stateNode.containerInfo),zr(m),null;case 10:return w5(m.type._context),zr(m),null;case 17:return In(m.type)&&An(),zr(m),null;case 19:if(St(vi),W=m.memoizedState,W===null)return zr(m),null;if(R=(m.flags&128)!==0,F=W.rendering,F===null)if(R)$0(W,!1);else{if(or!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(F=A2(h),F!==null){for(m.flags|=128,$0(W,!1),h=F.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=G,R=m.child;R!==null;)G=R,W=h,G.flags&=14680066,F=G.alternate,F===null?(G.childLanes=0,G.lanes=W,G.child=null,G.subtreeFlags=0,G.memoizedProps=null,G.memoizedState=null,G.updateQueue=null,G.dependencies=null,G.stateNode=null):(G.childLanes=F.childLanes,G.lanes=F.lanes,G.child=F.child,G.subtreeFlags=0,G.deletions=null,G.memoizedProps=F.memoizedProps,G.memoizedState=F.memoizedState,G.updateQueue=F.updateQueue,G.type=F.type,W=F.dependencies,G.dependencies=W===null?null:{lanes:W.lanes,firstContext:W.firstContext}),R=R.sibling;return Ut(vi,vi.current&1|2),m.child}h=h.sibling}W.tail!==null&&Mt()>g9&&(m.flags|=128,R=!0,$0(W,!1),m.lanes=4194304)}else{if(!R)if(h=A2(F),h!==null){if(m.flags|=128,R=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),$0(W,!0),W.tail===null&&W.tailMode==="hidden"&&!F.alternate&&!Ci)return zr(m),null}else 2*Mt()-W.renderingStartTime>g9&&G!==1073741824&&(m.flags|=128,R=!0,$0(W,!1),m.lanes=4194304);W.isBackwards?(F.sibling=m.child,m.child=F):(h=W.last,h!==null?h.sibling=F:m.child=F,W.last=F)}return W.tail!==null?(m=W.tail,W.rendering=m,W.tail=m.sibling,W.renderingStartTime=Mt(),m.sibling=null,h=vi.current,Ut(vi,R?h&1|2:h&1),m):(zr(m),null);case 22:case 23:return h9(),R=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==R&&(m.flags|=8192),R&&m.mode&1?Qo&1073741824&&(zr(m),be&&m.subtreeFlags&6&&(m.flags|=8192)):zr(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}var cK=s.ReactCurrentOwner,Jo=!1;function lo(h,m,G,R){m.child=h===null?fx(m,null,G,R):v1(m,h.child,G,R)}function Tx(h,m,G,R,W){G=G.render;var F=m.ref;return f1(m,W),R=Y5(h,m,G,R,F,W),G=K5(),h!==null&&!Jo?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~W,Al(h,m,W)):(Ci&&G&&M5(m),m.flags|=1,lo(h,m,R,W),m.child)}function kx(h,m,G,R,W){if(h===null){var F=G.type;return typeof F=="function"&&!f9(F)&&F.defaultProps===void 0&&G.compare===null&&G.defaultProps===void 0?(m.tag=15,m.type=F,Px(h,m,F,R,W)):(h=O2(G.type,null,R,m,m.mode,W),h.ref=m.ref,h.return=m,m.child=h)}if(F=h.child,!(h.lanes&W)){var se=F.memoizedProps;if(G=G.compare,G=G!==null?G:g2,G(se,R)&&h.ref===m.ref)return Al(h,m,W)}return m.flags|=1,h=dc(F,R),h.ref=m.ref,h.return=m,m.child=h}function Px(h,m,G,R,W){if(h!==null&&g2(h.memoizedProps,R)&&h.ref===m.ref)if(Jo=!1,(h.lanes&W)!==0)h.flags&131072&&(Jo=!0);else return m.lanes=h.lanes,Al(h,m,W);return U5(h,m,G,R,W)}function Dx(h,m,G){var R=m.pendingProps,W=R.children,F=h!==null?h.memoizedState:null;if(R.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Ut(G1,Qo),Qo|=G;else if(G&1073741824)m.memoizedState={baseLanes:0,cachePool:null},R=F!==null?F.baseLanes:G,Ut(G1,Qo),Qo|=R;else return h=F!==null?F.baseLanes|G:G,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Ut(G1,Qo),Qo|=h,null;else F!==null?(R=F.baseLanes|G,m.memoizedState=null):R=G,Ut(G1,Qo),Qo|=R;return lo(h,m,W,G),m.child}function Ux(h,m){var G=m.ref;(h===null&&G!==null||h!==null&&h.ref!==G)&&(m.flags|=512,m.flags|=2097152)}function U5(h,m,G,R,W){var F=In(G)?Pt:ft.current;return F=yn(m,F),f1(m,W),G=Y5(h,m,G,R,F,W),R=K5(),h!==null&&!Jo?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~W,Al(h,m,W)):(Ci&&R&&M5(m),m.flags|=1,lo(h,m,G,W),m.child)}function Ox(h,m,G,R,W){if(In(G)){var F=!0;Zt(m)}else F=!1;if(f1(m,W),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),cx(m,G,R),R5(m,G,R,W),R=!0;else if(h===null){var se=m.stateNode,xe=m.memoizedProps;se.props=xe;var Oe=se.context,wt=G.contextType;typeof wt=="object"&&wt!==null?wt=xa(wt):(wt=In(G)?Pt:ft.current,wt=yn(m,wt));var Jt=G.getDerivedStateFromProps,hn=typeof Jt=="function"||typeof se.getSnapshotBeforeUpdate=="function";hn||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(xe!==R||Oe!==wt)&&gx(m,se,R,wt),ac=!1;var cn=m.memoizedState;se.state=cn,C2(m,R,se,W),Oe=m.memoizedState,xe!==R||cn!==Oe||Ot.current||ac?(typeof Jt=="function"&&(q5(m,G,Jt,R),Oe=m.memoizedState),(xe=ac||lx(m,G,xe,R,cn,Oe,wt))?(hn||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=R,m.memoizedState=Oe),se.props=R,se.state=Oe,se.context=wt,R=xe):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),R=!1)}else{se=m.stateNode,rx(h,m),xe=m.memoizedProps,wt=m.type===m.elementType?xe:is(m.type,xe),se.props=wt,hn=m.pendingProps,cn=se.context,Oe=G.contextType,typeof Oe=="object"&&Oe!==null?Oe=xa(Oe):(Oe=In(G)?Pt:ft.current,Oe=yn(m,Oe));var ei=G.getDerivedStateFromProps;(Jt=typeof ei=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(xe!==hn||cn!==Oe)&&gx(m,se,R,Oe),ac=!1,cn=m.memoizedState,se.state=cn,C2(m,R,se,W);var on=m.memoizedState;xe!==hn||cn!==on||Ot.current||ac?(typeof ei=="function"&&(q5(m,G,ei,R),on=m.memoizedState),(wt=ac||lx(m,G,wt,R,cn,on,Oe)||!1)?(Jt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(R,on,Oe),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(R,on,Oe)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||xe===h.memoizedProps&&cn===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||xe===h.memoizedProps&&cn===h.memoizedState||(m.flags|=1024),m.memoizedProps=R,m.memoizedState=on),se.props=R,se.state=on,se.context=Oe,R=wt):(typeof se.componentDidUpdate!="function"||xe===h.memoizedProps&&cn===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||xe===h.memoizedProps&&cn===h.memoizedState||(m.flags|=1024),R=!1)}return O5(h,m,G,R,F,W)}function O5(h,m,G,R,W,F){Ux(h,m);var se=(m.flags&128)!==0;if(!R&&!se)return W&&kt(m,G,!1),Al(h,m,F);R=m.stateNode,cK.current=m;var xe=se&&typeof G.getDerivedStateFromError!="function"?null:R.render();return m.flags|=1,h!==null&&se?(m.child=v1(m,h.child,null,F),m.child=v1(m,null,xe,F)):lo(h,m,xe,F),m.memoizedState=R.state,W&&kt(m,G,!0),m.child}function jx(h){var m=h.stateNode;m.pendingContext?At(h,m.pendingContext,m.pendingContext!==m.context):m.context&&At(h,m.context,!1),F5(h,m.containerInfo)}function Jx(h,m,G,R,W){return b1(),N5(W),m.flags|=256,lo(h,m,G,R),m.child}var q2={dehydrated:null,treeContext:null,retryLane:0};function R2(h){return{baseLanes:h,cachePool:null}}function Qx(h,m,G){var R=m.pendingProps,W=vi.current,F=!1,se=(m.flags&128)!==0,xe;if((xe=se)||(xe=h!==null&&h.memoizedState===null?!1:(W&2)!==0),xe?(F=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(W|=1),Ut(vi,W&1),h===null)return V5(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?Wt(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(W=R.children,h=R.fallback,F?(R=m.mode,F=m.child,W={mode:"hidden",children:W},!(R&1)&&F!==null?(F.childLanes=0,F.pendingProps=W):F=j2(W,R,0,null),h=Mg(h,R,G,null),F.return=m,h.return=m,F.sibling=h,m.child=F,m.child.memoizedState=R2(G),m.memoizedState=q2,h):j5(m,W));if(W=h.memoizedState,W!==null){if(xe=W.dehydrated,xe!==null){if(se)return m.flags&256?(m.flags&=-257,M2(h,m,G,Error(a(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(F=R.fallback,W=m.mode,R=j2({mode:"visible",children:R.children},W,0,null),F=Mg(F,W,G,null),F.flags|=2,R.return=m,F.return=m,R.sibling=F,m.child=R,m.mode&1&&v1(m,h.child,null,G),m.child.memoizedState=R2(G),m.memoizedState=q2,F);if(!(m.mode&1))m=M2(h,m,G,null);else if(Wt(xe))m=M2(h,m,G,Error(a(419)));else if(R=(G&h.childLanes)!==0,Jo||R){if(R=Di,R!==null){switch(G&-G){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}R=F&(R.suspendedLanes|G)?0:F,R!==0&&R!==W.retryLane&&(W.retryLane=R,qa(h,R,-1))}m9(),m=M2(h,m,G,Error(a(421)))}else bt(xe)?(m.flags|=128,m.child=h.child,m=yK.bind(null,h),Vt(xe,m),m=null):(G=W.treeContext,pe&&(jo=Rn(xe),Oo=m,Ci=!0,rs=null,K0=!1,G!==null&&(Ga[wa++]=ml,Ga[wa++]=fl,Ga[wa++]=Bg,ml=G.id,fl=G.overflow,Bg=m)),m=j5(m,m.pendingProps.children),m.flags|=4096);return m}return F?(R=eG(h,m,R.children,R.fallback,G),F=m.child,W=h.child.memoizedState,F.memoizedState=W===null?R2(G):{baseLanes:W.baseLanes|G,cachePool:null},F.childLanes=h.childLanes&~G,m.memoizedState=q2,R):(G=$x(h,m,R.children,G),m.memoizedState=null,G)}return F?(R=eG(h,m,R.children,R.fallback,G),F=m.child,W=h.child.memoizedState,F.memoizedState=W===null?R2(G):{baseLanes:W.baseLanes|G,cachePool:null},F.childLanes=h.childLanes&~G,m.memoizedState=q2,R):(G=$x(h,m,R.children,G),m.memoizedState=null,G)}function j5(h,m){return m=j2({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function $x(h,m,G,R){var W=h.child;return h=W.sibling,G=dc(W,{mode:"visible",children:G}),!(m.mode&1)&&(G.lanes=R),G.return=m,G.sibling=null,h!==null&&(R=m.deletions,R===null?(m.deletions=[h],m.flags|=16):R.push(h)),m.child=G}function eG(h,m,G,R,W){var F=m.mode;h=h.child;var se=h.sibling,xe={mode:"hidden",children:G};return!(F&1)&&m.child!==h?(G=m.child,G.childLanes=0,G.pendingProps=xe,m.deletions=null):(G=dc(h,xe),G.subtreeFlags=h.subtreeFlags&14680064),se!==null?R=dc(se,R):(R=Mg(R,F,W,null),R.flags|=2),R.return=m,G.return=m,G.sibling=R,m.child=G,R}function M2(h,m,G,R){return R!==null&&N5(R),v1(m,h.child,null,G),h=j5(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function tG(h,m,G){h.lanes|=m;var R=h.alternate;R!==null&&(R.lanes|=m),S5(h.return,m,G)}function J5(h,m,G,R,W){var F=h.memoizedState;F===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:R,tail:G,tailMode:W}:(F.isBackwards=m,F.rendering=null,F.renderingStartTime=0,F.last=R,F.tail=G,F.tailMode=W)}function nG(h,m,G){var R=m.pendingProps,W=R.revealOrder,F=R.tail;if(lo(h,m,R.children,G),R=vi.current,R&2)R=R&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&tG(h,G,m);else if(h.tag===19)tG(h,G,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}R&=1}if(Ut(vi,R),!(m.mode&1))m.memoizedState=null;else switch(W){case"forwards":for(G=m.child,W=null;G!==null;)h=G.alternate,h!==null&&A2(h)===null&&(W=G),G=G.sibling;G=W,G===null?(W=m.child,m.child=null):(W=G.sibling,G.sibling=null),J5(m,!1,W,G,F);break;case"backwards":for(G=null,W=m.child,m.child=null;W!==null;){if(h=W.alternate,h!==null&&A2(h)===null){m.child=W;break}h=W.sibling,W.sibling=G,G=W,W=h}J5(m,!0,G,null,F);break;case"together":J5(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Al(h,m,G){if(h!==null&&(m.dependencies=h.dependencies),w1|=m.lanes,!(G&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(a(153));if(m.child!==null){for(h=m.child,G=dc(h,h.pendingProps),m.child=G,G.return=m;h.sibling!==null;)h=h.sibling,G=G.sibling=dc(h,h.pendingProps),G.return=m;G.sibling=null}return m.child}function gK(h,m,G){switch(m.tag){case 3:jx(m),b1();break;case 5:px(m);break;case 1:In(m.type)&&Zt(m);break;case 4:F5(m,m.stateNode.containerInfo);break;case 10:ix(m,m.type._context,m.memoizedProps.value);break;case 13:var R=m.memoizedState;if(R!==null)return R.dehydrated!==null?(Ut(vi,vi.current&1),m.flags|=128,null):G&m.child.childLanes?Qx(h,m,G):(Ut(vi,vi.current&1),h=Al(h,m,G),h!==null?h.sibling:null);Ut(vi,vi.current&1);break;case 19:if(R=(G&m.childLanes)!==0,h.flags&128){if(R)return nG(h,m,G);m.flags|=128}var W=m.memoizedState;if(W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Ut(vi,vi.current),R)break;return null;case 22:case 23:return m.lanes=0,Dx(h,m,G)}return Al(h,m,G)}function uK(h,m){switch(_5(m),m.tag){case 1:return In(m.type)&&An(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return B1(),St(Ot),St(ft),X5(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return H5(m),null;case 13:if(St(vi),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(a(340));b1()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return St(vi),null;case 4:return B1(),null;case 10:return w5(m.type._context),null;case 22:case 23:return h9(),null;case 24:return null;default:return null}}var _2=!1,wg=!1,dK=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function W2(h,m){var G=h.ref;if(G!==null)if(typeof G=="function")try{G(null)}catch(R){Zo(h,m,R)}else G.current=null}function Q5(h,m,G){try{G()}catch(R){Zo(h,m,R)}}var iG=!1;function IK(h,m){for(L(h.containerInfo),Kt=m;Kt!==null;)if(h=Kt,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,Kt=m;else for(;Kt!==null;){h=Kt;try{var G=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var R=G.memoizedProps,W=G.memoizedState,F=h.stateNode,se=F.getSnapshotBeforeUpdate(h.elementType===h.type?R:is(h.type,R),W);F.__reactInternalSnapshotBeforeUpdate=se}break;case 3:be&&Te(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(xe){Zo(h,h.return,xe)}if(m=h.sibling,m!==null){m.return=h.return,Kt=m;break}Kt=h.return}return G=iG,iG=!1,G}function Sg(h,m,G){var R=m.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var W=R=R.next;do{if((W.tag&h)===h){var F=W.destroy;W.destroy=void 0,F!==void 0&&Q5(m,G,F)}W=W.next}while(W!==R)}}function eI(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var G=m=m.next;do{if((G.tag&h)===h){var R=G.create;G.destroy=R()}G=G.next}while(G!==m)}}function $5(h){var m=h.ref;if(m!==null){var G=h.stateNode;switch(h.tag){case 5:h=z(G);break;default:h=G}typeof m=="function"?m(h):m.current=h}}function rG(h,m,G){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(Il,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var R=h=h.next;do{var W=R,F=W.destroy;W=W.tag,F!==void 0&&(W&2||W&4)&&Q5(m,G,F),R=R.next}while(R!==h)}break;case 1:if(W2(m,G),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(se){Zo(m,G,se)}break;case 5:W2(m,G);break;case 4:be?gG(h,m,G):Ie&&Ie&&(m=m.stateNode.containerInfo,G=at(m),Bt(m,G))}}function oG(h,m,G){for(var R=m;;)if(rG(h,R,G),R.child===null||be&&R.tag===4){if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function aG(h){var m=h.alternate;m!==null&&(h.alternate=null,aG(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&Ye(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function sG(h){return h.tag===5||h.tag===3||h.tag===4}function lG(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||sG(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function cG(h){if(be){e:{for(var m=h.return;m!==null;){if(sG(m))break e;m=m.return}throw Error(a(160))}var G=m;switch(G.tag){case 5:m=G.stateNode,G.flags&32&&(Me(m),G.flags&=-33),G=lG(h),t9(h,G,m);break;case 3:case 4:m=G.stateNode.containerInfo,G=lG(h),e9(h,G,m);break;default:throw Error(a(161))}}}function e9(h,m,G){var R=h.tag;if(R===5||R===6)h=h.stateNode,m?ot(G,h,m):Qe(G,h);else if(R!==4&&(h=h.child,h!==null))for(e9(h,m,G),h=h.sibling;h!==null;)e9(h,m,G),h=h.sibling}function t9(h,m,G){var R=h.tag;if(R===5||R===6)h=h.stateNode,m?gt(G,h,m):je(G,h);else if(R!==4&&(h=h.child,h!==null))for(t9(h,m,G),h=h.sibling;h!==null;)t9(h,m,G),h=h.sibling}function gG(h,m,G){for(var R=m,W=!1,F,se;;){if(!W){W=R.return;e:for(;;){if(W===null)throw Error(a(160));switch(F=W.stateNode,W.tag){case 5:se=!1;break e;case 3:F=F.containerInfo,se=!0;break e;case 4:F=F.containerInfo,se=!0;break e}W=W.return}W=!0}if(R.tag===5||R.tag===6)oG(h,R,G),se?ue(F,R.stateNode):dt(F,R.stateNode);else if(R.tag===18)se?te(F,R.stateNode):ee(F,R.stateNode);else if(R.tag===4){if(R.child!==null){F=R.stateNode.containerInfo,se=!0,R.child.return=R,R=R.child;continue}}else if(rG(h,R,G),R.child!==null){R.child.return=R,R=R.child;continue}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return,R.tag===4&&(W=!1)}R.sibling.return=R.return,R=R.sibling}}function n9(h,m){if(be){switch(m.tag){case 0:case 11:case 14:case 15:Sg(3,m,m.return),eI(3,m),Sg(5,m,m.return);return;case 1:return;case 5:var G=m.stateNode;if(G!=null){var R=m.memoizedProps;h=h!==null?h.memoizedProps:R;var W=m.type,F=m.updateQueue;m.updateQueue=null,F!==null&&st(G,F,W,h,R,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));G=m.memoizedProps,Rt(m.stateNode,h!==null?h.memoizedProps:G,G);return;case 3:pe&&h!==null&&h.memoizedState.isDehydrated&&Ve(m.stateNode.containerInfo);return;case 12:return;case 13:V2(m);return;case 19:V2(m);return;case 17:return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:Sg(3,m,m.return),eI(3,m),Sg(5,m,m.return);return;case 12:return;case 13:V2(m);return;case 19:V2(m);return;case 3:pe&&h!==null&&h.memoizedState.isDehydrated&&Ve(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ie){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Bt(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function V2(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var G=h.stateNode;G===null&&(G=h.stateNode=new dK),m.forEach(function(R){var W=BK.bind(null,h,R);G.has(R)||(G.add(R),R.then(W,W))})}}function CK(h,m){for(Kt=m;Kt!==null;){m=Kt;var G=m.deletions;if(G!==null)for(var R=0;R<G.length;R++){var W=G[R];try{var F=h;be?gG(F,W,m):oG(F,W,m);var se=W.alternate;se!==null&&(se.return=null),W.return=null}catch(en){Zo(W,m,en)}}if(G=m.child,m.subtreeFlags&12854&&G!==null)G.return=m,Kt=G;else for(;Kt!==null;){m=Kt;try{var xe=m.flags;if(xe&32&&be&&Me(m.stateNode),xe&512){var Oe=m.alternate;if(Oe!==null){var wt=Oe.ref;wt!==null&&(typeof wt=="function"?wt(null):wt.current=null)}}if(xe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Jt=m.alternate;(Jt===null||Jt.memoizedState===null)&&(c9=Mt())}break;case 22:var hn=m.memoizedState!==null,cn=m.alternate,ei=cn!==null&&cn.memoizedState!==null;if(G=m,be){e:if(R=G,W=hn,F=null,be)for(var on=R;;){if(on.tag===5){if(F===null){F=on;var Yr=on.stateNode;W?$e(Yr):Se(on.stateNode,on.memoizedProps)}}else if(on.tag===6){if(F===null){var Ma=on.stateNode;W?ce(Ma):_e(Ma,on.memoizedProps)}}else if((on.tag!==22&&on.tag!==23||on.memoizedState===null||on===R)&&on.child!==null){on.child.return=on,on=on.child;continue}if(on===R)break;for(;on.sibling===null;){if(on.return===null||on.return===R)break e;F===on&&(F=null),on=on.return}F===on&&(F=null),on.sibling.return=on.return,on=on.sibling}}if(hn&&!ei&&G.mode&1){Kt=G;for(var He=G.child;He!==null;){for(G=Kt=He;Kt!==null;){R=Kt;var qe=R.child;switch(R.tag){case 0:case 11:case 14:case 15:Sg(4,R,R.return);break;case 1:W2(R,R.return);var De=R.stateNode;if(typeof De.componentWillUnmount=="function"){var Tt=R.return;try{De.props=R.memoizedProps,De.state=R.memoizedState,De.componentWillUnmount()}catch(en){Zo(R,Tt,en)}}break;case 5:W2(R,R.return);break;case 22:if(R.memoizedState!==null){IG(G);continue}}qe!==null?(qe.return=R,Kt=qe):IG(G)}He=He.sibling}}}switch(xe&4102){case 2:cG(m),m.flags&=-3;break;case 6:cG(m),m.flags&=-3,n9(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,n9(m.alternate,m);break;case 4:n9(m.alternate,m)}}catch(en){Zo(m,m.return,en)}if(G=m.sibling,G!==null){G.return=m.return,Kt=G;break}Kt=m.return}}}function hK(h,m,G){Kt=h,uG(h)}function uG(h,m,G){for(var R=(h.mode&1)!==0;Kt!==null;){var W=Kt,F=W.child;if(W.tag===22&&R){var se=W.memoizedState!==null||_2;if(!se){var xe=W.alternate,Oe=xe!==null&&xe.memoizedState!==null||wg;xe=_2;var wt=wg;if(_2=se,(wg=Oe)&&!wt)for(Kt=W;Kt!==null;)se=Kt,Oe=se.child,se.tag===22&&se.memoizedState!==null?CG(W):Oe!==null?(Oe.return=se,Kt=Oe):CG(W);for(;F!==null;)Kt=F,uG(F),F=F.sibling;Kt=W,_2=xe,wg=wt}dG(h)}else W.subtreeFlags&8772&&F!==null?(F.return=W,Kt=F):dG(h)}}function dG(h){for(;Kt!==null;){var m=Kt;if(m.flags&8772){var G=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:wg||eI(5,m);break;case 1:var R=m.stateNode;if(m.flags&4&&!wg)if(G===null)R.componentDidMount();else{var W=m.elementType===m.type?G.memoizedProps:is(m.type,G.memoizedProps);R.componentDidUpdate(W,G.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var F=m.updateQueue;F!==null&&ax(m,F,R);break;case 3:var se=m.updateQueue;if(se!==null){if(G=null,m.child!==null)switch(m.child.tag){case 5:G=z(m.child.stateNode);break;case 1:G=m.child.stateNode}ax(m,se,G)}break;case 5:var xe=m.stateNode;G===null&&m.flags&4&&ze(xe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(pe&&m.memoizedState===null){var Oe=m.alternate;if(Oe!==null){var wt=Oe.memoizedState;if(wt!==null){var Jt=wt.dehydrated;Jt!==null&&H(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}wg||m.flags&512&&$5(m)}catch(hn){Zo(m,m.return,hn)}}if(m===h){Kt=null;break}if(G=m.sibling,G!==null){G.return=m.return,Kt=G;break}Kt=m.return}}function IG(h){for(;Kt!==null;){var m=Kt;if(m===h){Kt=null;break}var G=m.sibling;if(G!==null){G.return=m.return,Kt=G;break}Kt=m.return}}function CG(h){for(;Kt!==null;){var m=Kt;try{switch(m.tag){case 0:case 11:case 15:var G=m.return;try{eI(4,m)}catch(Oe){Zo(m,G,Oe)}break;case 1:var R=m.stateNode;if(typeof R.componentDidMount=="function"){var W=m.return;try{R.componentDidMount()}catch(Oe){Zo(m,W,Oe)}}var F=m.return;try{$5(m)}catch(Oe){Zo(m,F,Oe)}break;case 5:var se=m.return;try{$5(m)}catch(Oe){Zo(m,se,Oe)}}}catch(Oe){Zo(m,m.return,Oe)}if(m===h){Kt=null;break}var xe=m.sibling;if(xe!==null){xe.return=m.return,Kt=xe;break}Kt=m.return}}var N2=0,F2=1,H2=2,E2=3,X2=4;if(typeof Symbol=="function"&&Symbol.for){var tI=Symbol.for;N2=tI("selector.component"),F2=tI("selector.has_pseudo_class"),H2=tI("selector.role"),E2=tI("selector.test_id"),X2=tI("selector.text")}function i9(h){var m=$(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(h=U(h),h===null)throw Error(a(362));return h.stateNode.current}function r9(h,m){switch(m.$$typeof){case N2:if(h.type===m.value)return!0;break;case F2:e:{m=m.value,h=[h,0];for(var G=0;G<h.length;){var R=h[G++],W=h[G++],F=m[W];if(R.tag!==5||!ye(R)){for(;F!=null&&r9(R,F);)W++,F=m[W];if(W===m.length){m=!0;break e}else for(R=R.child;R!==null;)h.push(R,W),R=R.sibling}}m=!1}return m;case H2:if(h.tag===5&&Fe(h.stateNode,m.value))return!0;break;case X2:if((h.tag===5||h.tag===6)&&(h=le(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case E2:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function o9(h){switch(h.$$typeof){case N2:return"<"+(Z(h.value)||"Unknown")+">";case F2:return":has("+(o9(h)||"")+")";case H2:return'[role="'+h.value+'"]';case X2:return'"'+h.value+'"';case E2:return'[data-testname="'+h.value+'"]';default:throw Error(a(365))}}function hG(h,m){var G=[];h=[h,0];for(var R=0;R<h.length;){var W=h[R++],F=h[R++],se=m[F];if(W.tag!==5||!ye(W)){for(;se!=null&&r9(W,se);)F++,se=m[F];if(F===m.length)G.push(W);else for(W=W.child;W!==null;)h.push(W,F),W=W.sibling}}return G}function a9(h,m){if(!Ke)throw Error(a(363));h=i9(h),h=hG(h,m),m=[],h=Array.from(h);for(var G=0;G<h.length;){var R=h[G++];if(R.tag===5)ye(R)||m.push(R.stateNode);else for(R=R.child;R!==null;)h.push(R),R=R.sibling}return m}var mK=Math.ceil,z2=s.ReactCurrentDispatcher,s9=s.ReactCurrentOwner,Hi=s.ReactCurrentBatchConfig,xn=0,Di=null,Ui=null,Sr=0,Qo=0,G1=Et(0),or=0,nI=null,w1=0,Y2=0,l9=0,iI=null,wo=null,c9=0,g9=1/0;function S1(){g9=Mt()+500}var K2=!1,u9=null,lc=null,L2=!1,cc=null,T2=0,rI=0,d9=null,k2=-1,P2=0;function co(){return xn&6?Mt():k2!==-1?k2:k2=Mt()}function gc(h){return h.mode&1?xn&2&&Sr!==0?Sr&-Sr:QY.transition!==null?(P2===0&&(h=ir,ir<<=1,!(ir&4194240)&&(ir=64),P2=h),P2):(h=Bn,h!==0?h:Ze()):1}function qa(h,m,G){if(50<rI)throw rI=0,d9=null,Error(a(185));var R=D2(h,m);return R===null?null:(oc(R,m,G),(!(xn&2)||R!==Di)&&(R===Di&&(!(xn&2)&&(Y2|=m),or===4&&uc(R,Sr)),So(R,G),m===1&&xn===0&&!(h.mode&1)&&(S1(),c2&&Vs())),R)}function D2(h,m){h.lanes|=m;var G=h.alternate;for(G!==null&&(G.lanes|=m),G=h,h=h.return;h!==null;)h.childLanes|=m,G=h.alternate,G!==null&&(G.childLanes|=m),G=h,h=h.return;return G.tag===3?G.stateNode:null}function So(h,m){var G=h.callbackNode;Ba(h,m);var R=Gr(h,h===Di?Sr:0);if(R===0)G!==null&&yg(G),h.callbackNode=null,h.callbackPriority=0;else if(m=R&-R,h.callbackPriority!==m){if(G!=null&&yg(G),m===1)h.tag===0?JY(fG.bind(null,h)):nx(fG.bind(null,h)),Ne?Je(function(){xn===0&&Vs()}):_s(ln,Vs),G=null;else{switch(ns(R)){case 1:G=ln;break;case 4:G=oi;break;case 16:G=ci;break;case 536870912:G=ai;break;default:G=ci}G=wG(G,mG.bind(null,h))}h.callbackPriority=m,h.callbackNode=G}}function mG(h,m){if(k2=-1,P2=0,xn&6)throw Error(a(327));var G=h.callbackNode;if(Rg()&&h.callbackNode!==G)return null;var R=Gr(h,h===Di?Sr:0);if(R===0)return null;if(R&30||R&h.expiredLanes||m)m=U2(h,R);else{m=R;var W=xn;xn|=2;var F=bG();(Di!==h||Sr!==m)&&(S1(),Zg(h,m));do try{AK();break}catch(xe){AG(h,xe)}while(!0);G5(),z2.current=F,xn=W,Ui!==null?m=0:(Di=null,Sr=0,m=or)}if(m!==0){if(m===2&&(W=vg(h),W!==0&&(R=W,m=I9(h,W))),m===1)throw G=nI,Zg(h,0),uc(h,R),So(h,Mt()),G;if(m===6)uc(h,R);else{if(W=h.current.alternate,!(R&30)&&!fK(W)&&(m=U2(h,R),m===2&&(F=vg(h),F!==0&&(R=F,m=I9(h,F))),m===1))throw G=nI,Zg(h,0),uc(h,R),So(h,Mt()),G;switch(h.finishedWork=W,h.finishedLanes=R,m){case 0:case 1:throw Error(a(345));case 2:qg(h,wo);break;case 3:if(uc(h,R),(R&130023424)===R&&(m=c9+500-Mt(),10<m)){if(Gr(h,0)!==0)break;if(W=h.suspendedLanes,(W&R)!==R){co(),h.pingedLanes|=h.suspendedLanes&W;break}h.timeoutHandle=Ae(qg.bind(null,h,wo),m);break}qg(h,wo);break;case 4:if(uc(h,R),(R&4194240)===R)break;for(m=h.eventTimes,W=-1;0<R;){var se=31-Yt(R);F=1<<se,se=m[se],se>W&&(W=se),R&=~F}if(R=W,R=Mt()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*mK(R/1960))-R,10<R){h.timeoutHandle=Ae(qg.bind(null,h,wo),R);break}qg(h,wo);break;case 5:qg(h,wo);break;default:throw Error(a(329))}}}return So(h,Mt()),h.callbackNode===G?mG.bind(null,h):null}function I9(h,m){var G=iI;return h.current.memoizedState.isDehydrated&&(Zg(h,m).flags|=256),h=U2(h,m),h!==2&&(m=wo,wo=G,m!==null&&C9(m)),h}function C9(h){wo===null?wo=h:wo.push.apply(wo,h)}function fK(h){for(var m=h;;){if(m.flags&16384){var G=m.updateQueue;if(G!==null&&(G=G.stores,G!==null))for(var R=0;R<G.length;R++){var W=G[R],F=W.getSnapshot;W=W.value;try{if(!Ws(F(),W))return!1}catch{return!1}}}if(G=m.child,m.subtreeFlags&16384&&G!==null)G.return=m,m=G;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function uc(h,m){for(m&=~l9,m&=~Y2,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var G=31-Yt(m),R=1<<G;h[G]=-1,m&=~R}}function fG(h){if(xn&6)throw Error(a(327));Rg();var m=Gr(h,0);if(!(m&1))return So(h,Mt()),null;var G=U2(h,m);if(h.tag!==0&&G===2){var R=vg(h);R!==0&&(m=R,G=I9(h,R))}if(G===1)throw G=nI,Zg(h,0),uc(h,m),So(h,Mt()),G;if(G===6)throw Error(a(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,qg(h,wo),So(h,Mt()),null}function pG(h){cc!==null&&cc.tag===0&&!(xn&6)&&Rg();var m=xn;xn|=1;var G=Hi.transition,R=Bn;try{if(Hi.transition=null,Bn=1,h)return h()}finally{Bn=R,Hi.transition=G,xn=m,!(xn&6)&&Vs()}}function h9(){Qo=G1.current,St(G1)}function Zg(h,m){h.finishedWork=null,h.finishedLanes=0;var G=h.timeoutHandle;if(G!==Le&&(h.timeoutHandle=Le,Xe(G)),Ui!==null)for(G=Ui.return;G!==null;){var R=G;switch(_5(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&An();break;case 3:B1(),St(Ot),St(ft),X5();break;case 5:H5(R);break;case 4:B1();break;case 13:St(vi);break;case 19:St(vi);break;case 10:w5(R.type._context);break;case 22:case 23:h9()}G=G.return}if(Di=h,Ui=h=dc(h.current,null),Sr=Qo=m,or=0,nI=null,l9=Y2=w1=0,wo=iI=null,Ns!==null){for(m=0;m<Ns.length;m++)if(G=Ns[m],R=G.interleaved,R!==null){G.interleaved=null;var W=R.next,F=G.pending;if(F!==null){var se=F.next;F.next=W,R.next=se}G.pending=R}Ns=null}return h}function AG(h,m){do{var G=Ui;try{if(G5(),b2.current=w2,v2){for(var R=_i.memoizedState;R!==null;){var W=R.queue;W!==null&&(W.pending=null),R=R.next}v2=!1}if(x1=0,dr=Er=_i=null,D0=!1,U0=0,s9.current=null,G===null||G.return===null){or=1,nI=m,Ui=null;break}e:{var F=h,se=G.return,xe=G,Oe=m;if(m=Sr,xe.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var wt=Oe,Jt=xe,hn=Jt.tag;if(!(Jt.mode&1)&&(hn===0||hn===11||hn===15)){var cn=Jt.alternate;cn?(Jt.updateQueue=cn.updateQueue,Jt.memoizedState=cn.memoizedState,Jt.lanes=cn.lanes):(Jt.updateQueue=null,Jt.memoizedState=null)}var ei=zx(se);if(ei!==null){ei.flags&=-257,Yx(ei,se,xe,F,m),ei.mode&1&&Xx(F,wt,m),m=ei,Oe=wt;var on=m.updateQueue;if(on===null){var Yr=new Set;Yr.add(Oe),m.updateQueue=Yr}else on.add(Oe);break e}else{if(!(m&1)){Xx(F,wt,m),m9();break e}Oe=Error(a(426))}}else if(Ci&&xe.mode&1){var Ma=zx(se);if(Ma!==null){!(Ma.flags&65536)&&(Ma.flags|=256),Yx(Ma,se,xe,F,m),N5(Oe);break e}}F=Oe,or!==4&&(or=2),iI===null?iI=[F]:iI.push(F),Oe=P5(Oe,xe),xe=se;do{switch(xe.tag){case 3:xe.flags|=65536,m&=-m,xe.lanes|=m;var He=Hx(xe,Oe,m);ox(xe,He);break e;case 1:F=Oe;var qe=xe.type,De=xe.stateNode;if(!(xe.flags&128)&&(typeof qe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(lc===null||!lc.has(De)))){xe.flags|=65536,m&=-m,xe.lanes|=m;var Tt=Ex(xe,F,m);ox(xe,Tt);break e}}xe=xe.return}while(xe!==null)}yG(G)}catch(en){m=en,Ui===G&&G!==null&&(Ui=G=G.return);continue}break}while(!0)}function bG(){var h=z2.current;return z2.current=w2,h===null?w2:h}function m9(){(or===0||or===3||or===2)&&(or=4),Di===null||!(w1&268435455)&&!(Y2&268435455)||uc(Di,Sr)}function U2(h,m){var G=xn;xn|=2;var R=bG();Di===h&&Sr===m||Zg(h,m);do try{pK();break}catch(W){AG(h,W)}while(!0);if(G5(),xn=G,z2.current=R,Ui!==null)throw Error(a(261));return Di=null,Sr=0,or}function pK(){for(;Ui!==null;)vG(Ui)}function AK(){for(;Ui!==null&&!C1();)vG(Ui)}function vG(h){var m=GG(h.alternate,h,Qo);h.memoizedProps=h.pendingProps,m===null?yG(h):Ui=m,s9.current=null}function yG(h){var m=h;do{var G=m.alternate;if(h=m.return,m.flags&32768){if(G=uK(G,m),G!==null){G.flags&=32767,Ui=G;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{or=6,Ui=null;return}}else if(G=lK(G,m,Qo),G!==null){Ui=G;return}if(m=m.sibling,m!==null){Ui=m;return}Ui=m=h}while(m!==null);or===0&&(or=5)}function qg(h,m){var G=Bn,R=Hi.transition;try{Hi.transition=null,Bn=1,bK(h,m,G)}finally{Hi.transition=R,Bn=G}return null}function bK(h,m,G){do Rg();while(cc!==null);if(xn&6)throw Error(a(327));var R=h.finishedWork,W=h.finishedLanes;if(R===null)return null;if(h.finishedWork=null,h.finishedLanes=0,R===h.current)throw Error(a(177));h.callbackNode=null,h.callbackPriority=0;var F=R.lanes|R.childLanes;if(wr(h,F),h===Di&&(Ui=Di=null,Sr=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||L2||(L2=!0,wG(ci,function(){return Rg(),null})),F=(R.flags&15990)!==0,R.subtreeFlags&15990||F){F=Hi.transition,Hi.transition=null;var se=Bn;Bn=1;var xe=xn;xn|=4,s9.current=null,IK(h,R),CK(h,R),P(h.containerInfo),h.current=R,hK(R),Y0(),xn=xe,Bn=se,Hi.transition=F}else h.current=R;if(L2&&(L2=!1,cc=h,T2=W),F=h.pendingLanes,F===0&&(lc=null),l2(R.stateNode),So(h,Mt()),m!==null)for(G=h.onRecoverableError,R=0;R<m.length;R++)G(m[R]);if(K2)throw K2=!1,h=u9,u9=null,h;return T2&1&&h.tag!==0&&Rg(),F=h.pendingLanes,F&1?h===d9?rI++:(rI=0,d9=h):rI=0,Vs(),null}function Rg(){if(cc!==null){var h=ns(T2),m=Hi.transition,G=Bn;try{if(Hi.transition=null,Bn=16>h?16:h,cc===null)var R=!1;else{if(h=cc,cc=null,T2=0,xn&6)throw Error(a(331));var W=xn;for(xn|=4,Kt=h.current;Kt!==null;){var F=Kt,se=F.child;if(Kt.flags&16){var xe=F.deletions;if(xe!==null){for(var Oe=0;Oe<xe.length;Oe++){var wt=xe[Oe];for(Kt=wt;Kt!==null;){var Jt=Kt;switch(Jt.tag){case 0:case 11:case 15:Sg(8,Jt,F)}var hn=Jt.child;if(hn!==null)hn.return=Jt,Kt=hn;else for(;Kt!==null;){Jt=Kt;var cn=Jt.sibling,ei=Jt.return;if(aG(Jt),Jt===wt){Kt=null;break}if(cn!==null){cn.return=ei,Kt=cn;break}Kt=ei}}}var on=F.alternate;if(on!==null){var Yr=on.child;if(Yr!==null){on.child=null;do{var Ma=Yr.sibling;Yr.sibling=null,Yr=Ma}while(Yr!==null)}}Kt=F}}if(F.subtreeFlags&2064&&se!==null)se.return=F,Kt=se;else e:for(;Kt!==null;){if(F=Kt,F.flags&2048)switch(F.tag){case 0:case 11:case 15:Sg(9,F,F.return)}var He=F.sibling;if(He!==null){He.return=F.return,Kt=He;break e}Kt=F.return}}var qe=h.current;for(Kt=qe;Kt!==null;){se=Kt;var De=se.child;if(se.subtreeFlags&2064&&De!==null)De.return=se,Kt=De;else e:for(se=qe;Kt!==null;){if(xe=Kt,xe.flags&2048)try{switch(xe.tag){case 0:case 11:case 15:eI(9,xe)}}catch(en){Zo(xe,xe.return,en)}if(xe===se){Kt=null;break e}var Tt=xe.sibling;if(Tt!==null){Tt.return=xe.return,Kt=Tt;break e}Kt=xe.return}}if(xn=W,Vs(),Go&&typeof Go.onPostCommitFiberRoot=="function")try{Go.onPostCommitFiberRoot(Il,h)}catch{}R=!0}return R}finally{Bn=G,Hi.transition=m}}return!1}function BG(h,m,G){m=P5(G,m),m=Hx(h,m,1),sc(h,m),m=co(),h=D2(h,1),h!==null&&(oc(h,1,m),So(h,m))}function Zo(h,m,G){if(h.tag===3)BG(h,h,G);else for(;m!==null;){if(m.tag===3){BG(m,h,G);break}else if(m.tag===1){var R=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(lc===null||!lc.has(R))){h=P5(G,h),h=Ex(m,h,1),sc(m,h),h=co(),m=D2(m,1),m!==null&&(oc(m,1,h),So(m,h));break}}m=m.return}}function vK(h,m,G){var R=h.pingCache;R!==null&&R.delete(m),m=co(),h.pingedLanes|=h.suspendedLanes&G,Di===h&&(Sr&G)===G&&(or===4||or===3&&(Sr&130023424)===Sr&&500>Mt()-c9?Zg(h,0):l9|=G),So(h,m)}function xG(h,m){m===0&&(h.mode&1?(m=rr,rr<<=1,!(rr&130023424)&&(rr=4194304)):m=1);var G=co();h=D2(h,m),h!==null&&(oc(h,m,G),So(h,G))}function yK(h){var m=h.memoizedState,G=0;m!==null&&(G=m.retryLane),xG(h,G)}function BK(h,m){var G=0;switch(h.tag){case 13:var R=h.stateNode,W=h.memoizedState;W!==null&&(G=W.retryLane);break;case 19:R=h.stateNode;break;default:throw Error(a(314))}R!==null&&R.delete(m),xG(h,G)}var GG;GG=function(h,m,G){if(h!==null)if(h.memoizedProps!==m.pendingProps||Ot.current)Jo=!0;else{if(!(h.lanes&G)&&!(m.flags&128))return Jo=!1,gK(h,m,G);Jo=!!(h.flags&131072)}else Jo=!1,Ci&&m.flags&1048576&&ux(m,f2,m.index);switch(m.lanes=0,m.tag){case 2:var R=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var W=yn(m,ft.current);f1(m,G),W=Y5(null,m,R,h,W,G);var F=K5();return m.flags|=1,typeof W=="object"&&W!==null&&typeof W.render=="function"&&W.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,In(R)?(F=!0,Zt(m)):F=!1,m.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,Z5(m),W.updater=h2,m.stateNode=W,W._reactInternals=m,R5(m,R,h,G),m=O5(null,m,R,!0,F,G)):(m.tag=0,Ci&&F&&M5(m),lo(null,m,W,G),m=m.child),m;case 16:R=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,W=R._init,R=W(R._payload),m.type=R,W=m.tag=GK(R),h=is(R,h),W){case 0:m=U5(null,m,R,h,G);break e;case 1:m=Ox(null,m,R,h,G);break e;case 11:m=Tx(null,m,R,h,G);break e;case 14:m=kx(null,m,R,is(R.type,h),G);break e}throw Error(a(306,R,""))}return m;case 0:return R=m.type,W=m.pendingProps,W=m.elementType===R?W:is(R,W),U5(h,m,R,W,G);case 1:return R=m.type,W=m.pendingProps,W=m.elementType===R?W:is(R,W),Ox(h,m,R,W,G);case 3:e:{if(jx(m),h===null)throw Error(a(387));R=m.pendingProps,F=m.memoizedState,W=F.element,rx(h,m),C2(m,R,null,G);var se=m.memoizedState;if(R=se.element,pe&&F.isDehydrated)if(F={element:R,isDehydrated:!1,cache:se.cache,transitions:se.transitions},m.updateQueue.baseState=F,m.memoizedState=F,m.flags&256){W=Error(a(423)),m=Jx(h,m,R,G,W);break e}else if(R!==W){W=Error(a(424)),m=Jx(h,m,R,G,W);break e}else for(pe&&(jo=Dn(m.stateNode.containerInfo),Oo=m,Ci=!0,rs=null,K0=!1),G=fx(m,null,R,G),m.child=G;G;)G.flags=G.flags&-3|4096,G=G.sibling;else{if(b1(),R===W){m=Al(h,m,G);break e}lo(h,m,R,G)}m=m.child}return m;case 5:return px(m),h===null&&V5(m),R=m.type,W=m.pendingProps,F=h!==null?h.memoizedProps:null,se=W.children,Ce(R,W)?se=null:F!==null&&Ce(R,F)&&(m.flags|=32),Ux(h,m),lo(h,m,se,G),m.child;case 6:return h===null&&V5(m),null;case 13:return Qx(h,m,G);case 4:return F5(m,m.stateNode.containerInfo),R=m.pendingProps,h===null?m.child=v1(m,null,R,G):lo(h,m,R,G),m.child;case 11:return R=m.type,W=m.pendingProps,W=m.elementType===R?W:is(R,W),Tx(h,m,R,W,G);case 7:return lo(h,m,m.pendingProps,G),m.child;case 8:return lo(h,m,m.pendingProps.children,G),m.child;case 12:return lo(h,m,m.pendingProps.children,G),m.child;case 10:e:{if(R=m.type._context,W=m.pendingProps,F=m.memoizedProps,se=W.value,ix(m,R,se),F!==null)if(Ws(F.value,se)){if(F.children===W.children&&!Ot.current){m=Al(h,m,G);break e}}else for(F=m.child,F!==null&&(F.return=m);F!==null;){var xe=F.dependencies;if(xe!==null){se=F.child;for(var Oe=xe.firstContext;Oe!==null;){if(Oe.context===R){if(F.tag===1){Oe=hl(-1,G&-G),Oe.tag=2;var wt=F.updateQueue;if(wt!==null){wt=wt.shared;var Jt=wt.pending;Jt===null?Oe.next=Oe:(Oe.next=Jt.next,Jt.next=Oe),wt.pending=Oe}}F.lanes|=G,Oe=F.alternate,Oe!==null&&(Oe.lanes|=G),S5(F.return,G,m),xe.lanes|=G;break}Oe=Oe.next}}else if(F.tag===10)se=F.type===m.type?null:F.child;else if(F.tag===18){if(se=F.return,se===null)throw Error(a(341));se.lanes|=G,xe=se.alternate,xe!==null&&(xe.lanes|=G),S5(se,G,m),se=F.sibling}else se=F.child;if(se!==null)se.return=F;else for(se=F;se!==null;){if(se===m){se=null;break}if(F=se.sibling,F!==null){F.return=se.return,se=F;break}se=se.return}F=se}lo(h,m,W.children,G),m=m.child}return m;case 9:return W=m.type,R=m.pendingProps.children,f1(m,G),W=xa(W),R=R(W),m.flags|=1,lo(h,m,R,G),m.child;case 14:return R=m.type,W=is(R,m.pendingProps),W=is(R.type,W),kx(h,m,R,W,G);case 15:return Px(h,m,m.type,m.pendingProps,G);case 17:return R=m.type,W=m.pendingProps,W=m.elementType===R?W:is(R,W),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,In(R)?(h=!0,Zt(m)):h=!1,f1(m,G),cx(m,R,W),R5(m,R,W,G),O5(null,m,R,!0,h,G);case 19:return nG(h,m,G);case 22:return Dx(h,m,G)}throw Error(a(156,m.tag))};function wG(h,m){return _s(h,m)}function xK(h,m,G,R){this.tag=h,this.key=G,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ra(h,m,G,R){return new xK(h,m,G,R)}function f9(h){return h=h.prototype,!(!h||!h.isReactComponent)}function GK(h){if(typeof h=="function")return f9(h)?1:0;if(h!=null){if(h=h.$$typeof,h===b)return 11;if(h===y)return 14}return 2}function dc(h,m){var G=h.alternate;return G===null?(G=Ra(h.tag,m,h.key,h.mode),G.elementType=h.elementType,G.type=h.type,G.stateNode=h.stateNode,G.alternate=h,h.alternate=G):(G.pendingProps=m,G.type=h.type,G.flags=0,G.subtreeFlags=0,G.deletions=null),G.flags=h.flags&14680064,G.childLanes=h.childLanes,G.lanes=h.lanes,G.child=h.child,G.memoizedProps=h.memoizedProps,G.memoizedState=h.memoizedState,G.updateQueue=h.updateQueue,m=h.dependencies,G.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},G.sibling=h.sibling,G.index=h.index,G.ref=h.ref,G}function O2(h,m,G,R,W,F){var se=2;if(R=h,typeof h=="function")f9(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case g:return Mg(G.children,W,F,m);case u:se=8,W|=8;break;case d:return h=Ra(12,G,m,W|2),h.elementType=d,h.lanes=F,h;case A:return h=Ra(13,G,m,W),h.elementType=A,h.lanes=F,h;case p:return h=Ra(19,G,m,W),h.elementType=p,h.lanes=F,h;case x:return j2(G,W,F,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case C:se=10;break e;case f:se=9;break e;case b:se=11;break e;case y:se=14;break e;case B:se=16,R=null;break e}throw Error(a(130,h==null?h:typeof h,""))}return m=Ra(se,G,m,W),m.elementType=h,m.type=R,m.lanes=F,m}function Mg(h,m,G,R){return h=Ra(7,h,R,m),h.lanes=G,h}function j2(h,m,G,R){return h=Ra(22,h,R,m),h.elementType=x,h.lanes=G,h.stateNode={},h}function p9(h,m,G){return h=Ra(6,h,null,m),h.lanes=G,h}function A9(h,m,G){return m=Ra(4,h.children!==null?h.children:[],h.key,m),m.lanes=G,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function wK(h,m,G,R,W){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I1(0),this.expirationTimes=I1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I1(0),this.identifierPrefix=R,this.onRecoverableError=W,pe&&(this.mutableSourceEagerHydrationData=null)}function SG(h,m,G,R,W,F,se,xe,Oe){return h=new wK(h,m,G,xe,Oe),m===1?(m=1,F===!0&&(m|=8)):m=0,F=Ra(3,null,null,m),h.current=F,F.stateNode=h,F.memoizedState={element:R,isDehydrated:G,cache:null,transitions:null},Z5(F),h}function ZG(h){if(!h)return Xt;h=h._reactInternals;e:{if(q(h)!==h||h.tag!==1)throw Error(a(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(In(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(h.tag===1){var G=h.type;if(In(G))return nt(h,G,m)}return m}function qG(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(a(188)):(h=Object.keys(h).join(","),Error(a(268,h)));return h=Y(m),h===null?null:h.stateNode}function RG(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var G=h.retryLane;h.retryLane=G!==0&&G<m?G:m}}function b9(h,m){RG(h,m),(h=h.alternate)&&RG(h,m)}function SK(h){return h=Y(h),h===null?null:h.stateNode}function ZK(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var m=co();qa(h,134217728,m),b9(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=co(),G=gc(h);qa(h,G,m),b9(h,G)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var G=bi(m.pendingLanes);G!==0&&(Ms(m,G|1),So(m,Mt()),!(xn&6)&&(S1(),Vs()))}break;case 13:var R=co();pG(function(){return qa(h,1,R)}),b9(h,1)}},t.batchedUpdates=function(h,m){var G=xn;xn|=1;try{return h(m)}finally{xn=G,xn===0&&(S1(),c2&&Vs())}},t.createComponentSelector=function(h){return{$$typeof:N2,value:h}},t.createContainer=function(h,m,G,R,W,F,se){return SG(h,m,!1,null,G,R,W,F,se)},t.createHasPseudoClassSelector=function(h){return{$$typeof:F2,value:h}},t.createHydrationContainer=function(h,m,G,R,W,F,se,xe,Oe){return h=SG(G,R,!0,h,W,F,se,xe,Oe),h.context=ZG(null),G=h.current,R=co(),W=gc(G),F=hl(R,W),F.callback=m??null,sc(G,F),h.current.lanes=W,oc(h,W,R),So(h,R),h},t.createPortal=function(h,m,G){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:R==null?null:""+R,children:h,containerInfo:m,implementation:G}},t.createRoleSelector=function(h){return{$$typeof:H2,value:h}},t.createTestNameSelector=function(h){return{$$typeof:E2,value:h}},t.createTextSelector=function(h){return{$$typeof:X2,value:h}},t.deferredUpdates=function(h){var m=Bn,G=Hi.transition;try{return Hi.transition=null,Bn=16,h()}finally{Bn=m,Hi.transition=G}},t.discreteUpdates=function(h,m,G,R,W){var F=Bn,se=Hi.transition;try{return Hi.transition=null,Bn=1,h(m,G,R,W)}finally{Bn=F,Hi.transition=se,xn===0&&S1()}},t.findAllNodes=a9,t.findBoundingRects=function(h,m){if(!Ke)throw Error(a(363));m=a9(h,m),h=[];for(var G=0;G<m.length;G++)h.push(T(m[G]));for(m=h.length-1;0<m;m--){G=h[m];for(var R=G.x,W=R+G.width,F=G.y,se=F+G.height,xe=m-1;0<=xe;xe--)if(m!==xe){var Oe=h[xe],wt=Oe.x,Jt=wt+Oe.width,hn=Oe.y,cn=hn+Oe.height;if(R>=wt&&F>=hn&&W<=Jt&&se<=cn){h.splice(m,1);break}else if(R!==wt||G.width!==Oe.width||cn<F||hn>se){if(!(F!==hn||G.height!==Oe.height||Jt<R||wt>W)){wt>R&&(Oe.width+=wt-R,Oe.x=R),Jt<W&&(Oe.width=W-wt),h.splice(m,1);break}}else{hn>F&&(Oe.height+=hn-F,Oe.y=F),cn<se&&(Oe.height=se-hn),h.splice(m,1);break}}}return h},t.findHostInstance=qG,t.findHostInstanceWithNoPortals=function(h){return h=V(h),h=h!==null?K(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return qG(h)},t.flushControlled=function(h){var m=xn;xn|=1;var G=Hi.transition,R=Bn;try{Hi.transition=null,Bn=1,h()}finally{Bn=R,Hi.transition=G,xn=m,xn===0&&(S1(),Vs())}},t.flushPassiveEffects=Rg,t.flushSync=pG,t.focusWithin=function(h,m){if(!Ke)throw Error(a(363));for(h=i9(h),m=hG(h,m),m=Array.from(m),h=0;h<m.length;){var G=m[h++];if(!ye(G)){if(G.tag===5&&we(G.stateNode))return!0;for(G=G.child;G!==null;)m.push(G),G=G.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Bn},t.getFindAllNodesFailureDescription=function(h,m){if(!Ke)throw Error(a(363));var G=0,R=[];h=[i9(h),0];for(var W=0;W<h.length;){var F=h[W++],se=h[W++],xe=m[se];if((F.tag!==5||!ye(F))&&(r9(F,xe)&&(R.push(o9(xe)),se++,se>G&&(G=se)),se<m.length))for(F=F.child;F!==null;)h.push(F,se),F=F.sibling}if(G<m.length){for(h=[];G<m.length;G++)h.push(o9(m[G]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return z(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:SK,findFiberByHostInstance:h.findFiberByHostInstance||ZK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{Il=m.inject(h),Go=m}catch{}h=!!m.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,m,G,R){if(!Ke)throw Error(a(363));h=a9(h,m);var W=tt(h,G,R).disconnect;return{disconnect:function(){W()}}},t.registerMutableSourceForHydration=function(h,m){var G=m._getVersion;G=G(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,G]:h.mutableSourceEagerHydrationData.push(m,G)},t.runWithPriority=function(h,m){var G=Bn;try{return Bn=h,m()}finally{Bn=G}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,m,G,R){var W=m.current,F=co(),se=gc(W);return G=ZG(G),m.context===null?m.context=G:m.pendingContext=G,m=hl(F,se),m.payload={element:h},R=R===void 0?null:R,R!==null&&(m.callback=R),sc(W,m),h=qa(W,se,F),h!==null&&I2(h,W,se),se},t};xF.exports=dee;var Iee=xF.exports;const Cee=y0(Iee),E7={},xr=n=>void Object.assign(E7,n);function hee(n,e){function t(g,{args:u=[],attach:d,...C},f){let b=`${g[0].toUpperCase()}${g.slice(1)}`,A;if(g==="primitive"){if(C.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const p=C.object;A=rd(p,{type:g,root:f,attach:d,primitive:!0})}else{const p=E7[b];if(!p)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");A=rd(new p(...u),{type:g,root:f,attach:d,memoizedProps:{args:u}})}return A.__r3f.attach===void 0&&(A instanceof dn?A.__r3f.attach="geometry":A instanceof er&&(A.__r3f.attach="material")),b!=="inject"&&X4(A,C),A}function i(g,u){let d=!1;if(u){var C,f;(C=u.__r3f)!=null&&C.attach?E4(g,u,u.__r3f.attach):u.isObject3D&&g.isObject3D&&(g.add(u),d=!0),d||(f=g.__r3f)==null||f.objects.push(u),u.__r3f||rd(u,{}),u.__r3f.parent=g,C8(u),od(u)}}function r(g,u,d){let C=!1;if(u){var f,b;if((f=u.__r3f)!=null&&f.attach)E4(g,u,u.__r3f.attach);else if(u.isObject3D&&g.isObject3D){u.parent=g,u.dispatchEvent({type:"added"}),g.dispatchEvent({type:"childadded",child:u});const A=g.children.filter(y=>y!==u),p=A.indexOf(d);g.children=[...A.slice(0,p),u,...A.slice(p)],C=!0}C||(b=g.__r3f)==null||b.objects.push(u),u.__r3f||rd(u,{}),u.__r3f.parent=g,C8(u),od(u)}}function o(g,u,d=!1){g&&[...g].forEach(C=>a(u,C,d))}function a(g,u,d){if(u){var C,f,b;if(u.__r3f&&(u.__r3f.parent=null),(C=g.__r3f)!=null&&C.objects&&(g.__r3f.objects=g.__r3f.objects.filter(x=>x!==u)),(f=u.__r3f)!=null&&f.attach)FZ(g,u,u.__r3f.attach);else if(u.isObject3D&&g.isObject3D){var A;g.remove(u),(A=u.__r3f)!=null&&A.root&&Bee(Uf(u),u)}const y=(b=u.__r3f)==null?void 0:b.primitive,B=!y&&(d===void 0?u.dispose!==null:d);if(!y){var p;o((p=u.__r3f)==null?void 0:p.objects,u,B),o(u.children,u,B)}if(delete u.__r3f,B&&u.dispose&&u.type!=="Scene"){const x=()=>{try{u.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?d8.unstable_scheduleCallback(d8.unstable_IdlePriority,x):x()}od(g)}}function s(g,u,d,C){var f;const b=(f=g.__r3f)==null?void 0:f.parent;if(!b)return;const A=t(u,d,g.__r3f.root);if(g.children){for(const p of g.children)p.__r3f&&i(A,p);g.children=g.children.filter(p=>!p.__r3f)}g.__r3f.objects.forEach(p=>i(A,p)),g.__r3f.objects=[],g.__r3f.autoRemovedBeforeAppend||a(b,g),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),i(b,A),A.raycast&&A.__r3f.eventCount&&Uf(A).getState().internal.interaction.push(A),[C,C.alternate].forEach(p=>{p!==null&&(p.stateNode=A,p.ref&&(typeof p.ref=="function"?p.ref(A):p.ref.current=A))})}const l=()=>{};return{reconciler:Cee({createInstance:t,removeChild:a,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(g,u)=>{if(!u)return;const d=g.getState().scene;d.__r3f&&(d.__r3f.root=g,i(d,u))},removeChildFromContainer:(g,u)=>{u&&a(g.getState().scene,u)},insertInContainerBefore:(g,u,d)=>{if(!u||!d)return;const C=g.getState().scene;C.__r3f&&r(C,u,d)},getRootHostContext:()=>null,getChildHostContext:g=>g,finalizeInitialChildren(g){var u;return!!((u=g==null?void 0:g.__r3f)!=null?u:{}).handlers},prepareUpdate(g,u,d,C){var f;if(((f=g==null?void 0:g.__r3f)!=null?f:{}).primitive&&C.object&&C.object!==g)return[!0];{const{args:A=[],children:p,...y}=C,{args:B=[],children:x,...w}=d;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((Z,M)=>Z!==B[M]))return[!0];const S=WF(g,y,w,!0);return S.changes.length?[!1,S]:null}},commitUpdate(g,[u,d],C,f,b,A){u?s(g,C,b,A):X4(g,d)},commitMount(g,u,d,C){var f;const b=(f=g.__r3f)!=null?f:{};g.raycast&&b.handlers&&b.eventCount&&Uf(g).getState().internal.interaction.push(g)},getPublicInstance:g=>g,prepareForCommit:()=>null,preparePortalMount:g=>rd(g.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(g){var u;const{attach:d,parent:C}=(u=g.__r3f)!=null?u:{};d&&C&&FZ(C,g,d),g.isObject3D&&(g.visible=!1),od(g)},unhideInstance(g,u){var d;const{attach:C,parent:f}=(d=g.__r3f)!=null?d:{};C&&f&&E4(f,g,C),(g.isObject3D&&u.visible==null||u.visible)&&(g.visible=!0),od(g)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Bd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&si.fun(performance.now)?performance.now:si.fun(Date.now)?Date.now:()=>0,scheduleTimeout:si.fun(setTimeout)?setTimeout:void 0,cancelTimeout:si.fun(clearTimeout)?clearTimeout:void 0}),applyProps:X4}}var _Z,WZ;const H4=n=>"colorSpace"in n||"outputColorSpace"in n,SF=()=>{var n;return(n=E7.ColorManagement)!=null?n:null},ZF=n=>n&&n.isOrthographicCamera,mee=n=>n&&n.hasOwnProperty("current"),Uh=typeof window<"u"&&((_Z=window.document)!=null&&_Z.createElement||((WZ=window.navigator)==null?void 0:WZ.product)==="ReactNative")?v.useLayoutEffect:v.useEffect;function qF(n){const e=v.useRef(n);return Uh(()=>void(e.current=n),[n]),e}function fee({set:n}){return Uh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class RF extends v.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}RF.getDerivedStateFromError=()=>({error:!0});const MF="__default",VZ=new Map,pee=n=>n&&!!n.memoized&&!!n.changes;function _F(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const GI=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Uf(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const si={obj:n=>n===Object(n)&&!si.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(si.str(n)||si.num(n)||si.boo(n))return n===e;const o=si.obj(n);if(o&&i==="reference")return n===e;const a=si.arr(n);if(a&&t==="reference")return n===e;if((a||o)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(o&&t==="shallow"&&i==="shallow"){for(s in r?e:n)if(!si.equ(n[s],e[s],{strict:r,objects:"reference"}))return!1}else for(s in r?e:n)if(n[s]!==e[s])return!1;if(si.und(s)){if(a&&n.length===0&&e.length===0||o&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Aee(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function bee(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function rd(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function I8(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((o,a)=>o[a],n),{target:t,key:r}}else return{target:t,key:e}}const NZ=/-\d+$/;function E4(n,e,t){if(si.str(t)){if(NZ.test(t)){const o=t.replace(NZ,""),{target:a,key:s}=I8(n,o);Array.isArray(a[s])||(a[s]=[])}const{target:i,key:r}=I8(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function FZ(n,e,t){var i,r;if(si.str(t)){const{target:o,key:a}=I8(n,t),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function WF(n,{children:e,key:t,ref:i,...r},{children:o,key:a,ref:s,...l}={},c=!1){const g=n.__r3f,u=Object.entries(r),d=[];if(c){const f=Object.keys(l);for(let b=0;b<f.length;b++)r.hasOwnProperty(f[b])||u.unshift([f[b],MF+"remove"])}u.forEach(([f,b])=>{var A;if((A=n.__r3f)!=null&&A.primitive&&f==="object"||si.equ(b,l[f]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(f))return d.push([f,b,!0,[]]);let p=[];f.includes("-")&&(p=f.split("-")),d.push([f,b,!1,p]);for(const y in r){const B=r[y];y.startsWith(`${f}-`)&&d.push([y,B,!1,y.split("-")])}});const C={...r};return g!=null&&g.memoizedProps&&g!=null&&g.memoizedProps.args&&(C.args=g.memoizedProps.args),g!=null&&g.memoizedProps&&g!=null&&g.memoizedProps.attach&&(C.attach=g.memoizedProps.attach),{memoized:C,changes:d}}const vee=typeof process<"u"&&!1;function X4(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,o=r==null||r.getState==null?void 0:r.getState(),{memoized:a,changes:s}=pee(e)?e:WF(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=a);for(let g=0;g<s.length;g++){let[u,d,C,f]=s[g];if(H4(n)){const y="srgb",B="srgb-linear";u==="encoding"?(u="colorSpace",d=d===3001?y:B):u==="outputEncoding"&&(u="outputColorSpace",d=d===3001?y:B)}let b=n,A=b[u];if(f.length&&(A=f.reduce((p,y)=>p[y],n),!(A&&A.set))){const[p,...y]=f.reverse();b=y.reverse().reduce((B,x)=>B[x],n),u=p}if(d===MF+"remove")if(b.constructor){let p=VZ.get(b.constructor);p||(p=new b.constructor,VZ.set(b.constructor,p)),d=p[u]}else d=0;if(C&&i)d?i.handlers[u]=d:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Zu)){if(Array.isArray(d))A.fromArray?A.fromArray(d):A.set(...d);else if(A.copy&&d&&d.constructor&&(vee?A.constructor.name===d.constructor.name:A.constructor===d.constructor))A.copy(d);else if(d!==void 0){const p=A instanceof ke;!p&&A.setScalar?A.setScalar(d):A instanceof Zu&&d instanceof Zu?A.mask=d.mask:A.set(d),!SF()&&o&&!o.linear&&p&&A.convertSRGBToLinear()}}else if(b[u]=d,b[u]instanceof Ln&&b[u].format===Li&&b[u].type===Po&&o){const p=b[u];H4(p)&&H4(o.gl)?p.colorSpace=o.gl.outputColorSpace:p.encoding=o.gl.outputEncoding}od(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const g=Uf(n).getState().internal,u=g.interaction.indexOf(n);u>-1&&g.interaction.splice(u,1),i.eventCount&&g.interaction.push(n)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(t=n.__r3f)!=null&&t.parent&&C8(n),n}function od(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function C8(n){n.onUpdate==null||n.onUpdate(n)}function VF(n,e){n.manual||(ZF(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function af(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function yee(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Bd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Bd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Bd.ContinuousEventPriority;default:return Bd.DefaultEventPriority}}function NF(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Bee(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{NF(t.capturedMap,e,i,r)})}function xee(n){function e(l){const{internal:c}=n.getState(),g=l.offsetX-c.initialClick[0],u=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(g*g+u*u))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(g=>{var u;return(u=c.__r3f)==null?void 0:u.handlers["onPointer"+g]}))}function i(l,c){const g=n.getState(),u=new Set,d=[],C=c?c(g.internal.interaction):g.internal.interaction;for(let p=0;p<C.length;p++){const y=GI(C[p]);y&&(y.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(l,g);function f(p){const y=GI(p);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var B;y.events.compute==null||y.events.compute(l,y,(B=y.previousRoot)==null?void 0:B.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(p,!0):[]}let b=C.flatMap(f).sort((p,y)=>{const B=GI(p.object),x=GI(y.object);return!B||!x?p.distance-y.distance:x.events.priority-B.events.priority||p.distance-y.distance}).filter(p=>{const y=af(p);return u.has(y)?!1:(u.add(y),!0)});g.events.filter&&(b=g.events.filter(b,g));for(const p of b){let y=p.object;for(;y;){var A;(A=y.__r3f)!=null&&A.eventCount&&d.push({...p,eventObject:y}),y=y.parent}}if("pointerId"in l&&g.internal.capturedMap.has(l.pointerId))for(let p of g.internal.capturedMap.get(l.pointerId).values())u.has(af(p.intersection))||d.push(p.intersection);return d}function r(l,c,g,u){const d=n.getState();if(l.length){const C={stopped:!1};for(const f of l){const b=GI(f.object)||d,{raycaster:A,pointer:p,camera:y,internal:B}=b,x=new k(p.x,p.y,0).unproject(y),w=_=>{var V,Y;return(V=(Y=B.capturedMap.get(_))==null?void 0:Y.has(f.eventObject))!=null?V:!1},S=_=>{const V={intersection:f,target:c.target};B.capturedMap.has(_)?B.capturedMap.get(_).set(f.eventObject,V):B.capturedMap.set(_,new Map([[f.eventObject,V]])),c.target.setPointerCapture(_)},Z=_=>{const V=B.capturedMap.get(_);V&&NF(B.capturedMap,f.eventObject,V,_)};let M={};for(let _ in c){let V=c[_];typeof V!="function"&&(M[_]=V)}let q={...f,...M,pointer:p,intersections:l,stopped:C.stopped,delta:g,unprojectedPoint:x,ray:A.ray,camera:y,stopPropagation(){const _="pointerId"in c&&B.capturedMap.get(c.pointerId);if((!_||_.has(f.eventObject))&&(q.stopped=C.stopped=!0,B.hovered.size&&Array.from(B.hovered.values()).find(V=>V.eventObject===f.eventObject))){const V=l.slice(0,l.indexOf(f));o([...V,f])}},target:{hasPointerCapture:w,setPointerCapture:S,releasePointerCapture:Z},currentTarget:{hasPointerCapture:w,setPointerCapture:S,releasePointerCapture:Z},nativeEvent:c};if(u(q),C.stopped===!0)break}}return l}function o(l){const{internal:c}=n.getState();for(const g of c.hovered.values())if(!l.length||!l.find(u=>u.object===g.object&&u.index===g.index&&u.instanceId===g.instanceId)){const d=g.eventObject.__r3f,C=d==null?void 0:d.handlers;if(c.hovered.delete(af(g)),d!=null&&d.eventCount){const f={...g,intersections:l};C.onPointerOut==null||C.onPointerOut(f),C.onPointerLeave==null||C.onPointerLeave(f)}}}function a(l,c){for(let g=0;g<c.length;g++){const u=c[g].__r3f;u==null||u.handlers.onPointerMissed==null||u.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:g}=n.getState();"pointerId"in c&&g.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(c.pointerId)&&(g.capturedMap.delete(c.pointerId),o([]))})}}return function(g){const{onPointerMissed:u,internal:d}=n.getState();d.lastEvent.current=g;const C=l==="onPointerMove",f=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=i(g,C?t:void 0),p=f?e(g):0;l==="onPointerDown"&&(d.initialClick=[g.offsetX,g.offsetY],d.initialHits=A.map(B=>B.eventObject)),f&&!A.length&&p<=2&&(a(g,d.interaction),u&&u(g)),C&&o(A);function y(B){const x=B.eventObject,w=x.__r3f,S=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(C){if(S.onPointerOver||S.onPointerEnter||S.onPointerOut||S.onPointerLeave){const Z=af(B),M=d.hovered.get(Z);M?M.stopped&&B.stopPropagation():(d.hovered.set(Z,B),S.onPointerOver==null||S.onPointerOver(B),S.onPointerEnter==null||S.onPointerEnter(B))}S.onPointerMove==null||S.onPointerMove(B)}else{const Z=S[l];Z?(!f||d.initialHits.includes(x))&&(a(g,d.interaction.filter(M=>!d.initialHits.includes(M))),Z(B)):f&&d.initialHits.includes(x)&&a(g,d.interaction.filter(M=>!d.initialHits.includes(M)))}}r(A,g,p,y)}}return{handlePointer:s}}const Gee=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],FF=n=>!!(n!=null&&n.render),X7=v.createContext(null),wee=(n,e)=>{const t=H7((s,l)=>{const c=new k,g=new k,u=new k;function d(p=l().camera,y=g,B=l().size){const{width:x,height:w,top:S,left:Z}=B,M=x/w;y instanceof k?u.copy(y):u.set(...y);const q=p.getWorldPosition(c).distanceTo(u);if(ZF(p))return{width:x/p.zoom,height:w/p.zoom,top:S,left:Z,factor:1,distance:q,aspect:M};{const _=p.fov*Math.PI/180,V=2*Math.tan(_/2)*q,Y=V*(x/w);return{width:Y,height:V,top:S,left:Z,factor:x/Y,distance:q,aspect:M}}}let C;const f=p=>s(y=>({performance:{...y.performance,current:p}})),b=new et;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(p=1)=>n(l(),p),advance:(p,y)=>e(p,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new M7,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const p=l();C&&clearTimeout(C),p.performance.current!==p.performance.min&&f(p.performance.min),C=setTimeout(()=>f(l().performance.max),p.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:p=>s(y=>({...y,events:{...y.events,...p}})),setSize:(p,y,B,x,w)=>{const S=l().camera,Z={width:p,height:y,top:x||0,left:w||0,updateStyle:B};s(M=>({size:Z,viewport:{...M.viewport,...d(S,g,Z)}}))},setDpr:p=>s(y=>{const B=_F(p);return{viewport:{...y.viewport,dpr:B,initialDpr:y.viewport.initialDpr||B}}}),setFrameloop:(p="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,p!=="never"&&(y.start(),y.elapsedTime=0),s(()=>({frameloop:p}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:v.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(p,y,B)=>{const x=l().internal;return x.priority=x.priority+(y>0?1:0),x.subscribers.push({ref:p,priority:y,store:B}),x.subscribers=x.subscribers.sort((w,S)=>w.priority-S.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(y>0?1:0),w.subscribers=w.subscribers.filter(S=>S.ref!==p))}}}}}),i=t.getState();let r=i.size,o=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:g,set:u}=t.getState();if(l.width!==r.width||l.height!==r.height||c.dpr!==o){var d;r=l,o=c.dpr,VF(s,l),g.setPixelRatio(c.dpr);const C=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(l.width,l.height,C)}s!==a&&(a=s,u(C=>({viewport:{...C.viewport,...C.viewport.getCurrentViewport(s)}})))}),t.subscribe(s=>n(s)),t};function HF(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let sf,EF=new Set,XF=new Set,See=new Set;const Zee=n=>HF(n,EF),qee=n=>HF(n,XF);function z4(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function wI(n,e){switch(n){case"before":return z4(EF,e);case"after":return z4(XF,e);case"tail":return z4(See,e)}}let Y4,K4;function L4(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Y4=e.internal.subscribers,sf=0;sf<Y4.length;sf++)K4=Y4[sf],K4.ref.current(K4.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Ree(n){let e=!1,t=!1,i,r,o;function a(c){r=requestAnimationFrame(a),e=!0,i=0,wI("before",c),t=!0;for(const u of n.values()){var g;o=u.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((g=o.gl.xr)!=null&&g.isPresenting)&&(i+=L4(c,o))}if(t=!1,wI("after",c),i===0)return wI("tail",c),e=!1,cancelAnimationFrame(r)}function s(c,g=1){var u;if(!c)return n.forEach(d=>s(d.store.getState(),g));(u=c.gl.xr)!=null&&u.isPresenting||!c.internal.active||c.frameloop==="never"||(g>1?c.internal.frames=Math.min(60,c.internal.frames+g):t?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,g=!0,u,d){if(g&&wI("before",c),u)L4(c,u,d);else for(const C of n.values())L4(c,C.store.getState());g&&wI("after",c)}return{loop:a,invalidate:s,advance:l}}function z7(){const n=v.useContext(X7);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Qn(n=t=>t,e){return z7()(n,e)}function Pi(n,e=0){const t=z7(),i=t.getState().internal.subscribe,r=qF(n);return Uh(()=>i(r,e,t),[e,i,t]),null}const HZ=new WeakMap;function zF(n,e){return function(t,...i){let r=HZ.get(t);return r||(r=new t,HZ.set(t,r)),n&&n(r),Promise.all(i.map(o=>new Promise((a,s)=>r.load(o,l=>{l.scene&&Object.assign(l,Aee(l.scene)),a(l)},e,l=>s(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`))))))}}function Ai(n,e,t,i){const r=Array.isArray(e)?e:[e],o=cee(zF(t,i),[n,...r],{equal:si.equ});return Array.isArray(e)?o:o[0]}Ai.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return gee(zF(t),[n,...i])};Ai.clear=function(n,e){const t=Array.isArray(e)?e:[e];return uee([n,...t])};const s0=new Map,{invalidate:EZ,advance:XZ}=Ree(s0),{reconciler:nh,applyProps:Rc}=hee(s0,yee),D1={objects:"shallow",strict:!1},Mee=(n,e)=>{const t=typeof n=="function"?n(e):n;return FF(t)?t:new g7({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function _ee(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:o,left:a,updateStyle:s=t}=e;return{width:i,height:r,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:o,left:a}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:o,left:a,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function Wee(n){const e=s0.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,o=i||wee(EZ,XZ),a=t||nh.createContainer(o,Bd.ConcurrentRoot,null,!1,null,"",r,null);e||s0.set(n,{fiber:a,store:o});let s,l=!1,c;return{configure(g={}){let{gl:u,size:d,scene:C,events:f,onCreated:b,shadows:A=!1,linear:p=!1,flat:y=!1,legacy:B=!1,orthographic:x=!1,frameloop:w="always",dpr:S=[1,2],performance:Z,raycaster:M,camera:q,onPointerMissed:_}=g,V=o.getState(),Y=V.gl;V.gl||V.set({gl:Y=Mee(u,n)});let X=V.raycaster;X||V.set({raycaster:X=new N7});const{params:K,...Q}=M||{};if(si.equ(Q,X,D1)||Rc(X,{...Q}),si.equ(K,X.params,D1)||Rc(X,{params:{...X.params,...K}}),!V.camera||V.camera===c&&!si.equ(c,q,D1)){c=q;const P=q instanceof Xh,O=P?q:x?new Pa(0,0,0,0,.1,1e3):new mi(75,0,.1,1e3);P||(O.position.z=5,q&&(Rc(O,q),("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(O.manual=!0,O.updateProjectionMatrix())),!V.camera&&!(q!=null&&q.rotation)&&O.lookAt(0,0,0)),V.set({camera:O}),X.camera=O}if(!V.scene){let P;C instanceof o0?P=C:(P=new o0,C&&Rc(P,C)),V.set({scene:rd(P)})}if(!V.xr){var z;const P=(ge,J)=>{const Ce=o.getState();Ce.frameloop!=="never"&&XZ(ge,!0,Ce,J)},O=()=>{const ge=o.getState();ge.gl.xr.enabled=ge.gl.xr.isPresenting,ge.gl.xr.setAnimationLoop(ge.gl.xr.isPresenting?P:null),ge.gl.xr.isPresenting||EZ(ge)},ie={connect(){const ge=o.getState().gl;ge.xr.addEventListener("sessionstart",O),ge.xr.addEventListener("sessionend",O)},disconnect(){const ge=o.getState().gl;ge.xr.removeEventListener("sessionstart",O),ge.xr.removeEventListener("sessionend",O)}};typeof((z=Y.xr)==null?void 0:z.addEventListener)=="function"&&ie.connect(),V.set({xr:ie})}if(Y.shadowMap){const P=Y.shadowMap.enabled,O=Y.shadowMap.type;if(Y.shadowMap.enabled=!!A,si.boo(A))Y.shadowMap.type=cC;else if(si.str(A)){var D;const ie={basic:qV,percentage:lA,soft:cC,variance:Cs};Y.shadowMap.type=(D=ie[A])!=null?D:cC}else si.obj(A)&&Object.assign(Y.shadowMap,A);(P!==Y.shadowMap.enabled||O!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}const N=SF();N&&("enabled"in N?N.enabled=!B:"legacyMode"in N&&(N.legacyMode=B)),l||Rc(Y,{outputEncoding:p?3e3:3001,toneMapping:y?tl:cA}),V.legacy!==B&&V.set(()=>({legacy:B})),V.linear!==p&&V.set(()=>({linear:p})),V.flat!==y&&V.set(()=>({flat:y})),u&&!si.fun(u)&&!FF(u)&&!si.equ(u,Y,D1)&&Rc(Y,u),f&&!V.events.handlers&&V.set({events:f(o)});const L=_ee(n,d);return si.equ(L,V.size,D1)||V.setSize(L.width,L.height,L.updateStyle,L.top,L.left),S&&V.viewport.dpr!==_F(S)&&V.setDpr(S),V.frameloop!==w&&V.setFrameloop(w),V.onPointerMissed||V.set({onPointerMissed:_}),Z&&!si.equ(Z,V.performance,D1)&&V.set(P=>({performance:{...P.performance,...Z}})),s=b,l=!0,this},render(g){return l||this.configure(),nh.updateContainer(I.jsx(Vee,{store:o,children:g,onCreated:s,rootElement:n}),a,null,()=>{}),o},unmount(){YF(n)}}}function Vee({store:n,children:e,onCreated:t,rootElement:i}){return Uh(()=>{const r=n.getState();r.set(o=>({internal:{...o.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),I.jsx(X7.Provider,{value:n,children:e})}function YF(n,e){const t=s0.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),nh.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var o,a,s,l;r.events.disconnect==null||r.events.disconnect(),(o=r.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=r.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),bee(r),s0.delete(n)}catch{}},500)})}}function Nee(n,e,t){return I.jsx(Fee,{children:n,container:e,state:t},e.uuid)}function Fee({state:n={},children:e,container:t}){const{events:i,size:r,...o}=n,a=z7(),[s]=v.useState(()=>new N7),[l]=v.useState(()=>new et),c=v.useCallback((u,d)=>{const C={...u};Object.keys(u).forEach(b=>{(Gee.includes(b)||u[b]!==d[b]&&d[b])&&delete C[b]});let f;if(d&&r){const b=d.camera;f=u.viewport.getCurrentViewport(b,new k,r),b!==u.camera&&VF(b,r)}return{...C,scene:t,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...u.events,...d==null?void 0:d.events,...i},size:{...u.size,...r},viewport:{...u.viewport,...f},...o}},[n]),[g]=v.useState(()=>{const u=a.getState();return H7((C,f)=>({...u,scene:t,raycaster:s,pointer:l,mouse:l,previousRoot:a,events:{...u.events,...i},size:{...u.size,...r},...o,set:C,get:f,setEvents:b=>C(A=>({...A,events:{...A.events,...b}}))}))});return v.useEffect(()=>{const u=a.subscribe(d=>g.setState(C=>c(d,C)));return()=>{u()}},[c]),v.useEffect(()=>{g.setState(u=>c(a.getState(),u))},[c]),v.useEffect(()=>()=>{g.destroy()},[]),I.jsx(I.Fragment,{children:nh.createPortal(I.jsx(X7.Provider,{value:g,children:e}),g,null)})}nh.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:v.version});const T4={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Hee(n){const{handlePointer:e}=xee(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(T4).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:o}=n.getState();o.disconnect==null||o.disconnect(),r(a=>({events:{...a.events,connected:t}})),Object.entries((i=o.handlers)!=null?i:[]).forEach(([a,s])=>{const[l,c]=T4[a];t.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([o,a])=>{if(i&&i.connected instanceof HTMLElement){const[s]=T4[o];i.connected.removeEventListener(s,a)}}),t(o=>({events:{...o.events,connected:void 0}}))}}}}function h8(n,e,t){var i,r,o,a,s;e==null&&(e=100);function l(){var g=Date.now()-a;g<e&&g>=0?i=setTimeout(l,e-g):(i=null,t||(s=n.apply(o,r),o=r=null))}var c=function(){o=this,r=arguments,a=Date.now();var g=t&&!i;return i||(i=setTimeout(l,e)),g&&(s=n.apply(o,r),o=r=null),s};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(s=n.apply(o,r),o=r=null,clearTimeout(i),i=null)},c}h8.debounce=h8;var Eee=h8;const zZ=y0(Eee);var Xee=Object.defineProperty,zee=Object.defineProperties,Yee=Object.getOwnPropertyDescriptors,YZ=Object.getOwnPropertySymbols,Kee=Object.prototype.hasOwnProperty,Lee=Object.prototype.propertyIsEnumerable,KZ=(n,e,t)=>e in n?Xee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,LZ=(n,e)=>{for(var t in e||(e={}))Kee.call(e,t)&&KZ(n,t,e[t]);if(YZ)for(var t of YZ(e))Lee.call(e,t)&&KZ(n,t,e[t]);return n},Tee=(n,e)=>zee(n,Yee(e)),TZ,kZ;typeof window<"u"&&((TZ=window.document)!=null&&TZ.createElement||((kZ=window.navigator)==null?void 0:kZ.product)==="ReactNative")?v.useLayoutEffect:v.useEffect;function KF(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=n.child;for(;i;){const r=KF(i,e,t);if(r)return r;i=i.sibling}}function LF(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const PZ=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=PZ;return}return PZ.apply(this,arguments)};const Y7=LF(v.createContext(null));class TF extends v.Component{render(){return v.createElement(Y7.Provider,{value:this._reactInternals},this.props.children)}}function kee(){const n=v.useContext(Y7);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=v.useId();return v.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=KF(i,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}function Pee(){const n=kee(),[e]=v.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==Y7&&!e.has(r)&&e.set(r,v.useContext(LF(r)))}t=t.return}return e}function Dee(){const n=Pee();return v.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>v.createElement(e,null,v.createElement(t.Provider,Tee(LZ({},i),{value:n.get(t)}))),e=>v.createElement(TF,LZ({},e))),[n])}function Uee({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||typeof window<"u"&&window.ResizeObserver,[o,a]=v.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!r)return o.width=1280,o.height=800,[()=>{},o,()=>{}];const s=v.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,g=v.useRef(!1);v.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[u,d,C]=v.useMemo(()=>{const p=()=>{if(!s.current.element)return;const{left:y,top:B,width:x,height:w,bottom:S,right:Z,x:M,y:q}=s.current.element.getBoundingClientRect(),_={left:y,top:B,width:x,height:w,bottom:S,right:Z,x:M,y:q};s.current.element instanceof HTMLElement&&i&&(_.height=s.current.element.offsetHeight,_.width=s.current.element.offsetWidth),Object.freeze(_),g.current&&!Qee(s.current.lastBounds,_)&&a(s.current.lastBounds=_)};return[p,c?zZ(p,c):p,l?zZ(p,l):p]},[a,i,l,c]);function f(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(p=>p.removeEventListener("scroll",C,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function b(){var p;s.current.element&&(s.current.resizeObserver=new r(d),(p=s.current.resizeObserver)==null||p.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(y=>y.addEventListener("scroll",C,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{C()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const A=p=>{!p||p===s.current.element||(f(),s.current.element=p,s.current.scrollContainers=kF(p),b())};return jee(C,!!e),Oee(d),v.useEffect(()=>{f(),b()},[e,C,d]),v.useEffect(()=>f,[]),[A,o,u]}function Oee(n){v.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function jee(n,e){v.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function kF(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...kF(n.parentElement)]}const Jee=["x","y","top","bottom","left","right","width","height"],Qee=(n,e)=>Jee.every(t=>n[t]===e[t]),$ee=v.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:o,events:a=Hee,eventSource:s,eventPrefix:l,shadows:c,linear:g,flat:u,legacy:d,orthographic:C,frameloop:f,dpr:b,performance:A,raycaster:p,camera:y,scene:B,onPointerMissed:x,onCreated:w,...S},Z){v.useMemo(()=>xr(oee),[]);const M=Dee(),[q,_]=Uee({scroll:!0,debounce:{scroll:50,resize:0},...i}),V=v.useRef(null),Y=v.useRef(null);v.useImperativeHandle(Z,()=>V.current);const X=qF(x),[K,Q]=v.useState(!1),[z,D]=v.useState(!1);if(K)throw K;if(z)throw z;const N=v.useRef(null);Uh(()=>{const P=V.current;_.width>0&&_.height>0&&P&&(N.current||(N.current=Wee(P)),N.current.configure({gl:o,events:a,shadows:c,linear:g,flat:u,legacy:d,orthographic:C,frameloop:f,dpr:b,performance:A,raycaster:p,camera:y,scene:B,size:_,onPointerMissed:(...O)=>X.current==null?void 0:X.current(...O),onCreated:O=>{O.events.connect==null||O.events.connect(s?mee(s)?s.current:s:Y.current),l&&O.setEvents({compute:(ie,ge)=>{const J=ie[l+"X"],Ce=ie[l+"Y"];ge.pointer.set(J/ge.size.width*2-1,-(Ce/ge.size.height)*2+1),ge.raycaster.setFromCamera(ge.pointer,ge.camera)}}),w==null||w(O)}}),N.current.render(I.jsx(M,{children:I.jsx(RF,{set:D,children:I.jsx(v.Suspense,{fallback:I.jsx(fee,{set:Q}),children:e})})})))}),v.useEffect(()=>{const P=V.current;if(P)return()=>YF(P)},[]);const L=s?"none":"auto";return I.jsx("div",{ref:Y,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...r},...S,children:I.jsx("div",{ref:q,style:{width:"100%",height:"100%"},children:I.jsx("canvas",{ref:V,style:{display:"block"},children:t})})})}),pg=v.forwardRef(function(e,t){return I.jsx(TF,{children:I.jsx($ee,{...e,ref:t})})});function Lt(){return Lt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lt.apply(null,arguments)}const Oh=new k,K7=new k,ete=new k,DZ=new et;function tte(n,e,t){const i=Oh.setFromMatrixPosition(n.matrixWorld);i.project(e);const r=t.width/2,o=t.height/2;return[i.x*r+r,-(i.y*o)+o]}function nte(n,e){const t=Oh.setFromMatrixPosition(n.matrixWorld),i=K7.setFromMatrixPosition(e.matrixWorld),r=t.sub(i),o=e.getWorldDirection(ete);return r.angleTo(o)>Math.PI/2}function ite(n,e,t,i){const r=Oh.setFromMatrixPosition(n.matrixWorld),o=r.clone();o.project(e),DZ.set(o.x,o.y),t.setFromCamera(DZ,e);const a=t.intersectObjects(i,!0);if(a.length){const s=a[0].distance;return r.distanceTo(t.ray.origin)<s}return!0}function rte(n,e){if(e instanceof Pa)return e.zoom;if(e instanceof mi){const t=Oh.setFromMatrixPosition(n.matrixWorld),i=K7.setFromMatrixPosition(e.matrixWorld),r=e.fov*Math.PI/180,o=t.distanceTo(i);return 1/(2*Math.tan(r/2)*o)}else return 1}function ote(n,e,t){if(e instanceof mi||e instanceof Pa){const i=Oh.setFromMatrixPosition(n.matrixWorld),r=K7.setFromMatrixPosition(e.matrixWorld),o=i.distanceTo(r),a=(t[1]-t[0])/(e.far-e.near),s=t[1]-a*e.far;return Math.round(a*o+s)}}const m8=n=>Math.abs(n)<1e-10?0:n;function PF(n,e,t=""){let i="matrix3d(";for(let r=0;r!==16;r++)i+=m8(e[r]*n.elements[r])+(r!==15?",":")");return t+i}const ate=(n=>e=>PF(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),ste=(n=>(e,t)=>PF(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function lte(n){return n&&typeof n=="object"&&"current"in n}const ba=v.forwardRef(({children:n,eps:e=.001,style:t,className:i,prepend:r,center:o,fullscreen:a,portal:s,distanceFactor:l,sprite:c=!1,transform:g=!1,occlude:u,onOcclude:d,castShadow:C,receiveShadow:f,material:b,geometry:A,zIndexRange:p=[16777271,0],calculatePosition:y=tte,as:B="div",wrapperClass:x,pointerEvents:w="auto",...S},Z)=>{const{gl:M,camera:q,scene:_,size:V,raycaster:Y,events:X,viewport:K}=Qn(),[Q]=v.useState(()=>document.createElement(B)),z=v.useRef(),D=v.useRef(null),N=v.useRef(0),L=v.useRef([0,0]),P=v.useRef(null),O=v.useRef(null),ie=(s==null?void 0:s.current)||X.connected||M.domElement.parentNode,ge=v.useRef(null),J=v.useRef(!1),Ce=v.useMemo(()=>u&&u!=="blending"||Array.isArray(u)&&u.length&&lte(u[0]),[u]);v.useLayoutEffect(()=>{const Ee=M.domElement;u&&u==="blending"?(Ee.style.zIndex=`${Math.floor(p[0]/2)}`,Ee.style.position="absolute",Ee.style.pointerEvents="none"):(Ee.style.zIndex=null,Ee.style.position=null,Ee.style.pointerEvents=null)},[u]),v.useLayoutEffect(()=>{if(D.current){const Ee=z.current=zy(Q);if(_.updateMatrixWorld(),g)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const be=y(D.current,q,V);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${be[0]}px,${be[1]}px,0);transform-origin:0 0;`}return ie&&(r?ie.prepend(Q):ie.appendChild(Q)),()=>{ie&&ie.removeChild(Q),Ee.unmount()}}},[ie,g]),v.useLayoutEffect(()=>{x&&(Q.className=x)},[x]);const ve=v.useMemo(()=>g?{position:"absolute",top:0,left:0,width:V.width,height:V.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...a&&{top:-V.height/2,left:-V.width/2,width:V.width,height:V.height},...t},[t,o,a,V,g]),Ae=v.useMemo(()=>({position:"absolute",pointerEvents:w}),[w]);v.useLayoutEffect(()=>{if(J.current=!1,g){var Ee;(Ee=z.current)==null||Ee.render(v.createElement("div",{ref:P,style:ve},v.createElement("div",{ref:O,style:Ae},v.createElement("div",{ref:Z,className:i,style:t,children:n}))))}else{var be;(be=z.current)==null||be.render(v.createElement("div",{ref:Z,style:ve,className:i,children:n}))}});const Xe=v.useRef(!0);Pi(Ee=>{if(D.current){q.updateMatrixWorld(),D.current.updateWorldMatrix(!0,!1);const be=g?L.current:y(D.current,q,V);if(g||Math.abs(N.current-q.zoom)>e||Math.abs(L.current[0]-be[0])>e||Math.abs(L.current[1]-be[1])>e){const Ie=nte(D.current,q);let pe=!1;Ce&&(Array.isArray(u)?pe=u.map(Ye=>Ye.current):u!=="blending"&&(pe=[_]));const $=Xe.current;if(pe){const Ye=ite(D.current,q,Y,pe);Xe.current=Ye&&!Ie}else Xe.current=!Ie;$!==Xe.current&&(d?d(!Xe.current):Q.style.display=Xe.current?"block":"none");const Ge=Math.floor(p[0]/2),Ze=u?Ce?[p[0],Ge]:[Ge-1,0]:p;if(Q.style.zIndex=`${ote(D.current,q,Ze)}`,g){const[Ye,Ne]=[V.width/2,V.height/2],Je=q.projectionMatrix.elements[5]*Ne,{isOrthographicCamera:Ke,top:U,left:T,bottom:le,right:ye}=q,Fe=ate(q.matrixWorldInverse),we=Ke?`scale(${Je})translate(${m8(-(ye+T)/2)}px,${m8((U+le)/2)}px)`:`translateZ(${Je}px)`;let tt=D.current.matrixWorld;c&&(tt=q.matrixWorldInverse.clone().transpose().copyPosition(tt).scale(D.current.scale),tt.elements[3]=tt.elements[7]=tt.elements[11]=0,tt.elements[15]=1),Q.style.width=V.width+"px",Q.style.height=V.height+"px",Q.style.perspective=Ke?"":`${Je}px`,P.current&&O.current&&(P.current.style.transform=`${we}${Fe}translate(${Ye}px,${Ne}px)`,O.current.style.transform=ste(tt,1/((l||10)/400)))}else{const Ye=l===void 0?1:rte(D.current,q)*l;Q.style.transform=`translate3d(${be[0]}px,${be[1]}px,0) scale(${Ye})`}L.current=be,N.current=q.zoom}}if(!Ce&&ge.current&&!J.current)if(g){if(P.current){const be=P.current.children[0];if(be!=null&&be.clientWidth&&be!=null&&be.clientHeight){const{isOrthographicCamera:Ie}=q;if(Ie||A)S.scale&&(Array.isArray(S.scale)?S.scale instanceof k?ge.current.scale.copy(S.scale.clone().divideScalar(1)):ge.current.scale.set(1/S.scale[0],1/S.scale[1],1/S.scale[2]):ge.current.scale.setScalar(1/S.scale));else{const pe=(l||10)/400,$=be.clientWidth*pe,Ge=be.clientHeight*pe;ge.current.scale.set($,Ge,1)}J.current=!0}}}else{const be=Q.children[0];if(be!=null&&be.clientWidth&&be!=null&&be.clientHeight){const Ie=1/K.factor,pe=be.clientWidth*Ie,$=be.clientHeight*Ie;ge.current.scale.set(pe,$,1),J.current=!0}ge.current.lookAt(Ee.camera.position)}});const Le=v.useMemo(()=>({vertexShader:g?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[g]);return v.createElement("group",Lt({},S,{ref:D}),u&&!Ce&&v.createElement("mesh",{castShadow:C,receiveShadow:f,ref:ge},A||v.createElement("planeGeometry",null),b||v.createElement("shaderMaterial",{side:Fo,vertexShader:Le.vertexShader,fragmentShader:Le.fragmentShader})))});let SI=0;const cte=H7(n=>(yd.onStart=(e,t,i)=>{n({active:!0,item:e,loaded:t,total:i,progress:(t-SI)/(i-SI)*100})},yd.onLoad=()=>{n({active:!1})},yd.onError=e=>n(t=>({errors:[...t.errors,e]})),yd.onProgress=(e,t,i)=>{t===i&&(SI=i),n({active:!0,item:e,loaded:t,total:i,progress:(t-SI)/(i-SI)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),gte=parseInt(S0.replace(/\D+/g,""));function UZ(n,e){if(e===aN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===A3||e===$y){let t=n.getIndex();if(t===null){const a=[],s=n.getAttribute("position");if(s!==void 0){for(let l=0;l<s.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(t)if(e===A3)for(let a=1;a<=i;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(r),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var za=Uint8Array,Fc=Uint16Array,f8=Uint32Array,DF=new za([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),UF=new za([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ute=new za([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OF=function(n,e){for(var t=new Fc(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new f8(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return[t,r]},jF=OF(DF,2),JF=jF[0],dte=jF[1];JF[28]=258,dte[258]=28;var Ite=OF(UF,0),Cte=Ite[0],p8=new Fc(32768);for(var di=0;di<32768;++di){var yc=(di&43690)>>>1|(di&21845)<<1;yc=(yc&52428)>>>2|(yc&13107)<<2,yc=(yc&61680)>>>4|(yc&3855)<<4,p8[di]=((yc&65280)>>>8|(yc&255)<<8)>>>1}var pC=function(n,e,t){for(var i=n.length,r=0,o=new Fc(e);r<i;++r)++o[n[r]-1];var a=new Fc(e);for(r=0;r<e;++r)a[r]=a[r-1]+o[r-1]<<1;var s;if(t){s=new Fc(1<<e);var l=15-e;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],g=e-n[r],u=a[n[r]-1]++<<g,d=u|(1<<g)-1;u<=d;++u)s[p8[u]>>>l]=c}else for(s=new Fc(i),r=0;r<i;++r)n[r]&&(s[r]=p8[a[n[r]-1]++]>>>15-n[r]);return s},jh=new za(288);for(var di=0;di<144;++di)jh[di]=8;for(var di=144;di<256;++di)jh[di]=9;for(var di=256;di<280;++di)jh[di]=7;for(var di=280;di<288;++di)jh[di]=8;var QF=new za(32);for(var di=0;di<32;++di)QF[di]=5;var hte=pC(jh,9,1),mte=pC(QF,5,1),k4=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},cs=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},P4=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},fte=function(n){return(n/8|0)+(n&7&&1)},pte=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof Fc?Fc:n instanceof f8?f8:za)(t-e);return i.set(n.subarray(e,t)),i},Ate=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new za(0);var r=!e||t,o=!t||t.i;t||(t={}),e||(e=new za(i*3));var a=function(ve){var Ae=e.length;if(ve>Ae){var Xe=new za(Math.max(Ae*2,ve));Xe.set(e),e=Xe}},s=t.f||0,l=t.p||0,c=t.b||0,g=t.l,u=t.d,d=t.m,C=t.n,f=i*8;do{if(!g){t.f=s=cs(n,l,1);var b=cs(n,l+1,3);if(l+=3,b)if(b==1)g=hte,u=mte,d=9,C=5;else if(b==2){var B=cs(n,l,31)+257,x=cs(n,l+10,15)+4,w=B+cs(n,l+5,31)+1;l+=14;for(var S=new za(w),Z=new za(19),M=0;M<x;++M)Z[ute[M]]=cs(n,l+M*3,7);l+=x*3;for(var q=k4(Z),_=(1<<q)-1,V=pC(Z,q,1),M=0;M<w;){var Y=V[cs(n,l,_)];l+=Y&15;var A=Y>>>4;if(A<16)S[M++]=A;else{var X=0,K=0;for(A==16?(K=3+cs(n,l,3),l+=2,X=S[M-1]):A==17?(K=3+cs(n,l,7),l+=3):A==18&&(K=11+cs(n,l,127),l+=7);K--;)S[M++]=X}}var Q=S.subarray(0,B),z=S.subarray(B);d=k4(Q),C=k4(z),g=pC(Q,d,1),u=pC(z,C,1)}else throw"invalid block type";else{var A=fte(l)+4,p=n[A-4]|n[A-3]<<8,y=A+p;if(y>i){if(o)throw"unexpected EOF";break}r&&a(c+p),e.set(n.subarray(A,y),c),t.b=c+=p,t.p=l=y*8;continue}if(l>f){if(o)throw"unexpected EOF";break}}r&&a(c+131072);for(var D=(1<<d)-1,N=(1<<C)-1,L=l;;L=l){var X=g[P4(n,l)&D],P=X>>>4;if(l+=X&15,l>f){if(o)throw"unexpected EOF";break}if(!X)throw"invalid length/literal";if(P<256)e[c++]=P;else if(P==256){L=l,g=null;break}else{var O=P-254;if(P>264){var M=P-257,ie=DF[M];O=cs(n,l,(1<<ie)-1)+JF[M],l+=ie}var ge=u[P4(n,l)&N],J=ge>>>4;if(!ge)throw"invalid distance";l+=ge&15;var z=Cte[J];if(J>3){var ie=UF[J];z+=P4(n,l)&(1<<ie)-1,l+=ie}if(l>f){if(o)throw"unexpected EOF";break}r&&a(c+131072);for(var Ce=c+O;c<Ce;c+=4)e[c]=e[c-z],e[c+1]=e[c+1-z],e[c+2]=e[c+2-z],e[c+3]=e[c+3-z];c=Ce}}t.l=g,t.p=L,t.b=c,g&&(s=1,t.m=d,t.d=u,t.n=C)}while(!s);return c==e.length?e:pte(e,0,c)},bte=new za(0),vte=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function lf(n,e){return Ate((vte(n),n.subarray(2,-4)),e)}var yte=typeof TextDecoder<"u"&&new TextDecoder,Bte=0;try{yte.decode(bte,{stream:!0}),Bte=1}catch{}const xte=n=>n&&n.isCubeTexture;class Gte extends pi{constructor(e,t){var i,r;const o=xte(e),s=((r=o?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(s)),c=Math.pow(2,l),g=3*Math.max(c,16*7),u=4*c,d=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/g}`,`#define CUBEUV_TEXEL_HEIGHT ${1/u}`,`#define CUBEUV_MAX_MIP ${l}.0`],C=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,f=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(S0.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,b={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},A=new kh(1,16),p=new Do({uniforms:b,fragmentShader:f,vertexShader:C,side:Fo});super(A,p)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var wte=Object.defineProperty,Ste=(n,e,t)=>e in n?wte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ar=(n,e,t)=>(Ste(n,typeof e!="symbol"?e+"":e,t),t);const U1=new rn(0,0,0,"YXZ"),O1=new k,Zte={type:"change"},qte={type:"lock"},Rte={type:"unlock"},OZ=Math.PI/2;let Mte=class extends ja{constructor(e,t){super(),ar(this,"camera"),ar(this,"domElement"),ar(this,"isLocked"),ar(this,"minPolarAngle"),ar(this,"maxPolarAngle"),ar(this,"pointerSpeed"),ar(this,"onMouseMove",i=>{if(!this.domElement||this.isLocked===!1)return;const r=i.movementX||i.mozMovementX||i.webkitMovementX||0,o=i.movementY||i.mozMovementY||i.webkitMovementY||0;U1.setFromQuaternion(this.camera.quaternion),U1.y-=r*.002*this.pointerSpeed,U1.x-=o*.002*this.pointerSpeed,U1.x=Math.max(OZ-this.maxPolarAngle,Math.min(OZ-this.minPolarAngle,U1.x)),this.camera.quaternion.setFromEuler(U1),this.dispatchEvent(Zte)}),ar(this,"onPointerlockChange",()=>{this.domElement&&(this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(qte),this.isLocked=!0):(this.dispatchEvent(Rte),this.isLocked=!1))}),ar(this,"onPointerlockError",()=>{console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}),ar(this,"connect",i=>{this.domElement=i||this.domElement,this.domElement&&(this.domElement.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError))}),ar(this,"disconnect",()=>{this.domElement&&(this.domElement.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError))}),ar(this,"dispose",()=>{this.disconnect()}),ar(this,"getObject",()=>this.camera),ar(this,"direction",new k(0,0,-1)),ar(this,"getDirection",i=>i.copy(this.direction).applyQuaternion(this.camera.quaternion)),ar(this,"moveForward",i=>{O1.setFromMatrixColumn(this.camera.matrix,0),O1.crossVectors(this.camera.up,O1),this.camera.position.addScaledVector(O1,i)}),ar(this,"moveRight",i=>{O1.setFromMatrixColumn(this.camera.matrix,0),this.camera.position.addScaledVector(O1,i)}),ar(this,"lock",()=>{this.domElement&&this.domElement.requestPointerLock()}),ar(this,"unlock",()=>{this.domElement&&this.domElement.ownerDocument.exitPointerLock()}),this.camera=e,this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,t&&this.connect(t)}};var _te=Object.defineProperty,Wte=(n,e,t)=>e in n?_te(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gn=(n,e,t)=>(Wte(n,typeof e!="symbol"?e+"":e,t),t);const cf=new n1,jZ=new _l,Vte=Math.cos(70*(Math.PI/180)),JZ=(n,e)=>(n%e+e)%e;let Nte=class extends ja{constructor(e,t){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new k),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:Jg.ROTATE,MIDDLE:Jg.DOLLY,RIGHT:Jg.PAN}),gn(this,"touches",{ONE:Qg.ROTATE,TWO:Qg.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=ue=>{let Me=JZ(ue,2*Math.PI),$e=g.phi;$e<0&&($e+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let ce=Math.abs(Me-$e);2*Math.PI-ce<ce&&(Me<$e?Me+=2*Math.PI:$e+=2*Math.PI),u.phi=Me-$e,i.update()},this.setAzimuthalAngle=ue=>{let Me=JZ(ue,2*Math.PI),$e=g.theta;$e<0&&($e+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let ce=Math.abs(Me-$e);2*Math.PI-ce<ce&&(Me<$e?Me+=2*Math.PI:$e+=2*Math.PI),u.theta=Me-$e,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",je),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",je),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=s.NONE},this.update=(()=>{const ue=new k,Me=new k(0,1,0),$e=new Qt().setFromUnitVectors(e.up,Me),ce=$e.clone().invert(),Se=new k,_e=new Qt,Te=2*Math.PI;return function(){const at=i.object.position;$e.setFromUnitVectors(e.up,Me),ce.copy($e).invert(),ue.copy(at).sub(i.target),ue.applyQuaternion($e),g.setFromVector3(ue),i.autoRotate&&l===s.NONE&&K(Y()),i.enableDamping?(g.theta+=u.theta*i.dampingFactor,g.phi+=u.phi*i.dampingFactor):(g.theta+=u.theta,g.phi+=u.phi);let _t=i.minAzimuthAngle,Ft=i.maxAzimuthAngle;isFinite(_t)&&isFinite(Ft)&&(_t<-Math.PI?_t+=Te:_t>Math.PI&&(_t-=Te),Ft<-Math.PI?Ft+=Te:Ft>Math.PI&&(Ft-=Te),_t<=Ft?g.theta=Math.max(_t,Math.min(Ft,g.theta)):g.theta=g.theta>(_t+Ft)/2?Math.max(_t,g.theta):Math.min(Ft,g.theta)),g.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,g.phi)),g.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(C,i.dampingFactor):i.target.add(C),i.zoomToCursor&&q||i.object.isOrthographicCamera?g.radius=ge(g.radius):g.radius=ge(g.radius*d),ue.setFromSpherical(g),ue.applyQuaternion(ce),at.copy(i.target).add(ue),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(u.theta*=1-i.dampingFactor,u.phi*=1-i.dampingFactor,C.multiplyScalar(1-i.dampingFactor)):(u.set(0,0,0),C.set(0,0,0));let Bt=!1;if(i.zoomToCursor&&q){let ut=null;if(i.object instanceof mi&&i.object.isPerspectiveCamera){const it=ue.length();ut=ge(it*d);const an=it-ut;i.object.position.addScaledVector(Z,an),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const it=new k(M.x,M.y,0);it.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/d)),i.object.updateProjectionMatrix(),Bt=!0;const an=new k(M.x,M.y,0);an.unproject(i.object),i.object.position.sub(an).add(it),i.object.updateMatrixWorld(),ut=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;ut!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(ut).add(i.object.position):(cf.origin.copy(i.object.position),cf.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(cf.direction))<Vte?e.lookAt(i.target):(jZ.setFromNormalAndCoplanarPoint(i.object.up,i.target),cf.intersectPlane(jZ,i.target))))}else i.object instanceof Pa&&i.object.isOrthographicCamera&&(Bt=d!==1,Bt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/d)),i.object.updateProjectionMatrix()));return d=1,q=!1,Bt||Se.distanceToSquared(i.object.position)>c||8*(1-_e.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Se.copy(i.object.position),_e.copy(i.object.quaternion),Bt=!1,!0):!1}})(),this.connect=ue=>{i.domElement=ue,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",ze),i.domElement.addEventListener("pointerdown",T),i.domElement.addEventListener("pointercancel",ye),i.domElement.addEventListener("wheel",tt)},this.dispose=()=>{var ue,Me,$e,ce,Se,_e;i.domElement&&(i.domElement.style.touchAction="auto"),(ue=i.domElement)==null||ue.removeEventListener("contextmenu",ze),(Me=i.domElement)==null||Me.removeEventListener("pointerdown",T),($e=i.domElement)==null||$e.removeEventListener("pointercancel",ye),(ce=i.domElement)==null||ce.removeEventListener("wheel",tt),(Se=i.domElement)==null||Se.ownerDocument.removeEventListener("pointermove",le),(_e=i.domElement)==null||_e.ownerDocument.removeEventListener("pointerup",ye),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",je)};const i=this,r={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,g=new u8,u=new u8;let d=1;const C=new k,f=new et,b=new et,A=new et,p=new et,y=new et,B=new et,x=new et,w=new et,S=new et,Z=new k,M=new et;let q=!1;const _=[],V={};function Y(){return 2*Math.PI/60/60*i.autoRotateSpeed}function X(){return Math.pow(.95,i.zoomSpeed)}function K(ue){i.reverseOrbit||i.reverseHorizontalOrbit?u.theta+=ue:u.theta-=ue}function Q(ue){i.reverseOrbit||i.reverseVerticalOrbit?u.phi+=ue:u.phi-=ue}const z=(()=>{const ue=new k;return function($e,ce){ue.setFromMatrixColumn(ce,0),ue.multiplyScalar(-$e),C.add(ue)}})(),D=(()=>{const ue=new k;return function($e,ce){i.screenSpacePanning===!0?ue.setFromMatrixColumn(ce,1):(ue.setFromMatrixColumn(ce,0),ue.crossVectors(i.object.up,ue)),ue.multiplyScalar($e),C.add(ue)}})(),N=(()=>{const ue=new k;return function($e,ce){const Se=i.domElement;if(Se&&i.object instanceof mi&&i.object.isPerspectiveCamera){const _e=i.object.position;ue.copy(_e).sub(i.target);let Te=ue.length();Te*=Math.tan(i.object.fov/2*Math.PI/180),z(2*$e*Te/Se.clientHeight,i.object.matrix),D(2*ce*Te/Se.clientHeight,i.object.matrix)}else Se&&i.object instanceof Pa&&i.object.isOrthographicCamera?(z($e*(i.object.right-i.object.left)/i.object.zoom/Se.clientWidth,i.object.matrix),D(ce*(i.object.top-i.object.bottom)/i.object.zoom/Se.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function L(ue){i.object instanceof mi&&i.object.isPerspectiveCamera||i.object instanceof Pa&&i.object.isOrthographicCamera?d=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function P(ue){L(d/ue)}function O(ue){L(d*ue)}function ie(ue){if(!i.zoomToCursor||!i.domElement)return;q=!0;const Me=i.domElement.getBoundingClientRect(),$e=ue.clientX-Me.left,ce=ue.clientY-Me.top,Se=Me.width,_e=Me.height;M.x=$e/Se*2-1,M.y=-(ce/_e)*2+1,Z.set(M.x,M.y,1).unproject(i.object).sub(i.object.position).normalize()}function ge(ue){return Math.max(i.minDistance,Math.min(i.maxDistance,ue))}function J(ue){f.set(ue.clientX,ue.clientY)}function Ce(ue){ie(ue),x.set(ue.clientX,ue.clientY)}function ve(ue){p.set(ue.clientX,ue.clientY)}function Ae(ue){b.set(ue.clientX,ue.clientY),A.subVectors(b,f).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(K(2*Math.PI*A.x/Me.clientHeight),Q(2*Math.PI*A.y/Me.clientHeight)),f.copy(b),i.update()}function Xe(ue){w.set(ue.clientX,ue.clientY),S.subVectors(w,x),S.y>0?P(X()):S.y<0&&O(X()),x.copy(w),i.update()}function Le(ue){y.set(ue.clientX,ue.clientY),B.subVectors(y,p).multiplyScalar(i.panSpeed),N(B.x,B.y),p.copy(y),i.update()}function Ee(ue){ie(ue),ue.deltaY<0?O(X()):ue.deltaY>0&&P(X()),i.update()}function be(ue){let Me=!1;switch(ue.code){case i.keys.UP:N(0,i.keyPanSpeed),Me=!0;break;case i.keys.BOTTOM:N(0,-i.keyPanSpeed),Me=!0;break;case i.keys.LEFT:N(i.keyPanSpeed,0),Me=!0;break;case i.keys.RIGHT:N(-i.keyPanSpeed,0),Me=!0;break}Me&&(ue.preventDefault(),i.update())}function Ie(){if(_.length==1)f.set(_[0].pageX,_[0].pageY);else{const ue=.5*(_[0].pageX+_[1].pageX),Me=.5*(_[0].pageY+_[1].pageY);f.set(ue,Me)}}function pe(){if(_.length==1)p.set(_[0].pageX,_[0].pageY);else{const ue=.5*(_[0].pageX+_[1].pageX),Me=.5*(_[0].pageY+_[1].pageY);p.set(ue,Me)}}function $(){const ue=_[0].pageX-_[1].pageX,Me=_[0].pageY-_[1].pageY,$e=Math.sqrt(ue*ue+Me*Me);x.set(0,$e)}function Ge(){i.enableZoom&&$(),i.enablePan&&pe()}function Ze(){i.enableZoom&&$(),i.enableRotate&&Ie()}function Ye(ue){if(_.length==1)b.set(ue.pageX,ue.pageY);else{const $e=dt(ue),ce=.5*(ue.pageX+$e.x),Se=.5*(ue.pageY+$e.y);b.set(ce,Se)}A.subVectors(b,f).multiplyScalar(i.rotateSpeed);const Me=i.domElement;Me&&(K(2*Math.PI*A.x/Me.clientHeight),Q(2*Math.PI*A.y/Me.clientHeight)),f.copy(b)}function Ne(ue){if(_.length==1)y.set(ue.pageX,ue.pageY);else{const Me=dt(ue),$e=.5*(ue.pageX+Me.x),ce=.5*(ue.pageY+Me.y);y.set($e,ce)}B.subVectors(y,p).multiplyScalar(i.panSpeed),N(B.x,B.y),p.copy(y)}function Je(ue){const Me=dt(ue),$e=ue.pageX-Me.x,ce=ue.pageY-Me.y,Se=Math.sqrt($e*$e+ce*ce);w.set(0,Se),S.set(0,Math.pow(w.y/x.y,i.zoomSpeed)),P(S.y),x.copy(w)}function Ke(ue){i.enableZoom&&Je(ue),i.enablePan&&Ne(ue)}function U(ue){i.enableZoom&&Je(ue),i.enableRotate&&Ye(ue)}function T(ue){var Me,$e;i.enabled!==!1&&(_.length===0&&((Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointermove",le),($e=i.domElement)==null||$e.ownerDocument.addEventListener("pointerup",ye)),st(ue),ue.pointerType==="touch"?Qe(ue):Fe(ue))}function le(ue){i.enabled!==!1&&(ue.pointerType==="touch"?Rt(ue):we(ue))}function ye(ue){var Me,$e,ce;gt(ue),_.length===0&&((Me=i.domElement)==null||Me.releasePointerCapture(ue.pointerId),($e=i.domElement)==null||$e.ownerDocument.removeEventListener("pointermove",le),(ce=i.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",ye)),i.dispatchEvent(a),l=s.NONE}function Fe(ue){let Me;switch(ue.button){case 0:Me=i.mouseButtons.LEFT;break;case 1:Me=i.mouseButtons.MIDDLE;break;case 2:Me=i.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case Jg.DOLLY:if(i.enableZoom===!1)return;Ce(ue),l=s.DOLLY;break;case Jg.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(i.enablePan===!1)return;ve(ue),l=s.PAN}else{if(i.enableRotate===!1)return;J(ue),l=s.ROTATE}break;case Jg.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(i.enableRotate===!1)return;J(ue),l=s.ROTATE}else{if(i.enablePan===!1)return;ve(ue),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&i.dispatchEvent(o)}function we(ue){if(i.enabled!==!1)switch(l){case s.ROTATE:if(i.enableRotate===!1)return;Ae(ue);break;case s.DOLLY:if(i.enableZoom===!1)return;Xe(ue);break;case s.PAN:if(i.enablePan===!1)return;Le(ue);break}}function tt(ue){i.enabled===!1||i.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ue.preventDefault(),i.dispatchEvent(o),Ee(ue),i.dispatchEvent(a))}function je(ue){i.enabled===!1||i.enablePan===!1||be(ue)}function Qe(ue){switch(ot(ue),_.length){case 1:switch(i.touches.ONE){case Qg.ROTATE:if(i.enableRotate===!1)return;Ie(),l=s.TOUCH_ROTATE;break;case Qg.PAN:if(i.enablePan===!1)return;pe(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(i.touches.TWO){case Qg.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ge(),l=s.TOUCH_DOLLY_PAN;break;case Qg.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ze(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&i.dispatchEvent(o)}function Rt(ue){switch(ot(ue),l){case s.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ye(ue),i.update();break;case s.TOUCH_PAN:if(i.enablePan===!1)return;Ne(ue),i.update();break;case s.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ke(ue),i.update();break;case s.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;U(ue),i.update();break;default:l=s.NONE}}function ze(ue){i.enabled!==!1&&ue.preventDefault()}function st(ue){_.push(ue)}function gt(ue){delete V[ue.pointerId];for(let Me=0;Me<_.length;Me++)if(_[Me].pointerId==ue.pointerId){_.splice(Me,1);return}}function ot(ue){let Me=V[ue.pointerId];Me===void 0&&(Me=new et,V[ue.pointerId]=Me),Me.set(ue.pageX,ue.pageY)}function dt(ue){const Me=ue.pointerId===_[0].pointerId?_[1]:_[0];return V[Me.pointerId]}this.dollyIn=(ue=X())=>{O(ue),i.update()},this.dollyOut=(ue=X())=>{P(ue),i.update()},this.getScale=()=>d,this.setScale=ue=>{L(ue),i.update()},this.getZoomScale=()=>X(),t!==void 0&&this.connect(t),this.update()}};function B3(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,i=n.length;t<i;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const pu="srgb",Tl="srgb-linear",QZ=3001,Fte=3e3;class L7 extends Br{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Yte(t)}),this.register(function(t){return new Kte(t)}),this.register(function(t){return new Jte(t)}),this.register(function(t){return new Qte(t)}),this.register(function(t){return new $te(t)}),this.register(function(t){return new Tte(t)}),this.register(function(t){return new kte(t)}),this.register(function(t){return new Pte(t)}),this.register(function(t){return new Dte(t)}),this.register(function(t){return new zte(t)}),this.register(function(t){return new Ute(t)}),this.register(function(t){return new Lte(t)}),this.register(function(t){return new jte(t)}),this.register(function(t){return new Ote(t)}),this.register(function(t){return new Ete(t)}),this.register(function(t){return new ene(t)}),this.register(function(t){return new tne(t)})}load(e,t,i,r){const o=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=$c.extractUrlBase(e);a=$c.resolveURL(c,this.path)}else a=$c.extractUrlBase(e);this.manager.itemStart(e);const s=function(c){r?r(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new vr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,a,function(g){t(g),o.manager.itemEnd(e)},s)}catch(g){s(g)}},i,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let o;const a={},s={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(B3(new Uint8Array(e.slice(0,4)))===$F){try{a[wn.KHR_BINARY_GLTF]=new nne(e)}catch(g){r&&r(g);return}o=JSON.parse(a[wn.KHR_BINARY_GLTF].content)}else o=JSON.parse(B3(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new hne(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const g=this.pluginCallbacks[c](l);g.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),s[g.name]=g,a[g.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const g=o.extensionsUsed[c],u=o.extensionsRequired||[];switch(g){case wn.KHR_MATERIALS_UNLIT:a[g]=new Xte;break;case wn.KHR_DRACO_MESH_COMPRESSION:a[g]=new ine(o,this.dracoLoader);break;case wn.KHR_TEXTURE_TRANSFORM:a[g]=new rne;break;case wn.KHR_MESH_QUANTIZATION:a[g]=new one;break;default:u.indexOf(g)>=0&&s[g]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}l.setExtensions(a),l.setPlugins(s),l.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,o){i.parse(e,t,r,o)})}}function Hte(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const wn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Ete{constructor(e){this.parser=e,this.name=wn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const o=t[i];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const o=t.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const g=new ke(16777215);l.color!==void 0&&g.setRGB(l.color[0],l.color[1],l.color[2],Tl);const u=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new q7(g),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Z7(g),c.distance=u;break;case"spot":c=new S7(g),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,ql(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,o=i.json.nodes[e],s=(o.extensions&&o.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(l){return i._getNodeRef(t.cache,s,l)})}}class Xte{constructor(){this.name=wn.KHR_MATERIALS_UNLIT}getMaterialType(){return Qr}extendParams(e,t,i){const r=[];e.color=new ke(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const a=o.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Tl),e.opacity=a[3]}o.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",o.baseColorTexture,pu))}return Promise.all(r)}}class zte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class Yte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&o.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&o.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(o.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const s=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new et(s,s)}return Promise.all(o)}}class Kte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class Lte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&o.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&o.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(o)}}class Tte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=r.extensions[this.name];if(a.sheenColorFactor!==void 0){const s=a.sheenColorFactor;t.sheenColor.setRGB(s[0],s[1],s[2],Tl)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&o.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,pu)),a.sheenRoughnessTexture!==void 0&&o.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class kte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&o.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(o)}}class Pte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&o.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const s=a.attenuationColor||[1,1,1];return t.attenuationColor=new ke().setRGB(s[0],s[1],s[2],Tl),Promise.all(o)}}class Dte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Ute{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&o.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const s=a.specularColorFactor||[1,1,1];return t.specularColor=new ke().setRGB(s[0],s[1],s[2],Tl),a.specularColorTexture!==void 0&&o.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,pu)),Promise.all(o)}}class Ote{constructor(e){this.parser=e,this.name=wn.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&o.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(o)}}class jte{constructor(e){this.parser=e,this.name=wn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Ja}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],a=r.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&o.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(o)}}class Jte{constructor(e){this.parser=e,this.name=wn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const o=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,a)}}class Qte{constructor(e){this.parser=e,this.name=wn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const a=o.extensions[t],s=r.images[a.source];let l=i.textureLoader;if(s.uri){const c=i.options.manager.getHandler(s.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class $te{constructor(e){this.parser=e,this.name=wn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,o=r.textures[e];if(!o.extensions||!o.extensions[t])return null;const a=o.extensions[t],s=r.images[a.source];let l=i.textureLoader;if(s.uri){const c=i.options.manager.getHandler(s.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ene{constructor(e){this.name=wn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],o=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(s){const l=r.byteOffset||0,c=r.byteLength||0,g=r.count,u=r.byteStride,d=new Uint8Array(s,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(g,u,d,r.mode,r.filter).then(function(C){return C.buffer}):a.ready.then(function(){const C=new ArrayBuffer(g*u);return a.decodeGltfBuffer(new Uint8Array(C),g,u,d,r.mode,r.filter),C})})}else return null}}class tne{constructor(e){this.name=wn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==Ha.TRIANGLES&&c.mode!==Ha.TRIANGLE_STRIP&&c.mode!==Ha.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=i.extensions[this.name].attributes,s=[],l={};for(const c in a)s.push(this.parser.getDependency("accessor",a[c]).then(g=>(l[c]=g,l[c])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(c=>{const g=c.pop(),u=g.isGroup?g.children:[g],d=c[0].count,C=[];for(const f of u){const b=new vt,A=new k,p=new Qt,y=new k(1,1,1),B=new qu(f.geometry,f.material,d);for(let x=0;x<d;x++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,x),l.ROTATION&&p.fromBufferAttribute(l.ROTATION,x),l.SCALE&&y.fromBufferAttribute(l.SCALE,x),B.setMatrixAt(x,b.compose(A,p,y));for(const x in l)if(x==="_COLOR_0"){const w=l[x];B.instanceColor=new Tu(w.array,w.itemSize,w.normalized)}else x!=="TRANSLATION"&&x!=="ROTATION"&&x!=="SCALE"&&f.geometry.setAttribute(x,l[x]);Sn.prototype.copy.call(B,f),this.parser.assignFinalMaterial(B),C.push(B)}return g.isGroup?(g.clear(),g.add(...C),g):C[0]}))}}const $F="glTF",ZI=12,$Z={JSON:1313821514,BIN:5130562};class nne{constructor(e){this.name=wn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,ZI);if(this.header={magic:B3(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$F)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-ZI,r=new DataView(e,ZI);let o=0;for(;o<i;){const a=r.getUint32(o,!0);o+=4;const s=r.getUint32(o,!0);if(o+=4,s===$Z.JSON){const l=new Uint8Array(e,ZI+o,a);this.content=B3(l)}else if(s===$Z.BIN){const l=ZI+o;this.body=e.slice(l,l+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ine{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=wn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,s={},l={},c={};for(const g in a){const u=A8[g]||g.toLowerCase();s[u]=a[g]}for(const g in e.attributes){const u=A8[g]||g.toLowerCase();if(a[g]!==void 0){const d=i.accessors[e.attributes[g]],C=Hd[d.componentType];c[u]=C.name,l[u]=d.normalized===!0}}return t.getDependency("bufferView",o).then(function(g){return new Promise(function(u,d){r.decodeDracoFile(g,function(C){for(const f in C.attributes){const b=C.attributes[f],A=l[f];A!==void 0&&(b.normalized=A)}u(C)},s,c,Tl,d)})})}}class rne{constructor(){this.name=wn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class one{constructor(){this.name=wn.KHR_MESH_QUANTIZATION}}class eH extends M0{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r*3+r;for(let a=0;a!==r;a++)t[a]=i[o+a];return t}interpolate_(e,t,i,r){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=s*2,c=s*3,g=r-t,u=(i-t)/g,d=u*u,C=d*u,f=e*c,b=f-c,A=-2*C+3*d,p=C-d,y=1-A,B=p-d+u;for(let x=0;x!==s;x++){const w=a[b+x+s],S=a[b+x+l]*g,Z=a[f+x+s],M=a[f+x]*g;o[x]=y*w+B*S+A*Z+p*M}return o}}const ane=new Qt;class sne extends eH{interpolate_(e,t,i,r){const o=super.interpolate_(e,t,i,r);return ane.fromArray(o).normalize().toArray(o),o}}const Ha={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Hd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},eq={9728:br,9729:Tn,9984:gA,9985:Nd,9986:uu,9987:Ka},tq={33071:Ki,33648:$d,10497:ws},D4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},A8={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...gte>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Bc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},lne={CUBICSPLINE:void 0,LINEAR:n0,STEP:t0},U4={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function cne(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ii({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ol})),n.DefaultMaterial}function kg(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function ql(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gne(n,e,t){let i=!1,r=!1,o=!1;for(let c=0,g=e.length;c<g;c++){const u=e[c];if(u.POSITION!==void 0&&(i=!0),u.NORMAL!==void 0&&(r=!0),u.COLOR_0!==void 0&&(o=!0),i&&r&&o)break}if(!i&&!r&&!o)return Promise.resolve(n);const a=[],s=[],l=[];for(let c=0,g=e.length;c<g;c++){const u=e[c];if(i){const d=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;a.push(d)}if(r){const d=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;s.push(d)}if(o){const d=u.COLOR_0!==void 0?t.getDependency("accessor",u.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then(function(c){const g=c[0],u=c[1],d=c[2];return i&&(n.morphAttributes.position=g),r&&(n.morphAttributes.normal=u),o&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function une(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function dne(n){let e;const t=n.extensions&&n.extensions[wn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+O4(t.attributes):e=n.indices+":"+O4(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+O4(n.targets[i]);return e}function O4(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function b8(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ine(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Cne=new vt;class hne{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Hte,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,o=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&o<98?this.textureLoader=new Fr(this.options.manager):this.textureLoader=new hF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const s={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};return kg(o,s,r),ql(s,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(s)})).then(function(){for(const l of s.scenes)l.updateMatrixWorld();e(s)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,o=t.length;r<o;r++){const a=t[r].joints;for(let s=0,l=a.length;s<l;s++)e[a[s]].isBone=!0}for(let r=0,o=e.length;r<o;r++){const a=e[r];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),o=(a,s)=>{const l=this.associations.get(a);l!=null&&this.associations.set(s,l);for(const[c,g]of a.children.entries())o(g,s.children[c])};return o(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const o=e(t[r]);o&&i.push(o)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":r=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(o,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[wn.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(o,a){i.load($c.resolveURL(t.uri,r.path),o,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,o=t.byteOffset||0;return i.slice(o,o+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const a=D4[r.type],s=Hd[r.componentType],l=r.normalized===!0,c=new s(r.count*a);return Promise.resolve(new Xn(c,a,l))}const o=[];return r.bufferView!==void 0?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),r.sparse!==void 0&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then(function(a){const s=a[0],l=D4[r.type],c=Hd[r.componentType],g=c.BYTES_PER_ELEMENT,u=g*l,d=r.byteOffset||0,C=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,f=r.normalized===!0;let b,A;if(C&&C!==u){const p=Math.floor(d/C),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count;let B=t.cache.get(y);B||(b=new c(s,p*C,r.count*C/g),B=new Kh(b,C/g),t.cache.add(y,B)),A=new sg(B,l,d%C/g,f)}else s===null?b=new c(r.count*l):b=new c(s,d,r.count*l),A=new Xn(b,l,f);if(r.sparse!==void 0){const p=D4.SCALAR,y=Hd[r.sparse.indices.componentType],B=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new y(a[1],B,r.sparse.count*p),S=new c(a[2],x,r.sparse.count*l);s!==null&&(A=new Xn(A.array.slice(),A.itemSize,A.normalized));for(let Z=0,M=w.length;Z<M;Z++){const q=w[Z];if(A.setX(q,S[Z*l]),l>=2&&A.setY(q,S[Z*l+1]),l>=3&&A.setZ(q,S[Z*l+2]),l>=4&&A.setW(q,S[Z*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,o=t.textures[e].source,a=t.images[o];let s=this.textureLoader;if(a.uri){const l=i.manager.getHandler(a.uri);l!==null&&(s=l)}return this.loadTextureImage(e,o,s)}loadTextureImage(e,t,i){const r=this,o=this.json,a=o.textures[e],s=o.images[t],l=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(g){g.flipY=!1,g.name=a.name||s.name||"",g.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(g.name=s.uri);const d=(o.samplers||{})[a.sampler]||{};return g.magFilter=eq[d.magFilter]||Tn,g.minFilter=eq[d.minFilter]||Ka,g.wrapS=tq[d.wrapS]||ws,g.wrapT=tq[d.wrapT]||ws,r.associations.set(g,{textures:e}),g}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(u=>u.clone());const a=r.images[e],s=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=i.getDependency("bufferView",a.bufferView).then(function(u){c=!0;const d=new Blob([u],{type:a.mimeType});return l=s.createObjectURL(d),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const g=Promise.resolve(l).then(function(u){return new Promise(function(d,C){let f=d;t.isImageBitmapLoader===!0&&(f=function(b){const A=new Ln(b);A.needsUpdate=!0,d(A)}),t.load($c.resolveURL(u,o.path),f,void 0,C)})}).then(function(u){return c===!0&&s.revokeObjectURL(l),ql(u,a),u.userData.mimeType=a.mimeType||Ine(a.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[e]=g,g}assignTexture(e,t,i,r){const o=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),o.extensions[wn.KHR_TEXTURE_TRANSFORM]){const s=i.extensions!==void 0?i.extensions[wn.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const l=o.associations.get(a);a=o.extensions[wn.KHR_TEXTURE_TRANSFORM].extendTexture(a,s),o.associations.set(a,l)}}return r!==void 0&&(typeof r=="number"&&(r=r===QZ?pu:Tl),"colorSpace"in a?a.colorSpace=r:a.encoding=r===pu?QZ:Fte),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+i.uuid;let l=this.cache.get(s);l||(l=new xA,er.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(s,l)),i=l}else if(e.isLine){const s="LineBasicMaterial:"+i.uuid;let l=this.cache.get(s);l||(l=new io,er.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(s,l)),i=l}if(r||o||a){let s="ClonedMaterial:"+i.uuid+":";r&&(s+="derivative-tangents:"),o&&(s+="vertex-colors:"),a&&(s+="flat-shading:");let l=this.cache.get(s);l||(l=i.clone(),o&&(l.vertexColors=!0),a&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(s,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return ii}loadMaterial(e){const t=this,i=this.json,r=this.extensions,o=i.materials[e];let a;const s={},l=o.extensions||{},c=[];if(l[wn.KHR_MATERIALS_UNLIT]){const u=r[wn.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),c.push(u.extendParams(s,o,t))}else{const u=o.pbrMetallicRoughness||{};if(s.color=new ke(1,1,1),s.opacity=1,Array.isArray(u.baseColorFactor)){const d=u.baseColorFactor;s.color.setRGB(d[0],d[1],d[2],Tl),s.opacity=d[3]}u.baseColorTexture!==void 0&&c.push(t.assignTexture(s,"map",u.baseColorTexture,pu)),s.metalness=u.metallicFactor!==void 0?u.metallicFactor:1,s.roughness=u.roughnessFactor!==void 0?u.roughnessFactor:1,u.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(s,"metalnessMap",u.metallicRoughnessTexture)),c.push(t.assignTexture(s,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,s)})))}o.doubleSided===!0&&(s.side=Fo);const g=o.alphaMode||U4.OPAQUE;if(g===U4.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,g===U4.MASK&&(s.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&a!==Qr&&(c.push(t.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new et(1,1),o.normalTexture.scale!==void 0)){const u=o.normalTexture.scale;s.normalScale.set(u,u)}if(o.occlusionTexture!==void 0&&a!==Qr&&(c.push(t.assignTexture(s,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&a!==Qr){const u=o.emissiveFactor;s.emissive=new ke().setRGB(u[0],u[1],u[2],Tl)}return o.emissiveTexture!==void 0&&a!==Qr&&c.push(t.assignTexture(s,"emissiveMap",o.emissiveTexture,pu)),Promise.all(c).then(function(){const u=new a(s);return o.name&&(u.name=o.name),ql(u,o),t.associations.set(u,{materials:e}),o.extensions&&kg(r,u,o),u})}createUniqueName(e){const t=Fn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function o(s){return i[wn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,t).then(function(l){return nq(l,s,t)})}const a=[];for(let s=0,l=e.length;s<l;s++){const c=e[s],g=dne(c),u=r[g];if(u)a.push(u.promise);else{let d;c.extensions&&c.extensions[wn.KHR_DRACO_MESH_COMPRESSION]?d=o(c):d=nq(new dn,c,t),r[g]={primitive:c,promise:d},a.push(d)}}return Promise.all(a)}loadMesh(e){const t=this,i=this.json,r=this.extensions,o=i.meshes[e],a=o.primitives,s=[];for(let l=0,c=a.length;l<c;l++){const g=a[l].material===void 0?cne(this.cache):this.getDependency("material",a[l].material);s.push(g)}return s.push(t.loadGeometries(a)),Promise.all(s).then(function(l){const c=l.slice(0,l.length-1),g=l[l.length-1],u=[];for(let C=0,f=g.length;C<f;C++){const b=g[C],A=a[C];let p;const y=c[C];if(A.mode===Ha.TRIANGLES||A.mode===Ha.TRIANGLE_STRIP||A.mode===Ha.TRIANGLE_FAN||A.mode===void 0)p=o.isSkinnedMesh===!0?new d7(b,y):new pi(b,y),p.isSkinnedMesh===!0&&p.normalizeSkinWeights(),A.mode===Ha.TRIANGLE_STRIP?p.geometry=UZ(p.geometry,$y):A.mode===Ha.TRIANGLE_FAN&&(p.geometry=UZ(p.geometry,A3));else if(A.mode===Ha.LINES)p=new Zs(b,y);else if(A.mode===Ha.LINE_STRIP)p=new Jl(b,y);else if(A.mode===Ha.LINE_LOOP)p=new C7(b,y);else if(A.mode===Ha.POINTS)p=new h7(b,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(p.geometry.morphAttributes).length>0&&une(p,o),p.name=t.createUniqueName(o.name||"mesh_"+e),ql(p,o),A.extensions&&kg(r,p,A),t.assignFinalMaterial(p),u.push(p)}for(let C=0,f=u.length;C<f;C++)t.associations.set(u[C],{meshes:e,primitives:C});if(u.length===1)return o.extensions&&kg(r,u[0],o),u[0];const d=new El;o.extensions&&kg(r,d,o),t.associations.set(d,{meshes:e});for(let C=0,f=u.length;C<f;C++)d.add(u[C]);return d})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new mi(pN.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Pa(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),ql(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,o=t.joints.length;r<o;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const o=r.pop(),a=r,s=[],l=[];for(let c=0,g=a.length;c<g;c++){const u=a[c];if(u){s.push(u);const d=new vt;o!==null&&d.fromArray(o.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new I7(s,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],o=r.name?r.name:"animation_"+e,a=[],s=[],l=[],c=[],g=[];for(let u=0,d=r.channels.length;u<d;u++){const C=r.channels[u],f=r.samplers[C.sampler],b=C.target,A=b.node,p=r.parameters!==void 0?r.parameters[f.input]:f.input,y=r.parameters!==void 0?r.parameters[f.output]:f.output;b.node!==void 0&&(a.push(this.getDependency("node",A)),s.push(this.getDependency("accessor",p)),l.push(this.getDependency("accessor",y)),c.push(f),g.push(b))}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l),Promise.all(c),Promise.all(g)]).then(function(u){const d=u[0],C=u[1],f=u[2],b=u[3],A=u[4],p=[];for(let y=0,B=d.length;y<B;y++){const x=d[y],w=C[y],S=f[y],Z=b[y],M=A[y];if(x===void 0)continue;x.updateMatrix&&x.updateMatrix();const q=i._createAnimationTracks(x,w,S,Z,M);if(q)for(let _=0;_<q.length;_++)p.push(q[_])}return new a0(o,void 0,p)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(o){const a=i._getNodeRef(i.meshCache,r.mesh,o);return r.weights!==void 0&&a.traverse(function(s){if(s.isMesh)for(let l=0,c=r.weights.length;l<c;l++)s.morphTargetInfluences[l]=r.weights[l]}),a})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],o=i._loadNodeShallow(e),a=[],s=r.children||[];for(let c=0,g=s.length;c<g;c++)a.push(i.getDependency("node",s[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([o,Promise.all(a),l]).then(function(c){const g=c[0],u=c[1],d=c[2];d!==null&&g.traverse(function(C){C.isSkinnedMesh&&C.bind(d,Cne)});for(let C=0,f=u.length;C<f;C++)g.add(u[C]);return g})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],a=o.name?r.createUniqueName(o.name):"",s=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&s.push(l),o.camera!==void 0&&s.push(r.getDependency("camera",o.camera).then(function(c){return r._getNodeRef(r.cameraCache,o.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){s.push(c)}),this.nodeCache[e]=Promise.all(s).then(function(c){let g;if(o.isBone===!0?g=new BA:c.length>1?g=new El:c.length===1?g=c[0]:g=new Sn,g!==c[0])for(let u=0,d=c.length;u<d;u++)g.add(c[u]);if(o.name&&(g.userData.name=o.name,g.name=a),ql(g,o),o.extensions&&kg(i,g,o),o.matrix!==void 0){const u=new vt;u.fromArray(o.matrix),g.applyMatrix4(u)}else o.translation!==void 0&&g.position.fromArray(o.translation),o.rotation!==void 0&&g.quaternion.fromArray(o.rotation),o.scale!==void 0&&g.scale.fromArray(o.scale);return r.associations.has(g)||r.associations.set(g,{}),r.associations.get(g).nodes=e,g}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,o=new El;i.name&&(o.name=r.createUniqueName(i.name)),ql(o,i),i.extensions&&kg(t,o,i);const a=i.nodes||[],s=[];for(let l=0,c=a.length;l<c;l++)s.push(r.getDependency("node",a[l]));return Promise.all(s).then(function(l){for(let g=0,u=l.length;g<u;g++)o.add(l[g]);const c=g=>{const u=new Map;for(const[d,C]of r.associations)(d instanceof er||d instanceof Ln)&&u.set(d,C);return g.traverse(d=>{const C=r.associations.get(d);C!=null&&u.set(d,C)}),u};return r.associations=c(o),o})}_createAnimationTracks(e,t,i,r,o){const a=[],s=e.name?e.name:e.uuid,l=[];Bc[o.path]===Bc.weights?e.traverse(function(d){d.morphTargetInfluences&&l.push(d.name?d.name:d.uuid)}):l.push(s);let c;switch(Bc[o.path]){case Bc.weights:c=Pu;break;case Bc.rotation:c=Du;break;case Bc.position:case Bc.scale:c=Uu;break;default:switch(i.itemSize){case 1:c=Pu;break;case 2:case 3:default:c=Uu;break}break}const g=r.interpolation!==void 0?lne[r.interpolation]:n0,u=this._getArrayFromAccessor(i);for(let d=0,C=l.length;d<C;d++){const f=new c(l[d]+"."+Bc[o.path],t.array,u,g);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(f),a.push(f)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=b8(t.constructor),r=new Float32Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=t[o]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Du?sne:eH;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function mne(n,e,t){const i=e.attributes,r=new eo;if(i.POSITION!==void 0){const s=t.json.accessors[i.POSITION],l=s.min,c=s.max;if(l!==void 0&&c!==void 0){if(r.set(new k(l[0],l[1],l[2]),new k(c[0],c[1],c[2])),s.normalized){const g=b8(Hd[s.componentType]);r.min.multiplyScalar(g),r.max.multiplyScalar(g)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const s=new k,l=new k;for(let c=0,g=o.length;c<g;c++){const u=o[c];if(u.POSITION!==void 0){const d=t.json.accessors[u.POSITION],C=d.min,f=d.max;if(C!==void 0&&f!==void 0){if(l.setX(Math.max(Math.abs(C[0]),Math.abs(f[0]))),l.setY(Math.max(Math.abs(C[1]),Math.abs(f[1]))),l.setZ(Math.max(Math.abs(C[2]),Math.abs(f[2]))),d.normalized){const b=b8(Hd[d.componentType]);l.multiplyScalar(b)}s.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(s)}n.boundingBox=r;const a=new Mr;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=a}function nq(n,e,t){const i=e.attributes,r=[];function o(a,s){return t.getDependency("accessor",a).then(function(l){n.setAttribute(s,l)})}for(const a in i){const s=A8[a]||a.toLowerCase();s in n.attributes||r.push(o(i[a],s))}if(e.indices!==void 0&&!n.index){const a=t.getDependency("accessor",e.indices).then(function(s){n.setIndex(s)});r.push(a)}return ql(n,e),mne(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?gne(n,e.targets,t):n})}class fne extends G7{constructor(e){super(e),this.type=pr}parse(e){const a=function(M,q){switch(M){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(q||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(q||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(q||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(q||""))}},g=`
`,u=function(M,q,_){q=q||1024;let Y=M.pos,X=-1,K=0,Q="",z=String.fromCharCode.apply(null,new Uint16Array(M.subarray(Y,Y+128)));for(;0>(X=z.indexOf(g))&&K<q&&Y<M.byteLength;)Q+=z,K+=z.length,Y+=128,z+=String.fromCharCode.apply(null,new Uint16Array(M.subarray(Y,Y+128)));return-1<X?(M.pos+=K+X+1,Q+z.slice(0,X)):!1},d=function(M){const q=/^#\?(\S+)/,_=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,V=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*FORMAT=(\S+)\s*$/,X=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,K={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Q,z;for((M.pos>=M.byteLength||!(Q=u(M)))&&a(1,"no header found"),(z=Q.match(q))||a(3,"bad initial token"),K.valid|=1,K.programtype=z[1],K.string+=Q+`
`;Q=u(M),Q!==!1;){if(K.string+=Q+`
`,Q.charAt(0)==="#"){K.comments+=Q+`
`;continue}if((z=Q.match(_))&&(K.gamma=parseFloat(z[1])),(z=Q.match(V))&&(K.exposure=parseFloat(z[1])),(z=Q.match(Y))&&(K.valid|=2,K.format=z[1]),(z=Q.match(X))&&(K.valid|=4,K.height=parseInt(z[1],10),K.width=parseInt(z[2],10)),K.valid&2&&K.valid&4)break}return K.valid&2||a(3,"missing format specifier"),K.valid&4||a(3,"missing image size specifier"),K},C=function(M,q,_){const V=q;if(V<8||V>32767||M[0]!==2||M[1]!==2||M[2]&128)return new Uint8Array(M);V!==(M[2]<<8|M[3])&&a(3,"wrong scanline width");const Y=new Uint8Array(4*q*_);Y.length||a(4,"unable to allocate buffer space");let X=0,K=0;const Q=4*V,z=new Uint8Array(4),D=new Uint8Array(Q);let N=_;for(;N>0&&K<M.byteLength;){K+4>M.byteLength&&a(1),z[0]=M[K++],z[1]=M[K++],z[2]=M[K++],z[3]=M[K++],(z[0]!=2||z[1]!=2||(z[2]<<8|z[3])!=V)&&a(3,"bad rgbe scanline format");let L=0,P;for(;L<Q&&K<M.byteLength;){P=M[K++];const ie=P>128;if(ie&&(P-=128),(P===0||L+P>Q)&&a(3,"bad scanline data"),ie){const ge=M[K++];for(let J=0;J<P;J++)D[L++]=ge}else D.set(M.subarray(K,K+P),L),L+=P,K+=P}const O=V;for(let ie=0;ie<O;ie++){let ge=0;Y[X]=D[ie+ge],ge+=V,Y[X+1]=D[ie+ge],ge+=V,Y[X+2]=D[ie+ge],ge+=V,Y[X+3]=D[ie+ge],X+=4}N--}return Y},f=function(M,q,_,V){const Y=M[q+3],X=Math.pow(2,Y-128)/255;_[V+0]=M[q+0]*X,_[V+1]=M[q+1]*X,_[V+2]=M[q+2]*X,_[V+3]=1},b=function(M,q,_,V){const Y=M[q+3],X=Math.pow(2,Y-128)/255;_[V+0]=hu.toHalfFloat(Math.min(M[q+0]*X,65504)),_[V+1]=hu.toHalfFloat(Math.min(M[q+1]*X,65504)),_[V+2]=hu.toHalfFloat(Math.min(M[q+2]*X,65504)),_[V+3]=hu.toHalfFloat(1)},A=new Uint8Array(e);A.pos=0;const p=d(A),y=p.width,B=p.height,x=C(A.subarray(A.pos),y,B);let w,S,Z;switch(this.type){case wi:Z=x.length/4;const M=new Float32Array(Z*4);for(let _=0;_<Z;_++)f(x,_*4,M,_*4);w=M,S=wi;break;case pr:Z=x.length/4;const q=new Uint16Array(Z*4);for(let _=0;_<Z;_++)b(x,_*4,q,_*4);w=q,S=pr;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:y,height:B,data:w,header:p.string,gamma:p.gamma,exposure:p.exposure,type:S}}setDataType(e){return this.type=e,this}load(e,t,i,r){function o(a,s){switch(a.type){case wi:case pr:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=Tn,a.magFilter=Tn,a.generateMipmaps=!1,a.flipY=!0;break}t&&t(a,s)}return super.load(e,o,i,r)}}const qI="colorSpace"in new Ln;class pne extends G7{constructor(e){super(e),this.type=pr}parse(e){const q=Math.pow(2.7182818,2.2);function _(E,j){for(var de=0,We=0;We<65536;++We)(We==0||E[We>>3]&1<<(We&7))&&(j[de++]=We);for(var Ve=de-1;de<65536;)j[de++]=0;return Ve}function V(E){for(var j=0;j<16384;j++)E[j]={},E[j].len=0,E[j].lit=0,E[j].p=null}const Y={l:0,c:0,lc:0};function X(E,j,de,We,Ve){for(;de<E;)j=j<<8|dt(We,Ve),de+=8;de-=E,Y.l=j>>de&(1<<E)-1,Y.c=j,Y.lc=de}const K=new Array(59);function Q(E){for(var j=0;j<=58;++j)K[j]=0;for(var j=0;j<65537;++j)K[E[j]]+=1;for(var de=0,j=58;j>0;--j){var We=de+K[j]>>1;K[j]=de,de=We}for(var j=0;j<65537;++j){var Ve=E[j];Ve>0&&(E[j]=Ve|K[Ve]++<<6)}}function z(E,j,de,We,Ve,H,ee){for(var te=de,re=0,ne=0;Ve<=H;Ve++){if(te.value-de.value>We)return!1;X(6,re,ne,E,te);var Be=Y.l;if(re=Y.c,ne=Y.lc,ee[Ve]=Be,Be==63){if(te.value-de.value>We)throw"Something wrong with hufUnpackEncTable";X(8,re,ne,E,te);var Re=Y.l+6;if(re=Y.c,ne=Y.lc,Ve+Re>H+1)throw"Something wrong with hufUnpackEncTable";for(;Re--;)ee[Ve++]=0;Ve--}else if(Be>=59){var Re=Be-59+2;if(Ve+Re>H+1)throw"Something wrong with hufUnpackEncTable";for(;Re--;)ee[Ve++]=0;Ve--}}Q(ee)}function D(E){return E&63}function N(E){return E>>6}function L(E,j,de,We){for(;j<=de;j++){var Ve=N(E[j]),H=D(E[j]);if(Ve>>H)throw"Invalid table entry";if(H>14){var ee=We[Ve>>H-14];if(ee.len)throw"Invalid table entry";if(ee.lit++,ee.p){var te=ee.p;ee.p=new Array(ee.lit);for(var re=0;re<ee.lit-1;++re)ee.p[re]=te[re]}else ee.p=new Array(1);ee.p[ee.lit-1]=j}else if(H)for(var ne=0,re=1<<14-H;re>0;re--){var ee=We[(Ve<<14-H)+ne];if(ee.len||ee.p)throw"Invalid table entry";ee.len=H,ee.lit=j,ne++}}return!0}const P={c:0,lc:0};function O(E,j,de,We){E=E<<8|dt(de,We),j+=8,P.c=E,P.lc=j}const ie={c:0,lc:0};function ge(E,j,de,We,Ve,H,ee,te,re,ne){if(E==j){We<8&&(O(de,We,Ve,ee),de=P.c,We=P.lc),We-=8;var Be=de>>We,Be=new Uint8Array([Be])[0];if(re.value+Be>ne)return!1;for(var Re=te[re.value-1];Be-- >0;)te[re.value++]=Re}else if(re.value<ne)te[re.value++]=E;else return!1;ie.c=de,ie.lc=We}function J(E){return E&65535}function Ce(E){var j=J(E);return j>32767?j-65536:j}const ve={a:0,b:0};function Ae(E,j){var de=Ce(E),We=Ce(j),Ve=We,H=de+(Ve&1)+(Ve>>1),ee=H,te=H-Ve;ve.a=ee,ve.b=te}function Xe(E,j){var de=J(E),We=J(j),Ve=de-(We>>1)&65535,H=We+Ve-32768&65535;ve.a=H,ve.b=Ve}function Le(E,j,de,We,Ve,H,ee){for(var te=ee<16384,re=de>Ve?Ve:de,ne=1,Be;ne<=re;)ne<<=1;for(ne>>=1,Be=ne,ne>>=1;ne>=1;){for(var Re=0,Ct=Re+H*(Ve-Be),Ue=H*ne,lt=H*Be,pt=We*ne,rt=We*Be,Ht,Et,St,Ut;Re<=Ct;Re+=lt){for(var Xt=Re,ft=Re+We*(de-Be);Xt<=ft;Xt+=rt){var Ot=Xt+pt,Pt=Xt+Ue,yn=Pt+pt;te?(Ae(E[Xt+j],E[Pt+j]),Ht=ve.a,St=ve.b,Ae(E[Ot+j],E[yn+j]),Et=ve.a,Ut=ve.b,Ae(Ht,Et),E[Xt+j]=ve.a,E[Ot+j]=ve.b,Ae(St,Ut),E[Pt+j]=ve.a,E[yn+j]=ve.b):(Xe(E[Xt+j],E[Pt+j]),Ht=ve.a,St=ve.b,Xe(E[Ot+j],E[yn+j]),Et=ve.a,Ut=ve.b,Xe(Ht,Et),E[Xt+j]=ve.a,E[Ot+j]=ve.b,Xe(St,Ut),E[Pt+j]=ve.a,E[yn+j]=ve.b)}if(de&ne){var Pt=Xt+Ue;te?Ae(E[Xt+j],E[Pt+j]):Xe(E[Xt+j],E[Pt+j]),Ht=ve.a,E[Pt+j]=ve.b,E[Xt+j]=Ht}}if(Ve&ne)for(var Xt=Re,ft=Re+We*(de-Be);Xt<=ft;Xt+=rt){var Ot=Xt+pt;te?Ae(E[Xt+j],E[Ot+j]):Xe(E[Xt+j],E[Ot+j]),Ht=ve.a,E[Ot+j]=ve.b,E[Xt+j]=Ht}Be=ne,ne>>=1}return Re}function Ee(E,j,de,We,Ve,H,ee,te,re,ne){for(var Be=0,Re=0,Ct=te,Ue=Math.trunc(Ve.value+(H+7)/8);Ve.value<Ue;)for(O(Be,Re,de,Ve),Be=P.c,Re=P.lc;Re>=14;){var lt=Be>>Re-14&16383,pt=j[lt];if(pt.len)Re-=pt.len,ge(pt.lit,ee,Be,Re,de,We,Ve,re,ne,Ct),Be=ie.c,Re=ie.lc;else{if(!pt.p)throw"hufDecode issues";var rt;for(rt=0;rt<pt.lit;rt++){for(var Ht=D(E[pt.p[rt]]);Re<Ht&&Ve.value<Ue;)O(Be,Re,de,Ve),Be=P.c,Re=P.lc;if(Re>=Ht&&N(E[pt.p[rt]])==(Be>>Re-Ht&(1<<Ht)-1)){Re-=Ht,ge(pt.p[rt],ee,Be,Re,de,We,Ve,re,ne,Ct),Be=ie.c,Re=ie.lc;break}}if(rt==pt.lit)throw"hufDecode issues"}}var Et=8-H&7;for(Be>>=Et,Re-=Et;Re>0;){var pt=j[Be<<14-Re&16383];if(pt.len)Re-=pt.len,ge(pt.lit,ee,Be,Re,de,We,Ve,re,ne,Ct),Be=ie.c,Re=ie.lc;else throw"hufDecode issues"}return!0}function be(E,j,de,We,Ve,H){var ee={value:0},te=de.value,re=ot(j,de),ne=ot(j,de);de.value+=4;var Be=ot(j,de);if(de.value+=4,re<0||re>=65537||ne<0||ne>=65537)throw"Something wrong with HUF_ENCSIZE";var Re=new Array(65537),Ct=new Array(16384);V(Ct);var Ue=We-(de.value-te);if(z(E,j,de,Ue,re,ne,Re),Be>8*(We-(de.value-te)))throw"Something wrong with hufUncompress";L(Re,re,ne,Ct),Ee(Re,Ct,E,j,de,Be,ne,H,Ve,ee)}function Ie(E,j,de){for(var We=0;We<de;++We)j[We]=E[j[We]]}function pe(E){for(var j=1;j<E.length;j++){var de=E[j-1]+E[j]-128;E[j]=de}}function $(E,j){for(var de=0,We=Math.floor((E.length+1)/2),Ve=0,H=E.length-1;!(Ve>H||(j[Ve++]=E[de++],Ve>H));)j[Ve++]=E[We++]}function Ge(E){for(var j=E.byteLength,de=new Array,We=0,Ve=new DataView(E);j>0;){var H=Ve.getInt8(We++);if(H<0){var ee=-H;j-=ee+1;for(var te=0;te<ee;te++)de.push(Ve.getUint8(We++))}else{var ee=H;j-=2;for(var re=Ve.getUint8(We++),te=0;te<ee+1;te++)de.push(re)}}return de}function Ze(E,j,de,We,Ve,H){var Ot=new DataView(H.buffer),ee=de[E.idx[0]].width,te=de[E.idx[0]].height,re=3,ne=Math.floor(ee/8),Be=Math.ceil(ee/8),Re=Math.ceil(te/8),Ct=ee-(Be-1)*8,Ue=te-(Re-1)*8,lt={value:0},pt=new Array(re),rt=new Array(re),Ht=new Array(re),Et=new Array(re),St=new Array(re);for(let At=0;At<re;++At)St[At]=j[E.idx[At]],pt[At]=At<1?0:pt[At-1]+Be*Re,rt[At]=new Float32Array(64),Ht[At]=new Uint16Array(64),Et[At]=new Uint16Array(Be*64);for(let At=0;At<Re;++At){var Ut=8;At==Re-1&&(Ut=Ue);var Xt=8;for(let Zt=0;Zt<Be;++Zt){Zt==Be-1&&(Xt=Ct);for(let kt=0;kt<re;++kt)Ht[kt].fill(0),Ht[kt][0]=Ve[pt[kt]++],Ye(lt,We,Ht[kt]),Ne(Ht[kt],rt[kt]),Je(rt[kt]);Ke(rt);for(let kt=0;kt<re;++kt)U(rt[kt],Et[kt],Zt*64)}let nt=0;for(let Zt=0;Zt<re;++Zt){const kt=de[E.idx[Zt]].type;for(let Yt=8*At;Yt<8*At+Ut;++Yt){nt=St[Zt][Yt];for(let un=0;un<ne;++un){const Cn=un*64+(Yt&7)*8;Ot.setUint16(nt+0*2*kt,Et[Zt][Cn+0],!0),Ot.setUint16(nt+1*2*kt,Et[Zt][Cn+1],!0),Ot.setUint16(nt+2*2*kt,Et[Zt][Cn+2],!0),Ot.setUint16(nt+3*2*kt,Et[Zt][Cn+3],!0),Ot.setUint16(nt+4*2*kt,Et[Zt][Cn+4],!0),Ot.setUint16(nt+5*2*kt,Et[Zt][Cn+5],!0),Ot.setUint16(nt+6*2*kt,Et[Zt][Cn+6],!0),Ot.setUint16(nt+7*2*kt,Et[Zt][Cn+7],!0),nt+=8*2*kt}}if(ne!=Be)for(let Yt=8*At;Yt<8*At+Ut;++Yt){const un=St[Zt][Yt]+8*ne*2*kt,Cn=ne*64+(Yt&7)*8;for(let Pn=0;Pn<Xt;++Pn)Ot.setUint16(un+Pn*2*kt,Et[Zt][Cn+Pn],!0)}}}for(var ft=new Uint16Array(ee),Ot=new DataView(H.buffer),Pt=0;Pt<re;++Pt){de[E.idx[Pt]].decoded=!0;var yn=de[E.idx[Pt]].type;if(de[Pt].type==2)for(var In=0;In<te;++In){const At=St[Pt][In];for(var An=0;An<ee;++An)ft[An]=Ot.getUint16(At+An*2*yn,!0);for(var An=0;An<ee;++An)Ot.setFloat32(At+An*2*yn,Se(ft[An]),!0)}}}function Ye(E,j,de){for(var We,Ve=1;Ve<64;)We=j[E.value],We==65280?Ve=64:We>>8==255?Ve+=We&255:(de[Ve]=We,Ve++),E.value++}function Ne(E,j){j[0]=Se(E[0]),j[1]=Se(E[1]),j[2]=Se(E[5]),j[3]=Se(E[6]),j[4]=Se(E[14]),j[5]=Se(E[15]),j[6]=Se(E[27]),j[7]=Se(E[28]),j[8]=Se(E[2]),j[9]=Se(E[4]),j[10]=Se(E[7]),j[11]=Se(E[13]),j[12]=Se(E[16]),j[13]=Se(E[26]),j[14]=Se(E[29]),j[15]=Se(E[42]),j[16]=Se(E[3]),j[17]=Se(E[8]),j[18]=Se(E[12]),j[19]=Se(E[17]),j[20]=Se(E[25]),j[21]=Se(E[30]),j[22]=Se(E[41]),j[23]=Se(E[43]),j[24]=Se(E[9]),j[25]=Se(E[11]),j[26]=Se(E[18]),j[27]=Se(E[24]),j[28]=Se(E[31]),j[29]=Se(E[40]),j[30]=Se(E[44]),j[31]=Se(E[53]),j[32]=Se(E[10]),j[33]=Se(E[19]),j[34]=Se(E[23]),j[35]=Se(E[32]),j[36]=Se(E[39]),j[37]=Se(E[45]),j[38]=Se(E[52]),j[39]=Se(E[54]),j[40]=Se(E[20]),j[41]=Se(E[22]),j[42]=Se(E[33]),j[43]=Se(E[38]),j[44]=Se(E[46]),j[45]=Se(E[51]),j[46]=Se(E[55]),j[47]=Se(E[60]),j[48]=Se(E[21]),j[49]=Se(E[34]),j[50]=Se(E[37]),j[51]=Se(E[47]),j[52]=Se(E[50]),j[53]=Se(E[56]),j[54]=Se(E[59]),j[55]=Se(E[61]),j[56]=Se(E[35]),j[57]=Se(E[36]),j[58]=Se(E[48]),j[59]=Se(E[49]),j[60]=Se(E[57]),j[61]=Se(E[58]),j[62]=Se(E[62]),j[63]=Se(E[63])}function Je(E){const j=.5*Math.cos(.7853975),de=.5*Math.cos(3.14159/16),We=.5*Math.cos(3.14159/8),Ve=.5*Math.cos(3*3.14159/16),H=.5*Math.cos(5*3.14159/16),ee=.5*Math.cos(3*3.14159/8),te=.5*Math.cos(7*3.14159/16);for(var re=new Array(4),ne=new Array(4),Be=new Array(4),Re=new Array(4),Ct=0;Ct<8;++Ct){var Ue=Ct*8;re[0]=We*E[Ue+2],re[1]=ee*E[Ue+2],re[2]=We*E[Ue+6],re[3]=ee*E[Ue+6],ne[0]=de*E[Ue+1]+Ve*E[Ue+3]+H*E[Ue+5]+te*E[Ue+7],ne[1]=Ve*E[Ue+1]-te*E[Ue+3]-de*E[Ue+5]-H*E[Ue+7],ne[2]=H*E[Ue+1]-de*E[Ue+3]+te*E[Ue+5]+Ve*E[Ue+7],ne[3]=te*E[Ue+1]-H*E[Ue+3]+Ve*E[Ue+5]-de*E[Ue+7],Be[0]=j*(E[Ue+0]+E[Ue+4]),Be[3]=j*(E[Ue+0]-E[Ue+4]),Be[1]=re[0]+re[3],Be[2]=re[1]-re[2],Re[0]=Be[0]+Be[1],Re[1]=Be[3]+Be[2],Re[2]=Be[3]-Be[2],Re[3]=Be[0]-Be[1],E[Ue+0]=Re[0]+ne[0],E[Ue+1]=Re[1]+ne[1],E[Ue+2]=Re[2]+ne[2],E[Ue+3]=Re[3]+ne[3],E[Ue+4]=Re[3]-ne[3],E[Ue+5]=Re[2]-ne[2],E[Ue+6]=Re[1]-ne[1],E[Ue+7]=Re[0]-ne[0]}for(var lt=0;lt<8;++lt)re[0]=We*E[16+lt],re[1]=ee*E[16+lt],re[2]=We*E[48+lt],re[3]=ee*E[48+lt],ne[0]=de*E[8+lt]+Ve*E[24+lt]+H*E[40+lt]+te*E[56+lt],ne[1]=Ve*E[8+lt]-te*E[24+lt]-de*E[40+lt]-H*E[56+lt],ne[2]=H*E[8+lt]-de*E[24+lt]+te*E[40+lt]+Ve*E[56+lt],ne[3]=te*E[8+lt]-H*E[24+lt]+Ve*E[40+lt]-de*E[56+lt],Be[0]=j*(E[lt]+E[32+lt]),Be[3]=j*(E[lt]-E[32+lt]),Be[1]=re[0]+re[3],Be[2]=re[1]-re[2],Re[0]=Be[0]+Be[1],Re[1]=Be[3]+Be[2],Re[2]=Be[3]-Be[2],Re[3]=Be[0]-Be[1],E[0+lt]=Re[0]+ne[0],E[8+lt]=Re[1]+ne[1],E[16+lt]=Re[2]+ne[2],E[24+lt]=Re[3]+ne[3],E[32+lt]=Re[3]-ne[3],E[40+lt]=Re[2]-ne[2],E[48+lt]=Re[1]-ne[1],E[56+lt]=Re[0]-ne[0]}function Ke(E){for(var j=0;j<64;++j){var de=E[0][j],We=E[1][j],Ve=E[2][j];E[0][j]=de+1.5747*Ve,E[1][j]=de-.1873*We-.4682*Ve,E[2][j]=de+1.8556*We}}function U(E,j,de){for(var We=0;We<64;++We)j[de+We]=hu.toHalfFloat(T(E[We]))}function T(E){return E<=1?Math.sign(E)*Math.pow(Math.abs(E),2.2):Math.sign(E)*Math.pow(q,Math.abs(E)-1)}function le(E){return new DataView(E.array.buffer,E.offset.value,E.size)}function ye(E){var j=E.viewer.buffer.slice(E.offset.value,E.offset.value+E.size),de=new Uint8Array(Ge(j)),We=new Uint8Array(de.length);return pe(de),$(de,We),new DataView(We.buffer)}function Fe(E){var j=E.array.slice(E.offset.value,E.offset.value+E.size),de=lf(j),We=new Uint8Array(de.length);return pe(de),$(de,We),new DataView(We.buffer)}function we(E){for(var j=E.viewer,de={value:E.offset.value},We=new Uint16Array(E.width*E.scanlineBlockSize*(E.channels*E.type)),Ve=new Uint8Array(8192),H=0,ee=new Array(E.channels),te=0;te<E.channels;te++)ee[te]={},ee[te].start=H,ee[te].end=ee[te].start,ee[te].nx=E.width,ee[te].ny=E.lines,ee[te].size=E.type,H+=ee[te].nx*ee[te].ny*ee[te].size;var re=_e(j,de),ne=_e(j,de);if(ne>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(re<=ne)for(var te=0;te<ne-re+1;te++)Ve[te+re]=ue(j,de);var Be=new Uint16Array(65536),Re=_(Ve,Be),Ct=ot(j,de);be(E.array,j,de,Ct,We,H);for(var te=0;te<E.channels;++te)for(var Ue=ee[te],lt=0;lt<ee[te].size;++lt)Le(We,Ue.start+lt,Ue.nx,Ue.size,Ue.ny,Ue.nx*Ue.size,Re);Ie(Be,We,H);for(var pt=0,rt=new Uint8Array(We.buffer.byteLength),Ht=0;Ht<E.lines;Ht++)for(var Et=0;Et<E.channels;Et++){var Ue=ee[Et],St=Ue.nx*Ue.size,Ut=new Uint8Array(We.buffer,Ue.end*2,St*2);rt.set(Ut,pt),pt+=St*2,Ue.end+=St}return new DataView(rt.buffer)}function tt(E){var j=E.array.slice(E.offset.value,E.offset.value+E.size),de=lf(j);const We=E.lines*E.channels*E.width,Ve=E.type==1?new Uint16Array(We):new Uint32Array(We);let H=0,ee=0;const te=new Array(4);for(let re=0;re<E.lines;re++)for(let ne=0;ne<E.channels;ne++){let Be=0;switch(E.type){case 1:te[0]=H,te[1]=te[0]+E.width,H=te[1]+E.width;for(let Re=0;Re<E.width;++Re){const Ct=de[te[0]++]<<8|de[te[1]++];Be+=Ct,Ve[ee]=Be,ee++}break;case 2:te[0]=H,te[1]=te[0]+E.width,te[2]=te[1]+E.width,H=te[2]+E.width;for(let Re=0;Re<E.width;++Re){const Ct=de[te[0]++]<<24|de[te[1]++]<<16|de[te[2]++]<<8;Be+=Ct,Ve[ee]=Be,ee++}break}}return new DataView(Ve.buffer)}function je(E){var j=E.viewer,de={value:E.offset.value},We=new Uint8Array(E.width*E.lines*(E.channels*E.type*2)),Ve={version:Me(j,de),unknownUncompressedSize:Me(j,de),unknownCompressedSize:Me(j,de),acCompressedSize:Me(j,de),dcCompressedSize:Me(j,de),rleCompressedSize:Me(j,de),rleUncompressedSize:Me(j,de),rleRawSize:Me(j,de),totalAcUncompressedCount:Me(j,de),totalDcUncompressedCount:Me(j,de),acCompression:Me(j,de)};if(Ve.version<2)throw"EXRLoader.parse: "+Dt.compression+" version "+Ve.version+" is unsupported";for(var H=new Array,ee=_e(j,de)-2;ee>0;){var te=Qe(j.buffer,de),re=ue(j,de),ne=re>>2&3,Be=(re>>4)-1,Re=new Int8Array([Be])[0],Ct=ue(j,de);H.push({name:te,index:Re,type:Ct,compression:ne}),ee-=te.length+3}for(var Ue=Dt.channels,lt=new Array(E.channels),pt=0;pt<E.channels;++pt){var rt=lt[pt]={},Ht=Ue[pt];rt.name=Ht.name,rt.compression=0,rt.decoded=!1,rt.type=Ht.pixelType,rt.pLinear=Ht.pLinear,rt.width=E.width,rt.height=E.lines}for(var Et={idx:new Array(3)},St=0;St<E.channels;++St)for(var rt=lt[St],pt=0;pt<H.length;++pt){var Ut=H[pt];rt.name==Ut.name&&(rt.compression=Ut.compression,Ut.index>=0&&(Et.idx[Ut.index]=St),rt.offset=St)}if(Ve.acCompressedSize>0)switch(Ve.acCompression){case 0:var Ot=new Uint16Array(Ve.totalAcUncompressedCount);be(E.array,j,de,Ve.acCompressedSize,Ot,Ve.totalAcUncompressedCount);break;case 1:var Xt=E.array.slice(de.value,de.value+Ve.totalAcUncompressedCount),ft=lf(Xt),Ot=new Uint16Array(ft.buffer);de.value+=Ve.totalAcUncompressedCount;break}if(Ve.dcCompressedSize>0){var Pt={array:E.array,offset:de,size:Ve.dcCompressedSize},yn=new Uint16Array(Fe(Pt).buffer);de.value+=Ve.dcCompressedSize}if(Ve.rleRawSize>0){var Xt=E.array.slice(de.value,de.value+Ve.rleCompressedSize),ft=lf(Xt),In=Ge(ft.buffer);de.value+=Ve.rleCompressedSize}for(var An=0,At=new Array(lt.length),pt=0;pt<At.length;++pt)At[pt]=new Array;for(var nt=0;nt<E.lines;++nt)for(var Zt=0;Zt<lt.length;++Zt)At[Zt].push(An),An+=lt[Zt].width*E.type*2;Ze(Et,At,lt,Ot,yn,We);for(var pt=0;pt<lt.length;++pt){var rt=lt[pt];if(!rt.decoded)switch(rt.compression){case 2:for(var kt=0,Yt=0,nt=0;nt<E.lines;++nt){for(var un=At[pt][kt],Cn=0;Cn<rt.width;++Cn){for(var Pn=0;Pn<2*rt.type;++Pn)We[un++]=In[Yt+Pn*rt.width*rt.height];Yt++}kt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(We.buffer)}function Qe(E,j){for(var de=new Uint8Array(E),We=0;de[j.value+We]!=0;)We+=1;var Ve=new TextDecoder().decode(de.slice(j.value,j.value+We));return j.value=j.value+We+1,Ve}function Rt(E,j,de){var We=new TextDecoder().decode(new Uint8Array(E).slice(j.value,j.value+de));return j.value=j.value+de,We}function ze(E,j){var de=gt(E,j),We=ot(E,j);return[de,We]}function st(E,j){var de=ot(E,j),We=ot(E,j);return[de,We]}function gt(E,j){var de=E.getInt32(j.value,!0);return j.value=j.value+4,de}function ot(E,j){var de=E.getUint32(j.value,!0);return j.value=j.value+4,de}function dt(E,j){var de=E[j.value];return j.value=j.value+1,de}function ue(E,j){var de=E.getUint8(j.value);return j.value=j.value+1,de}const Me=function(E,j){let de;return"getBigInt64"in DataView.prototype?de=Number(E.getBigInt64(j.value,!0)):de=E.getUint32(j.value+4,!0)+Number(E.getUint32(j.value,!0)<<32),j.value+=8,de};function $e(E,j){var de=E.getFloat32(j.value,!0);return j.value+=4,de}function ce(E,j){return hu.toHalfFloat($e(E,j))}function Se(E){var j=(E&31744)>>10,de=E&1023;return(E>>15?-1:1)*(j?j===31?de?NaN:1/0:Math.pow(2,j-15)*(1+de/1024):6103515625e-14*(de/1024))}function _e(E,j){var de=E.getUint16(j.value,!0);return j.value+=2,de}function Te(E,j){return Se(_e(E,j))}function It(E,j,de,We){for(var Ve=de.value,H=[];de.value<Ve+We-1;){var ee=Qe(j,de),te=gt(E,de),re=ue(E,de);de.value+=3;var ne=gt(E,de),Be=gt(E,de);H.push({name:ee,pixelType:te,pLinear:re,xSampling:ne,ySampling:Be})}return de.value+=1,H}function at(E,j){var de=$e(E,j),We=$e(E,j),Ve=$e(E,j),H=$e(E,j),ee=$e(E,j),te=$e(E,j),re=$e(E,j),ne=$e(E,j);return{redX:de,redY:We,greenX:Ve,greenY:H,blueX:ee,blueY:te,whiteX:re,whiteY:ne}}function _t(E,j){var de=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],We=ue(E,j);return de[We]}function Ft(E,j){var de=ot(E,j),We=ot(E,j),Ve=ot(E,j),H=ot(E,j);return{xMin:de,yMin:We,xMax:Ve,yMax:H}}function Bt(E,j){var de=["INCREASING_Y"],We=ue(E,j);return de[We]}function ut(E,j){var de=$e(E,j),We=$e(E,j);return[de,We]}function it(E,j){var de=$e(E,j),We=$e(E,j),Ve=$e(E,j);return[de,We,Ve]}function an(E,j,de,We,Ve){if(We==="string"||We==="stringvector"||We==="iccProfile")return Rt(j,de,Ve);if(We==="chlist")return It(E,j,de,Ve);if(We==="chromaticities")return at(E,de);if(We==="compression")return _t(E,de);if(We==="box2i")return Ft(E,de);if(We==="lineOrder")return Bt(E,de);if(We==="float")return $e(E,de);if(We==="v2f")return ut(E,de);if(We==="v3f")return it(E,de);if(We==="int")return gt(E,de);if(We==="rational")return ze(E,de);if(We==="timecode")return st(E,de);if(We==="preview")return de.value+=Ve,"skipped";de.value+=Ve}function Nn(E,j,de){const We={};if(E.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";We.version=E.getUint8(4);const Ve=E.getUint8(5);We.spec={singleTile:!!(Ve&2),longName:!!(Ve&4),deepFormat:!!(Ve&8),multiPart:!!(Ve&16)},de.value=8;for(var H=!0;H;){var ee=Qe(j,de);if(ee==0)H=!1;else{var te=Qe(j,de),re=ot(E,de),ne=an(E,j,de,te,re);ne===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${te}'.`):We[ee]=ne}}if(Ve&-5)throw console.error("EXRHeader:",We),"THREE.EXRLoader: provided file is currently unsupported.";return We}function xt(E,j,de,We,Ve){const H={size:0,viewer:j,array:de,offset:We,width:E.dataWindow.xMax-E.dataWindow.xMin+1,height:E.dataWindow.yMax-E.dataWindow.yMin+1,channels:E.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:E.channels[0].pixelType,uncompress:null,getter:null,format:null,[qI?"colorSpace":"encoding"]:null};switch(E.compression){case"NO_COMPRESSION":H.lines=1,H.uncompress=le;break;case"RLE_COMPRESSION":H.lines=1,H.uncompress=ye;break;case"ZIPS_COMPRESSION":H.lines=1,H.uncompress=Fe;break;case"ZIP_COMPRESSION":H.lines=16,H.uncompress=Fe;break;case"PIZ_COMPRESSION":H.lines=32,H.uncompress=we;break;case"PXR24_COMPRESSION":H.lines=16,H.uncompress=tt;break;case"DWAA_COMPRESSION":H.lines=32,H.uncompress=je;break;case"DWAB_COMPRESSION":H.lines=256,H.uncompress=je;break;default:throw"EXRLoader.parse: "+E.compression+" is unsupported"}if(H.scanlineBlockSize=H.lines,H.type==1)switch(Ve){case wi:H.getter=Te,H.inputSize=2;break;case pr:H.getter=_e,H.inputSize=2;break}else if(H.type==2)switch(Ve){case wi:H.getter=$e,H.inputSize=4;break;case pr:H.getter=ce,H.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+H.type+" for "+E.compression+".";H.blockCount=(E.dataWindow.yMax+1)/H.scanlineBlockSize;for(var ee=0;ee<H.blockCount;ee++)Me(j,We);H.outputChannels=H.channels==3?4:H.channels;const te=H.width*H.height*H.outputChannels;switch(Ve){case wi:H.byteArray=new Float32Array(te),H.channels<H.outputChannels&&H.byteArray.fill(1,0,te);break;case pr:H.byteArray=new Uint16Array(te),H.channels<H.outputChannels&&H.byteArray.fill(15360,0,te);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ve);break}return H.bytesPerLine=H.width*H.inputSize*H.channels,H.outputChannels==4?H.format=Li:H.format=Fh,qI?H.colorSpace="srgb-linear":H.encoding=3e3,H}const bt=new DataView(e),Wt=new Uint8Array(e),Vt={value:0},Dt=Nn(bt,e,Vt),qt=xt(Dt,bt,Wt,Vt,this.type),Dn={value:0},Rn={R:0,G:1,B:2,A:3,Y:0};for(let E=0;E<qt.height/qt.scanlineBlockSize;E++){const j=ot(bt,Vt);qt.size=ot(bt,Vt),qt.lines=j+qt.scanlineBlockSize>qt.height?qt.height-j:qt.scanlineBlockSize;const We=qt.size<qt.lines*qt.bytesPerLine?qt.uncompress(qt):le(qt);Vt.value+=qt.size;for(let Ve=0;Ve<qt.scanlineBlockSize;Ve++){const H=Ve+E*qt.scanlineBlockSize;if(H>=qt.height)break;for(let ee=0;ee<qt.channels;ee++){const te=Rn[Dt.channels[ee].name];for(let re=0;re<qt.width;re++){Dn.value=(Ve*(qt.channels*qt.width)+ee*qt.width+re)*qt.inputSize;const ne=(qt.height-1-H)*(qt.width*qt.outputChannels)+re*qt.outputChannels+te;qt.byteArray[ne]=qt.getter(We,Dn)}}}}return{header:Dt,width:qt.width,height:qt.height,data:qt.byteArray,format:qt.format,[qI?"colorSpace":"encoding"]:qt[qI?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,r){function o(a,s){qI?a.colorSpace=s.colorSpace:a.encoding=s.encoding,a.minFilter=Tn,a.magFilter=Tn,a.generateMipmaps=!1,a.flipY=!1,t&&t(a,s)}return super.load(e,o,i,r)}}const j4=new WeakMap;class Ane extends Br{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const o=new vr(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,a=>{const s={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(a,s).then(t).catch(r)},i,r)}decodeDracoFile(e,t,i,r){const o={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const i=JSON.stringify(t);if(j4.has(e)){const l=j4.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const o=this.workerNextTaskID++,a=e.byteLength,s=this._getWorker(o,a).then(l=>(r=l,new Promise((c,g)=>{r._callbacks[o]={resolve:c,reject:g},r.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return s.catch(()=>!0).then(()=>{r&&o&&this._releaseTask(r,o)}),j4.set(e,{key:i,promise:s}),s}_createGeometry(e){const t=new dn;e.index&&t.setIndex(new Xn(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],o=r.name,a=r.array,s=r.itemSize;t.setAttribute(o,new Xn(a,s))}return t}_loadLibrary(e,t){const i=new vr(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,o)=>{i.load(e,r,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const o=bne.toString(),a=["/* draco decoder */",r,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(o){const a=o.data;switch(a.type){case"decode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,o){return r._taskLoad>o._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function bne(){let n,e;onmessage=function(a){const s=a.data;switch(s.type){case"init":n=s.decoderConfig,e=new Promise(function(g){n.onModuleLoaded=function(u){g({draco:u})},DracoDecoderModule(n)});break;case"decode":const l=s.buffer,c=s.taskConfig;e.then(g=>{const u=g.draco,d=new u.Decoder,C=new u.DecoderBuffer;C.Init(new Int8Array(l),l.byteLength);try{const f=t(u,d,C,c),b=f.attributes.map(A=>A.array.buffer);f.index&&b.push(f.index.array.buffer),self.postMessage({type:"decode",id:s.id,geometry:f},b)}catch(f){console.error(f),self.postMessage({type:"error",id:s.id,error:f.message})}finally{u.destroy(C),u.destroy(d)}});break}};function t(a,s,l,c){const g=c.attributeIDs,u=c.attributeTypes;let d,C;const f=s.GetEncodedGeometryType(l);if(f===a.TRIANGULAR_MESH)d=new a.Mesh,C=s.DecodeBufferToMesh(l,d);else if(f===a.POINT_CLOUD)d=new a.PointCloud,C=s.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!C.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+C.error_msg());const b={index:null,attributes:[]};for(const A in g){const p=self[u[A]];let y,B;if(c.useUniqueIDs)B=g[A],y=s.GetAttributeByUniqueId(d,B);else{if(B=s.GetAttributeId(d,a[g[A]]),B===-1)continue;y=s.GetAttribute(d,B)}b.attributes.push(r(a,s,d,A,p,y))}return f===a.TRIANGULAR_MESH&&(b.index=i(a,s,d)),a.destroy(d),b}function i(a,s,l){const g=l.num_faces()*3,u=g*4,d=a._malloc(u);s.GetTrianglesUInt32Array(l,u,d);const C=new Uint32Array(a.HEAPF32.buffer,d,g).slice();return a._free(d),{array:C,itemSize:1}}function r(a,s,l,c,g,u){const d=u.num_components(),f=l.num_points()*d,b=f*g.BYTES_PER_ELEMENT,A=o(a,g),p=a._malloc(b);s.GetAttributeDataArrayForAllPoints(l,u,A,b,p);const y=new g(a.HEAPF32.buffer,p,f).slice();return a._free(p),{name:c,array:y,itemSize:d}}function o(a,s){switch(s){case Float32Array:return a.DT_FLOAT32;case Int8Array:return a.DT_INT8;case Int16Array:return a.DT_INT16;case Int32Array:return a.DT_INT32;case Uint8Array:return a.DT_UINT8;case Uint16Array:return a.DT_UINT16;case Uint32Array:return a.DT_UINT32}}}let gf;const J4=()=>{if(gf)return gf;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),i=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=n;WebAssembly.validate(t)&&(r=e);let o;const a=WebAssembly.instantiate(s(r),{}).then(u=>{o=u.instance,o.exports.__wasm_call_ctors()});function s(u){const d=new Uint8Array(u.length);for(let f=0;f<u.length;++f){const b=u.charCodeAt(f);d[f]=b>96?b-71:b>64?b-65:b>47?b+4:b>46?63:62}let C=0;for(let f=0;f<u.length;++f)d[C++]=d[f]<60?i[d[f]]:(d[f]-60)*64+d[++f];return d.buffer.slice(0,C)}function l(u,d,C,f,b,A){const p=o.exports.sbrk,y=C+3&-4,B=p(y*f),x=p(b.length),w=new Uint8Array(o.exports.memory.buffer);w.set(b,x);const S=u(B,C,f,x,b.length);if(S===0&&A&&A(B,y,f),d.set(w.subarray(B,B+C*f)),p(B-p(0)),S!==0)throw new Error(`Malformed buffer data: ${S}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},g={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return gf={ready:a,supported:!0,decodeVertexBuffer(u,d,C,f,b){l(o.exports.meshopt_decodeVertexBuffer,u,d,C,f,o.exports[c[b]])},decodeIndexBuffer(u,d,C,f){l(o.exports.meshopt_decodeIndexBuffer,u,d,C,f)},decodeIndexSequence(u,d,C,f){l(o.exports.meshopt_decodeIndexSequence,u,d,C,f)},decodeGltfBuffer(u,d,C,f,b,A){l(o.exports[g[b]],u,d,C,f,o.exports[c[A]])}},gf};let uf=null,tH="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function nH(n=!0,e=!0,t){return i=>{t&&t(i),n&&(uf||(uf=new Ane),uf.setDecoderPath(typeof n=="string"?n:tH),i.setDRACOLoader(uf)),e&&i.setMeshoptDecoder(typeof J4=="function"?J4():J4)}}const fe=(n,e,t,i)=>Ai(L7,n,nH(e,t,i));fe.preload=(n,e,t,i)=>Ai.preload(L7,n,nH(e,t,i));fe.clear=n=>Ai.clear(L7,n);fe.setDecoderPath=n=>{tH=n};const s1=v.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},g)=>{const u=Qn(S=>S.invalidate),d=Qn(S=>S.camera),C=Qn(S=>S.gl),f=Qn(S=>S.events),b=Qn(S=>S.setEvents),A=Qn(S=>S.set),p=Qn(S=>S.get),y=Qn(S=>S.performance),B=e||d,x=i||f.connected||C.domElement,w=v.useMemo(()=>new Nte(B),[B]);return Pi(()=>{w.enabled&&w.update()},-1),v.useEffect(()=>(o&&w.connect(o===!0?x:o),w.connect(x),()=>void w.dispose()),[o,x,t,w,u]),v.useEffect(()=>{const S=q=>{u(),t&&y.regress(),a&&a(q)},Z=q=>{s&&s(q)},M=q=>{l&&l(q)};return w.addEventListener("change",S),w.addEventListener("start",Z),w.addEventListener("end",M),()=>{w.removeEventListener("start",Z),w.removeEventListener("end",M),w.removeEventListener("change",S)}},[a,s,l,w,u,b]),v.useEffect(()=>{if(n){const S=p().controls;return A({controls:w}),()=>A({controls:S})}},[n,w]),v.createElement("primitive",Lt({ref:g,object:w,enableDamping:r},c))}),vne=v.forwardRef(({domElement:n,selector:e,onChange:t,onLock:i,onUnlock:r,enabled:o=!0,makeDefault:a,...s},l)=>{const{camera:c,...g}=s,u=Qn(w=>w.setEvents),d=Qn(w=>w.gl),C=Qn(w=>w.camera),f=Qn(w=>w.invalidate),b=Qn(w=>w.events),A=Qn(w=>w.get),p=Qn(w=>w.set),y=c||C,B=n||b.connected||d.domElement,x=v.useMemo(()=>new Mte(y),[y]);return v.useEffect(()=>{if(o){x.connect(B);const w=A().events.compute;return u({compute(S,Z){const M=Z.size.width/2,q=Z.size.height/2;Z.pointer.set(M/Z.size.width*2-1,-(q/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),()=>{x.disconnect(),u({compute:w})}}},[o,x]),v.useEffect(()=>{const w=M=>{f(),t&&t(M)};x.addEventListener("change",w),i&&x.addEventListener("lock",i),r&&x.addEventListener("unlock",r);const S=()=>x.lock(),Z=e?Array.from(document.querySelectorAll(e)):[document];return Z.forEach(M=>M&&M.addEventListener("click",S)),()=>{x.removeEventListener("change",w),i&&x.removeEventListener("lock",i),r&&x.removeEventListener("unlock",r),Z.forEach(M=>M?M.removeEventListener("click",S):void 0)}},[t,i,r,e,x,f]),v.useEffect(()=>{if(a){const w=A().controls;return p({controls:x}),()=>p({controls:w})}},[a,x]),v.createElement("primitive",Lt({ref:l,object:x},g))});var iH={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(_K,function(){var t=function(){function i(C){return a.appendChild(C.dom),C}function r(C){for(var f=0;f<a.children.length;f++)a.children[f].style.display=f===C?"block":"none";o=C}var o=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(C){C.preventDefault(),r(++o%a.children.length)},!1);var s=(performance||Date).now(),l=s,c=0,g=i(new t.Panel("FPS","#0ff","#002")),u=i(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=i(new t.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:a,addPanel:i,showPanel:r,begin:function(){s=(performance||Date).now()},end:function(){c++;var C=(performance||Date).now();if(u.update(C-s,200),C>l+1e3&&(g.update(1e3*c/(C-l),100),l=C,c=0,d)){var f=performance.memory;d.update(f.usedJSHeapSize/1048576,f.jsHeapSizeLimit/1048576)}return C},update:function(){s=this.end()},domElement:a,setMode:r}};return t.Panel=function(i,r,o){var a=1/0,s=0,l=Math.round,c=l(window.devicePixelRatio||1),g=80*c,u=48*c,d=3*c,C=2*c,f=3*c,b=15*c,A=74*c,p=30*c,y=document.createElement("canvas");y.width=g,y.height=u,y.style.cssText="width:80px;height:48px";var B=y.getContext("2d");return B.font="bold "+9*c+"px Helvetica,Arial,sans-serif",B.textBaseline="top",B.fillStyle=o,B.fillRect(0,0,g,u),B.fillStyle=r,B.fillText(i,d,C),B.fillRect(f,b,A,p),B.fillStyle=o,B.globalAlpha=.9,B.fillRect(f,b,A,p),{dom:y,update:function(x,w){a=Math.min(a,x),s=Math.max(s,x),B.fillStyle=o,B.globalAlpha=1,B.fillRect(0,0,g,b),B.fillStyle=r,B.fillText(l(x)+" "+i+" ("+l(a)+"-"+l(s)+")",d,C),B.drawImage(y,f+c,b,A-c,p,f,b,A-c,p),B.fillRect(f+A-c,b,c,p),B.fillStyle=o,B.globalAlpha=.9,B.fillRect(f+A-c,b,c,l((1-x/w)*p))}}},t})})(iH);var yne=iH.exports;const Bne=y0(yne);function xne(n,e=[],t){const[i,r]=v.useState();return v.useLayoutEffect(()=>{const o=n();return r(o),()=>void 0},e),i}function Gne({showPanel:n=0,className:e,parent:t}){const i=xne(()=>new Bne,[]);return v.useEffect(()=>{if(i){const r=t&&t.current||document.body;i.showPanel(n),r==null||r.appendChild(i.dom);const o=(e??"").split(" ").filter(l=>l);o.length&&i.dom.classList.add(...o);const a=Zee(()=>i.begin()),s=qee(()=>i.end());return()=>{o.length&&i.dom.classList.remove(...o),r==null||r.removeChild(i.dom),a(),s()}}},[t,i,e,n]),null}const wne=3e3,Sne=3001,rH=(n,e,t)=>{let i;switch(n){case Po:i=new Uint8ClampedArray(e*t*4);break;case pr:i=new Uint16Array(e*t*4);break;case sl:i=new Uint32Array(e*t*4);break;case uA:i=new Int8Array(e*t*4);break;case dA:i=new Int16Array(e*t*4);break;case Nh:i=new Int32Array(e*t*4);break;case wi:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let df;const Zne=(n,e,t,i)=>{if(df!==void 0)return df;const r=new ha(1,1,i);e.setRenderTarget(r);const o=new pi(new hg,new Qr({color:16777215}));e.render(o,t),e.setRenderTarget(null);const a=rH(n,r.width,r.height);return e.readRenderTargetPixels(r,0,0,r.width,r.height,a),r.dispose(),o.geometry.dispose(),o.material.dispose(),df=a[0]!==0,df};class T7{constructor(e){var t,i,r,o,a,s,l,c,g,u,d,C,f,b,A,p;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(B){throw this._renderer.setRenderTarget(null),B}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const y={format:Li,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps:!1,magFilter:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter)!==void 0?(s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter:Tn,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:Tn,samples:((g=e.renderTargetOptions)===null||g===void 0?void 0:g.samples)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples:void 0,wrapS:((d=e.renderTargetOptions)===null||d===void 0?void 0:d.wrapS)!==void 0?(C=e.renderTargetOptions)===null||C===void 0?void 0:C.wrapS:Ki,wrapT:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapT)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapT:Ki};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=T7.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new o0,this._camera=new Pa,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Zne(this._type,this._renderer,this._camera,y)){let B;switch(this._type){case pr:B=this._renderer.extensions.has("EXT_color_buffer_float")?wi:void 0;break}B!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${wi}`),this._type=B):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new pi(new hg,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ha(this.width,this.height,y),this._renderTarget.texture.mapping=((A=e.renderTargetOptions)===null||A===void 0?void 0:A.mapping)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.mapping:og}static instantiateRenderer(){const e=new g7;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=rH(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new ys(this.toArray(),this.width,this.height,Li,this._type,(e==null?void 0:e.mapping)||og,(e==null?void 0:e.wrapS)||Ki,(e==null?void 0:e.wrapT)||Ki,(e==null?void 0:e.magFilter)||Tn,(e==null?void 0:e.minFilter)||Tn,(e==null?void 0:e.anisotropy)||1,ll);return t.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Do&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof Ln&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof Ln&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const qne=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Rne=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Mne extends Do{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:r,gainMapMax:o,maxDisplayBoost:a,hdrCapacityMin:s,hdrCapacityMax:l,sdr:c,gainMap:g}){super({name:"GainMapDecoderMaterial",vertexShader:qne,fragmentShader:Rne,uniforms:{sdr:{value:c},gainMap:{value:g},gamma:{value:new k(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new k().fromArray(t)},offsetSdr:{value:new k().fromArray(i)},gainMapMin:{value:new k().fromArray(r)},gainMapMax:{value:new k().fromArray(o)},weightFactor:{value:(Math.log2(a)-s)/(l-s)}},blending:el,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=a,this._hdrCapacityMin=s,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class oH extends Error{}class aH extends Error{}const RI=(n,e,t)=>{var i;let r;const o=(i=n.attributes.getNamedItem(e))===null||i===void 0?void 0:i.nodeValue;if(o)r=o;else{const a=n.getElementsByTagName(e)[0];if(a){const s=a.getElementsByTagName("rdf:li");if(s.length===3)r=Array.from(s).map(l=>l.innerHTML);else throw new Error(`Gainmap metadata contains an array of items for ${e} but its length is not 3`)}else{if(t)return t;throw new Error(`Can't find ${e} in gainmap metadata`)}}return r},_ne=n=>{var e,t;let i;typeof TextDecoder<"u"?i=new TextDecoder().decode(n):i=n.toString();let r=i.indexOf("<x:xmpmeta");const o=new DOMParser;for(;r!==-1;){const a=i.indexOf("x:xmpmeta>",r);i.slice(r,a+10);const s=i.slice(r,a+10);try{const c=o.parseFromString(s,"text/xml").getElementsByTagName("rdf:Description")[0],g=RI(c,"hdrgm:GainMapMin","0"),u=RI(c,"hdrgm:GainMapMax"),d=RI(c,"hdrgm:Gamma","1"),C=RI(c,"hdrgm:OffsetSDR","0.015625"),f=RI(c,"hdrgm:OffsetHDR","0.015625");let b=(e=c.attributes.getNamedItem("hdrgm:HDRCapacityMin"))===null||e===void 0?void 0:e.nodeValue;b||(b="0");const A=(t=c.attributes.getNamedItem("hdrgm:HDRCapacityMax"))===null||t===void 0?void 0:t.nodeValue;if(!A)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(g)?g.map(p=>parseFloat(p)):[parseFloat(g),parseFloat(g),parseFloat(g)],gainMapMax:Array.isArray(u)?u.map(p=>parseFloat(p)):[parseFloat(u),parseFloat(u),parseFloat(u)],gamma:Array.isArray(d)?d.map(p=>parseFloat(p)):[parseFloat(d),parseFloat(d),parseFloat(d)],offsetSdr:Array.isArray(C)?C.map(p=>parseFloat(p)):[parseFloat(C),parseFloat(C),parseFloat(C)],offsetHdr:Array.isArray(f)?f.map(p=>parseFloat(p)):[parseFloat(f),parseFloat(f),parseFloat(f)],hdrCapacityMin:parseFloat(b),hdrCapacityMax:parseFloat(A)}}catch{}r=i.indexOf("<x:xmpmeta",a)}};class Wne{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const r=this.options.debug,o=new DataView(e.buffer);if(o.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const a=o.byteLength;let s=2,l=0,c;for(;s<a;){if(++l>250){i(new Error(`Found no marker after ${l} loops 😵`));return}if(o.getUint8(s)!==255){i(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${o.getUint8(s).toString(16)}`));return}if(c=o.getUint8(s+1),r&&console.log(`Marker: ${c.toString(16)}`),c===226){r&&console.log("Found APP2 marker (0xffe2)");const g=s+4;if(o.getUint32(g)===1297106432){const u=g+4;let d;if(o.getUint16(u)===18761)d=!1;else if(o.getUint16(u)===19789)d=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(o.getUint16(u+2,!d)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const C=o.getUint32(u+4,!d);if(C<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const f=u+C,b=o.getUint16(f,!d),A=f+2;let p=0;for(let w=A;w<A+12*b;w+=12)o.getUint16(w,!d)===45057&&(p=o.getUint32(w+8,!d));const B=f+2+b*12+4,x=[];for(let w=B;w<B+p*16;w+=16){const S={MPType:o.getUint32(w,!d),size:o.getUint32(w+4,!d),dataOffset:o.getUint32(w+8,!d),dependantImages:o.getUint32(w+12,!d),start:-1,end:-1,isFII:!1};S.dataOffset?(S.start=u+S.dataOffset,S.isFII=!1):(S.start=0,S.isFII=!0),S.end=S.start+S.size,x.push(S)}if(this.options.extractNonFII&&x.length){const w=new Blob([o]),S=[];for(const Z of x){if(Z.isFII&&!this.options.extractFII)continue;const M=w.slice(Z.start,Z.end+1,"image/jpeg");S.push(M)}t(S)}}}s+=2+o.getUint16(s+2)}})}}const Vne=async n=>{const e=_ne(n);if(!e)throw new aH("Gain map XMP metadata not found");const i=await new Wne({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new oH("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},iq=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=r=>{t(r)},i.src=URL.createObjectURL(n)});class sH extends Br{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new EA}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Mne({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Ln,sdr:new Ln});return new T7({width:16,height:16,type:pr,colorSpace:ll,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,r){const o=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([i],{type:"image/jpeg"});let s,l,c=!1;if(typeof createImageBitmap>"u"){const d=await Promise.all([o?iq(o):Promise.resolve(void 0),iq(a)]);l=d[0],s=d[1],c=!0}else{const d=await Promise.all([o?createImageBitmap(o,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:"flipY"})]);l=d[0],s=d[1]}const g=new Ln(l||new ImageData(2,2),og,Ki,Ki,Tn,e8,Li,Po,1,ll);g.flipY=c,g.needsUpdate=!0;const u=new Ln(s,og,Ki,Ki,Tn,e8,Li,Po,1,Co);u.flipY=c,u.needsUpdate=!0,e.width=s.width,e.height=s.height,e.material.gainMap=g,e.material.sdr=u,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Nne extends sH{load([e,t,i],r,o,a){const s=this.prepareQuadRenderer();let l,c,g;const u=async()=>{if(l&&c&&g){try{await this.render(s,g,l,c)}catch(q){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof a=="function"&&a(q),s.disposeOnDemandRenderer();return}typeof r=="function"&&r(s),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),s.disposeOnDemandRenderer()}};let d=!0,C=0,f=0,b=!0,A=0,p=0,y=!0,B=0,x=0;const w=()=>{if(typeof o=="function"){const q=C+A+B,_=f+p+x,V=d&&b&&y;o(new ProgressEvent("progress",{lengthComputable:V,loaded:_,total:q}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const S=new vr(this._internalLoadingManager);S.setResponseType("arraybuffer"),S.setRequestHeader(this.requestHeader),S.setPath(this.path),S.setWithCredentials(this.withCredentials),S.load(e,async q=>{if(typeof q=="string")throw new Error("Invalid sdr buffer");l=q,await u()},q=>{d=q.lengthComputable,f=q.loaded,C=q.total,w()},q=>{this.manager.itemError(e),typeof a=="function"&&a(q)});const Z=new vr(this._internalLoadingManager);Z.setResponseType("arraybuffer"),Z.setRequestHeader(this.requestHeader),Z.setPath(this.path),Z.setWithCredentials(this.withCredentials),Z.load(t,async q=>{if(typeof q=="string")throw new Error("Invalid gainmap buffer");c=q,await u()},q=>{b=q.lengthComputable,p=q.loaded,A=q.total,w()},q=>{this.manager.itemError(t),typeof a=="function"&&a(q)});const M=new vr(this._internalLoadingManager);return M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(i,async q=>{if(typeof q!="string")throw new Error("Invalid metadata string");g=JSON.parse(q),await u()},q=>{y=q.lengthComputable,x=q.loaded,B=q.total,w()},q=>{this.manager.itemError(i),typeof a=="function"&&a(q)}),s}}class Fne extends sH{load(e,t,i,r){const o=this.prepareQuadRenderer(),a=new vr(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async s=>{if(typeof s=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(s);let c,g,u;try{const d=await Vne(l);c=d.sdr,g=d.gainMap,u=d.metadata}catch(d){if(d instanceof aH||d instanceof oH)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),u={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw d}try{await this.render(o,u,c,g)}catch(d){this.manager.itemError(e),typeof r=="function"&&r(d),o.disposeOnDemandRenderer();return}typeof t=="function"&&t(o),this.manager.itemEnd(e),o.disposeOnDemandRenderer()},i,s=>{this.manager.itemError(e),typeof r=="function"&&r(s)}),o}}const ih={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},lH="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Ed=n=>Array.isArray(n),k7=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function zA({files:n=k7,path:e="",preset:t=void 0,encoding:i=void 0,extensions:r}={}){let o=null,a=!1;t&&(P7(t),n=ih[t],e=lH),a=Ed(n);const{extension:s,isCubemap:l}=D7(n);if(o=U7(s),!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);const c=Qn(C=>C.gl);v.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function C(){Ai.clear(o,a?[n]:n)}c.domElement.addEventListener("webglcontextlost",C,{once:!0})},[n,c.domElement]);const g=Ai(o,a?[n]:n,C=>{(s==="webp"||s==="jpg"||s==="jpeg")&&C.setRenderer(c),C.setPath==null||C.setPath(e),r&&r(C)});let u=a?g[0]:g;if(s==="jpg"||s==="jpeg"||s==="webp"){var d;u=(d=u.renderTarget)==null?void 0:d.texture}return u.mapping=l?al:Qd,"colorSpace"in u?u.colorSpace=i??l?"srgb":"srgb-linear":u.encoding=i??l?Sne:wne,u}const Hne={files:k7,path:"",preset:void 0,extensions:void 0};zA.preload=n=>{const e={...Hne,...n};let{files:t,path:i=""}=e;const{preset:r,extensions:o}=e;r&&(P7(r),t=ih[r],i=lH);const{extension:a}=D7(t);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=U7(a);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ai.preload(s,Ed(t)?[t]:t,l=>{l.setPath==null||l.setPath(i),o&&o(l)})};const Ene={files:k7,preset:void 0};zA.clear=n=>{const e={...Ene,...n};let{files:t}=e;const{preset:i}=e;i&&(P7(i),t=ih[i]);const{extension:r}=D7(t),o=U7(r);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+t);Ai.clear(o,Ed(t)?[t]:t)};function P7(n){if(!(n in ih))throw new Error("Preset must be one of: "+Object.keys(ih).join(", "))}function D7(n){var e;const t=Ed(n)&&n.length===6,i=Ed(n)&&n.length===3&&n.some(a=>a.endsWith("json")),r=Ed(n)?n[0]:n;return{extension:t?"cube":i?"webp":r.startsWith("data:application/exr")?"exr":r.startsWith("data:application/hdr")?"hdr":r.startsWith("data:image/jpeg")?"jpg":(e=r.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function U7(n){return n==="cube"?sF:n==="hdr"?fne:n==="exr"?pne:n==="jpg"||n==="jpeg"?Fne:n==="webp"?Nne:null}const Xne=n=>n.current&&n.current.isScene,zne=n=>Xne(n)?n.current:n;function O7(n,e,t,i,r={}){var o,a,s,l,c;r={backgroundBlurriness:(o=r.blur)!==null&&o!==void 0?o:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...r};const g=zne(e||t),u=g.background,d=g.environment,C={backgroundBlurriness:g.backgroundBlurriness,backgroundIntensity:g.backgroundIntensity,backgroundRotation:(a=(s=g.backgroundRotation)==null||s.clone==null?void 0:s.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:g.environmentIntensity,environmentRotation:(l=(c=g.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return n!=="only"&&(g.environment=i),n&&(g.background=i),Rc(g,r),()=>{n!=="only"&&(g.environment=d),n&&(g.background=u),Rc(g,C)}}function j7({scene:n,background:e=!1,map:t,...i}){const r=Qn(o=>o.scene);return v.useLayoutEffect(()=>{if(t)return O7(e,n,r,t,i)}),null}function cH({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:o,environmentIntensity:a,environmentRotation:s,...l}){const c=zA(l),g=Qn(u=>u.scene);return v.useLayoutEffect(()=>O7(n,e,g,c,{blur:t,backgroundBlurriness:i,backgroundIntensity:r,backgroundRotation:o,environmentIntensity:a,environmentRotation:s})),null}function Yne({children:n,near:e=1,far:t=1e3,resolution:i=256,frames:r=1,map:o,background:a=!1,blur:s,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:g,environmentIntensity:u,environmentRotation:d,scene:C,files:f,path:b,preset:A=void 0,extensions:p}){const y=Qn(M=>M.gl),B=Qn(M=>M.scene),x=v.useRef(null),[w]=v.useState(()=>new o0),S=v.useMemo(()=>{const M=new AA(i);return M.texture.type=pr,M},[i]);v.useLayoutEffect(()=>(r===1&&x.current.update(y,w),O7(a,C,B,S.texture,{blur:s,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:g,environmentIntensity:u,environmentRotation:d})),[n,w,S.texture,C,B,a,r,y]);let Z=1;return Pi(()=>{(r===1/0||Z<r)&&(x.current.update(y,w),Z++)}),v.createElement(v.Fragment,null,Nee(v.createElement(v.Fragment,null,n,v.createElement("cubeCamera",{ref:x,args:[e,t,S]}),f||A?v.createElement(cH,{background:!0,files:f,preset:A,path:b,extensions:p}):o?v.createElement(j7,{background:!0,map:o,extensions:p}):null),w))}function Kne(n){var e,t,i,r;const o=zA(n),a=n.map||o;v.useMemo(()=>xr({GroundProjectedEnvImpl:Gte}),[]);const s=v.useMemo(()=>[a],[a]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,g=(i=(r=n.ground)==null?void 0:r.scale)!==null&&i!==void 0?i:1e3;return v.createElement(v.Fragment,null,v.createElement(j7,Lt({},n,{map:a})),v.createElement("groundProjectedEnvImpl",{args:s,scale:g,height:l,radius:c}))}function Lne(n){return n.ground?v.createElement(Kne,n):n.map?v.createElement(j7,n):n.children?v.createElement(Yne,n):v.createElement(cH,n)}function _0({all:n,scene:e,camera:t}){const i=Qn(({gl:a})=>a),r=Qn(({camera:a})=>a),o=Qn(({scene:a})=>a);return v.useLayoutEffect(()=>{const a=[];n&&(e||o).traverse(c=>{c.visible===!1&&(a.push(c),c.visible=!0)}),i.compile(e||o,t||r);const s=new AA(128);new o7(.01,1e5,s).update(i,e||o),s.dispose(),a.forEach(c=>c.visible=!1)},[]),null}const Tne=v.createContext(null);function kne({iterations:n=10,ms:e=250,threshold:t=.75,step:i=.1,factor:r=.5,flipflops:o=1/0,bounds:a=d=>d>100?[60,100]:[40,60],onIncline:s,onDecline:l,onChange:c,onFallback:g,children:u}){const d=Math.pow(10,0),[C,f]=v.useState(()=>({fps:0,index:0,factor:r,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:A=>{const p=Symbol();return C.subscriptions.set(p,A.current),()=>void C.subscriptions.delete(p)}}));let b=0;return Pi(()=>{const{frames:A,averages:p}=C;if(!C.fallback&&p.length<n){A.push(performance.now());const y=A[A.length-1]-A[0];if(y>=e){if(C.fps=Math.round(A.length/y*1e3*d)/d,C.refreshrate=Math.max(C.refreshrate,C.fps),p[C.index++%n]=C.fps,p.length===n){const[B,x]=a(C.refreshrate),w=p.filter(Z=>Z>=x),S=p.filter(Z=>Z<B);w.length>n*t&&(C.factor=Math.min(1,C.factor+i),C.flipped++,s&&s(C),C.subscriptions.forEach(Z=>Z.onIncline&&Z.onIncline(C))),S.length>n*t&&(C.factor=Math.max(0,C.factor-i),C.flipped++,l&&l(C),C.subscriptions.forEach(Z=>Z.onDecline&&Z.onDecline(C))),b!==C.factor&&(b=C.factor,c&&c(C),C.subscriptions.forEach(Z=>Z.onChange&&Z.onChange(C))),C.flipped>o&&!C.fallback&&(C.fallback=!0,g&&g(C),C.subscriptions.forEach(Z=>Z.onFallback&&Z.onFallback(C))),C.averages=[]}C.frames=[]}}}),v.createElement(Tne.Provider,{value:C},u)}var gH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=r(o,i(s)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=r(a,s));return a}function r(o,a){return a?o?o+" "+a:o+a:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(gH);var Pne=gH.exports;const ct=y0(Pne);var uH={exports:{}},jn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J7=Symbol.for("react.element"),Q7=Symbol.for("react.portal"),YA=Symbol.for("react.fragment"),KA=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),TA=Symbol.for("react.provider"),kA=Symbol.for("react.context"),Dne=Symbol.for("react.server_context"),PA=Symbol.for("react.forward_ref"),DA=Symbol.for("react.suspense"),UA=Symbol.for("react.suspense_list"),OA=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),Une=Symbol.for("react.offscreen"),dH;dH=Symbol.for("react.module.reference");function Qa(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case J7:switch(n=n.type,n){case YA:case LA:case KA:case DA:case UA:return n;default:switch(n=n&&n.$$typeof,n){case Dne:case kA:case PA:case jA:case OA:case TA:return n;default:return e}}case Q7:return e}}}jn.ContextConsumer=kA;jn.ContextProvider=TA;jn.Element=J7;jn.ForwardRef=PA;jn.Fragment=YA;jn.Lazy=jA;jn.Memo=OA;jn.Portal=Q7;jn.Profiler=LA;jn.StrictMode=KA;jn.Suspense=DA;jn.SuspenseList=UA;jn.isAsyncMode=function(){return!1};jn.isConcurrentMode=function(){return!1};jn.isContextConsumer=function(n){return Qa(n)===kA};jn.isContextProvider=function(n){return Qa(n)===TA};jn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===J7};jn.isForwardRef=function(n){return Qa(n)===PA};jn.isFragment=function(n){return Qa(n)===YA};jn.isLazy=function(n){return Qa(n)===jA};jn.isMemo=function(n){return Qa(n)===OA};jn.isPortal=function(n){return Qa(n)===Q7};jn.isProfiler=function(n){return Qa(n)===LA};jn.isStrictMode=function(n){return Qa(n)===KA};jn.isSuspense=function(n){return Qa(n)===DA};jn.isSuspenseList=function(n){return Qa(n)===UA};jn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===YA||n===LA||n===KA||n===DA||n===UA||n===Une||typeof n=="object"&&n!==null&&(n.$$typeof===jA||n.$$typeof===OA||n.$$typeof===TA||n.$$typeof===kA||n.$$typeof===PA||n.$$typeof===dH||n.getModuleId!==void 0)};jn.typeOf=Qa;uH.exports=jn;var AC=uH.exports;function cl(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return Gt.Children.forEach(n,function(i){i==null&&!e.keepEmpty||(Array.isArray(i)?t=t.concat(cl(i)):AC.isFragment(i)&&i.props?t=t.concat(cl(i.props.children,e)):t.push(i))}),t}var v8={},One=function(e){};function jne(n,e){}function Jne(n,e){}function Qne(){v8={}}function IH(n,e,t){!e&&!v8[t]&&(n(!1,t),v8[t]=!0)}function _r(n,e){IH(jne,n,e)}function $ne(n,e){IH(Jne,n,e)}_r.preMessage=One;_r.resetWarned=Qne;_r.noteOnce=$ne;function sn(n){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(n)}function eie(n,e){if(sn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(sn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CH(n){var e=eie(n,"string");return sn(e)=="symbol"?e:e+""}function me(n,e,t){return(e=CH(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function he(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rq(Object(t),!0).forEach(function(i){me(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function rh(n){return n instanceof HTMLElement||n instanceof SVGElement}function tie(n){return n&&sn(n)==="object"&&rh(n.nativeElement)?n.nativeElement:rh(n)?n:null}function bC(n){var e=tie(n);if(e)return e;if(n instanceof Gt.Component){var t;return(t=P6.findDOMNode)===null||t===void 0?void 0:t.call(P6,n)}return null}function Jh(n,e,t){var i=v.useRef({});return(!("value"in i.current)||t(i.current.condition,e))&&(i.current.value=n(),i.current.condition=e),i.current.value}var $7=function(e,t){typeof e=="function"?e(t):sn(e)==="object"&&e&&"current"in e&&(e.current=t)},W0=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);return r.length<=1?r[0]:function(o){t.forEach(function(a){$7(a,o)})}},l1=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Jh(function(){return W0.apply(void 0,t)},t,function(r,o){return r.length!==o.length||r.every(function(a,s){return a!==o[s]})})},Qh=function(e){var t,i,r=AC.isMemo(e)?e.type.type:e.type;return!(typeof r=="function"&&!((t=r.prototype)!==null&&t!==void 0&&t.render)&&r.$$typeof!==AC.ForwardRef||typeof e=="function"&&!((i=e.prototype)!==null&&i!==void 0&&i.render)&&e.$$typeof!==AC.ForwardRef)};function oq(n){return v.isValidElement(n)&&!AC.isFragment(n)}Number(v.version.split(".")[0])>=19;var y8=v.createContext(null);function nie(n){var e=n.children,t=n.onBatchResize,i=v.useRef(0),r=v.useRef([]),o=v.useContext(y8),a=v.useCallback(function(s,l,c){i.current+=1;var g=i.current;r.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){g===i.current&&(t==null||t(r.current),r.current=[])}),o==null||o(s,l,c)},[t,o]);return v.createElement(y8.Provider,{value:a},e)}var hH=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,o){return r[0]===t?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var a=o[r];t.call(i,a[1],a[0])}},e}()}(),B8=typeof window<"u"&&typeof document<"u"&&window.document===document,x3=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),iie=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(x3):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),rie=2;function oie(n,e){var t=!1,i=!1,r=0;function o(){t&&(t=!1,n()),i&&s()}function a(){iie(o)}function s(){var l=Date.now();if(t){if(l-r<rie)return;i=!0}else t=!0,i=!1,setTimeout(a,e);r=l}return s}var aie=20,sie=["top","right","bottom","left","width","height","size","weight"],lie=typeof MutationObserver<"u",cie=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=oie(this.refresh.bind(this),aie)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!B8||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),lie?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!B8||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=sie.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),mH=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},l0=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||x3},fH=JA(0,0,0,0);function G3(n){return parseFloat(n)||0}function aq(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var o=n["border-"+r+"-width"];return i+G3(o)},0)}function gie(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var o=r[i],a=n["padding-"+o];t[o]=G3(a)}return t}function uie(n){var e=n.getBBox();return JA(0,0,e.width,e.height)}function die(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return fH;var i=l0(n).getComputedStyle(n),r=gie(i),o=r.left+r.right,a=r.top+r.bottom,s=G3(i.width),l=G3(i.height);if(i.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=aq(i,"left","right")+o),Math.round(l+a)!==t&&(l-=aq(i,"top","bottom")+a)),!Cie(n)){var c=Math.round(s+o)-e,g=Math.round(l+a)-t;Math.abs(c)!==1&&(s-=c),Math.abs(g)!==1&&(l-=g)}return JA(r.left,r.top,s,l)}var Iie=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof l0(n).SVGGraphicsElement}:function(n){return n instanceof l0(n).SVGElement&&typeof n.getBBox=="function"}}();function Cie(n){return n===l0(n).document.documentElement}function hie(n){return B8?Iie(n)?uie(n):die(n):fH}function mie(n){var e=n.x,t=n.y,i=n.width,r=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return mH(a,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),a}function JA(n,e,t,i){return{x:n,y:e,width:t,height:i}}var fie=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=JA(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=hie(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),pie=function(){function n(e,t){var i=mie(t);mH(this,{target:e,contentRect:i})}return n}(),Aie=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new hH,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof l0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new fie(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof l0(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new pie(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),pH=typeof WeakMap<"u"?new WeakMap:new hH,AH=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=cie.getInstance(),i=new Aie(e,t,this);pH.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){AH.prototype[n]=function(){var e;return(e=pH.get(this))[n].apply(e,arguments)}});var bie=function(){return typeof x3.ResizeObserver<"u"?x3.ResizeObserver:AH}(),Hc=new Map;function vie(n){n.forEach(function(e){var t,i=e.target;(t=Hc.get(i))===null||t===void 0||t.forEach(function(r){return r(i)})})}var bH=new bie(vie);function yie(n,e){Hc.has(n)||(Hc.set(n,new Set),bH.observe(n)),Hc.get(n).add(e)}function Bie(n,e){Hc.has(n)&&(Hc.get(n).delete(e),Hc.get(n).size||(bH.unobserve(n),Hc.delete(n)))}function tr(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sq(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,CH(i.key),i)}}function nr(n,e,t){return e&&sq(n.prototype,e),t&&sq(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function oh(n,e){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},oh(n,e)}function nc(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&oh(n,e)}function ah(n){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ah(n)}function eB(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!n})()}function Gn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function xie(n,e){if(e&&(sn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(n)}function ic(n){var e=eB();return function(){var t,i=ah(n);if(e){var r=ah(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return xie(this,t)}}var Gie=function(n){nc(t,n);var e=ic(t);function t(){return tr(this,t),e.apply(this,arguments)}return nr(t,[{key:"render",value:function(){return this.props.children}}]),t}(v.Component);function wie(n,e){var t=n.children,i=n.disabled,r=v.useRef(null),o=v.useRef(null),a=v.useContext(y8),s=typeof t=="function",l=s?t(r):t,c=v.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),g=!s&&v.isValidElement(l)&&Qh(l),u=g?l.ref:null,d=l1(u,r),C=function(){var p;return bC(r.current)||(r.current&&sn(r.current)==="object"?bC((p=r.current)===null||p===void 0?void 0:p.nativeElement):null)||bC(o.current)};v.useImperativeHandle(e,function(){return C()});var f=v.useRef(n);f.current=n;var b=v.useCallback(function(A){var p=f.current,y=p.onResize,B=p.data,x=A.getBoundingClientRect(),w=x.width,S=x.height,Z=A.offsetWidth,M=A.offsetHeight,q=Math.floor(w),_=Math.floor(S);if(c.current.width!==q||c.current.height!==_||c.current.offsetWidth!==Z||c.current.offsetHeight!==M){var V={width:q,height:_,offsetWidth:Z,offsetHeight:M};c.current=V;var Y=Z===Math.round(w)?w:Z,X=M===Math.round(S)?S:M,K=he(he({},V),{},{offsetWidth:Y,offsetHeight:X});a==null||a(K,A,B),y&&Promise.resolve().then(function(){y(K,A)})}},[]);return v.useEffect(function(){var A=C();return A&&!i&&yie(A,b),function(){return Bie(A,b)}},[r.current,i]),v.createElement(Gie,{ref:o},g?v.cloneElement(l,{ref:d}):l)}var Sie=v.forwardRef(wie),Zie="rc-observer-key";function qie(n,e){var t=n.children,i=typeof t=="function"?[t]:cl(t);return i.map(function(r,o){var a=(r==null?void 0:r.key)||"".concat(Zie,"-").concat(o);return v.createElement(Sie,Lt({},n,{key:a,ref:o===0?e:void 0}),r)})}var c1=v.forwardRef(qie);c1.Collection=nie;function $a(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(i){delete t[i]}),t}function x8(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Rie(n){if(Array.isArray(n))return x8(n)}function vH(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tB(n,e){if(n){if(typeof n=="string")return x8(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x8(n,e):void 0}}function Mie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nt(n){return Rie(n)||vH(n)||tB(n)||Mie()}var yH=function(e){return+setTimeout(e,16)},BH=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(yH=function(e){return window.requestAnimationFrame(e)},BH=function(e){return window.cancelAnimationFrame(e)});var lq=0,nB=new Map;function xH(n){nB.delete(n)}var Si=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;lq+=1;var i=lq;function r(o){if(o===0)xH(i),e();else{var a=yH(function(){r(o-1)});nB.set(i,a)}}return r(t),i};Si.cancel=function(n){var e=nB.get(n);return xH(n),BH(e)};function GH(n){if(Array.isArray(n))return n}function _ie(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,o,a,s=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(s.push(i.value),s.length!==e);l=!0);}catch(g){c=!0,r=g}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}function wH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pe(n,e){return GH(n)||_ie(n,e)||tB(n,e)||wH()}function sh(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function bo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function G8(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var cq="data-rc-order",gq="data-rc-priority",Wie="rc-util-key",w8=new Map;function SH(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Wie}function QA(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Vie(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function iB(n){return Array.from((w8.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function ZH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!bo())return null;var t=e.csp,i=e.prepend,r=e.priority,o=r===void 0?0:r,a=Vie(i),s=a==="prependQueue",l=document.createElement("style");l.setAttribute(cq,a),s&&o&&l.setAttribute(gq,"".concat(o)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=QA(e),g=c.firstChild;if(i){if(s){var u=(e.styles||iB(c)).filter(function(d){if(!["prepend","prependQueue"].includes(d.getAttribute(cq)))return!1;var C=Number(d.getAttribute(gq)||0);return o>=C});if(u.length)return c.insertBefore(l,u[u.length-1].nextSibling),l}c.insertBefore(l,g)}else c.appendChild(l);return l}function qH(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=QA(e);return(e.styles||iB(t)).find(function(i){return i.getAttribute(SH(e))===n})}function lh(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=qH(n,e);if(t){var i=QA(e);i.removeChild(t)}}function Nie(n,e){var t=w8.get(n);if(!t||!G8(document,t)){var i=ZH("",e),r=i.parentNode;w8.set(n,r),n.removeChild(i)}}function kl(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=QA(t),r=iB(i),o=he(he({},t),{},{styles:r});Nie(i,o);var a=qH(e,o);if(a){var s,l;if((s=o.csp)!==null&&s!==void 0&&s.nonce&&a.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;a.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return a.innerHTML!==n&&(a.innerHTML=n),a}var g=ZH(n,o);return g.setAttribute(SH(o),e),g}function Fie(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function _n(n,e){if(n==null)return{};var t,i,r=Fie(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)t=o[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function ch(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function r(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=i.has(o);if(_r(!l,"Warning: There may be circular references"),l)return!1;if(o===a)return!0;if(t&&s>1)return!1;i.add(o);var c=s+1;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var g=0;g<o.length;g++)if(!r(o[g],a[g],c))return!1;return!0}if(o&&a&&sn(o)==="object"&&sn(a)==="object"){var u=Object.keys(o);return u.length!==Object.keys(a).length?!1:u.every(function(d){return r(o[d],a[d],c)})}return!1}return r(n,e)}var Hie="%";function S8(n){return n.join(Hie)}var Eie=function(){function n(e){tr(this,n),me(this,"instanceId",void 0),me(this,"cache",new Map),this.instanceId=e}return nr(n,[{key:"get",value:function(t){return this.opGet(S8(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,i){return this.opUpdate(S8(t),i)}},{key:"opUpdate",value:function(t,i){var r=this.cache.get(t),o=i(r);o===null?this.cache.delete(t):this.cache.set(t,o)}}]),n}(),c0="data-token-hash",Bs="data-css-hash",Ec="__cssinjs_instance__";function Xie(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Bs,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(r){r[Ec]=r[Ec]||n,r[Ec]===n&&document.head.insertBefore(r,t)});var i={};Array.from(document.querySelectorAll("style[".concat(Bs,"]"))).forEach(function(r){var o=r.getAttribute(Bs);if(i[o]){if(r[Ec]===n){var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)}}else i[o]=!0})}return new Eie(n)}var $A=v.createContext({hashPriority:"low",cache:Xie(),defaultCache:!0});function zie(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var rB=function(){function n(){tr(this,n),me(this,"cache",void 0),me(this,"keys",void 0),me(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return nr(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var i,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a={map:this.cache};return t.forEach(function(s){if(!a)a=void 0;else{var l;a=(l=a)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(s)}}),(i=a)!==null&&i!==void 0&&i.value&&o&&(a.value[1]=this.cacheCallTimes++),(r=a)===null||r===void 0?void 0:r.value}},{key:"get",value:function(t){var i;return(i=this.internalGet(t,!0))===null||i===void 0?void 0:i[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,i){var r=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,g){var u=Pe(c,2),d=u[1];return r.internalGet(g)[1]<d?[g,r.internalGet(g)[1]]:c},[this.keys[0],this.cacheCallTimes]),a=Pe(o,1),s=a[0];this.delete(s)}this.keys.push(t)}var l=this.cache;t.forEach(function(c,g){if(g===t.length-1)l.set(c,{value:[i,r.cacheCallTimes++]});else{var u=l.get(c);u?u.map||(u.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(t,i){var r=t.get(i[0]);if(i.length===1){var o;return r.map?t.set(i[0],{map:r.map}):t.delete(i[0]),(o=r.value)===null||o===void 0?void 0:o[0]}var a=this.deleteByPath(r.map,i.slice(1));return(!r.map||r.map.size===0)&&!r.value&&t.delete(i[0]),a}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(i){return!zie(i,t)}),this.deleteByPath(this.cache,t)}}]),n}();me(rB,"MAX_CACHE_SIZE",20);me(rB,"MAX_CACHE_OFFSET",5);var uq=0,RH=function(){function n(e){tr(this,n),me(this,"derivatives",void 0),me(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=uq,e.length===0&&(e.length>0,void 0),uq+=1}return nr(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(i,r){return r(t,i)},void 0)}}]),n}(),Q4=new rB;function Z8(n){var e=Array.isArray(n)?n:[n];return Q4.has(e)||Q4.set(e,new RH(e)),Q4.get(e)}var Yie=new WeakMap,$4={};function Kie(n,e){for(var t=Yie,i=0;i<e.length;i+=1){var r=e[i];t.has(r)||t.set(r,new WeakMap),t=t.get(r)}return t.has($4)||t.set($4,n()),t.get($4)}var dq=new WeakMap;function vC(n){var e=dq.get(n)||"";return e||(Object.keys(n).forEach(function(t){var i=n[t];e+=t,i instanceof RH?e+=i.id:i&&sn(i)==="object"?e+=vC(i):e+=i}),e=sh(e),dq.set(n,e)),e}function Iq(n,e){return sh("".concat(e,"_").concat(vC(n)))}var q8=bo();function mt(n){return typeof n=="number"?"".concat(n,"px"):n}function w3(n,e,t){var i,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return n;var a=he(he({},r),{},(i={},me(i,c0,e),me(i,Bs,t),i)),s=Object.keys(a).map(function(l){var c=a[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(s,">").concat(n,"</style>")}var Of=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Lie=function(e,t,i){return Object.keys(e).length?".".concat(t).concat(i!=null&&i.scope?".".concat(i.scope):"","{").concat(Object.entries(e).map(function(r){var o=Pe(r,2),a=o[0],s=o[1];return"".concat(a,":").concat(s,";")}).join(""),"}"):""},MH=function(e,t,i){var r={},o={};return Object.entries(e).forEach(function(a){var s,l,c=Pe(a,2),g=c[0],u=c[1];if(i!=null&&(s=i.preserve)!==null&&s!==void 0&&s[g])o[g]=u;else if((typeof u=="string"||typeof u=="number")&&!(i!=null&&(l=i.ignore)!==null&&l!==void 0&&l[g])){var d,C=Of(g,i==null?void 0:i.prefix);r[C]=typeof u=="number"&&!(i!=null&&(d=i.unitless)!==null&&d!==void 0&&d[g])?"".concat(u,"px"):String(u),o[g]="var(".concat(C,")")}}),[o,Lie(r,t,{scope:i==null?void 0:i.scope})]},Cq=bo()?v.useLayoutEffect:v.useEffect,ui=function(e,t){var i=v.useRef(!0);Cq(function(){return e(i.current)},t),Cq(function(){return i.current=!1,function(){i.current=!0}},[])},hq=function(e,t){ui(function(i){if(!i)return e()},t)},Tie=he({},Zh),mq=Tie.useInsertionEffect,kie=function(e,t,i){v.useMemo(e,i),ui(function(){return t(!0)},i)},Pie=mq?function(n,e,t){return mq(function(){return n(),e()},t)}:kie,Die=he({},Zh),Uie=Die.useInsertionEffect,Oie=function(e){var t=[],i=!1;function r(o){i||t.push(o)}return v.useEffect(function(){return i=!1,function(){i=!0,t.length&&t.forEach(function(o){return o()})}},e),r},jie=function(){return function(e){e()}},Jie=typeof Uie<"u"?Oie:jie;function oB(n,e,t,i,r){var o=v.useContext($A),a=o.cache,s=[n].concat(Nt(e)),l=S8(s),c=Jie([l]),g=function(f){a.opUpdate(l,function(b){var A=b||[void 0,void 0],p=Pe(A,2),y=p[0],B=y===void 0?0:y,x=p[1],w=x,S=w||t(),Z=[B,S];return f?f(Z):Z})};v.useMemo(function(){g()},[l]);var u=a.opGet(l),d=u[1];return Pie(function(){r==null||r(d)},function(C){return g(function(f){var b=Pe(f,2),A=b[0],p=b[1];return C&&A===0&&(r==null||r(d)),[A+1,p]}),function(){a.opUpdate(l,function(f){var b=f||[],A=Pe(b,2),p=A[0],y=p===void 0?0:p,B=A[1],x=y-1;return x===0?(c(function(){(C||!a.opGet(l))&&(i==null||i(B,!1))}),null):[y-1,B]})}},[l]),d}var Qie={},$ie="css",iu=new Map;function ere(n){iu.set(n,(iu.get(n)||0)+1)}function tre(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(c0,'="').concat(n,'"]'));t.forEach(function(i){if(i[Ec]===e){var r;(r=i.parentNode)===null||r===void 0||r.removeChild(i)}})}}var nre=0;function ire(n,e){iu.set(n,(iu.get(n)||0)-1);var t=Array.from(iu.keys()),i=t.filter(function(r){var o=iu.get(r)||0;return o<=0});t.length-i.length>nre&&i.forEach(function(r){tre(r,e),iu.delete(r)})}var rre=function(e,t,i,r){var o=i.getDerivativeToken(e),a=he(he({},o),t);return r&&(a=r(a)),a},_H="token";function ore(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=v.useContext($A),r=i.cache.instanceId,o=i.container,a=t.salt,s=a===void 0?"":a,l=t.override,c=l===void 0?Qie:l,g=t.formatToken,u=t.getComputedToken,d=t.cssVar,C=Kie(function(){return Object.assign.apply(Object,[{}].concat(Nt(e)))},e),f=vC(C),b=vC(c),A=d?vC(d):"",p=oB(_H,[s,n.id,f,b,A],function(){var y,B=u?u(C,c,n):rre(C,c,n,g),x=he({},B),w="";if(d){var S=MH(B,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),Z=Pe(S,2);B=Z[0],w=Z[1]}var M=Iq(B,s);B._tokenKey=M,x._tokenKey=Iq(x,s);var q=(y=d==null?void 0:d.key)!==null&&y!==void 0?y:M;B._themeKey=q,ere(q);var _="".concat($ie,"-").concat(sh(M));return B._hashId=_,[B,_,x,w,(d==null?void 0:d.key)||""]},function(y){ire(y[0]._themeKey,r)},function(y){var B=Pe(y,4),x=B[0],w=B[3];if(d&&w){var S=kl(w,sh("css-variables-".concat(x._themeKey)),{mark:Bs,prepend:"queue",attachTo:o,priority:-999});S[Ec]=r,S.setAttribute(c0,x._themeKey)}});return p}var are=function(e,t,i){var r=Pe(e,5),o=r[2],a=r[3],s=r[4],l=i||{},c=l.plain;if(!a)return null;var g=o._tokenKey,u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},C=w3(a,s,g,d,c);return[u,g,C]},sre={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WH="comm",VH="rule",NH="decl",lre="@import",cre="@keyframes",gre="@layer",FH=Math.abs,aB=String.fromCharCode;function HH(n){return n.trim()}function jf(n,e,t){return n.replace(e,t)}function ure(n,e,t){return n.indexOf(e,t)}function gh(n,e){return n.charCodeAt(e)|0}function g0(n,e,t){return n.slice(e,t)}function ks(n){return n.length}function dre(n){return n.length}function If(n,e){return e.push(n),n}var e5=1,u0=1,EH=0,Oa=0,Qi=0,V0="";function sB(n,e,t,i,r,o,a,s){return{value:n,root:e,parent:t,type:i,props:r,children:o,line:e5,column:u0,length:a,return:"",siblings:s}}function Ire(){return Qi}function Cre(){return Qi=Oa>0?gh(V0,--Oa):0,u0--,Qi===10&&(u0=1,e5--),Qi}function xs(){return Qi=Oa<EH?gh(V0,Oa++):0,u0++,Qi===10&&(u0=1,e5++),Qi}function Xc(){return gh(V0,Oa)}function Jf(){return Oa}function t5(n,e){return g0(V0,n,e)}function uh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hre(n){return e5=u0=1,EH=ks(V0=n),Oa=0,[]}function mre(n){return V0="",n}function eb(n){return HH(t5(Oa-1,R8(n===91?n+2:n===40?n+1:n)))}function fre(n){for(;(Qi=Xc())&&Qi<33;)xs();return uh(n)>2||uh(Qi)>3?"":" "}function pre(n,e){for(;--e&&xs()&&!(Qi<48||Qi>102||Qi>57&&Qi<65||Qi>70&&Qi<97););return t5(n,Jf()+(e<6&&Xc()==32&&xs()==32))}function R8(n){for(;xs();)switch(Qi){case n:return Oa;case 34:case 39:n!==34&&n!==39&&R8(Qi);break;case 40:n===41&&R8(n);break;case 92:xs();break}return Oa}function Are(n,e){for(;xs()&&n+Qi!==57;)if(n+Qi===84&&Xc()===47)break;return"/*"+t5(e,Oa-1)+"*"+aB(n===47?n:xs())}function bre(n){for(;!uh(Xc());)xs();return t5(n,Oa)}function vre(n){return mre(Qf("",null,null,null,[""],n=hre(n),0,[0],n))}function Qf(n,e,t,i,r,o,a,s,l){for(var c=0,g=0,u=a,d=0,C=0,f=0,b=1,A=1,p=1,y=0,B="",x=r,w=o,S=i,Z=B;A;)switch(f=y,y=xs()){case 40:if(f!=108&&gh(Z,u-1)==58){ure(Z+=jf(eb(y),"&","&\f"),"&\f",FH(c?s[c-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:Z+=eb(y);break;case 9:case 10:case 13:case 32:Z+=fre(f);break;case 92:Z+=pre(Jf()-1,7);continue;case 47:switch(Xc()){case 42:case 47:If(yre(Are(xs(),Jf()),e,t,l),l),(uh(f||1)==5||uh(Xc()||1)==5)&&ks(Z)&&g0(Z,-1,void 0)!==" "&&(Z+=" ");break;default:Z+="/"}break;case 123*b:s[c++]=ks(Z)*p;case 125*b:case 59:case 0:switch(y){case 0:case 125:A=0;case 59+g:p==-1&&(Z=jf(Z,/\f/g,"")),C>0&&(ks(Z)-u||b===0&&f===47)&&If(C>32?pq(Z+";",i,t,u-1,l):pq(jf(Z," ","")+";",i,t,u-2,l),l);break;case 59:Z+=";";default:if(If(S=fq(Z,e,t,c,g,r,s,B,x=[],w=[],u,o),o),y===123)if(g===0)Qf(Z,e,S,S,x,o,u,s,w);else switch(d===99&&gh(Z,3)===110?100:d){case 100:case 108:case 109:case 115:Qf(n,S,S,i&&If(fq(n,S,S,0,0,r,s,B,r,x=[],u,w),w),r,w,u,s,i?x:w);break;default:Qf(Z,S,S,S,[""],w,0,s,w)}}c=g=C=0,b=p=1,B=Z="",u=a;break;case 58:u=1+ks(Z),C=f;default:if(b<1){if(y==123)--b;else if(y==125&&b++==0&&Cre()==125)continue}switch(Z+=aB(y),y*b){case 38:p=g>0?1:(Z+="\f",-1);break;case 44:s[c++]=(ks(Z)-1)*p,p=1;break;case 64:Xc()===45&&(Z+=eb(xs())),d=Xc(),g=u=ks(B=Z+=bre(Jf())),y++;break;case 45:f===45&&ks(Z)==2&&(b=0)}}return o}function fq(n,e,t,i,r,o,a,s,l,c,g,u){for(var d=r-1,C=r===0?o:[""],f=dre(C),b=0,A=0,p=0;b<i;++b)for(var y=0,B=g0(n,d+1,d=FH(A=a[b])),x=n;y<f;++y)(x=HH(A>0?C[y]+" "+B:jf(B,/&\f/g,C[y])))&&(l[p++]=x);return sB(n,e,t,r===0?VH:s,l,c,g,u)}function yre(n,e,t,i){return sB(n,e,t,WH,aB(Ire()),g0(n,2,-2),0,i)}function pq(n,e,t,i,r){return sB(n,e,t,NH,g0(n,0,i),g0(n,i+1,-1),i,r)}function M8(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function Bre(n,e,t,i){switch(n.type){case gre:if(n.children.length)break;case lre:case NH:return n.return=n.return||n.value;case WH:return"";case cre:return n.return=n.value+"{"+M8(n.children,i)+"}";case VH:if(!ks(n.value=n.props.join(",")))return""}return ks(t=M8(n.children,i))?n.return=n.value+"{"+t+"}":""}var Aq="data-ant-cssinjs-cache-path",XH="_FILE_STYLE__",Mu,zH=!0;function xre(){if(!Mu&&(Mu={},bo())){var n=document.createElement("div");n.className=Aq,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(r){var o=r.split(":"),a=Pe(o,2),s=a[0],l=a[1];Mu[s]=l});var t=document.querySelector("style[".concat(Aq,"]"));if(t){var i;zH=!1,(i=t.parentNode)===null||i===void 0||i.removeChild(t)}document.body.removeChild(n)}}function Gre(n){return xre(),!!Mu[n]}function wre(n){var e=Mu[n],t=null;if(e&&bo())if(zH)t=XH;else{var i=document.querySelector("style[".concat(Bs,'="').concat(Mu[n],'"]'));i?t=i.innerHTML:delete Mu[n]}return[t,e]}var Sre="_skip_check_",YH="_multi_value_";function $f(n){var e=M8(vre(n),Bre);return e.replace(/\{%%%\:[^;];}/g,";")}function Zre(n){return sn(n)==="object"&&n&&(Sre in n||YH in n)}function bq(n,e,t){if(!e)return n;var i=".".concat(e),r=t==="low"?":where(".concat(i,")"):i,o=n.split(",").map(function(a){var s,l=a.trim().split(/\s+/),c=l[0]||"",g=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c="".concat(g).concat(r).concat(c.slice(g.length)),[c].concat(Nt(l.slice(1))).join(" ")});return o.join(",")}var qre=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=i.root,o=i.injectHash,a=i.parentSelectors,s=t.hashId,l=t.layer;t.path;var c=t.hashPriority,g=t.transformers,u=g===void 0?[]:g;t.linters;var d="",C={};function f(p){var y=p.getName(s);if(!C[y]){var B=n(p.style,t,{root:!1,parentSelectors:a}),x=Pe(B,1),w=x[0];C[y]="@keyframes ".concat(p.getName(s)).concat(w)}}function b(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return p.forEach(function(B){Array.isArray(B)?b(B,y):B&&y.push(B)}),y}var A=b(Array.isArray(e)?e:[e]);return A.forEach(function(p){var y=typeof p=="string"&&!r?{}:p;if(typeof y=="string")d+="".concat(y,`
`);else if(y._keyframe)f(y);else{var B=u.reduce(function(x,w){var S;return(w==null||(S=w.visit)===null||S===void 0?void 0:S.call(w,x))||x},y);Object.keys(B).forEach(function(x){var w=B[x];if(sn(w)==="object"&&w&&(x!=="animationName"||!w._keyframe)&&!Zre(w)){var S=!1,Z=x.trim(),M=!1;(r||o)&&s?Z.startsWith("@")?S=!0:Z==="&"?Z=bq("",s,c):Z=bq(x,s,c):r&&!s&&(Z==="&"||Z==="")&&(Z="",M=!0);var q=n(w,t,{root:M,injectHash:S,parentSelectors:[].concat(Nt(a),[Z])}),_=Pe(q,2),V=_[0],Y=_[1];C=he(he({},C),Y),d+="".concat(Z).concat(V)}else{let Q=function(z,D){var N=z.replace(/[A-Z]/g,function(P){return"-".concat(P.toLowerCase())}),L=D;!sre[z]&&typeof L=="number"&&L!==0&&(L="".concat(L,"px")),z==="animationName"&&D!==null&&D!==void 0&&D._keyframe&&(f(D),L=D.getName(s)),d+="".concat(N,":").concat(L,";")};var X,K=(X=w==null?void 0:w.value)!==null&&X!==void 0?X:w;sn(w)==="object"&&w!==null&&w!==void 0&&w[YH]&&Array.isArray(K)?K.forEach(function(z){Q(x,z)}):Q(x,K)}})}}),r?l&&(d="@layer ".concat(l.name," {").concat(d,"}"),l.dependencies&&(C["@layer ".concat(l.name)]=l.dependencies.map(function(p){return"@layer ".concat(p,", ").concat(l.name,";")}).join(`
`))):d="{".concat(d,"}"),[d,C]};function KH(n,e){return sh("".concat(n.join("%")).concat(e))}function Rre(){return null}var LH="style";function _8(n,e){var t=n.token,i=n.path,r=n.hashId,o=n.layer,a=n.nonce,s=n.clientOnly,l=n.order,c=l===void 0?0:l,g=v.useContext($A),u=g.autoClear;g.mock;var d=g.defaultCache,C=g.hashPriority,f=g.container,b=g.ssrInline,A=g.transformers,p=g.linters,y=g.cache,B=g.layer,x=t._tokenKey,w=[x];B&&w.push("layer"),w.push.apply(w,Nt(i));var S=q8,Z=oB(LH,w,function(){var Y=w.join("|");if(Gre(Y)){var X=wre(Y),K=Pe(X,2),Q=K[0],z=K[1];if(Q)return[Q,x,z,{},s,c]}var D=e(),N=qre(D,{hashId:r,hashPriority:C,layer:B?o:void 0,path:i.join("-"),transformers:A,linters:p}),L=Pe(N,2),P=L[0],O=L[1],ie=$f(P),ge=KH(w,ie);return[ie,x,ge,O,s,c]},function(Y,X){var K=Pe(Y,3),Q=K[2];(X||u)&&q8&&lh(Q,{mark:Bs})},function(Y){var X=Pe(Y,4),K=X[0];X[1];var Q=X[2],z=X[3];if(S&&K!==XH){var D={mark:Bs,prepend:B?!1:"queue",attachTo:f,priority:c},N=typeof a=="function"?a():a;N&&(D.csp={nonce:N});var L=[],P=[];Object.keys(z).forEach(function(ie){ie.startsWith("@layer")?L.push(ie):P.push(ie)}),L.forEach(function(ie){kl($f(z[ie]),"_layer-".concat(ie),he(he({},D),{},{prepend:!0}))});var O=kl(K,Q,D);O[Ec]=y.instanceId,O.setAttribute(c0,x),P.forEach(function(ie){kl($f(z[ie]),"_effect-".concat(ie),D)})}}),M=Pe(Z,3),q=M[0],_=M[1],V=M[2];return function(Y){var X;if(!b||S||!d)X=v.createElement(Rre,null);else{var K;X=v.createElement("style",Lt({},(K={},me(K,c0,_),me(K,Bs,V),K),{dangerouslySetInnerHTML:{__html:q}}))}return v.createElement(v.Fragment,null,X,Y)}}var Mre=function(e,t,i){var r=Pe(e,6),o=r[0],a=r[1],s=r[2],l=r[3],c=r[4],g=r[5],u=i||{},d=u.plain;if(c)return null;var C=o,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)};return C=w3(o,a,s,f,d),l&&Object.keys(l).forEach(function(b){if(!t[b]){t[b]=!0;var A=$f(l[b]),p=w3(A,a,"_effect-".concat(b),f,d);b.startsWith("@layer")?C=p+C:C+=p}}),[g,s,C]},TH="cssVar",_re=function(e,t){var i=e.key,r=e.prefix,o=e.unitless,a=e.ignore,s=e.token,l=e.scope,c=l===void 0?"":l,g=v.useContext($A),u=g.cache.instanceId,d=g.container,C=s._tokenKey,f=[].concat(Nt(e.path),[i,c,C]),b=oB(TH,f,function(){var A=t(),p=MH(A,i,{prefix:r,unitless:o,ignore:a,scope:c}),y=Pe(p,2),B=y[0],x=y[1],w=KH(f,x);return[B,x,w,i]},function(A){var p=Pe(A,3),y=p[2];q8&&lh(y,{mark:Bs})},function(A){var p=Pe(A,3),y=p[1],B=p[2];if(y){var x=kl(y,B,{mark:Bs,prepend:"queue",attachTo:d,priority:-999});x[Ec]=u,x.setAttribute(c0,i)}});return b},Wre=function(e,t,i){var r=Pe(e,4),o=r[1],a=r[2],s=r[3],l=i||{},c=l.plain;if(!o)return null;var g=-999,u={"data-rc-order":"prependQueue","data-rc-priority":"".concat(g)},d=w3(o,s,a,u,c);return[g,a,d]},MI;MI={},me(MI,LH,Mre),me(MI,_H,are),me(MI,TH,Wre);var kn=function(){function n(e,t){tr(this,n),me(this,"name",void 0),me(this,"style",void 0),me(this,"_keyframe",!0),this.name=e,this.style=t}return nr(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function j1(n){return n.notSplit=!0,n}j1(["borderTop","borderBottom"]),j1(["borderTop"]),j1(["borderBottom"]),j1(["borderLeft","borderRight"]),j1(["borderLeft"]),j1(["borderRight"]);var lB=v.createContext({});function kH(n){return GH(n)||vH(n)||tB(n)||wH()}function js(n,e){for(var t=n,i=0;i<e.length;i+=1){if(t==null)return;t=t[e[i]]}return t}function PH(n,e,t,i){if(!e.length)return t;var r=kH(e),o=r[0],a=r.slice(1),s;return!n&&typeof o=="number"?s=[]:Array.isArray(n)?s=Nt(n):s=he({},n),i&&t===void 0&&a.length===1?delete s[o][a[0]]:s[o]=PH(s[o],a,t,i),s}function ms(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&i&&t===void 0&&!js(n,e.slice(0,-1))?n:PH(n,e,t,i)}function Vre(n){return sn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function vq(n){return Array.isArray(n)?[]:{}}var Nre=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function xd(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=vq(e[0]);return e.forEach(function(r){function o(a,s){var l=new Set(s),c=js(r,a),g=Array.isArray(c);if(g||Vre(c)){if(!l.has(c)){l.add(c);var u=js(i,a);g?i=ms(i,a,[]):(!u||sn(u)!=="object")&&(i=ms(i,a,vq(c))),Nre(c).forEach(function(d){o([].concat(Nt(a),[d]),l)})}}else i=ms(i,a,c)}o([])}),i}function Fre(){}const Hre=v.createContext({}),DH=()=>{const n=()=>{};return n.deprecated=Fre,n},Ere=v.createContext(void 0);var Xre={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},zre={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Yre=he(he({},zre),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const UH={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},yq={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Yre),timePickerLocale:Object.assign({},UH)},ta="${label} is not a valid ${type}",Ou={locale:"en",Pagination:Xre,DatePicker:yq,TimePicker:UH,Calendar:yq,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ta,method:ta,array:ta,object:ta,number:ta,date:ta,boolean:ta,integer:ta,float:ta,regexp:ta,email:ta,url:ta,hex:ta},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let ep=Object.assign({},Ou.Modal),tp=[];const Bq=()=>tp.reduce((n,e)=>Object.assign(Object.assign({},n),e),Ou.Modal);function Kre(n){if(n){const e=Object.assign({},n);return tp.push(e),ep=Bq(),()=>{tp=tp.filter(t=>t!==e),ep=Bq()}}ep=Object.assign({},Ou.Modal)}function OH(){return ep}const cB=v.createContext(void 0),N0=(n,e)=>{const t=v.useContext(cB),i=v.useMemo(()=>{var o;const a=e||Ou[n],s=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof a=="function"?a():a),s||{})},[n,e,t]),r=v.useMemo(()=>{const o=t==null?void 0:t.locale;return t!=null&&t.exist&&!o?Ou.locale:o},[t]);return[i,r]},Lre="internalMark",Tre=n=>{const{locale:e={},children:t,_ANT_MARK__:i}=n;v.useEffect(()=>Kre(e==null?void 0:e.Modal),[e]);const r=v.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return v.createElement(cB.Provider,{value:r},t)};function Wr(n,e){kre(n)&&(n="100%");var t=Pre(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Cf(n){return Math.min(1,Math.max(0,n))}function kre(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Pre(n){return typeof n=="string"&&n.indexOf("%")!==-1}function jH(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function hf(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Au(n){return n.length===1?"0"+n:String(n)}function Dre(n,e,t){return{r:Wr(n,255)*255,g:Wr(e,255)*255,b:Wr(t,255)*255}}function xq(n,e,t){n=Wr(n,255),e=Wr(e,255),t=Wr(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,a=0,s=(i+r)/2;if(i===r)a=0,o=0;else{var l=i-r;switch(a=s>.5?l/(2-i-r):l/(i+r),i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function tb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ure(n,e,t){var i,r,o;if(n=Wr(n,360),e=Wr(e,100),t=Wr(t,100),e===0)r=t,o=t,i=t;else{var a=t<.5?t*(1+e):t+e-t*e,s=2*t-a;i=tb(s,a,n+1/3),r=tb(s,a,n),o=tb(s,a,n-1/3)}return{r:i*255,g:r*255,b:o*255}}function W8(n,e,t){n=Wr(n,255),e=Wr(e,255),t=Wr(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,a=i,s=i-r,l=i===0?0:s/i;if(i===r)o=0;else{switch(i){case n:o=(e-t)/s+(e<t?6:0);break;case e:o=(t-n)/s+2;break;case t:o=(n-e)/s+4;break}o/=6}return{h:o,s:l,v:a}}function Ore(n,e,t){n=Wr(n,360)*6,e=Wr(e,100),t=Wr(t,100);var i=Math.floor(n),r=n-i,o=t*(1-e),a=t*(1-r*e),s=t*(1-(1-r)*e),l=i%6,c=[t,a,o,o,s,t][l],g=[s,t,t,a,o,o][l],u=[o,o,s,t,t,a][l];return{r:c*255,g:g*255,b:u*255}}function V8(n,e,t,i){var r=[Au(Math.round(n).toString(16)),Au(Math.round(e).toString(16)),Au(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function jre(n,e,t,i,r){var o=[Au(Math.round(n).toString(16)),Au(Math.round(e).toString(16)),Au(Math.round(t).toString(16)),Au(Jre(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Jre(n){return Math.round(parseFloat(n)*255).toString(16)}function Gq(n){return ia(n)/255}function ia(n){return parseInt(n,16)}function Qre(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var N8={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ad(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,o=null,a=!1,s=!1;return typeof n=="string"&&(n=toe(n)),typeof n=="object"&&(wl(n.r)&&wl(n.g)&&wl(n.b)?(e=Dre(n.r,n.g,n.b),a=!0,s=String(n.r).substr(-1)==="%"?"prgb":"rgb"):wl(n.h)&&wl(n.s)&&wl(n.v)?(i=hf(n.s),r=hf(n.v),e=Ore(n.h,i,r),a=!0,s="hsv"):wl(n.h)&&wl(n.s)&&wl(n.l)&&(i=hf(n.s),o=hf(n.l),e=Ure(n.h,i,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=jH(t),{ok:a,format:n.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var $re="[-\\+]?\\d+%?",eoe="[-\\+]?\\d*\\.\\d+%?",zc="(?:".concat(eoe,")|(?:").concat($re,")"),nb="[\\s|\\(]+(".concat(zc,")[,|\\s]+(").concat(zc,")[,|\\s]+(").concat(zc,")\\s*\\)?"),ib="[\\s|\\(]+(".concat(zc,")[,|\\s]+(").concat(zc,")[,|\\s]+(").concat(zc,")[,|\\s]+(").concat(zc,")\\s*\\)?"),ds={CSS_UNIT:new RegExp(zc),rgb:new RegExp("rgb"+nb),rgba:new RegExp("rgba"+ib),hsl:new RegExp("hsl"+nb),hsla:new RegExp("hsla"+ib),hsv:new RegExp("hsv"+nb),hsva:new RegExp("hsva"+ib),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function toe(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(N8[n])n=N8[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=ds.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=ds.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ds.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=ds.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ds.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=ds.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ds.hex8.exec(n),t?{r:ia(t[1]),g:ia(t[2]),b:ia(t[3]),a:Gq(t[4]),format:e?"name":"hex8"}:(t=ds.hex6.exec(n),t?{r:ia(t[1]),g:ia(t[2]),b:ia(t[3]),format:e?"name":"hex"}:(t=ds.hex4.exec(n),t?{r:ia(t[1]+t[1]),g:ia(t[2]+t[2]),b:ia(t[3]+t[3]),a:Gq(t[4]+t[4]),format:e?"name":"hex8"}:(t=ds.hex3.exec(n),t?{r:ia(t[1]+t[1]),g:ia(t[2]+t[2]),b:ia(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function wl(n){return!!ds.CSS_UNIT.exec(String(n))}var Ti=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=Qre(e)),this.originalInput=e;var r=ad(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,r,o=e.r/255,a=e.g/255,s=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=jH(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=W8(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=W8(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=xq(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=xq(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),V8(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),jre(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Wr(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Wr(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+V8(this.r,this.g,this.b,!1),t=0,i=Object.entries(N8);t<i.length;t++){var r=i[t],o=r[0],a=r[1];if(e===a)return o}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,o=!t&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Cf(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Cf(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Cf(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Cf(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),r=new n(e).toRgb(),o=t/100,a={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new n(a)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),r=360/t,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new n(i));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,r=t.s,o=t.v,a=[],s=1/e;e--;)a.push(new n({h:i,s:r,v:o})),o=(o+s)%1;return a},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),r=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,r=[this],o=360/e,a=1;a<e;a++)r.push(new n({h:(i+a*o)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),mf=2,wq=.16,noe=.05,ioe=.05,roe=.15,JH=5,QH=4,ooe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Sq(n){var e=n.r,t=n.g,i=n.b,r=W8(e,t,i);return{h:r.h*360,s:r.s,v:r.v}}function ff(n){var e=n.r,t=n.g,i=n.b;return"#".concat(V8(e,t,i,!1))}function aoe(n,e,t){var i=t/100,r={r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b};return r}function Zq(n,e,t){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=t?Math.round(n.h)-mf*e:Math.round(n.h)+mf*e:i=t?Math.round(n.h)+mf*e:Math.round(n.h)-mf*e,i<0?i+=360:i>=360&&(i-=360),i}function qq(n,e,t){if(n.h===0&&n.s===0)return n.s;var i;return t?i=n.s-wq*e:e===QH?i=n.s+wq:i=n.s+noe*e,i>1&&(i=1),t&&e===JH&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function Rq(n,e,t){var i;return t?i=n.v+ioe*e:i=n.v-roe*e,i>1&&(i=1),Number(i.toFixed(2))}function dh(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=ad(n),r=JH;r>0;r-=1){var o=Sq(i),a=ff(ad({h:Zq(o,r,!0),s:qq(o,r,!0),v:Rq(o,r,!0)}));t.push(a)}t.push(ff(i));for(var s=1;s<=QH;s+=1){var l=Sq(i),c=ff(ad({h:Zq(l,s),s:qq(l,s),v:Rq(l,s)}));t.push(c)}return e.theme==="dark"?ooe.map(function(g){var u=g.index,d=g.opacity,C=ff(aoe(ad(e.backgroundColor||"#141414"),ad(t[u]),d*100));return C}):t}var rb={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},F8=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];F8.primary=F8[5];var H8=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];H8.primary=H8[5];var E8=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];E8.primary=E8[5];var X8=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];X8.primary=X8[5];var z8=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];z8.primary=z8[5];var Y8=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Y8.primary=Y8[5];var K8=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];K8.primary=K8[5];var L8=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];L8.primary=L8[5];var S3=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];S3.primary=S3[5];var T8=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];T8.primary=T8[5];var k8=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];k8.primary=k8[5];var P8=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];P8.primary=P8[5];var D8=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];D8.primary=D8[5];var ob={red:F8,volcano:H8,orange:E8,gold:X8,yellow:z8,lime:Y8,green:K8,cyan:L8,blue:S3,geekblue:T8,purple:k8,magenta:P8,grey:D8};const $H={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ih=Object.assign(Object.assign({},$H),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function soe(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:i}=e;const{colorSuccess:r,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:g}=n,u=t(l),d=t(r),C=t(o),f=t(a),b=t(s),A=i(c,g),p=n.colorLink||n.colorInfo,y=t(p),B=new Ti(f[1]).mix(new Ti(f[3]),50).toHexString();return Object.assign(Object.assign({},A),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:f[1],colorErrorBgHover:f[2],colorErrorBgFilledHover:B,colorErrorBgActive:f[3],colorErrorBorder:f[3],colorErrorBorderHover:f[4],colorErrorHover:f[5],colorError:f[6],colorErrorActive:f[7],colorErrorTextHover:f[8],colorErrorText:f[9],colorErrorTextActive:f[10],colorWarningBg:C[1],colorWarningBgHover:C[2],colorWarningBorder:C[3],colorWarningBorderHover:C[4],colorWarningHover:C[4],colorWarning:C[6],colorWarningActive:C[7],colorWarningTextHover:C[8],colorWarningText:C[9],colorWarningTextActive:C[10],colorInfoBg:b[1],colorInfoBgHover:b[2],colorInfoBorder:b[3],colorInfoBorderHover:b[4],colorInfoHover:b[4],colorInfo:b[6],colorInfoActive:b[7],colorInfoTextHover:b[8],colorInfoText:b[9],colorInfoTextActive:b[10],colorLinkHover:y[4],colorLink:y[6],colorLinkActive:y[7],colorBgMask:new Ti("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const loe=n=>{let e=n,t=n,i=n,r=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?r=4:n>=8&&(r=6),{borderRadius:n,borderRadiusXS:i,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:r}};function coe(n){const{motionUnit:e,motionBase:t,borderRadius:i,lineWidth:r}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:r+1},loe(i))}const goe=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function np(n){return(n+8)/n}function uoe(n){const e=new Array(10).fill(null).map((t,i)=>{const r=i-1,o=n*Math.pow(Math.E,r/5),a=i>1?Math.floor(o):Math.ceil(o);return Math.floor(a/2)*2});return e[1]=n,e.map(t=>({size:t,lineHeight:np(t)}))}const doe=n=>{const e=uoe(n),t=e.map(g=>g.size),i=e.map(g=>g.lineHeight),r=t[1],o=t[0],a=t[2],s=i[1],l=i[0],c=i[2];return{fontSizeSM:o,fontSize:r,fontSizeLG:a,fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*r),fontHeightLG:Math.round(c*a),fontHeightSM:Math.round(l*o),lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function Ioe(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const Wa=(n,e)=>new Ti(n).setAlpha(e).toRgbString(),_I=(n,e)=>new Ti(n).darken(e).toHexString(),Coe=n=>{const e=dh(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},hoe=(n,e)=>{const t=n||"#fff",i=e||"#000";return{colorBgBase:t,colorTextBase:i,colorText:Wa(i,.88),colorTextSecondary:Wa(i,.65),colorTextTertiary:Wa(i,.45),colorTextQuaternary:Wa(i,.25),colorFill:Wa(i,.15),colorFillSecondary:Wa(i,.06),colorFillTertiary:Wa(i,.04),colorFillQuaternary:Wa(i,.02),colorBgSolid:Wa(i,1),colorBgSolidHover:Wa(i,.75),colorBgSolidActive:Wa(i,.95),colorBgLayout:_I(t,4),colorBgContainer:_I(t,0),colorBgElevated:_I(t,0),colorBgSpotlight:Wa(i,.85),colorBgBlur:"transparent",colorBorder:_I(t,15),colorBorderSecondary:_I(t,6)}};function moe(n){rb.pink=rb.magenta,ob.pink=ob.magenta;const e=Object.keys($H).map(t=>{const i=n[t]===rb[t]?ob[t]:dh(n[t]);return new Array(10).fill(1).reduce((r,o,a)=>(r[`${t}-${a+1}`]=i[a],r[`${t}${a+1}`]=i[a],r),{})}).reduce((t,i)=>(t=Object.assign(Object.assign({},t),i),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),soe(n,{generateColorPalettes:Coe,generateNeutralColorPalettes:hoe})),doe(n.fontSize)),Ioe(n)),goe(n)),coe(n))}const eE=Z8(moe),U8={token:Ih,override:{override:Ih},hashed:!0},tE=Gt.createContext(U8),Ch="ant",gB="anticon",foe=["outlined","borderless","filled"],poe=(n,e)=>e||(n?`${Ch}-${n}`:Ch),Zn=v.createContext({getPrefixCls:poe,iconPrefixCls:gB}),Aoe=`-ant-${Date.now()}-${Math.random()}`;function boe(n,e){const t={},i=(a,s)=>{let l=a.clone();return l=(s==null?void 0:s(l))||l,l.toRgbString()},r=(a,s)=>{const l=new Ti(a),c=dh(l.toRgbString());t[`${s}-color`]=i(l),t[`${s}-color-disabled`]=c[1],t[`${s}-color-hover`]=c[4],t[`${s}-color-active`]=c[6],t[`${s}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),t[`${s}-color-deprecated-bg`]=c[0],t[`${s}-color-deprecated-border`]=c[2]};if(e.primaryColor){r(e.primaryColor,"primary");const a=new Ti(e.primaryColor),s=dh(a.toRgbString());s.forEach((c,g)=>{t[`primary-${g+1}`]=c}),t["primary-color-deprecated-l-35"]=i(a,c=>c.lighten(35)),t["primary-color-deprecated-l-20"]=i(a,c=>c.lighten(20)),t["primary-color-deprecated-t-20"]=i(a,c=>c.tint(20)),t["primary-color-deprecated-t-50"]=i(a,c=>c.tint(50)),t["primary-color-deprecated-f-12"]=i(a,c=>c.setAlpha(c.getAlpha()*.12));const l=new Ti(s[0]);t["primary-color-active-deprecated-f-30"]=i(l,c=>c.setAlpha(c.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=i(l,c=>c.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(a=>`--${n}-${a}: ${t[a]};`).join(`
`)}
  }
  `.trim()}function voe(n,e){const t=boe(n,e);bo()&&kl(t,`${Aoe}-dynamic-theme`)}const hh=v.createContext(!1),nE=n=>{let{children:e,disabled:t}=n;const i=v.useContext(hh);return v.createElement(hh.Provider,{value:t??i},e)},d0=v.createContext(void 0),yoe=n=>{let{children:e,size:t}=n;const i=v.useContext(d0);return v.createElement(d0.Provider,{value:t||i},e)};function Boe(){const n=v.useContext(hh),e=v.useContext(d0);return{componentDisabled:n,componentSize:e}}var iE=nr(function n(){tr(this,n)}),rE="CALC_UNIT",xoe=new RegExp(rE,"g");function ab(n){return typeof n=="number"?"".concat(n).concat(rE):n}var Goe=function(n){nc(t,n);var e=ic(t);function t(i,r){var o;tr(this,t),o=e.call(this),me(Gn(o),"result",""),me(Gn(o),"unitlessCssVar",void 0),me(Gn(o),"lowPriority",void 0);var a=sn(i);return o.unitlessCssVar=r,i instanceof t?o.result="(".concat(i.result,")"):a==="number"?o.result=ab(i):a==="string"&&(o.result=i),o}return nr(t,[{key:"add",value:function(r){return r instanceof t?this.result="".concat(this.result," + ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," + ").concat(ab(r))),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof t?this.result="".concat(this.result," - ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," - ").concat(ab(r))),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof t?this.result="".concat(this.result," * ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," * ").concat(r)),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof t?this.result="".concat(this.result," / ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," / ").concat(r)),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(r){var o=this,a=r||{},s=a.unit,l=!0;return typeof s=="boolean"?l=s:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(l=!1),this.result=this.result.replace(xoe,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(iE),woe=function(n){nc(t,n);var e=ic(t);function t(i){var r;return tr(this,t),r=e.call(this),me(Gn(r),"result",0),i instanceof t?r.result=i.result:typeof i=="number"&&(r.result=i),r}return nr(t,[{key:"add",value:function(r){return r instanceof t?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof t?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof t?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof t?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}]),t}(iE),Soe=function(e,t){var i=e==="css"?Goe:woe;return function(r){return new i(r,t)}},Mq=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function fr(n){var e=v.useRef();e.current=n;var t=v.useCallback(function(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(o))},[]);return t}function I0(n){var e=v.useRef(!1),t=v.useState(n),i=Pe(t,2),r=i[0],o=i[1];v.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function a(s,l){l&&e.current||o(s)}return[r,a]}function sb(n){return n!==void 0}function Pl(n,e){var t=e||{},i=t.defaultValue,r=t.value,o=t.onChange,a=t.postState,s=I0(function(){return sb(r)?r:sb(i)?typeof i=="function"?i():i:typeof n=="function"?n():n}),l=Pe(s,2),c=l[0],g=l[1],u=r!==void 0?r:c,d=a?a(u):u,C=fr(o),f=I0([u]),b=Pe(f,2),A=b[0],p=b[1];hq(function(){var B=A[0];c!==B&&C(c,B)},[A]),hq(function(){sb(r)||g(r)},[r]);var y=fr(function(B,x){g(B,x),p([u],x)});return[d,y]}function _q(n,e,t,i){var r=he({},e[n]);if(i!=null&&i.deprecatedTokens){var o=i.deprecatedTokens;o.forEach(function(s){var l=Pe(s,2),c=l[0],g=l[1];if(r!=null&&r[c]||r!=null&&r[g]){var u;(u=r[g])!==null&&u!==void 0||(r[g]=r==null?void 0:r[c])}})}var a=he(he({},t),r);return Object.keys(a).forEach(function(s){a[s]===e[s]&&delete a[s]}),a}var oE=typeof CSSINJS_STATISTIC<"u",O8=!0;function Mi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!oE)return Object.assign.apply(Object,[{}].concat(e));O8=!1;var i={};return e.forEach(function(r){if(sn(r)==="object"){var o=Object.keys(r);o.forEach(function(a){Object.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return r[a]}})})}}),O8=!0,i}var Wq={};function Zoe(){}var qoe=function(e){var t,i=e,r=Zoe;return oE&&typeof Proxy<"u"&&(t=new Set,i=new Proxy(e,{get:function(a,s){if(O8){var l;(l=t)===null||l===void 0||l.add(s)}return a[s]}}),r=function(a,s){var l;Wq[a]={global:Array.from(t),component:he(he({},(l=Wq[a])===null||l===void 0?void 0:l.component),s)}}),{token:i,keys:t,flush:r}};function Vq(n,e,t){if(typeof t=="function"){var i;return t(Mi(e,(i=e[n])!==null&&i!==void 0?i:{}))}return t??{}}function Roe(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return"max(".concat(i.map(function(o){return mt(o)}).join(","),")")},min:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return"min(".concat(i.map(function(o){return mt(o)}).join(","),")")}}}var Moe=1e3*60*10,_oe=function(){function n(){tr(this,n),me(this,"map",new Map),me(this,"objectIDMap",new WeakMap),me(this,"nextID",0),me(this,"lastAccessBeat",new Map),me(this,"accessBeat",0)}return nr(n,[{key:"set",value:function(t,i){this.clear();var r=this.getCompositeKey(t);this.map.set(r,i),this.lastAccessBeat.set(r,Date.now())}},{key:"get",value:function(t){var i=this.getCompositeKey(t),r=this.map.get(i);return this.lastAccessBeat.set(i,Date.now()),this.accessBeat+=1,r}},{key:"getCompositeKey",value:function(t){var i=this,r=t.map(function(o){return o&&sn(o)==="object"?"obj_".concat(i.getObjectID(o)):"".concat(sn(o),"_").concat(o)});return r.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var i=this.nextID;return this.objectIDMap.set(t,i),this.nextID+=1,i}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var i=Date.now();this.lastAccessBeat.forEach(function(r,o){i-r>Moe&&(t.map.delete(o),t.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),n}(),Nq=new _oe;function Woe(n,e){return Gt.useMemo(function(){var t=Nq.get(e);if(t)return t;var i=n();return Nq.set(e,i),i},e)}var Voe=function(){return{}};function Noe(n){var e=n.useCSP,t=e===void 0?Voe:e,i=n.useToken,r=n.usePrefix,o=n.getResetStyles,a=n.getCommonStyle,s=n.getCompUnitless;function l(d,C,f,b){var A=Array.isArray(d)?d[0]:d;function p(M){return"".concat(String(A)).concat(M.slice(0,1).toUpperCase()).concat(M.slice(1))}var y=(b==null?void 0:b.unitless)||{},B=typeof s=="function"?s(d):{},x=he(he({},B),{},me({},p("zIndexPopup"),!0));Object.keys(y).forEach(function(M){x[p(M)]=y[M]});var w=he(he({},b),{},{unitless:x,prefixToken:p}),S=g(d,C,f,w),Z=c(A,f,w);return function(M){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M,_=S(M,q),V=Pe(_,2),Y=V[1],X=Z(q),K=Pe(X,2),Q=K[0],z=K[1];return[Q,Y,z]}}function c(d,C,f){var b=f.unitless,A=f.injectStyle,p=A===void 0?!0:A,y=f.prefixToken,B=f.ignore,x=function(Z){var M=Z.rootCls,q=Z.cssVar,_=q===void 0?{}:q,V=i(),Y=V.realToken;return _re({path:[d],prefix:_.prefix,key:_.key,unitless:b,ignore:B,token:Y,scope:M},function(){var X=Vq(d,Y,C),K=_q(d,Y,X,{deprecatedTokens:f==null?void 0:f.deprecatedTokens});return Object.keys(X).forEach(function(Q){K[y(Q)]=K[Q],delete K[Q]}),K}),null},w=function(Z){var M=i(),q=M.cssVar;return[function(_){return p&&q?Gt.createElement(Gt.Fragment,null,Gt.createElement(x,{rootCls:Z,cssVar:q,component:d}),_):_},q==null?void 0:q.key]};return w}function g(d,C,f){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},A=Array.isArray(d)?d:[d,d],p=Pe(A,1),y=p[0],B=A.join("-"),x=n.layer||{name:"antd"};return function(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w,Z=i(),M=Z.theme,q=Z.realToken,_=Z.hashId,V=Z.token,Y=Z.cssVar,X=r(),K=X.rootPrefixCls,Q=X.iconPrefixCls,z=t(),D=Y?"css":"js",N=Woe(function(){var J=new Set;return Y&&Object.keys(b.unitless||{}).forEach(function(Ce){J.add(Of(Ce,Y.prefix)),J.add(Of(Ce,Mq(y,Y.prefix)))}),Soe(D,J)},[D,y,Y==null?void 0:Y.prefix]),L=Roe(D),P=L.max,O=L.min,ie={theme:M,token:V,hashId:_,nonce:function(){return z.nonce},clientOnly:b.clientOnly,layer:x,order:b.order||-999};_8(he(he({},ie),{},{clientOnly:!1,path:["Shared",K]}),function(){return typeof o=="function"?o(V):[]});var ge=_8(he(he({},ie),{},{path:[B,w,Q]}),function(){if(b.injectStyle===!1)return[];var J=qoe(V),Ce=J.token,ve=J.flush,Ae=Vq(y,q,f),Xe=".".concat(w),Le=_q(y,q,Ae,{deprecatedTokens:b.deprecatedTokens});Y&&Ae&&sn(Ae)==="object"&&Object.keys(Ae).forEach(function(pe){Ae[pe]="var(".concat(Of(pe,Mq(y,Y.prefix)),")")});var Ee=Mi(Ce,{componentCls:Xe,prefixCls:w,iconCls:".".concat(Q),antCls:".".concat(K),calc:N,max:P,min:O},Y?Ae:Le),be=C(Ee,{hashId:_,prefixCls:w,rootPrefixCls:K,iconPrefixCls:Q});ve(y,Le);var Ie=typeof a=="function"?a(Ee,w,S,b.resetFont):null;return[b.resetStyle===!1?null:Ie,be]});return[ge,_]}}function u(d,C,f){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},A=g(d,C,f,he({resetStyle:!1,order:-998},b)),p=function(B){var x=B.prefixCls,w=B.rootCls,S=w===void 0?x:w;return A(x,S),null};return p}return{genStyleHooks:l,genSubStyleComponent:u,genComponentStyleHook:g}}const Z3=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Foe="5.22.1";function lb(n){return n>=0&&n<=255}function pf(n,e){const{r:t,g:i,b:r,a:o}=new Ti(n).toRgb();if(o<1)return n;const{r:a,g:s,b:l}=new Ti(e).toRgb();for(let c=.01;c<=1;c+=.01){const g=Math.round((t-a*(1-c))/c),u=Math.round((i-s*(1-c))/c),d=Math.round((r-l*(1-c))/c);if(lb(g)&&lb(u)&&lb(d))return new Ti({r:g,g:u,b:d,a:Math.round(c*100)/100}).toRgbString()}return new Ti({r:t,g:i,b:r,a:1}).toRgbString()}var Hoe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function aE(n){const{override:e}=n,t=Hoe(n,["override"]),i=Object.assign({},e);Object.keys(Ih).forEach(d=>{delete i[d]});const r=Object.assign(Object.assign({},t),i),o=480,a=576,s=768,l=992,c=1200,g=1600;if(r.motion===!1){const d="0s";r.motionDurationFast=d,r.motionDurationMid=d,r.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:pf(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:pf(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:pf(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*3,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:pf(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:g-1,screenXXL:g,screenXXLMin:g,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Ti("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Ti("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Ti("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}var Fq=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const sE={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Eoe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Xoe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},lE=(n,e,t)=>{const i=t.getDerivativeToken(n),{override:r}=e,o=Fq(e,["override"]);let a=Object.assign(Object.assign({},i),{override:r});return a=aE(a),o&&Object.entries(o).forEach(s=>{let[l,c]=s;const{theme:g}=c,u=Fq(c,["theme"]);let d=u;g&&(d=lE(Object.assign(Object.assign({},a),u),{override:u},g)),a[l]=d}),a};function va(){const{token:n,hashed:e,theme:t,override:i,cssVar:r}=Gt.useContext(tE),o=`${Foe}-${e||""}`,a=t||eE,[s,l,c]=ore(a,[Ih,n],{salt:o,override:i,getComputedToken:lE,formatToken:aE,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:sE,ignore:Eoe,preserve:Xoe}});return[a,c,e?l:"",s,r]}const mh={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Ag=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:e?"inherit":n.fontFamily}},n5=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),j8=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),zoe=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active, &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),Yoe=(n,e,t,i)=>{const r=`[class^="${e}"], [class*=" ${e}"]`,o=t?`.${t}`:r,a={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return i!==!1&&(s={fontFamily:n.fontFamily,fontSize:n.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),a),{[r]:a})}},cE=n=>({outline:`${mt(n.lineWidthFocus)} solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),uB=n=>({"&:focus-visible":Object.assign({},cE(n))}),gE=(n,e)=>{const[t,i]=va();return _8({theme:t,token:i,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${n}`]:Object.assign(Object.assign({},n5()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},{genStyleHooks:ya,genComponentStyleHook:Koe,genSubStyleComponent:uE}=Noe({usePrefix:()=>{const{getPrefixCls:n,iconPrefixCls:e}=v.useContext(Zn);return{rootPrefixCls:n(),iconPrefixCls:e}},useToken:()=>{const[n,e,t,i,r]=va();return{theme:n,realToken:e,hashId:t,token:i,cssVar:r}},useCSP:()=>{const{csp:n,iconPrefixCls:e}=v.useContext(Zn);return gE(e,n),n??{}},getResetStyles:n=>[{"&":zoe(n)}],getCommonStyle:Yoe,getCompUnitless:()=>sE});function Loe(n,e){return Z3.reduce((t,i)=>{const r=n[`${i}1`],o=n[`${i}3`],a=n[`${i}6`],s=n[`${i}7`];return Object.assign(Object.assign({},t),e(i,{lightColor:r,lightBorderColor:o,darkColor:a,textColor:s}))},{})}const Toe=Object.assign({},Zh),{useId:Hq}=Toe,koe=()=>"",Poe=typeof Hq>"u"?koe:Hq;function Doe(n,e,t){var i;DH();const r=n||{},o=r.inherit===!1||!e?Object.assign(Object.assign({},U8),{hashed:(i=e==null?void 0:e.hashed)!==null&&i!==void 0?i:U8.hashed,cssVar:e==null?void 0:e.cssVar}):e,a=Poe();return Jh(()=>{var s,l;if(!n)return e;const c=Object.assign({},o.components);Object.keys(n.components||{}).forEach(d=>{c[d]=Object.assign(Object.assign({},c[d]),n.components[d])});const g=`css-var-${a.replace(/:/g,"")}`,u=((s=r.cssVar)!==null&&s!==void 0?s:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:t==null?void 0:t.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((l=r.cssVar)===null||l===void 0?void 0:l.key)||g});return Object.assign(Object.assign(Object.assign({},o),r),{token:Object.assign(Object.assign({},o.token),r.token),components:c,cssVar:u})},[r,o],(s,l)=>s.some((c,g)=>{const u=l[g];return!ch(c,u,!0)}))}var Uoe=["children"],dE=v.createContext({});function Ooe(n){var e=n.children,t=_n(n,Uoe);return v.createElement(dE.Provider,{value:t},e)}var joe=function(n){nc(t,n);var e=ic(t);function t(){return tr(this,t),e.apply(this,arguments)}return nr(t,[{key:"render",value:function(){return this.props.children}}]),t}(v.Component);function Joe(n){var e=v.useReducer(function(s){return s+1},0),t=Pe(e,2),i=t[1],r=v.useRef(n),o=fr(function(){return r.current}),a=fr(function(s){r.current=typeof s=="function"?s(r.current):s,i()});return[o,a]}var wc="none",Af="appear",bf="enter",vf="leave",Eq="none",fs="prepare",Gd="start",wd="active",dB="end",IE="prepared";function Xq(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function Qoe(n,e){var t={animationend:Xq("Animation","AnimationEnd"),transitionend:Xq("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var $oe=Qoe(bo(),typeof window<"u"?window:{}),CE={};if(bo()){var eae=document.createElement("div");CE=eae.style}var yf={};function hE(n){if(yf[n])return yf[n];var e=$oe[n];if(e)for(var t=Object.keys(e),i=t.length,r=0;r<i;r+=1){var o=t[r];if(Object.prototype.hasOwnProperty.call(e,o)&&o in CE)return yf[n]=e[o],yf[n]}return""}var mE=hE("animationend"),fE=hE("transitionend"),pE=!!(mE&&fE),zq=mE||"animationend",Yq=fE||"transitionend";function Kq(n,e){if(!n)return null;if(sn(n)==="object"){var t=e.replace(/-\w/g,function(i){return i[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const tae=function(n){var e=v.useRef();function t(r){r&&(r.removeEventListener(Yq,n),r.removeEventListener(zq,n))}function i(r){e.current&&e.current!==r&&t(e.current),r&&r!==e.current&&(r.addEventListener(Yq,n),r.addEventListener(zq,n),e.current=r)}return v.useEffect(function(){return function(){t(e.current)}},[]),[i,t]};var AE=bo()?v.useLayoutEffect:v.useEffect;const nae=function(){var n=v.useRef(null);function e(){Si.cancel(n.current)}function t(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Si(function(){r<=1?i({isCanceled:function(){return o!==n.current}}):t(i,r-1)});n.current=o}return v.useEffect(function(){return function(){e()}},[]),[t,e]};var iae=[fs,Gd,wd,dB],rae=[fs,IE],bE=!1,oae=!0;function vE(n){return n===wd||n===dB}const aae=function(n,e,t){var i=I0(Eq),r=Pe(i,2),o=r[0],a=r[1],s=nae(),l=Pe(s,2),c=l[0],g=l[1];function u(){a(fs,!0)}var d=e?rae:iae;return AE(function(){if(o!==Eq&&o!==dB){var C=d.indexOf(o),f=d[C+1],b=t(o);b===bE?a(f,!0):f&&c(function(A){function p(){A.isCanceled()||a(f,!0)}b===!0?p():Promise.resolve(b).then(p)})}},[n,o]),v.useEffect(function(){return function(){g()}},[]),[u,o]};function sae(n,e,t,i){var r=i.motionEnter,o=r===void 0?!0:r,a=i.motionAppear,s=a===void 0?!0:a,l=i.motionLeave,c=l===void 0?!0:l,g=i.motionDeadline,u=i.motionLeaveImmediately,d=i.onAppearPrepare,C=i.onEnterPrepare,f=i.onLeavePrepare,b=i.onAppearStart,A=i.onEnterStart,p=i.onLeaveStart,y=i.onAppearActive,B=i.onEnterActive,x=i.onLeaveActive,w=i.onAppearEnd,S=i.onEnterEnd,Z=i.onLeaveEnd,M=i.onVisibleChanged,q=I0(),_=Pe(q,2),V=_[0],Y=_[1],X=Joe(wc),K=Pe(X,2),Q=K[0],z=K[1],D=I0(null),N=Pe(D,2),L=N[0],P=N[1],O=Q(),ie=v.useRef(!1),ge=v.useRef(null);function J(){return t()}var Ce=v.useRef(!1);function ve(){z(wc),P(null,!0)}var Ae=fr(function(Ke){var U=Q();if(U!==wc){var T=J();if(!(Ke&&!Ke.deadline&&Ke.target!==T)){var le=Ce.current,ye;U===Af&&le?ye=w==null?void 0:w(T,Ke):U===bf&&le?ye=S==null?void 0:S(T,Ke):U===vf&&le&&(ye=Z==null?void 0:Z(T,Ke)),le&&ye!==!1&&ve()}}}),Xe=tae(Ae),Le=Pe(Xe,1),Ee=Le[0],be=function(U){switch(U){case Af:return me(me(me({},fs,d),Gd,b),wd,y);case bf:return me(me(me({},fs,C),Gd,A),wd,B);case vf:return me(me(me({},fs,f),Gd,p),wd,x);default:return{}}},Ie=v.useMemo(function(){return be(O)},[O]),pe=aae(O,!n,function(Ke){if(Ke===fs){var U=Ie[fs];return U?U(J()):bE}if(Ze in Ie){var T;P(((T=Ie[Ze])===null||T===void 0?void 0:T.call(Ie,J(),null))||null)}return Ze===wd&&O!==wc&&(Ee(J()),g>0&&(clearTimeout(ge.current),ge.current=setTimeout(function(){Ae({deadline:!0})},g))),Ze===IE&&ve(),oae}),$=Pe(pe,2),Ge=$[0],Ze=$[1],Ye=vE(Ze);Ce.current=Ye,AE(function(){Y(e);var Ke=ie.current;ie.current=!0;var U;!Ke&&e&&s&&(U=Af),Ke&&e&&o&&(U=bf),(Ke&&!e&&c||!Ke&&u&&!e&&c)&&(U=vf);var T=be(U);U&&(n||T[fs])?(z(U),Ge()):z(wc)},[e]),v.useEffect(function(){(O===Af&&!s||O===bf&&!o||O===vf&&!c)&&z(wc)},[s,o,c]),v.useEffect(function(){return function(){ie.current=!1,clearTimeout(ge.current)}},[]);var Ne=v.useRef(!1);v.useEffect(function(){V&&(Ne.current=!0),V!==void 0&&O===wc&&((Ne.current||V)&&(M==null||M(V)),Ne.current=!0)},[V,O]);var Je=L;return Ie[fs]&&Ze===Gd&&(Je=he({transition:"none"},Je)),[O,Ze,Je,V??e]}function lae(n){var e=n;sn(n)==="object"&&(e=n.transitionSupport);function t(r,o){return!!(r.motionName&&e&&o!==!1)}var i=v.forwardRef(function(r,o){var a=r.visible,s=a===void 0?!0:a,l=r.removeOnLeave,c=l===void 0?!0:l,g=r.forceRender,u=r.children,d=r.motionName,C=r.leavedClassName,f=r.eventProps,b=v.useContext(dE),A=b.motion,p=t(r,A),y=v.useRef(),B=v.useRef();function x(){try{return y.current instanceof HTMLElement?y.current:bC(B.current)}catch{return null}}var w=sae(p,s,x,r),S=Pe(w,4),Z=S[0],M=S[1],q=S[2],_=S[3],V=v.useRef(_);_&&(V.current=!0);var Y=v.useCallback(function(L){y.current=L,$7(o,L)},[o]),X,K=he(he({},f),{},{visible:s});if(!u)X=null;else if(Z===wc)_?X=u(he({},K),Y):!c&&V.current&&C?X=u(he(he({},K),{},{className:C}),Y):g||!c&&!C?X=u(he(he({},K),{},{style:{display:"none"}}),Y):X=null;else{var Q;M===fs?Q="prepare":vE(M)?Q="active":M===Gd&&(Q="start");var z=Kq(d,"".concat(Z,"-").concat(Q));X=u(he(he({},K),{},{className:ct(Kq(d,Z),me(me({},z,z&&Q),d,typeof d=="string")),style:q}),Y)}if(v.isValidElement(X)&&Qh(X)){var D=X,N=D.ref;N||(X=v.cloneElement(X,{ref:Y}))}return v.createElement(joe,{ref:B},X)});return i.displayName="CSSMotion",i}const gl=lae(pE);var J8="add",Q8="keep",$8="remove",cb="removed";function cae(n){var e;return n&&sn(n)==="object"&&"key"in n?e=n:e={key:n},he(he({},e),{},{key:String(e.key)})}function ev(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(cae)}function gae(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],i=0,r=e.length,o=ev(n),a=ev(e);o.forEach(function(c){for(var g=!1,u=i;u<r;u+=1){var d=a[u];if(d.key===c.key){i<u&&(t=t.concat(a.slice(i,u).map(function(C){return he(he({},C),{},{status:J8})})),i=u),t.push(he(he({},d),{},{status:Q8})),i+=1,g=!0;break}}g||t.push(he(he({},c),{},{status:$8}))}),i<r&&(t=t.concat(a.slice(i).map(function(c){return he(he({},c),{},{status:J8})})));var s={};t.forEach(function(c){var g=c.key;s[g]=(s[g]||0)+1});var l=Object.keys(s).filter(function(c){return s[c]>1});return l.forEach(function(c){t=t.filter(function(g){var u=g.key,d=g.status;return u!==c||d!==$8}),t.forEach(function(g){g.key===c&&(g.status=Q8)})}),t}var uae=["component","children","onVisibleChanged","onAllRemoved"],dae=["status"],Iae=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Cae(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gl,t=function(i){nc(o,i);var r=ic(o);function o(){var a;tr(this,o);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=r.call.apply(r,[this].concat(l)),me(Gn(a),"state",{keyEntities:[]}),me(Gn(a),"removeKey",function(g){a.setState(function(u){var d=u.keyEntities.map(function(C){return C.key!==g?C:he(he({},C),{},{status:cb})});return{keyEntities:d}},function(){var u=a.state.keyEntities,d=u.filter(function(C){var f=C.status;return f!==cb}).length;d===0&&a.props.onAllRemoved&&a.props.onAllRemoved()})}),a}return nr(o,[{key:"render",value:function(){var s=this,l=this.state.keyEntities,c=this.props,g=c.component,u=c.children,d=c.onVisibleChanged;c.onAllRemoved;var C=_n(c,uae),f=g||v.Fragment,b={};return Iae.forEach(function(A){b[A]=C[A],delete C[A]}),delete C.keys,v.createElement(f,C,l.map(function(A,p){var y=A.status,B=_n(A,dae),x=y===J8||y===Q8;return v.createElement(e,Lt({},b,{key:B.key,visible:x,eventProps:B,onVisibleChanged:function(S){d==null||d(S,{key:B.key}),S||s.removeKey(B.key)}}),function(w,S){return u(he(he({},w),{},{index:p}),S)})}))}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=s.keys,g=l.keyEntities,u=ev(c),d=gae(g,u);return{keyEntities:d.filter(function(C){var f=g.find(function(b){var A=b.key;return C.key===A});return!(f&&f.status===cb&&C.status===$8)})}}}]),o}(v.Component);return me(t,"defaultProps",{component:"div"}),t}Cae(pE);function hae(n){const{children:e}=n,[,t]=va(),{motion:i}=t,r=v.useRef(!1);return r.current=r.current||i===!1,r.current?v.createElement(Ooe,{motion:i},e):e}const mae=()=>null;var fae=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const pae=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let q3,yE,BE,xE;function ip(){return q3||Ch}function Aae(){return yE||gB}function bae(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const vae=n=>{const{prefixCls:e,iconPrefixCls:t,theme:i,holderRender:r}=n;e!==void 0&&(q3=e),t!==void 0&&(yE=t),"holderRender"in n&&(xE=r),i&&(bae(i)?voe(ip(),i):BE=i)},yae=()=>({getPrefixCls:(n,e)=>e||(n?`${ip()}-${n}`:ip()),getIconPrefixCls:Aae,getRootPrefixCls:()=>q3||ip(),getTheme:()=>BE,holderRender:xE}),Bae=n=>{const{children:e,csp:t,autoInsertSpaceInButton:i,alert:r,anchor:o,form:a,locale:s,componentSize:l,direction:c,space:g,splitter:u,virtual:d,dropdownMatchSelectWidth:C,popupMatchSelectWidth:f,popupOverflow:b,legacyLocale:A,parentContext:p,iconPrefixCls:y,theme:B,componentDisabled:x,segmented:w,statistic:S,spin:Z,calendar:M,carousel:q,cascader:_,collapse:V,typography:Y,checkbox:X,descriptions:K,divider:Q,drawer:z,skeleton:D,steps:N,image:L,layout:P,list:O,mentions:ie,modal:ge,progress:J,result:Ce,slider:ve,breadcrumb:Ae,menu:Xe,pagination:Le,input:Ee,textArea:be,empty:Ie,badge:pe,radio:$,rate:Ge,switch:Ze,transfer:Ye,avatar:Ne,message:Je,tag:Ke,table:U,card:T,tabs:le,timeline:ye,timePicker:Fe,upload:we,notification:tt,tree:je,colorPicker:Qe,datePicker:Rt,rangePicker:ze,flex:st,wave:gt,dropdown:ot,warning:dt,tour:ue,floatButtonGroup:Me,variant:$e,inputNumber:ce,treeSelect:Se}=n,_e=v.useCallback((xt,bt)=>{const{prefixCls:Wt}=n;if(bt)return bt;const Vt=Wt||p.getPrefixCls("");return xt?`${Vt}-${xt}`:Vt},[p.getPrefixCls,n.prefixCls]),Te=y||p.iconPrefixCls||gB,It=t||p.csp;gE(Te,It);const at=Doe(B,p.theme,{prefixCls:_e("")}),_t={csp:It,autoInsertSpaceInButton:i,alert:r,anchor:o,locale:s||A,direction:c,space:g,splitter:u,virtual:d,popupMatchSelectWidth:f??C,popupOverflow:b,getPrefixCls:_e,iconPrefixCls:Te,theme:at,segmented:w,statistic:S,spin:Z,calendar:M,carousel:q,cascader:_,collapse:V,typography:Y,checkbox:X,descriptions:K,divider:Q,drawer:z,skeleton:D,steps:N,image:L,input:Ee,textArea:be,layout:P,list:O,mentions:ie,modal:ge,progress:J,result:Ce,slider:ve,breadcrumb:Ae,menu:Xe,pagination:Le,empty:Ie,badge:pe,radio:$,rate:Ge,switch:Ze,transfer:Ye,avatar:Ne,message:Je,tag:Ke,table:U,card:T,tabs:le,timeline:ye,timePicker:Fe,upload:we,notification:tt,tree:je,colorPicker:Qe,datePicker:Rt,rangePicker:ze,flex:st,wave:gt,dropdown:ot,warning:dt,tour:ue,floatButtonGroup:Me,variant:$e,inputNumber:ce,treeSelect:Se},Ft=Object.assign({},p);Object.keys(_t).forEach(xt=>{_t[xt]!==void 0&&(Ft[xt]=_t[xt])}),pae.forEach(xt=>{const bt=n[xt];bt&&(Ft[xt]=bt)}),typeof i<"u"&&(Ft.button=Object.assign({autoInsertSpace:i},Ft.button));const Bt=Jh(()=>Ft,Ft,(xt,bt)=>{const Wt=Object.keys(xt),Vt=Object.keys(bt);return Wt.length!==Vt.length||Wt.some(Dt=>xt[Dt]!==bt[Dt])}),ut=v.useMemo(()=>({prefixCls:Te,csp:It}),[Te,It]);let it=v.createElement(v.Fragment,null,v.createElement(mae,{dropdownMatchSelectWidth:C}),e);const an=v.useMemo(()=>{var xt,bt,Wt,Vt;return xd(((xt=Ou.Form)===null||xt===void 0?void 0:xt.defaultValidateMessages)||{},((Wt=(bt=Bt.locale)===null||bt===void 0?void 0:bt.Form)===null||Wt===void 0?void 0:Wt.defaultValidateMessages)||{},((Vt=Bt.form)===null||Vt===void 0?void 0:Vt.validateMessages)||{},(a==null?void 0:a.validateMessages)||{})},[Bt,a==null?void 0:a.validateMessages]);Object.keys(an).length>0&&(it=v.createElement(Ere.Provider,{value:an},it)),s&&(it=v.createElement(Tre,{locale:s,_ANT_MARK__:Lre},it)),(Te||It)&&(it=v.createElement(lB.Provider,{value:ut},it)),l&&(it=v.createElement(yoe,{size:l},it)),it=v.createElement(hae,null,it);const Nn=v.useMemo(()=>{const xt=at||{},{algorithm:bt,token:Wt,components:Vt,cssVar:Dt}=xt,qt=fae(xt,["algorithm","token","components","cssVar"]),Dn=bt&&(!Array.isArray(bt)||bt.length>0)?Z8(bt):eE,Rn={};Object.entries(Vt||{}).forEach(j=>{let[de,We]=j;const Ve=Object.assign({},We);"algorithm"in Ve&&(Ve.algorithm===!0?Ve.theme=Dn:(Array.isArray(Ve.algorithm)||typeof Ve.algorithm=="function")&&(Ve.theme=Z8(Ve.algorithm)),delete Ve.algorithm),Rn[de]=Ve});const E=Object.assign(Object.assign({},Ih),Wt);return Object.assign(Object.assign({},qt),{theme:Dn,token:E,components:Rn,override:Object.assign({override:E},Rn),cssVar:Dt})},[at]);return B&&(it=v.createElement(tE.Provider,{value:Nn},it)),Bt.warning&&(it=v.createElement(Hre.Provider,{value:Bt.warning},it)),x!==void 0&&(it=v.createElement(nE,{disabled:x},it)),v.createElement(Zn.Provider,{value:Bt},it)},rc=n=>{const e=v.useContext(Zn),t=v.useContext(cB);return v.createElement(Bae,Object.assign({parentContext:e,legacyLocale:t},n))};rc.ConfigContext=Zn;rc.SizeContext=d0;rc.config=vae;rc.useConfig=Boe;Object.defineProperty(rc,"SizeContext",{get:()=>d0});var xae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function GE(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Gae(n){return GE(n)instanceof ShadowRoot}function R3(n){return Gae(n)?GE(n):null}function wae(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function Sae(n,e){_r(n,"[@ant-design/icons] ".concat(e))}function Lq(n){return sn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(sn(n.icon)==="object"||typeof n.icon=="function")}function Tq(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var i=n[t];switch(t){case"class":e.className=i,delete e.class;break;default:delete e[t],e[wae(t)]=i}return e},{})}function tv(n,e,t){return t?Gt.createElement(n.tag,he(he({key:e},Tq(n.attrs)),t),(n.children||[]).map(function(i,r){return tv(i,"".concat(e,"-").concat(n.tag,"-").concat(r))})):Gt.createElement(n.tag,he({key:e},Tq(n.attrs)),(n.children||[]).map(function(i,r){return tv(i,"".concat(e,"-").concat(n.tag,"-").concat(r))}))}function wE(n){return dh(n)[0]}function SE(n){return n?Array.isArray(n)?n:[n]:[]}var Zae=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,qae=function(e){var t=v.useContext(lB),i=t.csp,r=t.prefixCls,o=Zae;r&&(o=o.replace(/anticon/g,r)),v.useEffect(function(){var a=e.current,s=R3(a);kl(o,"@ant-design-icons",{prepend:!0,csp:i,attachTo:s})},[])},Rae=["icon","className","onClick","style","primaryColor","secondaryColor"],yC={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Mae(n){var e=n.primaryColor,t=n.secondaryColor;yC.primaryColor=e,yC.secondaryColor=t||wE(e),yC.calculated=!!t}function _ae(){return he({},yC)}var F0=function(e){var t=e.icon,i=e.className,r=e.onClick,o=e.style,a=e.primaryColor,s=e.secondaryColor,l=_n(e,Rae),c=v.useRef(),g=yC;if(a&&(g={primaryColor:a,secondaryColor:s||wE(a)}),qae(c),Sae(Lq(t),"icon should be icon definiton, but got ".concat(t)),!Lq(t))return null;var u=t;return u&&typeof u.icon=="function"&&(u=he(he({},u),{},{icon:u.icon(g.primaryColor,g.secondaryColor)})),tv(u.icon,"svg-".concat(u.name),he(he({className:i,onClick:r,style:o,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};F0.displayName="IconReact";F0.getTwoToneColors=_ae;F0.setTwoToneColors=Mae;function ZE(n){var e=SE(n),t=Pe(e,2),i=t[0],r=t[1];return F0.setTwoToneColors({primaryColor:i,secondaryColor:r})}function Wae(){var n=F0.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Vae=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ZE(S3.primary);var ro=v.forwardRef(function(n,e){var t=n.className,i=n.icon,r=n.spin,o=n.rotate,a=n.tabIndex,s=n.onClick,l=n.twoToneColor,c=_n(n,Vae),g=v.useContext(lB),u=g.prefixCls,d=u===void 0?"anticon":u,C=g.rootClassName,f=ct(C,d,me(me({},"".concat(d,"-").concat(i.name),!!i.name),"".concat(d,"-spin"),!!r||i.name==="loading"),t),b=a;b===void 0&&s&&(b=-1);var A=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,p=SE(l),y=Pe(p,2),B=y[0],x=y[1];return v.createElement("span",Lt({role:"img","aria-label":i.name},c,{ref:e,tabIndex:b,onClick:s,className:f}),v.createElement(F0,{icon:i,primaryColor:B,secondaryColor:x,style:A}))});ro.displayName="AntdIcon";ro.getTwoToneColor=Wae;ro.setTwoToneColor=ZE;var Nae=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:xae}))},Fae=v.forwardRef(Nae),Hae={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},Eae=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:Hae}))},qE=v.forwardRef(Eae),Xae={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},zae=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:Xae}))},i5=v.forwardRef(zae),Yae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},Kae=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:Yae}))},Lae=v.forwardRef(Kae),Tae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},kae=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:Tae}))},Pae=v.forwardRef(kae),Dae=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Uae=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Oae="".concat(Dae," ").concat(Uae).split(/[\s\n]+/),jae="aria-",Jae="data-";function kq(n,e){return n.indexOf(e)===0}function ul(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=he({},e);var i={};return Object.keys(n).forEach(function(r){(t.aria&&(r==="role"||kq(r,jae))||t.data&&kq(r,Jae)||t.attr&&Oae.includes(r))&&(i[r]=n[r])}),i}function RE(n){return n&&Gt.isValidElement(n)&&n.type===Gt.Fragment}const Qae=(n,e,t)=>Gt.isValidElement(n)?Gt.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e;function H0(n,e){return Qae(n,n,e)}const r5=n=>{const[,,,,e]=va();return e?`${n}-css-var`:""};var ht={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=ht.F1&&t<=ht.F12)return!1;switch(t){case ht.ALT:case ht.CAPS_LOCK:case ht.CONTEXT_MENU:case ht.CTRL:case ht.DOWN:case ht.END:case ht.ESC:case ht.HOME:case ht.INSERT:case ht.LEFT:case ht.MAC_FF_META:case ht.META:case ht.NUMLOCK:case ht.NUM_CENTER:case ht.PAGE_DOWN:case ht.PAGE_UP:case ht.PAUSE:case ht.PRINT_SCREEN:case ht.RIGHT:case ht.SHIFT:case ht.UP:case ht.WIN_KEY:case ht.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ht.ZERO&&e<=ht.NINE||e>=ht.NUM_ZERO&&e<=ht.NUM_MULTIPLY||e>=ht.A&&e<=ht.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case ht.SPACE:case ht.QUESTION_MARK:case ht.NUM_PLUS:case ht.NUM_MINUS:case ht.NUM_PERIOD:case ht.NUM_DIVISION:case ht.SEMICOLON:case ht.DASH:case ht.EQUALS:case ht.COMMA:case ht.PERIOD:case ht.SLASH:case ht.APOSTROPHE:case ht.SINGLE_QUOTE:case ht.OPEN_SQUARE_BRACKET:case ht.BACKSLASH:case ht.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},$ae={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ese=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:$ae}))},ME=v.forwardRef(ese);const o5=Gt.createContext(void 0),Sc=100,tse=10,nse=Sc*tse,_E={Modal:Sc,Drawer:Sc,Popover:Sc,Popconfirm:Sc,Tooltip:Sc,Tour:Sc,FloatButton:Sc},ise={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function rse(n){return n in _E}const $h=(n,e)=>{const[,t]=va(),i=Gt.useContext(o5),r=rse(n);let o;if(e!==void 0)o=[e,e];else{let a=i??0;r?a+=(i?0:t.zIndexPopupBase)+_E[n]:a+=ise[n],o=[i===void 0?e:a,a]}return o};function ose(){const[n,e]=v.useState([]),t=v.useCallback(i=>(e(r=>[].concat(Nt(r),[i])),()=>{e(r=>r.filter(o=>o!==i))}),[]);return[n,t]}function vo(){vo=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(z,D,N){z[D]=N.value},o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(z,D,N){return Object.defineProperty(z,D,{value:N,enumerable:!0,configurable:!0,writable:!0}),z[D]}try{c({},"")}catch{c=function(N,L,P){return N[L]=P}}function g(z,D,N,L){var P=D&&D.prototype instanceof p?D:p,O=Object.create(P.prototype),ie=new K(L||[]);return r(O,"_invoke",{value:_(z,N,ie)}),O}function u(z,D,N){try{return{type:"normal",arg:z.call(D,N)}}catch(L){return{type:"throw",arg:L}}}e.wrap=g;var d="suspendedStart",C="suspendedYield",f="executing",b="completed",A={};function p(){}function y(){}function B(){}var x={};c(x,a,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(Q([])));S&&S!==t&&i.call(S,a)&&(x=S);var Z=B.prototype=p.prototype=Object.create(x);function M(z){["next","throw","return"].forEach(function(D){c(z,D,function(N){return this._invoke(D,N)})})}function q(z,D){function N(P,O,ie,ge){var J=u(z[P],z,O);if(J.type!=="throw"){var Ce=J.arg,ve=Ce.value;return ve&&sn(ve)=="object"&&i.call(ve,"__await")?D.resolve(ve.__await).then(function(Ae){N("next",Ae,ie,ge)},function(Ae){N("throw",Ae,ie,ge)}):D.resolve(ve).then(function(Ae){Ce.value=Ae,ie(Ce)},function(Ae){return N("throw",Ae,ie,ge)})}ge(J.arg)}var L;r(this,"_invoke",{value:function(O,ie){function ge(){return new D(function(J,Ce){N(O,ie,J,Ce)})}return L=L?L.then(ge,ge):ge()}})}function _(z,D,N){var L=d;return function(P,O){if(L===f)throw Error("Generator is already running");if(L===b){if(P==="throw")throw O;return{value:n,done:!0}}for(N.method=P,N.arg=O;;){var ie=N.delegate;if(ie){var ge=V(ie,N);if(ge){if(ge===A)continue;return ge}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(L===d)throw L=b,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);L=f;var J=u(z,D,N);if(J.type==="normal"){if(L=N.done?b:C,J.arg===A)continue;return{value:J.arg,done:N.done}}J.type==="throw"&&(L=b,N.method="throw",N.arg=J.arg)}}}function V(z,D){var N=D.method,L=z.iterator[N];if(L===n)return D.delegate=null,N==="throw"&&z.iterator.return&&(D.method="return",D.arg=n,V(z,D),D.method==="throw")||N!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+N+"' method")),A;var P=u(L,z.iterator,D.arg);if(P.type==="throw")return D.method="throw",D.arg=P.arg,D.delegate=null,A;var O=P.arg;return O?O.done?(D[z.resultName]=O.value,D.next=z.nextLoc,D.method!=="return"&&(D.method="next",D.arg=n),D.delegate=null,A):O:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,A)}function Y(z){var D={tryLoc:z[0]};1 in z&&(D.catchLoc=z[1]),2 in z&&(D.finallyLoc=z[2],D.afterLoc=z[3]),this.tryEntries.push(D)}function X(z){var D=z.completion||{};D.type="normal",delete D.arg,z.completion=D}function K(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(Y,this),this.reset(!0)}function Q(z){if(z||z===""){var D=z[a];if(D)return D.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var N=-1,L=function P(){for(;++N<z.length;)if(i.call(z,N))return P.value=z[N],P.done=!1,P;return P.value=n,P.done=!0,P};return L.next=L}}throw new TypeError(sn(z)+" is not iterable")}return y.prototype=B,r(Z,"constructor",{value:B,configurable:!0}),r(B,"constructor",{value:y,configurable:!0}),y.displayName=c(B,l,"GeneratorFunction"),e.isGeneratorFunction=function(z){var D=typeof z=="function"&&z.constructor;return!!D&&(D===y||(D.displayName||D.name)==="GeneratorFunction")},e.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,B):(z.__proto__=B,c(z,l,"GeneratorFunction")),z.prototype=Object.create(Z),z},e.awrap=function(z){return{__await:z}},M(q.prototype),c(q.prototype,s,function(){return this}),e.AsyncIterator=q,e.async=function(z,D,N,L,P){P===void 0&&(P=Promise);var O=new q(g(z,D,N,L),P);return e.isGeneratorFunction(D)?O:O.next().then(function(ie){return ie.done?ie.value:O.next()})},M(Z),c(Z,l,"Generator"),c(Z,a,function(){return this}),c(Z,"toString",function(){return"[object Generator]"}),e.keys=function(z){var D=Object(z),N=[];for(var L in D)N.push(L);return N.reverse(),function P(){for(;N.length;){var O=N.pop();if(O in D)return P.value=O,P.done=!1,P}return P.done=!0,P}},e.values=Q,K.prototype={constructor:K,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(X),!D)for(var N in this)N.charAt(0)==="t"&&i.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=n)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var N=this;function L(Ce,ve){return ie.type="throw",ie.arg=D,N.next=Ce,ve&&(N.method="next",N.arg=n),!!ve}for(var P=this.tryEntries.length-1;P>=0;--P){var O=this.tryEntries[P],ie=O.completion;if(O.tryLoc==="root")return L("end");if(O.tryLoc<=this.prev){var ge=i.call(O,"catchLoc"),J=i.call(O,"finallyLoc");if(ge&&J){if(this.prev<O.catchLoc)return L(O.catchLoc,!0);if(this.prev<O.finallyLoc)return L(O.finallyLoc)}else if(ge){if(this.prev<O.catchLoc)return L(O.catchLoc,!0)}else{if(!J)throw Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return L(O.finallyLoc)}}}},abrupt:function(D,N){for(var L=this.tryEntries.length-1;L>=0;--L){var P=this.tryEntries[L];if(P.tryLoc<=this.prev&&i.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var O=P;break}}O&&(D==="break"||D==="continue")&&O.tryLoc<=N&&N<=O.finallyLoc&&(O=null);var ie=O?O.completion:{};return ie.type=D,ie.arg=N,O?(this.method="next",this.next=O.finallyLoc,A):this.complete(ie)},complete:function(D,N){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&N&&(this.next=N),A},finish:function(D){for(var N=this.tryEntries.length-1;N>=0;--N){var L=this.tryEntries[N];if(L.finallyLoc===D)return this.complete(L.completion,L.afterLoc),X(L),A}},catch:function(D){for(var N=this.tryEntries.length-1;N>=0;--N){var L=this.tryEntries[N];if(L.tryLoc===D){var P=L.completion;if(P.type==="throw"){var O=P.arg;X(L)}return O}}throw Error("illegal catch attempt")},delegateYield:function(D,N,L){return this.delegate={iterator:Q(D),resultName:N,nextLoc:L},this.method==="next"&&(this.arg=n),A}},e}function Pq(n,e,t,i,r,o,a){try{var s=n[o](a),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function g1(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function a(l){Pq(o,i,r,a,s,"next",l)}function s(l){Pq(o,i,r,a,s,"throw",l)}a(void 0)})}}var e2=he({},rk),ase=e2.version,sse=e2.render,lse=e2.unmountComponentAtNode,a5;try{var cse=Number((ase||"").split(".")[0]);cse>=18&&(a5=e2.createRoot)}catch{}function Dq(n){var e=e2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&sn(e)==="object"&&(e.usingClientEntryPoint=n)}var M3="__rc_react_root__";function gse(n,e){Dq(!0);var t=e[M3]||a5(e);Dq(!1),t.render(n),e[M3]=t}function use(n,e){sse(n,e)}function WE(n,e){if(a5){gse(n,e);return}use(n,e)}function dse(n){return nv.apply(this,arguments)}function nv(){return nv=g1(vo().mark(function n(e){return vo().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.resolve().then(function(){var r;(r=e[M3])===null||r===void 0||r.unmount(),delete e[M3]}));case 1:case"end":return i.stop()}},n)})),nv.apply(this,arguments)}function Ise(n){lse(n)}function VE(n){return iv.apply(this,arguments)}function iv(){return iv=g1(vo().mark(function n(e){return vo().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a5===void 0){i.next=2;break}return i.abrupt("return",dse(e));case 2:Ise(e);case 3:case"end":return i.stop()}},n)})),iv.apply(this,arguments)}const gb=()=>({height:0,opacity:0}),Uq=n=>{const{scrollHeight:e}=n;return{height:e,opacity:1}},Cse=n=>({height:n?n.offsetHeight:0}),ub=(n,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",hse=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ch}-motion-collapse`,onAppearStart:gb,onEnterStart:gb,onAppearActive:Uq,onEnterActive:Uq,onLeaveStart:Cse,onLeaveActive:gb,onAppearEnd:ub,onEnterEnd:ub,onLeaveEnd:ub,motionDeadline:500}},lg=(n,e,t)=>t!==void 0?t:`${n}-${e}`,IB=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,i=e.height;if(t||i)return!0}if(n.getBoundingClientRect){var r=n.getBoundingClientRect(),o=r.width,a=r.height;if(o||a)return!0}}return!1},mse=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${n.motionDurationSlow} ${n.motionEaseInOut}`,`opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`].join(",")}}}}},fse=Koe("Wave",n=>[mse(n)]),NE=`${Ch}-wave-target`;function db(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function pse(n){const{borderTopColor:e,borderColor:t,backgroundColor:i}=getComputedStyle(n);return db(e)?e:db(t)?t:db(i)?i:null}function Ib(n){return Number.isNaN(n)?0:n}const Ase=n=>{const{className:e,target:t,component:i}=n,r=v.useRef(null),[o,a]=v.useState(null),[s,l]=v.useState([]),[c,g]=v.useState(0),[u,d]=v.useState(0),[C,f]=v.useState(0),[b,A]=v.useState(0),[p,y]=v.useState(!1),B={left:c,top:u,width:C,height:b,borderRadius:s.map(S=>`${S}px`).join(" ")};o&&(B["--wave-color"]=o);function x(){const S=getComputedStyle(t);a(pse(t));const Z=S.position==="static",{borderLeftWidth:M,borderTopWidth:q}=S;g(Z?t.offsetLeft:Ib(-parseFloat(M))),d(Z?t.offsetTop:Ib(-parseFloat(q))),f(t.offsetWidth),A(t.offsetHeight);const{borderTopLeftRadius:_,borderTopRightRadius:V,borderBottomLeftRadius:Y,borderBottomRightRadius:X}=S;l([_,V,X,Y].map(K=>Ib(parseFloat(K))))}if(v.useEffect(()=>{if(t){const S=Si(()=>{x(),y(!0)});let Z;return typeof ResizeObserver<"u"&&(Z=new ResizeObserver(x),Z.observe(t)),()=>{Si.cancel(S),Z==null||Z.disconnect()}}},[]),!p)return null;const w=(i==="Checkbox"||i==="Radio")&&(t==null?void 0:t.classList.contains(NE));return v.createElement(gl,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(S,Z)=>{var M;if(Z.deadline||Z.propertyName==="opacity"){const q=(M=r.current)===null||M===void 0?void 0:M.parentElement;VE(q).then(()=>{q==null||q.remove()})}return!1}},(S,Z)=>{let{className:M}=S;return v.createElement("div",{ref:W0(r,Z),className:ct(e,M,{"wave-quick":w}),style:B})})},bse=(n,e)=>{var t;const{component:i}=e;if(i==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",n==null||n.insertBefore(r,n==null?void 0:n.firstChild),WE(v.createElement(Ase,Object.assign({},e,{target:n})),r)},vse=(n,e,t)=>{const{wave:i}=v.useContext(Zn),[,r,o]=va(),a=fr(c=>{const g=n.current;if(i!=null&&i.disabled||!g)return;const u=g.querySelector(`.${NE}`)||g,{showEffect:d}=i||{};(d||bse)(u,{className:e,token:r,component:t,event:c,hashId:o})}),s=v.useRef();return c=>{Si.cancel(s.current),s.current=Si(()=>{a(c)})}},yse=n=>{const{children:e,disabled:t,component:i}=n,{getPrefixCls:r}=v.useContext(Zn),o=v.useRef(null),a=r("wave"),[,s]=fse(a),l=vse(o,ct(a,s),i);if(Gt.useEffect(()=>{const g=o.current;if(!g||g.nodeType!==1||t)return;const u=d=>{!IB(d.target)||!g.getAttribute||g.getAttribute("disabled")||g.disabled||g.className.includes("disabled")||g.className.includes("-leave")||l(d)};return g.addEventListener("click",u,!0),()=>{g.removeEventListener("click",u,!0)}},[t]),!Gt.isValidElement(e))return e??null;const c=Qh(e)?W0(e.ref,o):o;return H0(e,{ref:c})},s5=n=>{const e=Gt.useContext(d0);return Gt.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},Bse=n=>{const{componentCls:e}=n;return{[e]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},xse=n=>{const{componentCls:e,antCls:t}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-item:empty`]:{display:"none"},[`${e}-item > ${t}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Gse=n=>{const{componentCls:e}=n;return{[e]:{"&-gap-row-small":{rowGap:n.spaceGapSmallSize},"&-gap-row-middle":{rowGap:n.spaceGapMiddleSize},"&-gap-row-large":{rowGap:n.spaceGapLargeSize},"&-gap-col-small":{columnGap:n.spaceGapSmallSize},"&-gap-col-middle":{columnGap:n.spaceGapMiddleSize},"&-gap-col-large":{columnGap:n.spaceGapLargeSize}}}},FE=ya("Space",n=>{const e=Mi(n,{spaceGapSmallSize:n.paddingXS,spaceGapMiddleSize:n.padding,spaceGapLargeSize:n.paddingLG});return[xse(e),Gse(e),Bse(e)]},()=>({}),{resetStyle:!1});var HE=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const l5=v.createContext(null),EE=(n,e)=>{const t=v.useContext(l5),i=v.useMemo(()=>{if(!t)return"";const{compactDirection:r,isFirstItem:o,isLastItem:a}=t,s=r==="vertical"?"-vertical-":"-";return ct(`${n}-compact${s}item`,{[`${n}-compact${s}first-item`]:o,[`${n}-compact${s}last-item`]:a,[`${n}-compact${s}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:i}},wse=n=>{let{children:e}=n;return v.createElement(l5.Provider,{value:null},e)},Sse=n=>{var{children:e}=n,t=HE(n,["children"]);return v.createElement(l5.Provider,{value:t},e)},Zse=n=>{const{getPrefixCls:e,direction:t}=v.useContext(Zn),{size:i,direction:r,block:o,prefixCls:a,className:s,rootClassName:l,children:c}=n,g=HE(n,["size","direction","block","prefixCls","className","rootClassName","children"]),u=s5(B=>i??B),d=e("space-compact",a),[C,f]=FE(d),b=ct(d,f,{[`${d}-rtl`]:t==="rtl",[`${d}-block`]:o,[`${d}-vertical`]:r==="vertical"},s,l),A=v.useContext(l5),p=cl(c),y=v.useMemo(()=>p.map((B,x)=>{const w=(B==null?void 0:B.key)||`${d}-item-${x}`;return v.createElement(Sse,{key:w,compactSize:u,compactDirection:r,isFirstItem:x===0&&(!A||(A==null?void 0:A.isFirstItem)),isLastItem:x===p.length-1&&(!A||(A==null?void 0:A.isLastItem))},B)}),[i,p,A]);return p.length===0?null:C(v.createElement("div",Object.assign({className:b},g),y))};var qse=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const XE=v.createContext(void 0),Rse=n=>{const{getPrefixCls:e,direction:t}=v.useContext(Zn),{prefixCls:i,size:r,className:o}=n,a=qse(n,["prefixCls","size","className"]),s=e("btn-group",i),[,,l]=va();let c="";switch(r){case"large":c="lg";break;case"small":c="sm";break}const g=ct(s,{[`${s}-${c}`]:c,[`${s}-rtl`]:t==="rtl"},o,l);return v.createElement(XE.Provider,{value:r},v.createElement("div",Object.assign({},a,{className:g})))},Oq=/^[\u4E00-\u9FA5]{2}$/,rv=Oq.test.bind(Oq);function zE(n){return n==="danger"?{danger:!0}:{type:n}}function jq(n){return typeof n=="string"}function Cb(n){return n==="text"||n==="link"}function Mse(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&jq(n.type)&&rv(n.props.children)?H0(n,{children:n.props.children.split("").join(t)}):jq(n)?rv(n)?Gt.createElement("span",null,n.split("").join(t)):Gt.createElement("span",null,n):RE(n)?Gt.createElement("span",null,n):n}function _se(n,e){let t=!1;const i=[];return Gt.Children.forEach(n,r=>{const o=typeof r,a=o==="string"||o==="number";if(t&&a){const s=i.length-1,l=i[s];i[s]=`${l}${r}`}else i.push(r);t=a}),Gt.Children.map(i,r=>Mse(r,e))}const YE=v.forwardRef((n,e)=>{const{className:t,style:i,children:r,prefixCls:o}=n,a=ct(`${o}-icon`,t);return Gt.createElement("span",{ref:e,className:a,style:i},r)}),Jq=v.forwardRef((n,e)=>{const{prefixCls:t,className:i,style:r,iconClassName:o}=n,a=ct(`${t}-loading-icon`,i);return Gt.createElement(YE,{prefixCls:t,className:a,style:r,ref:e},Gt.createElement(ME,{className:o}))}),hb=()=>({width:0,opacity:0,transform:"scale(0)"}),mb=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),Wse=n=>{const{prefixCls:e,loading:t,existIcon:i,className:r,style:o}=n,a=!!t;return i?Gt.createElement(Jq,{prefixCls:e,className:r,style:o}):Gt.createElement(gl,{visible:a,motionName:`${e}-loading-icon-motion`,motionLeave:a,removeOnLeave:!0,onAppearStart:hb,onAppearActive:mb,onEnterStart:hb,onEnterActive:mb,onLeaveStart:mb,onLeaveActive:hb},(s,l)=>{let{className:c,style:g}=s;return Gt.createElement(Jq,{prefixCls:e,className:r,style:Object.assign(Object.assign({},o),g),ref:l,iconClassName:c})})},Qq=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Vse=n=>{const{componentCls:e,fontSize:t,lineWidth:i,groupBorderColor:r,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:n.calc(i).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},Qq(`${e}-primary`,r),Qq(`${e}-danger`,o)]}},hr=Math.round;function fb(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],i=t.map(r=>parseFloat(r));for(let r=0;r<3;r+=1)i[r]=e(i[r]||0,t[r]||"",r);return t[3]?i[3]=t[3].includes("%")?i[3]/100:i[3]:i[3]=1,i}const $q=(n,e,t)=>t===0?n:n/100;function WI(n,e){const t=e||255;return n>t?t:n<0?0:n}class c5{constructor(e){me(this,"isValid",!0),me(this,"r",0),me(this,"g",0),me(this,"b",0),me(this,"a",1),me(this,"_h",void 0),me(this,"_s",void 0),me(this,"_l",void 0),me(this,"_v",void 0),me(this,"_max",void 0),me(this,"_min",void 0),me(this,"_brightness",void 0);function t(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let o=function(a){return r.startsWith(a)};var i=o;const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):o("rgb")?this.fromRgbString(r):o("hsl")?this.fromHslString(r):(o("hsv")||o("hsb"))&&this.fromHsvString(r)}else if(e instanceof c5)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=WI(e.r),this.g=WI(e.g),this.b=WI(e.b),this.a=typeof e.a=="number"?WI(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(o){const a=o/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const t=e(this.r),i=e(this.g),r=e(this.b);return .2126*t+.7152*i+.0722*r}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=hr(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),i=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:i,l:r,a:this.a})}lighten(e=10){const t=this.getHue(),i=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:i,l:r,a:this.a})}mix(e,t=50){const i=this._c(e),r=t/100,o=s=>(i[s]-this[s])*r+this[s],a={r:hr(o("r")),g:hr(o("g")),b:hr(o("b")),a:hr(o("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),i=this.a+t.a*(1-this.a),r=o=>hr((this[o]*this.a+t[o]*t.a*(1-this.a))/i);return this._c({r:r("r"),g:r("g"),b:r("b"),a:i})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const i=(this.g||0).toString(16);e+=i.length===2?i:"0"+i;const r=(this.b||0).toString(16);if(e+=r.length===2?r:"0"+r,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=hr(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=hr(this.getSaturation()*100),i=hr(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${i}%,${this.a})`:`hsl(${e},${t}%,${i}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,i){const r=this.clone();return r[e]=WI(t,i),r}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function i(r,o){return parseInt(t[r]+t[o||r],16)}t.length<6?(this.r=i(0),this.g=i(1),this.b=i(2),this.a=t[3]?i(3)/255:1):(this.r=i(0,1),this.g=i(2,3),this.b=i(4,5),this.a=t[6]?i(6,7)/255:1)}fromHsl({h:e,s:t,l:i,a:r}){if(this._h=e%360,this._s=t,this._l=i,this.a=typeof r=="number"?r:1,t<=0){const d=hr(i*255);this.r=d,this.g=d,this.b=d}let o=0,a=0,s=0;const l=e/60,c=(1-Math.abs(2*i-1))*t,g=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,a=g):l>=1&&l<2?(o=g,a=c):l>=2&&l<3?(a=c,s=g):l>=3&&l<4?(a=g,s=c):l>=4&&l<5?(o=g,s=c):l>=5&&l<6&&(o=c,s=g);const u=i-c/2;this.r=hr((o+u)*255),this.g=hr((a+u)*255),this.b=hr((s+u)*255)}fromHsv({h:e,s:t,v:i,a:r}){this._h=e%360,this._s=t,this._v=i,this.a=typeof r=="number"?r:1;const o=hr(i*255);if(this.r=o,this.g=o,this.b=o,t<=0)return;const a=e/60,s=Math.floor(a),l=a-s,c=hr(i*(1-t)*255),g=hr(i*(1-t*l)*255),u=hr(i*(1-t*(1-l))*255);switch(s){case 0:this.g=u,this.b=c;break;case 1:this.r=g,this.b=c;break;case 2:this.r=c,this.b=u;break;case 3:this.r=c,this.g=g;break;case 4:this.r=u,this.g=c;break;case 5:default:this.g=c,this.b=g;break}}fromHsvString(e){const t=fb(e,$q);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=fb(e,$q);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=fb(e,(i,r)=>r.includes("%")?hr(i/100*255):i);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Nse=["b"],Fse=["v"],pb=function(e){return Math.round(Number(e||0))},Hse=function(e){if(e instanceof c5)return e;if(e&&sn(e)==="object"&&"h"in e&&"b"in e){var t=e,i=t.b,r=_n(t,Nse);return he(he({},r),{},{v:i})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},fh=function(n){nc(t,n);var e=ic(t);function t(i){return tr(this,t),e.call(this,Hse(i))}return nr(t,[{key:"toHsbString",value:function(){var r=this.toHsb(),o=pb(r.s*100),a=pb(r.b*100),s=pb(r.h),l=r.a,c="hsb(".concat(s,", ").concat(o,"%, ").concat(a,"%)"),g="hsba(".concat(s,", ").concat(o,"%, ").concat(a,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:g}},{key:"toHsb",value:function(){var r=this.toHsv(),o=r.v,a=_n(r,Fse);return he(he({},a),{},{b:o,a:this.a})}}]),t}(c5),Ese=function(e){return e instanceof fh?e:new fh(e)};Ese("#1677ff");const Xse=(n,e)=>(n==null?void 0:n.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",zse=(n,e)=>n?Xse(n,e):"";let Yse=function(){function n(e){tr(this,n);var t;if(this.cleared=!1,e instanceof n){this.metaColor=e.metaColor.clone(),this.colors=(t=e.colors)===null||t===void 0?void 0:t.map(r=>({color:new n(r.color),percent:r.percent})),this.cleared=e.cleared;return}const i=Array.isArray(e);i&&e.length?(this.colors=e.map(r=>{let{color:o,percent:a}=r;return{color:new n(o),percent:a}}),this.metaColor=new fh(this.colors[0].color.metaColor)):this.metaColor=new fh(i?"":e),(!e||i&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return nr(n,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return zse(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:t}=this;return t?`linear-gradient(90deg, ${t.map(r=>`${r.color.toRgbString()} ${r.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(t){return!t||this.isGradient()!==t.isGradient()?!1:this.isGradient()?this.colors.length===t.colors.length&&this.colors.every((i,r)=>{const o=t.colors[r];return i.percent===o.percent&&i.color.equals(o.color)}):this.toHexString()===t.toHexString()}}])}();const Kse=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),Lse=n=>({animationDuration:n,animationFillMode:"both"}),Tse=n=>({animationDuration:n,animationFillMode:"both"}),g5=function(n,e,t,i){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:Object.assign(Object.assign({},Lse(i)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:Object.assign(Object.assign({},Tse(i)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},kse=new kn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Pse=new kn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Dse=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=n,i=`${t}-fade`,r=e?"&":"";return[g5(i,kse,Pse,n.motionDurationMid,e),{[`
        ${r}${i}-enter,
        ${r}${i}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${r}${i}-leave`]:{animationTimingFunction:"linear"}}]},Use=new kn("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Ose=new kn("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),jse=new kn("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Jse=new kn("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Qse=new kn("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),$se=new kn("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ele=new kn("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),tle=new kn("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),nle={"move-up":{inKeyframes:ele,outKeyframes:tle},"move-down":{inKeyframes:Use,outKeyframes:Ose},"move-left":{inKeyframes:jse,outKeyframes:Jse},"move-right":{inKeyframes:Qse,outKeyframes:$se}},eR=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=nle[e];return[g5(i,r,o,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},KE=new kn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),LE=new kn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),TE=new kn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),kE=new kn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),ile=new kn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),rle=new kn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),ole=new kn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),ale=new kn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),sle={"slide-up":{inKeyframes:KE,outKeyframes:LE},"slide-down":{inKeyframes:TE,outKeyframes:kE},"slide-left":{inKeyframes:ile,outKeyframes:rle},"slide-right":{inKeyframes:ole,outKeyframes:ale}},_3=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=sle[e];return[g5(i,r,o,n.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},lle=new kn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),cle=new kn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),tR=new kn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),nR=new kn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),gle=new kn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),ule=new kn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),dle=new kn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Ile=new kn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Cle=new kn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),hle=new kn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),mle=new kn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),fle=new kn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),ple={zoom:{inKeyframes:lle,outKeyframes:cle},"zoom-big":{inKeyframes:tR,outKeyframes:nR},"zoom-big-fast":{inKeyframes:tR,outKeyframes:nR},"zoom-left":{inKeyframes:dle,outKeyframes:Ile},"zoom-right":{inKeyframes:Cle,outKeyframes:hle},"zoom-up":{inKeyframes:gle,outKeyframes:ule},"zoom-down":{inKeyframes:mle,outKeyframes:fle}},CB=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=ple[e];return[g5(i,r,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},Ale=(n,e)=>{const{r:t,g:i,b:r,a:o}=n.toRgb(),a=new fh(n.toRgbString()).onBackground(e).toHsv();return o<=.5?a.v>.5:t*.299+i*.587+r*.114>192},PE=n=>{const{paddingInline:e,onlyIconSize:t,paddingBlock:i}=n;return Mi(n,{buttonPaddingHorizontal:e,buttonPaddingVertical:i,buttonIconOnlyFontSize:t})},DE=n=>{var e,t,i,r,o,a;const s=(e=n.contentFontSize)!==null&&e!==void 0?e:n.fontSize,l=(t=n.contentFontSizeSM)!==null&&t!==void 0?t:n.fontSize,c=(i=n.contentFontSizeLG)!==null&&i!==void 0?i:n.fontSizeLG,g=(r=n.contentLineHeight)!==null&&r!==void 0?r:np(s),u=(o=n.contentLineHeightSM)!==null&&o!==void 0?o:np(l),d=(a=n.contentLineHeightLG)!==null&&a!==void 0?a:np(c),C=Ale(new Yse(n.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`,primaryShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`,dangerShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`,primaryColor:n.colorTextLightSolid,dangerColor:n.colorTextLightSolid,borderColorDisabled:n.colorBorder,defaultGhostColor:n.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:n.colorBgContainer,paddingInline:n.paddingContentHorizontal-n.lineWidth,paddingInlineLG:n.paddingContentHorizontal-n.lineWidth,paddingInlineSM:8-n.lineWidth,onlyIconSize:n.fontSizeLG,onlyIconSizeSM:n.fontSizeLG-2,onlyIconSizeLG:n.fontSizeLG+2,groupBorderColor:n.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:n.colorText,textTextHoverColor:n.colorText,textTextActiveColor:n.colorText,textHoverBg:n.colorFillTertiary,defaultColor:n.colorText,defaultBg:n.colorBgContainer,defaultBorderColor:n.colorBorder,defaultBorderColorDisabled:n.colorBorder,defaultHoverBg:n.colorBgContainer,defaultHoverColor:n.colorPrimaryHover,defaultHoverBorderColor:n.colorPrimaryHover,defaultActiveBg:n.colorBgContainer,defaultActiveColor:n.colorPrimaryActive,defaultActiveBorderColor:n.colorPrimaryActive,solidTextColor:C,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:g,contentLineHeightSM:u,contentLineHeightLG:d,paddingBlock:Math.max((n.controlHeight-s*g)/2-n.lineWidth,0),paddingBlockSM:Math.max((n.controlHeightSM-l*u)/2-n.lineWidth,0),paddingBlockLG:Math.max((n.controlHeightLG-c*d)/2-n.lineWidth,0)}},ble=n=>{const{componentCls:e,iconCls:t,fontWeight:i}=n;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:n.marginXS,alignItems:"center",justifyContent:"center",fontWeight:i,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${mt(n.lineWidth)} ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},uB(n)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${t})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},UE=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),vle=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),yle=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.calc(n.controlHeight).div(2).equal(),paddingInlineEnd:n.calc(n.controlHeight).div(2).equal()}),Ble=n=>({cursor:"not-allowed",borderColor:n.borderColorDisabled,color:n.colorTextDisabled,background:n.colorBgContainerDisabled,boxShadow:"none"}),hB=(n,e,t,i,r,o,a,s)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,background:e,borderColor:i||void 0,boxShadow:"none"},UE(n,Object.assign({background:e},a),Object.assign({background:e},s))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:o||void 0}})}),xle=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},Ble(n))}),Gle=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),u5=(n,e,t,i)=>{const o=i&&["link","text"].includes(i)?Gle:xle;return Object.assign(Object.assign({},o(n)),UE(n.componentCls,e,t))},mB=(n,e,t,i,r)=>({[`&${n.componentCls}-variant-solid`]:Object.assign({color:e,background:t},u5(n,i,r))}),fB=(n,e,t,i,r)=>({[`&${n.componentCls}-variant-outlined, &${n.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:t},u5(n,i,r))}),pB=n=>({[`&${n.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),AB=(n,e,t,i)=>({[`&${n.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},u5(n,t,i))}),C0=(n,e,t,i,r)=>({[`&${n.componentCls}-variant-${t}`]:Object.assign({color:e,boxShadow:"none"},u5(n,i,r,t))}),wle=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.defaultColor,boxShadow:n.defaultShadow},mB(n,n.solidTextColor,n.colorBgSolid,{background:n.colorBgSolidHover},{background:n.colorBgSolidActive})),pB(n)),AB(n,n.colorFillTertiary,{background:n.colorFillSecondary},{background:n.colorFill})),C0(n,n.textTextColor,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),hB(n.componentCls,n.ghostBg,n.defaultGhostColor,n.defaultGhostBorderColor,n.colorTextDisabled,n.colorBorder)),Sle=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorPrimary,boxShadow:n.primaryShadow},fB(n,n.colorPrimary,n.colorBgContainer,{color:n.colorPrimaryTextHover,borderColor:n.colorPrimaryHover,background:n.colorBgContainer},{color:n.colorPrimaryTextActive,borderColor:n.colorPrimaryActive,background:n.colorBgContainer})),pB(n)),AB(n,n.colorPrimaryBg,{background:n.colorPrimaryBgHover},{background:n.colorPrimaryBorder})),C0(n,n.colorLink,"text",{color:n.colorPrimaryTextHover,background:n.colorPrimaryBg},{color:n.colorPrimaryTextActive,background:n.colorPrimaryBorder})),hB(n.componentCls,n.ghostBg,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),Zle=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:n.colorError,boxShadow:n.dangerShadow},mB(n,n.dangerColor,n.colorError,{background:n.colorErrorHover},{background:n.colorErrorActive})),fB(n,n.colorError,n.colorBgContainer,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),pB(n)),AB(n,n.colorErrorBg,{background:n.colorErrorBgFilledHover},{background:n.colorErrorBgActive})),C0(n,n.colorError,"text",{color:n.colorErrorHover,background:n.colorErrorBg},{color:n.colorErrorHover,background:n.colorErrorBgActive})),C0(n,n.colorError,"link",{color:n.colorErrorHover},{color:n.colorErrorActive})),hB(n.componentCls,n.ghostBg,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),qle=n=>{const{componentCls:e}=n;return{[`${e}-color-default`]:wle(n),[`${e}-color-primary`]:Sle(n),[`${e}-color-dangerous`]:Zle(n)}},Rle=n=>Object.assign(Object.assign(Object.assign(Object.assign({},fB(n,n.defaultBorderColor,n.defaultBg,{color:n.defaultHoverColor,borderColor:n.defaultHoverBorderColor,background:n.defaultHoverBg},{color:n.defaultActiveColor,borderColor:n.defaultActiveBorderColor,background:n.defaultActiveBg})),C0(n,n.textTextColor,"text",{color:n.textTextHoverColor,background:n.textHoverBg},{color:n.textTextActiveColor,background:n.colorBgTextActive})),mB(n,n.primaryColor,n.colorPrimary,{background:n.colorPrimaryHover,color:n.primaryColor},{background:n.colorPrimaryActive,color:n.primaryColor})),C0(n,n.colorLink,"link",{color:n.colorLinkHover,background:n.linkHoverBg},{color:n.colorLinkActive})),bB=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:i,fontSize:r,lineHeight:o,borderRadius:a,buttonPaddingHorizontal:s,iconCls:l,buttonPaddingVertical:c}=n,g=`${t}-icon-only`;return[{[e]:{fontSize:r,lineHeight:o,height:i,padding:`${mt(c)} ${mt(s)}`,borderRadius:a,[`&${g}`]:{width:i,paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"},[l]:{fontSize:n.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:vle(n)},{[`${t}${t}-round${e}`]:yle(n)}]},Mle=n=>{const e=Mi(n,{fontSize:n.contentFontSize,lineHeight:n.contentLineHeight});return bB(e,n.componentCls)},_le=n=>{const e=Mi(n,{controlHeight:n.controlHeightSM,fontSize:n.contentFontSizeSM,lineHeight:n.contentLineHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:n.paddingInlineSM,buttonPaddingVertical:n.paddingBlockSM,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.onlyIconSizeSM});return bB(e,`${n.componentCls}-sm`)},Wle=n=>{const e=Mi(n,{controlHeight:n.controlHeightLG,fontSize:n.contentFontSizeLG,lineHeight:n.contentLineHeightLG,buttonPaddingHorizontal:n.paddingInlineLG,buttonPaddingVertical:n.paddingBlockLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.onlyIconSizeLG});return bB(e,`${n.componentCls}-lg`)},Vle=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},Nle=ya("Button",n=>{const e=PE(n);return[ble(e),Mle(e),_le(e),Wle(e),Vle(e),qle(e),Rle(e),Vse(e)]},DE,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function Fle(n,e,t){const{focusElCls:i,focus:r,borderElCls:o}=t,a=o?"> *":"",s=["hover",r?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:n.calc(n.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[s]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function Hle(n,e,t){const{borderElCls:i}=t,r=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function OE(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,i=`${t}-compact`;return{[i]:Object.assign(Object.assign({},Fle(n,i,e)),Hle(t,i,e))}}function Ele(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:n.calc(n.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Xle(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function zle(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},Ele(n,e)),Xle(n.componentCls,e))}}const Yle=n=>{const{componentCls:e,calc:t}=n;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:n.lineWidth,height:`calc(100% + ${mt(n.lineWidth)} * 2)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:t(n.lineWidth).mul(-1).equal(),insetInlineStart:t(n.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${mt(n.lineWidth)} * 2)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},Kle=uE(["Button","compact"],n=>{const e=PE(n);return[OE(e),zle(e),Yle(e)]},DE);var Lle=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Tle(n){if(typeof n=="object"&&n){let e=n==null?void 0:n.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!n,delay:0}}const kle={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},Ple=Gt.forwardRef((n,e)=>{var t,i,r,o;const{loading:a=!1,prefixCls:s,color:l,variant:c,type:g,danger:u=!1,shape:d="default",size:C,styles:f,disabled:b,className:A,rootClassName:p,children:y,icon:B,iconPosition:x="start",ghost:w=!1,block:S=!1,htmlType:Z="button",classNames:M,style:q={},autoInsertSpace:_}=n,V=Lle(n,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),Y=g||"default",[X,K]=v.useMemo(()=>{if(l&&c)return[l,c];const ze=kle[Y]||[];return u?["danger",ze[1]]:ze},[g,l,c,u]),z=X==="danger"?"dangerous":X,{getPrefixCls:D,direction:N,button:L}=v.useContext(Zn),P=(t=_??(L==null?void 0:L.autoInsertSpace))!==null&&t!==void 0?t:!0,O=D("btn",s),[ie,ge,J]=Nle(O),Ce=v.useContext(hh),ve=b??Ce,Ae=v.useContext(XE),Xe=v.useMemo(()=>Tle(a),[a]),[Le,Ee]=v.useState(Xe.loading),[be,Ie]=v.useState(!1),$=W0(e,v.createRef()),Ge=v.Children.count(y)===1&&!B&&!Cb(K);v.useEffect(()=>{let ze=null;Xe.delay>0?ze=setTimeout(()=>{ze=null,Ee(!0)},Xe.delay):Ee(Xe.loading);function st(){ze&&(clearTimeout(ze),ze=null)}return st},[Xe]),v.useEffect(()=>{if(!$||!$.current||!P)return;const ze=$.current.textContent;Ge&&rv(ze)?be||Ie(!0):be&&Ie(!1)},[$]);const Ze=Gt.useCallback(ze=>{var st;if(Le||ve){ze.preventDefault();return}(st=n.onClick)===null||st===void 0||st.call(n,ze)},[n.onClick,Le,ve]),{compactSize:Ye,compactItemClassnames:Ne}=EE(O,N),Je={large:"lg",small:"sm",middle:void 0},Ke=s5(ze=>{var st,gt;return(gt=(st=C??Ye)!==null&&st!==void 0?st:Ae)!==null&&gt!==void 0?gt:ze}),U=Ke&&(i=Je[Ke])!==null&&i!==void 0?i:"",T=Le?"loading":B,le=$a(V,["navigate"]),ye=ct(O,ge,J,{[`${O}-${d}`]:d!=="default"&&d,[`${O}-${Y}`]:Y,[`${O}-dangerous`]:u,[`${O}-color-${z}`]:z,[`${O}-variant-${K}`]:K,[`${O}-${U}`]:U,[`${O}-icon-only`]:!y&&y!==0&&!!T,[`${O}-background-ghost`]:w&&!Cb(K),[`${O}-loading`]:Le,[`${O}-two-chinese-chars`]:be&&P&&!Le,[`${O}-block`]:S,[`${O}-rtl`]:N==="rtl",[`${O}-icon-end`]:x==="end"},Ne,A,p,L==null?void 0:L.className),Fe=Object.assign(Object.assign({},L==null?void 0:L.style),q),we=ct(M==null?void 0:M.icon,(r=L==null?void 0:L.classNames)===null||r===void 0?void 0:r.icon),tt=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),((o=L==null?void 0:L.styles)===null||o===void 0?void 0:o.icon)||{}),je=B&&!Le?Gt.createElement(YE,{prefixCls:O,className:we,style:tt},B):Gt.createElement(Wse,{existIcon:!!B,prefixCls:O,loading:Le}),Qe=y||y===0?_se(y,Ge&&P):null;if(le.href!==void 0)return ie(Gt.createElement("a",Object.assign({},le,{className:ct(ye,{[`${O}-disabled`]:ve}),href:ve?void 0:le.href,style:Fe,onClick:Ze,ref:$,tabIndex:ve?-1:0}),je,Qe));let Rt=Gt.createElement("button",Object.assign({},V,{type:Z,className:ye,style:Fe,onClick:Ze,disabled:ve,ref:$}),je,Qe,!!Ne&&Gt.createElement(Kle,{key:"compact",prefixCls:O}));return Cb(K)||(Rt=Gt.createElement(yse,{component:"Button",disabled:Le},Rt)),ie(Rt)}),oa=Ple;oa.Group=Rse;oa.__ANT_BUTTON=!0;function Ab(n){return!!(n!=null&&n.then)}const jE=n=>{const{type:e,children:t,prefixCls:i,buttonProps:r,close:o,autoFocus:a,emitEvent:s,isSilent:l,quitOnNullishReturnValue:c,actionFn:g}=n,u=v.useRef(!1),d=v.useRef(null),[C,f]=I0(!1),b=function(){o==null||o.apply(void 0,arguments)};v.useEffect(()=>{let y=null;return a&&(y=setTimeout(()=>{var B;(B=d.current)===null||B===void 0||B.focus()})),()=>{y&&clearTimeout(y)}},[]);const A=y=>{Ab(y)&&(f(!0),y.then(function(){f(!1,!0),b.apply(void 0,arguments),u.current=!1},B=>{if(f(!1,!0),u.current=!1,!(l!=null&&l()))return Promise.reject(B)}))},p=y=>{if(u.current)return;if(u.current=!0,!g){b();return}let B;if(s){if(B=g(y),c&&!Ab(B)){u.current=!1,b(y);return}}else if(g.length)B=g(o),u.current=!1;else if(B=g(),!Ab(B)){b();return}A(B)};return v.createElement(oa,Object.assign({},zE(e),{onClick:p,loading:C,prefixCls:i},r,{ref:d}),t)},t2=Gt.createContext({}),{Provider:JE}=t2,iR=()=>{const{autoFocusButton:n,cancelButtonProps:e,cancelTextLocale:t,isSilent:i,mergedOkCancel:r,rootPrefixCls:o,close:a,onCancel:s,onConfirm:l}=v.useContext(t2);return r?Gt.createElement(jE,{isSilent:i,actionFn:s,close:function(){a==null||a.apply(void 0,arguments),l==null||l(!1)},autoFocus:n==="cancel",buttonProps:e,prefixCls:`${o}-btn`},t):null},rR=()=>{const{autoFocusButton:n,close:e,isSilent:t,okButtonProps:i,rootPrefixCls:r,okTextLocale:o,okType:a,onConfirm:s,onOk:l}=v.useContext(t2);return Gt.createElement(jE,{isSilent:t,type:a||"primary",actionFn:l,close:function(){e==null||e.apply(void 0,arguments),s==null||s(!0)},autoFocus:n==="ok",buttonProps:i,prefixCls:`${r}-btn`},o)};var QE=v.createContext(null),oR=[];function Dle(n,e){var t=v.useState(function(){if(!bo())return null;var f=document.createElement("div");return f}),i=Pe(t,1),r=i[0],o=v.useRef(!1),a=v.useContext(QE),s=v.useState(oR),l=Pe(s,2),c=l[0],g=l[1],u=a||(o.current?void 0:function(f){g(function(b){var A=[f].concat(Nt(b));return A})});function d(){r.parentElement||document.body.appendChild(r),o.current=!0}function C(){var f;(f=r.parentElement)===null||f===void 0||f.removeChild(r),o.current=!1}return ui(function(){return n?a?a(d):d():C(),C},[n]),ui(function(){c.length&&(c.forEach(function(f){return f()}),g(oR))},[c]),[r,u]}function Ule(n){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),t=document.createElement("div");t.id=e;var i=t.style;i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll";var r,o;if(n){var a=getComputedStyle(n);i.scrollbarColor=a.scrollbarColor,i.scrollbarWidth=a.scrollbarWidth;var s=getComputedStyle(n,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var g=l?"width: ".concat(s.width,";"):"",u=c?"height: ".concat(s.height,";"):"";kl(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(g,`
`).concat(u,`
}`),e)}catch(f){console.error(f),r=l,o=c}}document.body.appendChild(t);var d=n&&r&&!isNaN(r)?r:t.offsetWidth-t.clientWidth,C=n&&o&&!isNaN(o)?o:t.offsetHeight-t.clientHeight;return document.body.removeChild(t),lh(e),{width:d,height:C}}function Ole(n){return typeof document>"u"||!n||!(n instanceof Element)?{width:0,height:0}:Ule(n)}function jle(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Jle="rc-util-locker-".concat(Date.now()),aR=0;function Qle(n){var e=!!n,t=v.useState(function(){return aR+=1,"".concat(Jle,"_").concat(aR)}),i=Pe(t,1),r=i[0];ui(function(){if(e){var o=Ole(document.body).width,a=jle();kl(`
html body {
  overflow-y: hidden;
  `.concat(a?"width: calc(100% - ".concat(o,"px);"):"",`
}`),r)}else lh(r);return function(){lh(r)}},[e,r])}var $le=!1;function ece(n){return $le}var sR=function(e){return e===!1?!1:!bo()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},d5=v.forwardRef(function(n,e){var t=n.open,i=n.autoLock,r=n.getContainer;n.debug;var o=n.autoDestroy,a=o===void 0?!0:o,s=n.children,l=v.useState(t),c=Pe(l,2),g=c[0],u=c[1],d=g||t;v.useEffect(function(){(a||t)&&u(t)},[t,a]);var C=v.useState(function(){return sR(r)}),f=Pe(C,2),b=f[0],A=f[1];v.useEffect(function(){var V=sR(r);A(V??null)});var p=Dle(d&&!b),y=Pe(p,2),B=y[0],x=y[1],w=b??B;Qle(i&&t&&bo()&&(w===B||w===document.body));var S=null;if(s&&Qh(s)&&e){var Z=s;S=Z.ref}var M=l1(S,e);if(!d||!bo()||b===void 0)return null;var q=w===!1||ece(),_=s;return e&&(_=v.cloneElement(s,{ref:M})),v.createElement(QE.Provider,{value:x},q?_:rg.createPortal(_,w))}),$E=v.createContext({});function tce(){var n=he({},Zh);return n.useId}var lR=0,cR=tce();const eX=cR?function(e){var t=cR();return e||t}:function(e){var t=v.useState("ssr-id"),i=Pe(t,2),r=i[0],o=i[1];return v.useEffect(function(){var a=lR;lR+=1,o("rc_unique_".concat(a))},[]),e||r};function gR(n,e,t){var i=e;return!i&&t&&(i="".concat(n,"-").concat(t)),i}function uR(n,e){var t=n["page".concat(e?"Y":"X","Offset")],i="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var r=n.document;t=r.documentElement[i],typeof t!="number"&&(t=r.body[i])}return t}function nce(n){var e=n.getBoundingClientRect(),t={left:e.left,top:e.top},i=n.ownerDocument,r=i.defaultView||i.parentWindow;return t.left+=uR(r),t.top+=uR(r,!0),t}const ice=v.memo(function(n){var e=n.children;return e},function(n,e){var t=e.shouldUpdate;return!t});var rce={width:0,height:0,overflow:"hidden",outline:"none"},oce={outline:"none"},tX=Gt.forwardRef(function(n,e){var t=n.prefixCls,i=n.className,r=n.style,o=n.title,a=n.ariaId,s=n.footer,l=n.closable,c=n.closeIcon,g=n.onClose,u=n.children,d=n.bodyStyle,C=n.bodyProps,f=n.modalRender,b=n.onMouseDown,A=n.onMouseUp,p=n.holderRef,y=n.visible,B=n.forceRender,x=n.width,w=n.height,S=n.classNames,Z=n.styles,M=Gt.useContext($E),q=M.panel,_=l1(p,q),V=v.useRef(),Y=v.useRef();Gt.useImperativeHandle(e,function(){return{focus:function(){var ie;(ie=V.current)===null||ie===void 0||ie.focus({preventScroll:!0})},changeActive:function(ie){var ge=document,J=ge.activeElement;ie&&J===Y.current?V.current.focus({preventScroll:!0}):!ie&&J===V.current&&Y.current.focus({preventScroll:!0})}}});var X={};x!==void 0&&(X.width=x),w!==void 0&&(X.height=w);var K=s?Gt.createElement("div",{className:ct("".concat(t,"-footer"),S==null?void 0:S.footer),style:he({},Z==null?void 0:Z.footer)},s):null,Q=o?Gt.createElement("div",{className:ct("".concat(t,"-header"),S==null?void 0:S.header),style:he({},Z==null?void 0:Z.header)},Gt.createElement("div",{className:"".concat(t,"-title"),id:a},o)):null,z=v.useMemo(function(){return sn(l)==="object"&&l!==null?l:l?{closeIcon:c??Gt.createElement("span",{className:"".concat(t,"-close-x")})}:{}},[l,c,t]),D=ul(z,!0),N=sn(l)==="object"&&l.disabled,L=l?Gt.createElement("button",Lt({type:"button",onClick:g,"aria-label":"Close"},D,{className:"".concat(t,"-close"),disabled:N}),z.closeIcon):null,P=Gt.createElement("div",{className:ct("".concat(t,"-content"),S==null?void 0:S.content),style:Z==null?void 0:Z.content},L,Q,Gt.createElement("div",Lt({className:ct("".concat(t,"-body"),S==null?void 0:S.body),style:he(he({},d),Z==null?void 0:Z.body)},C),u),K);return Gt.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?a:null,"aria-modal":"true",ref:_,style:he(he({},r),X),className:ct(t,i),onMouseDown:b,onMouseUp:A},Gt.createElement("div",{ref:V,tabIndex:0,style:oce},Gt.createElement(ice,{shouldUpdate:y||B},f?f(P):P)),Gt.createElement("div",{tabIndex:0,ref:Y,style:rce}))}),nX=v.forwardRef(function(n,e){var t=n.prefixCls,i=n.title,r=n.style,o=n.className,a=n.visible,s=n.forceRender,l=n.destroyOnClose,c=n.motionName,g=n.ariaId,u=n.onVisibleChanged,d=n.mousePosition,C=v.useRef(),f=v.useState(),b=Pe(f,2),A=b[0],p=b[1],y={};A&&(y.transformOrigin=A);function B(){var x=nce(C.current);p(d&&(d.x||d.y)?"".concat(d.x-x.left,"px ").concat(d.y-x.top,"px"):"")}return v.createElement(gl,{visible:a,onVisibleChanged:u,onAppearPrepare:B,onEnterPrepare:B,forceRender:s,motionName:c,removeOnLeave:l,ref:C},function(x,w){var S=x.className,Z=x.style;return v.createElement(tX,Lt({},n,{ref:e,title:i,ariaId:g,prefixCls:t,holderRef:w,style:he(he(he({},Z),r),y),className:ct(o,S)}))})});nX.displayName="Content";var ace=function(e){var t=e.prefixCls,i=e.style,r=e.visible,o=e.maskProps,a=e.motionName,s=e.className;return v.createElement(gl,{key:"mask",visible:r,motionName:a,leavedClassName:"".concat(t,"-mask-hidden")},function(l,c){var g=l.className,u=l.style;return v.createElement("div",Lt({ref:c,style:he(he({},u),i),className:ct("".concat(t,"-mask"),g,s)},o))})},sce=function(e){var t=e.prefixCls,i=t===void 0?"rc-dialog":t,r=e.zIndex,o=e.visible,a=o===void 0?!1:o,s=e.keyboard,l=s===void 0?!0:s,c=e.focusTriggerAfterClose,g=c===void 0?!0:c,u=e.wrapStyle,d=e.wrapClassName,C=e.wrapProps,f=e.onClose,b=e.afterOpenChange,A=e.afterClose,p=e.transitionName,y=e.animation,B=e.closable,x=B===void 0?!0:B,w=e.mask,S=w===void 0?!0:w,Z=e.maskTransitionName,M=e.maskAnimation,q=e.maskClosable,_=q===void 0?!0:q,V=e.maskStyle,Y=e.maskProps,X=e.rootClassName,K=e.classNames,Q=e.styles,z=v.useRef(),D=v.useRef(),N=v.useRef(),L=v.useState(a),P=Pe(L,2),O=P[0],ie=P[1],ge=eX();function J(){G8(D.current,document.activeElement)||(z.current=document.activeElement)}function Ce(){if(!G8(D.current,document.activeElement)){var Ge;(Ge=N.current)===null||Ge===void 0||Ge.focus()}}function ve(Ge){if(Ge)Ce();else{if(ie(!1),S&&z.current&&g){try{z.current.focus({preventScroll:!0})}catch{}z.current=null}O&&(A==null||A())}b==null||b(Ge)}function Ae(Ge){f==null||f(Ge)}var Xe=v.useRef(!1),Le=v.useRef(),Ee=function(){clearTimeout(Le.current),Xe.current=!0},be=function(){Le.current=setTimeout(function(){Xe.current=!1})},Ie=null;_&&(Ie=function(Ze){Xe.current?Xe.current=!1:D.current===Ze.target&&Ae(Ze)});function pe(Ge){if(l&&Ge.keyCode===ht.ESC){Ge.stopPropagation(),Ae(Ge);return}a&&Ge.keyCode===ht.TAB&&N.current.changeActive(!Ge.shiftKey)}v.useEffect(function(){a&&(ie(!0),J())},[a]),v.useEffect(function(){return function(){clearTimeout(Le.current)}},[]);var $=he(he(he({zIndex:r},u),Q==null?void 0:Q.wrapper),{},{display:O?null:"none"});return v.createElement("div",Lt({className:ct("".concat(i,"-root"),X)},ul(e,{data:!0})),v.createElement(ace,{prefixCls:i,visible:S&&a,motionName:gR(i,Z,M),style:he(he({zIndex:r},V),Q==null?void 0:Q.mask),maskProps:Y,className:K==null?void 0:K.mask}),v.createElement("div",Lt({tabIndex:-1,onKeyDown:pe,className:ct("".concat(i,"-wrap"),d,K==null?void 0:K.wrapper),ref:D,onClick:Ie,style:$},C),v.createElement(nX,Lt({},e,{onMouseDown:Ee,onMouseUp:be,ref:N,closable:x,ariaId:ge,prefixCls:i,visible:a&&O,onClose:Ae,onVisibleChanged:ve,motionName:gR(i,p,y)}))))},iX=function(e){var t=e.visible,i=e.getContainer,r=e.forceRender,o=e.destroyOnClose,a=o===void 0?!1:o,s=e.afterClose,l=e.panelRef,c=v.useState(t),g=Pe(c,2),u=g[0],d=g[1],C=v.useMemo(function(){return{panel:l}},[l]);return v.useEffect(function(){t&&d(!0)},[t]),!r&&a&&!u?null:v.createElement($E.Provider,{value:C},v.createElement(d5,{open:t||r||u,autoDestroy:!1,getContainer:i,autoLock:t||u},v.createElement(sce,Lt({},e,{destroyOnClose:a,afterClose:function(){s==null||s(),d(!1)}}))))};iX.displayName="Dialog";var bu="RC_FORM_INTERNAL_HOOKS",Jn=function(){_r(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},h0=v.createContext({getFieldValue:Jn,getFieldsValue:Jn,getFieldError:Jn,getFieldWarning:Jn,getFieldsError:Jn,isFieldsTouched:Jn,isFieldTouched:Jn,isFieldValidating:Jn,isFieldsValidating:Jn,resetFields:Jn,setFields:Jn,setFieldValue:Jn,setFieldsValue:Jn,validateFields:Jn,submit:Jn,getInternalHooks:function(){return Jn(),{dispatch:Jn,initEntityValue:Jn,registerField:Jn,useSubscribe:Jn,setInitialValues:Jn,destroyForm:Jn,setCallbacks:Jn,registerWatch:Jn,getFields:Jn,setValidateMessages:Jn,setPreserve:Jn,getInitialValue:Jn}}}),W3=v.createContext(null);function ov(n){return n==null?[]:Array.isArray(n)?n:[n]}function lce(n){return n&&!!n._init}function av(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var sv=av();function cce(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function gce(n,e,t){if(eB())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return t&&oh(r,t.prototype),r}function lv(n){var e=typeof Map=="function"?new Map:void 0;return lv=function(i){if(i===null||!cce(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return gce(i,arguments,ah(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),oh(r,i)},lv(n)}var uce=/%[sdj%]/g,dce=function(){};function cv(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var i=t.field;e[i]=e[i]||[],e[i].push(t)}),e}function ca(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=0,o=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var a=n.replace(uce,function(s){if(s==="%%")return"%";if(r>=o)return s;switch(s){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch{return"[Circular]"}break;default:return s}});return a}return n}function Ice(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function ur(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||Ice(e)&&typeof n=="string"&&!n)}function Cce(n,e,t){var i=[],r=0,o=n.length;function a(s){i.push.apply(i,Nt(s||[])),r++,r===o&&t(i)}n.forEach(function(s){e(s,a)})}function dR(n,e,t){var i=0,r=n.length;function o(a){if(a&&a.length){t(a);return}var s=i;i=i+1,s<r?e(n[s],o):t([])}o([])}function hce(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Nt(n[t]||[]))}),e}var IR=function(n){nc(t,n);var e=ic(t);function t(i,r){var o;return tr(this,t),o=e.call(this,"Async Validation Error"),me(Gn(o),"errors",void 0),me(Gn(o),"fields",void 0),o.errors=i,o.fields=r,o}return nr(t)}(lv(Error));function mce(n,e,t,i,r){if(e.first){var o=new Promise(function(d,C){var f=function(p){return i(p),p.length?C(new IR(p,cv(p))):d(r)},b=hce(n);dR(b,t,f)});return o.catch(function(d){return d}),o}var a=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),l=s.length,c=0,g=[],u=new Promise(function(d,C){var f=function(A){if(g.push.apply(g,A),c++,c===l)return i(g),g.length?C(new IR(g,cv(g))):d(r)};s.length||(i(g),d(r)),s.forEach(function(b){var A=n[b];a.indexOf(b)!==-1?dR(A,t,f):Cce(A,t,f)})});return u.catch(function(d){return d}),u}function fce(n){return!!(n&&n.message!==void 0)}function pce(n,e){for(var t=n,i=0;i<e.length;i++){if(t==null)return t;t=t[e[i]]}return t}function CR(n,e){return function(t){var i;return n.fullFields?i=pce(e,n.fullFields):i=e[t.field||n.fullField],fce(t)?(t.field=t.field||n.fullField,t.fieldValue=i,t):{message:typeof t=="function"?t():t,fieldValue:i,field:t.field||n.fullField}}}function hR(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];sn(i)==="object"&&sn(n[t])==="object"?n[t]=he(he({},n[t]),i):n[t]=i}}return n}var J1="enum",Ace=function(e,t,i,r,o){e[J1]=Array.isArray(e[J1])?e[J1]:[],e[J1].indexOf(t)===-1&&r.push(ca(o.messages[J1],e.fullField,e[J1].join(", ")))},bce=function(e,t,i,r,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(ca(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(t)||r.push(ca(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},vce=function(e,t,i,r,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=t,u=null,d=typeof t=="number",C=typeof t=="string",f=Array.isArray(t);if(d?u="number":C?u="string":f&&(u="array"),!u)return!1;f&&(g=t.length),C&&(g=t.replace(c,"_").length),a?g!==e.len&&r.push(ca(o.messages[u].len,e.fullField,e.len)):s&&!l&&g<e.min?r.push(ca(o.messages[u].min,e.fullField,e.min)):l&&!s&&g>e.max?r.push(ca(o.messages[u].max,e.fullField,e.max)):s&&l&&(g<e.min||g>e.max)&&r.push(ca(o.messages[u].range,e.fullField,e.min,e.max))},rX=function(e,t,i,r,o,a){e.required&&(!i.hasOwnProperty(e.field)||ur(t,a||e.type))&&r.push(ca(o.messages.required,e.fullField))},Bf;const yce=function(){if(Bf)return Bf;var n="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=["(?:".concat(i,":){7}(?:").concat(i,"|:)"),"(?:".concat(i,":){6}(?:").concat(t,"|:").concat(i,"|:)"),"(?:".concat(i,":){5}(?::").concat(t,"|(?::").concat(i,"){1,2}|:)"),"(?:".concat(i,":){4}(?:(?::").concat(i,"){0,1}:").concat(t,"|(?::").concat(i,"){1,3}|:)"),"(?:".concat(i,":){3}(?:(?::").concat(i,"){0,2}:").concat(t,"|(?::").concat(i,"){1,4}|:)"),"(?:".concat(i,":){2}(?:(?::").concat(i,"){0,3}:").concat(t,"|(?::").concat(i,"){1,5}|:)"),"(?:".concat(i,":){1}(?:(?::").concat(i,"){0,4}:").concat(t,"|(?::").concat(i,"){1,6}|:)"),"(?::(?:(?::".concat(i,"){0,5}:").concat(t,"|(?::").concat(i,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",a="(?:".concat(r.join("|"),")").concat(o),s=new RegExp("(?:^".concat(t,"$)|(?:^").concat(a,"$)")),l=new RegExp("^".concat(t,"$")),c=new RegExp("^".concat(a,"$")),g=function(S){return S&&S.exact?s:new RegExp("(?:".concat(e(S)).concat(t).concat(e(S),")|(?:").concat(e(S)).concat(a).concat(e(S),")"),"g")};g.v4=function(w){return w&&w.exact?l:new RegExp("".concat(e(w)).concat(t).concat(e(w)),"g")},g.v6=function(w){return w&&w.exact?c:new RegExp("".concat(e(w)).concat(a).concat(e(w)),"g")};var u="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",C=g.v4().source,f=g.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",A="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",B='(?:[/?#][^\\s"]*)?',x="(?:".concat(u,"|www\\.)").concat(d,"(?:localhost|").concat(C,"|").concat(f,"|").concat(b).concat(A).concat(p,")").concat(y).concat(B);return Bf=new RegExp("(?:^".concat(x,"$)"),"i"),Bf};var mR={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},jI={integer:function(e){return jI.number(e)&&parseInt(e,10)===e},float:function(e){return jI.number(e)&&!jI.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return sn(e)==="object"&&!jI.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(mR.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(yce())},hex:function(e){return typeof e=="string"&&!!e.match(mR.hex)}},Bce=function(e,t,i,r,o){if(e.required&&t===void 0){rX(e,t,i,r,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?jI[s](t)||r.push(ca(o.messages.types[s],e.fullField,e.type)):s&&sn(t)!==e.type&&r.push(ca(o.messages.types[s],e.fullField,e.type))},xce=function(e,t,i,r,o){(/^\s+$/.test(t)||t==="")&&r.push(ca(o.messages.whitespace,e.fullField))};const Mn={required:rX,whitespace:xce,type:Bce,range:vce,enum:Ace,pattern:bce};var Gce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o)}i(a)},wce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return i();Mn.required(e,t,r,a,o,"array"),t!=null&&(Mn.type(e,t,r,a,o),Mn.range(e,t,r,a,o))}i(a)},Sce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&Mn.type(e,t,r,a,o)}i(a)},Zce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t,"date")&&!e.required)return i();if(Mn.required(e,t,r,a,o),!ur(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),Mn.type(e,l,r,a,o),l&&Mn.range(e,l.getTime(),r,a,o)}}i(a)},qce="enum",Rce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&Mn[qce](e,t,r,a,o)}i(a)},Mce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&(Mn.type(e,t,r,a,o),Mn.range(e,t,r,a,o))}i(a)},_ce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&(Mn.type(e,t,r,a,o),Mn.range(e,t,r,a,o))}i(a)},Wce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&Mn.type(e,t,r,a,o)}i(a)},Vce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&(Mn.type(e,t,r,a,o),Mn.range(e,t,r,a,o))}i(a)},Nce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),t!==void 0&&Mn.type(e,t,r,a,o)}i(a)},Fce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t,"string")&&!e.required)return i();Mn.required(e,t,r,a,o),ur(t,"string")||Mn.pattern(e,t,r,a,o)}i(a)},Hce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t)&&!e.required)return i();Mn.required(e,t,r,a,o),ur(t)||Mn.type(e,t,r,a,o)}i(a)},Ece=function(e,t,i,r,o){var a=[],s=Array.isArray(t)?"array":sn(t);Mn.required(e,t,r,a,o,s),i(a)},Xce=function(e,t,i,r,o){var a=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(ur(t,"string")&&!e.required)return i();Mn.required(e,t,r,a,o,"string"),ur(t,"string")||(Mn.type(e,t,r,a,o),Mn.range(e,t,r,a,o),Mn.pattern(e,t,r,a,o),e.whitespace===!0&&Mn.whitespace(e,t,r,a,o))}i(a)},bb=function(e,t,i,r,o){var a=e.type,s=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(ur(t,a)&&!e.required)return i();Mn.required(e,t,r,s,o,a),ur(t,a)||Mn.type(e,t,r,s,o)}i(s)};const BC={string:Xce,method:Wce,number:Vce,boolean:Sce,regexp:Hce,integer:_ce,float:Mce,array:wce,object:Nce,enum:Rce,pattern:Fce,date:Zce,url:bb,hex:bb,email:bb,required:Ece,any:Gce};var n2=function(){function n(e){tr(this,n),me(this,"rules",null),me(this,"_messages",sv),this.define(e)}return nr(n,[{key:"define",value:function(t){var i=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(sn(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(r){var o=t[r];i.rules[r]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(t){return t&&(this._messages=hR(av(),t)),this._messages}},{key:"validate",value:function(t){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=t,s=r,l=o;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,a),Promise.resolve(a);function c(f){var b=[],A={};function p(B){if(Array.isArray(B)){var x;b=(x=b).concat.apply(x,Nt(B))}else b.push(B)}for(var y=0;y<f.length;y++)p(f[y]);b.length?(A=cv(b),l(b,A)):l(null,a)}if(s.messages){var g=this.messages();g===sv&&(g=av()),hR(g,s.messages),s.messages=g}else s.messages=this.messages();var u={},d=s.keys||Object.keys(this.rules);d.forEach(function(f){var b=i.rules[f],A=a[f];b.forEach(function(p){var y=p;typeof y.transform=="function"&&(a===t&&(a=he({},a)),A=a[f]=y.transform(A),A!=null&&(y.type=y.type||(Array.isArray(A)?"array":sn(A)))),typeof y=="function"?y={validator:y}:y=he({},y),y.validator=i.getValidationMethod(y),y.validator&&(y.field=f,y.fullField=y.fullField||f,y.type=i.getType(y),u[f]=u[f]||[],u[f].push({rule:y,value:A,source:a,field:f}))})});var C={};return mce(u,s,function(f,b){var A=f.rule,p=(A.type==="object"||A.type==="array")&&(sn(A.fields)==="object"||sn(A.defaultField)==="object");p=p&&(A.required||!A.required&&f.value),A.field=f.field;function y(Z,M){return he(he({},M),{},{fullField:"".concat(A.fullField,".").concat(Z),fullFields:A.fullFields?[].concat(Nt(A.fullFields),[Z]):[Z]})}function B(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=Array.isArray(Z)?Z:[Z];!s.suppressWarning&&M.length&&n.warning("async-validator:",M),M.length&&A.message!==void 0&&(M=[].concat(A.message));var q=M.map(CR(A,a));if(s.first&&q.length)return C[A.field]=1,b(q);if(!p)b(q);else{if(A.required&&!f.value)return A.message!==void 0?q=[].concat(A.message).map(CR(A,a)):s.error&&(q=[s.error(A,ca(s.messages.required,A.field))]),b(q);var _={};A.defaultField&&Object.keys(f.value).map(function(X){_[X]=A.defaultField}),_=he(he({},_),f.rule.fields);var V={};Object.keys(_).forEach(function(X){var K=_[X],Q=Array.isArray(K)?K:[K];V[X]=Q.map(y.bind(null,X))});var Y=new n(V);Y.messages(s.messages),f.rule.options&&(f.rule.options.messages=s.messages,f.rule.options.error=s.error),Y.validate(f.value,f.rule.options||s,function(X){var K=[];q&&q.length&&K.push.apply(K,Nt(q)),X&&X.length&&K.push.apply(K,Nt(X)),b(K.length?K:null)})}}var x;if(A.asyncValidator)x=A.asyncValidator(A,f.value,B,f.source,s);else if(A.validator){try{x=A.validator(A,f.value,B,f.source,s)}catch(Z){var w,S;(w=(S=console).error)===null||w===void 0||w.call(S,Z),s.suppressValidatorError||setTimeout(function(){throw Z},0),B(Z.message)}x===!0?B():x===!1?B(typeof A.message=="function"?A.message(A.fullField||A.field):A.message||"".concat(A.fullField||A.field," fails")):x instanceof Array?B(x):x instanceof Error&&B(x.message)}x&&x.then&&x.then(function(){return B()},function(Z){return B(Z)})},function(f){c(f)},a)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!BC.hasOwnProperty(t.type))throw new Error(ca("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var i=Object.keys(t),r=i.indexOf("message");return r!==-1&&i.splice(r,1),i.length===1&&i[0]==="required"?BC.required:BC[this.getType(t)]||void 0}}]),n}();me(n2,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");BC[e]=t});me(n2,"warning",dce);me(n2,"messages",sv);me(n2,"validators",BC);var na="'${name}' is not a valid ${type}",oX={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:na,method:na,array:na,object:na,number:na,date:na,boolean:na,integer:na,float:na,regexp:na,email:na,url:na,hex:na},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},fR=n2;function zce(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var i=t.slice(2,-1);return e[i]})}var pR="CODE_LOGIC_ERROR";function gv(n,e,t,i,r){return uv.apply(this,arguments)}function uv(){return uv=g1(vo().mark(function n(e,t,i,r,o){var a,s,l,c,g,u,d,C,f;return vo().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return a=he({},i),delete a.ruleIndex,fR.warning=function(){},a.validator&&(s=a.validator,a.validator=function(){try{return s.apply(void 0,arguments)}catch(p){return console.error(p),Promise.reject(pR)}}),l=null,a&&a.type==="array"&&a.defaultField&&(l=a.defaultField,delete a.defaultField),c=new fR(me({},e,[a])),g=xd(oX,r.validateMessages),c.messages(g),u=[],A.prev=10,A.next=13,Promise.resolve(c.validate(me({},e,t),he({},r)));case 13:A.next=18;break;case 15:A.prev=15,A.t0=A.catch(10),A.t0.errors&&(u=A.t0.errors.map(function(p,y){var B=p.message,x=B===pR?g.default:B;return v.isValidElement(x)?v.cloneElement(x,{key:"error_".concat(y)}):x}));case 18:if(!(!u.length&&l)){A.next=23;break}return A.next=21,Promise.all(t.map(function(p,y){return gv("".concat(e,".").concat(y),p,l,r,o)}));case 21:return d=A.sent,A.abrupt("return",d.reduce(function(p,y){return[].concat(Nt(p),Nt(y))},[]));case 23:return C=he(he({},i),{},{name:e,enum:(i.enum||[]).join(", ")},o),f=u.map(function(p){return typeof p=="string"?zce(p,C):p}),A.abrupt("return",f);case 26:case"end":return A.stop()}},n,null,[[10,15]])})),uv.apply(this,arguments)}function Yce(n,e,t,i,r,o){var a=n.join("."),s=t.map(function(g,u){var d=g.validator,C=he(he({},g),{},{ruleIndex:u});return d&&(C.validator=function(f,b,A){var p=!1,y=function(){for(var w=arguments.length,S=new Array(w),Z=0;Z<w;Z++)S[Z]=arguments[Z];Promise.resolve().then(function(){_r(!p,"Your validator function has already return a promise. `callback` will be ignored."),p||A.apply(void 0,S)})},B=d(f,b,y);p=B&&typeof B.then=="function"&&typeof B.catch=="function",_r(p,"`callback` is deprecated. Please return a promise instead."),p&&B.then(function(){A()}).catch(function(x){A(x||" ")})}),C}).sort(function(g,u){var d=g.warningOnly,C=g.ruleIndex,f=u.warningOnly,b=u.ruleIndex;return!!d==!!f?C-b:d?1:-1}),l;if(r===!0)l=new Promise(function(){var g=g1(vo().mark(function u(d,C){var f,b,A;return vo().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:f=0;case 1:if(!(f<s.length)){y.next=12;break}return b=s[f],y.next=5,gv(a,e,b,i,o);case 5:if(A=y.sent,!A.length){y.next=9;break}return C([{errors:A,rule:b}]),y.abrupt("return");case 9:f+=1,y.next=1;break;case 12:d([]);case 13:case"end":return y.stop()}},u)}));return function(u,d){return g.apply(this,arguments)}}());else{var c=s.map(function(g){return gv(a,e,g,i,o).then(function(u){return{errors:u,rule:g}})});l=(r?Lce(c):Kce(c)).then(function(g){return Promise.reject(g)})}return l.catch(function(g){return g}),l}function Kce(n){return dv.apply(this,arguments)}function dv(){return dv=g1(vo().mark(function n(e){return vo().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(e).then(function(r){var o,a=(o=[]).concat.apply(o,Nt(r));return a}));case 1:case"end":return i.stop()}},n)})),dv.apply(this,arguments)}function Lce(n){return Iv.apply(this,arguments)}function Iv(){return Iv=g1(vo().mark(function n(e){var t;return vo().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=0,r.abrupt("return",new Promise(function(o){e.forEach(function(a){a.then(function(s){s.errors.length&&o([s]),t+=1,t===e.length&&o([])})})}));case 2:case"end":return r.stop()}},n)})),Iv.apply(this,arguments)}function Xi(n){return ov(n)}function AR(n,e){var t={};return e.forEach(function(i){var r=js(n,i);t=ms(t,i,r)}),t}function Xd(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(i){return aX(e,i,t)})}function aX(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(i,r){return n[r]===i})}function Tce(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||sn(n)!=="object"||sn(e)!=="object")return!1;var t=Object.keys(n),i=Object.keys(e),r=new Set([].concat(t,i));return Nt(r).every(function(o){var a=n[o],s=e[o];return typeof a=="function"&&typeof s=="function"?!0:a===s})}function kce(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&sn(e.target)==="object"&&n in e.target?e.target[n]:e}function bR(n,e,t){var i=n.length;if(e<0||e>=i||t<0||t>=i)return n;var r=n[e],o=e-t;return o>0?[].concat(Nt(n.slice(0,t)),[r],Nt(n.slice(t,e)),Nt(n.slice(e+1,i))):o<0?[].concat(Nt(n.slice(0,e)),Nt(n.slice(e+1,t+1)),[r],Nt(n.slice(t+1,i))):n}var Pce=["name"],Va=[];function vb(n,e,t,i,r,o){return typeof n=="function"?n(e,t,"source"in o?{source:o.source}:{}):i!==r}var vB=function(n){nc(t,n);var e=ic(t);function t(i){var r;if(tr(this,t),r=e.call(this,i),me(Gn(r),"state",{resetCount:0}),me(Gn(r),"cancelRegisterFunc",null),me(Gn(r),"mounted",!1),me(Gn(r),"touched",!1),me(Gn(r),"dirty",!1),me(Gn(r),"validatePromise",void 0),me(Gn(r),"prevValidating",void 0),me(Gn(r),"errors",Va),me(Gn(r),"warnings",Va),me(Gn(r),"cancelRegister",function(){var l=r.props,c=l.preserve,g=l.isListField,u=l.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(g,c,Xi(u)),r.cancelRegisterFunc=null}),me(Gn(r),"getNamePath",function(){var l=r.props,c=l.name,g=l.fieldContext,u=g.prefixName,d=u===void 0?[]:u;return c!==void 0?[].concat(Nt(d),Nt(c)):[]}),me(Gn(r),"getRules",function(){var l=r.props,c=l.rules,g=c===void 0?[]:c,u=l.fieldContext;return g.map(function(d){return typeof d=="function"?d(u):d})}),me(Gn(r),"refresh",function(){r.mounted&&r.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),me(Gn(r),"metaCache",null),me(Gn(r),"triggerMetaEvent",function(l){var c=r.props.onMetaChange;if(c){var g=he(he({},r.getMeta()),{},{destroy:l});ch(r.metaCache,g)||c(g),r.metaCache=g}else r.metaCache=null}),me(Gn(r),"onStoreChange",function(l,c,g){var u=r.props,d=u.shouldUpdate,C=u.dependencies,f=C===void 0?[]:C,b=u.onReset,A=g.store,p=r.getNamePath(),y=r.getValue(l),B=r.getValue(A),x=c&&Xd(c,p);switch(g.type==="valueUpdate"&&g.source==="external"&&!ch(y,B)&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=Va,r.warnings=Va,r.triggerMetaEvent()),g.type){case"reset":if(!c||x){r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=Va,r.warnings=Va,r.triggerMetaEvent(),b==null||b(),r.refresh();return}break;case"remove":{if(d&&vb(d,l,A,y,B,g)){r.reRender();return}break}case"setField":{var w=g.data;if(x){"touched"in w&&(r.touched=w.touched),"validating"in w&&!("originRCField"in w)&&(r.validatePromise=w.validating?Promise.resolve([]):null),"errors"in w&&(r.errors=w.errors||Va),"warnings"in w&&(r.warnings=w.warnings||Va),r.dirty=!0,r.triggerMetaEvent(),r.reRender();return}else if("value"in w&&Xd(c,p,!0)){r.reRender();return}if(d&&!p.length&&vb(d,l,A,y,B,g)){r.reRender();return}break}case"dependenciesUpdate":{var S=f.map(Xi);if(S.some(function(Z){return Xd(g.relatedFields,Z)})){r.reRender();return}break}default:if(x||(!f.length||p.length||d)&&vb(d,l,A,y,B,g)){r.reRender();return}break}d===!0&&r.reRender()}),me(Gn(r),"validateRules",function(l){var c=r.getNamePath(),g=r.getValue(),u=l||{},d=u.triggerName,C=u.validateOnly,f=C===void 0?!1:C,b=Promise.resolve().then(g1(vo().mark(function A(){var p,y,B,x,w,S,Z;return vo().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(r.mounted){q.next=2;break}return q.abrupt("return",[]);case 2:if(p=r.props,y=p.validateFirst,B=y===void 0?!1:y,x=p.messageVariables,w=p.validateDebounce,S=r.getRules(),d&&(S=S.filter(function(_){return _}).filter(function(_){var V=_.validateTrigger;if(!V)return!0;var Y=ov(V);return Y.includes(d)})),!(w&&d)){q.next=10;break}return q.next=8,new Promise(function(_){setTimeout(_,w)});case 8:if(r.validatePromise===b){q.next=10;break}return q.abrupt("return",[]);case 10:return Z=Yce(c,g,S,l,B,x),Z.catch(function(_){return _}).then(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Va;if(r.validatePromise===b){var V;r.validatePromise=null;var Y=[],X=[];(V=_.forEach)===null||V===void 0||V.call(_,function(K){var Q=K.rule.warningOnly,z=K.errors,D=z===void 0?Va:z;Q?X.push.apply(X,Nt(D)):Y.push.apply(Y,Nt(D))}),r.errors=Y,r.warnings=X,r.triggerMetaEvent(),r.reRender()}}),q.abrupt("return",Z);case 13:case"end":return q.stop()}},A)})));return f||(r.validatePromise=b,r.dirty=!0,r.errors=Va,r.warnings=Va,r.triggerMetaEvent(),r.reRender()),b}),me(Gn(r),"isFieldValidating",function(){return!!r.validatePromise}),me(Gn(r),"isFieldTouched",function(){return r.touched}),me(Gn(r),"isFieldDirty",function(){if(r.dirty||r.props.initialValue!==void 0)return!0;var l=r.props.fieldContext,c=l.getInternalHooks(bu),g=c.getInitialValue;return g(r.getNamePath())!==void 0}),me(Gn(r),"getErrors",function(){return r.errors}),me(Gn(r),"getWarnings",function(){return r.warnings}),me(Gn(r),"isListField",function(){return r.props.isListField}),me(Gn(r),"isList",function(){return r.props.isList}),me(Gn(r),"isPreserve",function(){return r.props.preserve}),me(Gn(r),"getMeta",function(){r.prevValidating=r.isFieldValidating();var l={touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:r.validatePromise===null};return l}),me(Gn(r),"getOnlyChild",function(l){if(typeof l=="function"){var c=r.getMeta();return he(he({},r.getOnlyChild(l(r.getControlled(),c,r.props.fieldContext))),{},{isFunction:!0})}var g=cl(l);return g.length!==1||!v.isValidElement(g[0])?{child:g,isFunction:!1}:{child:g[0],isFunction:!1}}),me(Gn(r),"getValue",function(l){var c=r.props.fieldContext.getFieldsValue,g=r.getNamePath();return js(l||c(!0),g)}),me(Gn(r),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=r.props,g=c.name,u=c.trigger,d=c.validateTrigger,C=c.getValueFromEvent,f=c.normalize,b=c.valuePropName,A=c.getValueProps,p=c.fieldContext,y=d!==void 0?d:p.validateTrigger,B=r.getNamePath(),x=p.getInternalHooks,w=p.getFieldsValue,S=x(bu),Z=S.dispatch,M=r.getValue(),q=A||function(K){return me({},b,K)},_=l[u],V=g!==void 0?q(M):{},Y=he(he({},l),V);Y[u]=function(){r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var K,Q=arguments.length,z=new Array(Q),D=0;D<Q;D++)z[D]=arguments[D];C?K=C.apply(void 0,z):K=kce.apply(void 0,[b].concat(z)),f&&(K=f(K,M,w(!0))),K!==M&&Z({type:"updateValue",namePath:B,value:K}),_&&_.apply(void 0,z)};var X=ov(y||[]);return X.forEach(function(K){var Q=Y[K];Y[K]=function(){Q&&Q.apply(void 0,arguments);var z=r.props.rules;z&&z.length&&Z({type:"validateField",namePath:B,triggerName:K})}}),Y}),i.fieldContext){var o=i.fieldContext.getInternalHooks,a=o(bu),s=a.initEntityValue;s(Gn(r))}return r}return nr(t,[{key:"componentDidMount",value:function(){var r=this.props,o=r.shouldUpdate,a=r.fieldContext;if(this.mounted=!0,a){var s=a.getInternalHooks,l=s(bu),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var r=this.state.resetCount,o=this.props.children,a=this.getOnlyChild(o),s=a.child,l=a.isFunction,c;return l?c=s:v.isValidElement(s)?c=v.cloneElement(s,this.getControlled(s.props)):(_r(!s,"`children` of Field is not validate ReactElement."),c=s),v.createElement(v.Fragment,{key:r},c)}}]),t}(v.Component);me(vB,"contextType",h0);me(vB,"defaultProps",{trigger:"onChange",valuePropName:"value"});function sX(n){var e=n.name,t=_n(n,Pce),i=v.useContext(h0),r=v.useContext(W3),o=e!==void 0?Xi(e):void 0,a="keep";return t.isListField||(a="_".concat((o||[]).join("_"))),v.createElement(vB,Lt({key:a,name:o,isListField:!!r},t,{fieldContext:i}))}function Dce(n){var e=n.name,t=n.initialValue,i=n.children,r=n.rules,o=n.validateTrigger,a=n.isListField,s=v.useContext(h0),l=v.useContext(W3),c=v.useRef({keys:[],id:0}),g=c.current,u=v.useMemo(function(){var b=Xi(s.prefixName)||[];return[].concat(Nt(b),Nt(Xi(e)))},[s.prefixName,e]),d=v.useMemo(function(){return he(he({},s),{},{prefixName:u})},[s,u]),C=v.useMemo(function(){return{getKey:function(A){var p=u.length,y=A[p];return[g.keys[y],A.slice(p+1)]}}},[u]);if(typeof i!="function")return _r(!1,"Form.List only accepts function as children."),null;var f=function(A,p,y){var B=y.source;return B==="internal"?!1:A!==p};return v.createElement(W3.Provider,{value:C},v.createElement(h0.Provider,{value:d},v.createElement(sX,{name:[],shouldUpdate:f,rules:r,validateTrigger:o,initialValue:t,isList:!0,isListField:a??!!l},function(b,A){var p=b.value,y=p===void 0?[]:p,B=b.onChange,x=s.getFieldValue,w=function(){var q=x(u||[]);return q||[]},S={add:function(q,_){var V=w();_>=0&&_<=V.length?(g.keys=[].concat(Nt(g.keys.slice(0,_)),[g.id],Nt(g.keys.slice(_))),B([].concat(Nt(V.slice(0,_)),[q],Nt(V.slice(_))))):(g.keys=[].concat(Nt(g.keys),[g.id]),B([].concat(Nt(V),[q]))),g.id+=1},remove:function(q){var _=w(),V=new Set(Array.isArray(q)?q:[q]);V.size<=0||(g.keys=g.keys.filter(function(Y,X){return!V.has(X)}),B(_.filter(function(Y,X){return!V.has(X)})))},move:function(q,_){if(q!==_){var V=w();q<0||q>=V.length||_<0||_>=V.length||(g.keys=bR(g.keys,q,_),B(bR(V,q,_)))}}},Z=y||[];return Array.isArray(Z)||(Z=[]),i(Z.map(function(M,q){var _=g.keys[q];return _===void 0&&(g.keys[q]=g.id,_=g.keys[q],g.id+=1),{name:q,key:_,isListField:!0}}),S,A)})))}function Uce(n){var e=!1,t=n.length,i=[];return n.length?new Promise(function(r,o){n.forEach(function(a,s){a.catch(function(l){return e=!0,l}).then(function(l){t-=1,i[s]=l,!(t>0)&&(e&&o(i),r(i))})})}):Promise.resolve([])}var lX="__@field_split__";function yb(n){return n.map(function(e){return"".concat(sn(e),":").concat(e)}).join(lX)}var Q1=function(){function n(){tr(this,n),me(this,"kvs",new Map)}return nr(n,[{key:"set",value:function(t,i){this.kvs.set(yb(t),i)}},{key:"get",value:function(t){return this.kvs.get(yb(t))}},{key:"update",value:function(t,i){var r=this.get(t),o=i(r);o?this.set(t,o):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(yb(t))}},{key:"map",value:function(t){return Nt(this.kvs.entries()).map(function(i){var r=Pe(i,2),o=r[0],a=r[1],s=o.split(lX);return t({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),g=Pe(c,3),u=g[1],d=g[2];return u==="number"?Number(d):d}),value:a})})}},{key:"toJSON",value:function(){var t={};return this.map(function(i){var r=i.key,o=i.value;return t[r.join(".")]=o,null}),t}}]),n}(),Oce=["name"],jce=nr(function n(e){var t=this;tr(this,n),me(this,"formHooked",!1),me(this,"forceRootUpdate",void 0),me(this,"subscribable",!0),me(this,"store",{}),me(this,"fieldEntities",[]),me(this,"initialValues",{}),me(this,"callbacks",{}),me(this,"validateMessages",null),me(this,"preserve",null),me(this,"lastValidatePromise",null),me(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),me(this,"getInternalHooks",function(i){return i===bu?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(_r(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),me(this,"useSubscribe",function(i){t.subscribable=i}),me(this,"prevWithoutPreserves",null),me(this,"setInitialValues",function(i,r){if(t.initialValues=i||{},r){var o,a=xd(i,t.store);(o=t.prevWithoutPreserves)===null||o===void 0||o.map(function(s){var l=s.key;a=ms(a,l,js(i,l))}),t.prevWithoutPreserves=null,t.updateStore(a)}}),me(this,"destroyForm",function(i){if(i)t.updateStore({});else{var r=new Q1;t.getFieldEntities(!0).forEach(function(o){t.isMergedPreserve(o.isPreserve())||r.set(o.getNamePath(),!0)}),t.prevWithoutPreserves=r}}),me(this,"getInitialValue",function(i){var r=js(t.initialValues,i);return i.length?xd(r):r}),me(this,"setCallbacks",function(i){t.callbacks=i}),me(this,"setValidateMessages",function(i){t.validateMessages=i}),me(this,"setPreserve",function(i){t.preserve=i}),me(this,"watchList",[]),me(this,"registerWatch",function(i){return t.watchList.push(i),function(){t.watchList=t.watchList.filter(function(r){return r!==i})}}),me(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var r=t.getFieldsValue(),o=t.getFieldsValue(!0);t.watchList.forEach(function(a){a(r,o,i)})}}),me(this,"timeoutId",null),me(this,"warningUnhooked",function(){}),me(this,"updateStore",function(i){t.store=i}),me(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?t.fieldEntities.filter(function(r){return r.getNamePath().length}):t.fieldEntities}),me(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=new Q1;return t.getFieldEntities(i).forEach(function(o){var a=o.getNamePath();r.set(a,o)}),r}),me(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return t.getFieldEntities(!0);var r=t.getFieldsMap(!0);return i.map(function(o){var a=Xi(o);return r.get(a)||{INVALIDATE_NAME_PATH:Xi(o)}})}),me(this,"getFieldsValue",function(i,r){t.warningUnhooked();var o,a,s;if(i===!0||Array.isArray(i)?(o=i,a=r):i&&sn(i)==="object"&&(s=i.strict,a=i.filter),o===!0&&!a)return t.store;var l=t.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(g){var u,d,C="INVALIDATE_NAME_PATH"in g?g.INVALIDATE_NAME_PATH:g.getNamePath();if(s){var f,b;if((f=(b=g).isList)!==null&&f!==void 0&&f.call(b))return}else if(!o&&(u=(d=g).isListField)!==null&&u!==void 0&&u.call(d))return;if(!a)c.push(C);else{var A="getMeta"in g?g.getMeta():null;a(A)&&c.push(C)}}),AR(t.store,c.map(Xi))}),me(this,"getFieldValue",function(i){t.warningUnhooked();var r=Xi(i);return js(t.store,r)}),me(this,"getFieldsError",function(i){t.warningUnhooked();var r=t.getFieldEntitiesForNamePathList(i);return r.map(function(o,a){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:Xi(i[a]),errors:[],warnings:[]}})}),me(this,"getFieldError",function(i){t.warningUnhooked();var r=Xi(i),o=t.getFieldsError([r])[0];return o.errors}),me(this,"getFieldWarning",function(i){t.warningUnhooked();var r=Xi(i),o=t.getFieldsError([r])[0];return o.warnings}),me(this,"isFieldsTouched",function(){t.warningUnhooked();for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=r[0],s=r[1],l,c=!1;r.length===0?l=null:r.length===1?Array.isArray(a)?(l=a.map(Xi),c=!1):(l=null,c=a):(l=a.map(Xi),c=s);var g=t.getFieldEntities(!0),u=function(A){return A.isFieldTouched()};if(!l)return c?g.every(function(b){return u(b)||b.isList()}):g.some(u);var d=new Q1;l.forEach(function(b){d.set(b,[])}),g.forEach(function(b){var A=b.getNamePath();l.forEach(function(p){p.every(function(y,B){return A[B]===y})&&d.update(p,function(y){return[].concat(Nt(y),[b])})})});var C=function(A){return A.some(u)},f=d.map(function(b){var A=b.value;return A});return c?f.every(C):f.some(C)}),me(this,"isFieldTouched",function(i){return t.warningUnhooked(),t.isFieldsTouched([i])}),me(this,"isFieldsValidating",function(i){t.warningUnhooked();var r=t.getFieldEntities();if(!i)return r.some(function(a){return a.isFieldValidating()});var o=i.map(Xi);return r.some(function(a){var s=a.getNamePath();return Xd(o,s)&&a.isFieldValidating()})}),me(this,"isFieldValidating",function(i){return t.warningUnhooked(),t.isFieldsValidating([i])}),me(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=new Q1,o=t.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,g=l.getNamePath();if(c!==void 0){var u=r.get(g)||new Set;u.add({entity:l,value:c}),r.set(g,u)}});var a=function(c){c.forEach(function(g){var u=g.props.initialValue;if(u!==void 0){var d=g.getNamePath(),C=t.getInitialValue(d);if(C!==void 0)_r(!1,"Form already set 'initialValues' with path '".concat(d.join("."),"'. Field can not overwrite it."));else{var f=r.get(d);if(f&&f.size>1)_r(!1,"Multiple Field with path '".concat(d.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(f){var b=t.getFieldValue(d),A=g.isListField();!A&&(!i.skipExist||b===void 0)&&t.updateStore(ms(t.store,d,Nt(f)[0].value))}}}})},s;i.entities?s=i.entities:i.namePathList?(s=[],i.namePathList.forEach(function(l){var c=r.get(l);if(c){var g;(g=s).push.apply(g,Nt(Nt(c).map(function(u){return u.entity})))}})):s=o,a(s)}),me(this,"resetFields",function(i){t.warningUnhooked();var r=t.store;if(!i){t.updateStore(xd(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(r,null,{type:"reset"}),t.notifyWatch();return}var o=i.map(Xi);o.forEach(function(a){var s=t.getInitialValue(a);t.updateStore(ms(t.store,a,s))}),t.resetWithFieldInitialValue({namePathList:o}),t.notifyObservers(r,o,{type:"reset"}),t.notifyWatch(o)}),me(this,"setFields",function(i){t.warningUnhooked();var r=t.store,o=[];i.forEach(function(a){var s=a.name,l=_n(a,Oce),c=Xi(s);o.push(c),"value"in l&&t.updateStore(ms(t.store,c,l.value)),t.notifyObservers(r,[c],{type:"setField",data:a})}),t.notifyWatch(o)}),me(this,"getFields",function(){var i=t.getFieldEntities(!0),r=i.map(function(o){var a=o.getNamePath(),s=o.getMeta(),l=he(he({},s),{},{name:a,value:t.getFieldValue(a)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return r}),me(this,"initEntityValue",function(i){var r=i.props.initialValue;if(r!==void 0){var o=i.getNamePath(),a=js(t.store,o);a===void 0&&t.updateStore(ms(t.store,o,r))}}),me(this,"isMergedPreserve",function(i){var r=i!==void 0?i:t.preserve;return r??!0}),me(this,"registerField",function(i){t.fieldEntities.push(i);var r=i.getNamePath();if(t.notifyWatch([r]),i.props.initialValue!==void 0){var o=t.store;t.resetWithFieldInitialValue({entities:[i],skipExist:!0}),t.notifyObservers(o,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(u){return u!==i}),!t.isMergedPreserve(s)&&(!a||l.length>1)){var c=a?void 0:t.getInitialValue(r);if(r.length&&t.getFieldValue(r)!==c&&t.fieldEntities.every(function(u){return!aX(u.getNamePath(),r)})){var g=t.store;t.updateStore(ms(g,r,c,!0)),t.notifyObservers(g,[r],{type:"remove"}),t.triggerDependenciesUpdate(g,r)}}t.notifyWatch([r])}}),me(this,"dispatch",function(i){switch(i.type){case"updateValue":{var r=i.namePath,o=i.value;t.updateValue(r,o);break}case"validateField":{var a=i.namePath,s=i.triggerName;t.validateFields([a],{triggerName:s});break}}}),me(this,"notifyObservers",function(i,r,o){if(t.subscribable){var a=he(he({},o),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(i,r,a)})}else t.forceRootUpdate()}),me(this,"triggerDependenciesUpdate",function(i,r){var o=t.getDependencyChildrenFields(r);return o.length&&t.validateFields(o),t.notifyObservers(i,o,{type:"dependenciesUpdate",relatedFields:[r].concat(Nt(o))}),o}),me(this,"updateValue",function(i,r){var o=Xi(i),a=t.store;t.updateStore(ms(t.store,o,r)),t.notifyObservers(a,[o],{type:"valueUpdate",source:"internal"}),t.notifyWatch([o]);var s=t.triggerDependenciesUpdate(a,o),l=t.callbacks.onValuesChange;if(l){var c=AR(t.store,[o]);l(c,t.getFieldsValue())}t.triggerOnFieldsChange([o].concat(Nt(s)))}),me(this,"setFieldsValue",function(i){t.warningUnhooked();var r=t.store;if(i){var o=xd(t.store,i);t.updateStore(o)}t.notifyObservers(r,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),me(this,"setFieldValue",function(i,r){t.setFields([{name:i,value:r}])}),me(this,"getDependencyChildrenFields",function(i){var r=new Set,o=[],a=new Q1;t.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(g){var u=Xi(g);a.update(u,function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return d.add(l),d})})});var s=function l(c){var g=a.get(c)||new Set;g.forEach(function(u){if(!r.has(u)){r.add(u);var d=u.getNamePath();u.isFieldDirty()&&d.length&&(o.push(d),l(d))}})};return s(i),o}),me(this,"triggerOnFieldsChange",function(i,r){var o=t.callbacks.onFieldsChange;if(o){var a=t.getFields();if(r){var s=new Q1;r.forEach(function(c){var g=c.name,u=c.errors;s.set(g,u)}),a.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=a.filter(function(c){var g=c.name;return Xd(i,g)});l.length&&o(l,a)}}),me(this,"validateFields",function(i,r){t.warningUnhooked();var o,a;Array.isArray(i)||typeof i=="string"||typeof r=="string"?(o=i,a=r):a=i;var s=!!o,l=s?o.map(Xi):[],c=[],g=String(Date.now()),u=new Set,d=a||{},C=d.recursive,f=d.dirty;t.getFieldEntities(!0).forEach(function(y){if(s||l.push(y.getNamePath()),!(!y.props.rules||!y.props.rules.length)&&!(f&&!y.isFieldDirty())){var B=y.getNamePath();if(u.add(B.join(g)),!s||Xd(l,B,C)){var x=y.validateRules(he({validateMessages:he(he({},oX),t.validateMessages)},a));c.push(x.then(function(){return{name:B,errors:[],warnings:[]}}).catch(function(w){var S,Z=[],M=[];return(S=w.forEach)===null||S===void 0||S.call(w,function(q){var _=q.rule.warningOnly,V=q.errors;_?M.push.apply(M,Nt(V)):Z.push.apply(Z,Nt(V))}),Z.length?Promise.reject({name:B,errors:Z,warnings:M}):{name:B,errors:Z,warnings:M}}))}}});var b=Uce(c);t.lastValidatePromise=b,b.catch(function(y){return y}).then(function(y){var B=y.map(function(x){var w=x.name;return w});t.notifyObservers(t.store,B,{type:"validateFinish"}),t.triggerOnFieldsChange(B,y)});var A=b.then(function(){return t.lastValidatePromise===b?Promise.resolve(t.getFieldsValue(l)):Promise.reject([])}).catch(function(y){var B=y.filter(function(x){return x&&x.errors.length});return Promise.reject({values:t.getFieldsValue(l),errorFields:B,outOfDate:t.lastValidatePromise!==b})});A.catch(function(y){return y});var p=l.filter(function(y){return u.has(y.join(g))});return t.triggerOnFieldsChange(p),A}),me(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(i){var r=t.callbacks.onFinish;if(r)try{r(i)}catch(o){console.error(o)}}).catch(function(i){var r=t.callbacks.onFinishFailed;r&&r(i)})}),this.forceRootUpdate=e});function cX(n){var e=v.useRef(),t=v.useState({}),i=Pe(t,2),r=i[1];if(!e.current)if(n)e.current=n;else{var o=function(){r({})},a=new jce(o);e.current=a.getForm()}return[e.current]}var Cv=v.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Jce=function(e){var t=e.validateMessages,i=e.onFormChange,r=e.onFormFinish,o=e.children,a=v.useContext(Cv),s=v.useRef({});return v.createElement(Cv.Provider,{value:he(he({},a),{},{validateMessages:he(he({},a.validateMessages),t),triggerFormChange:function(c,g){i&&i(c,{changedFields:g,forms:s.current}),a.triggerFormChange(c,g)},triggerFormFinish:function(c,g){r&&r(c,{values:g,forms:s.current}),a.triggerFormFinish(c,g)},registerForm:function(c,g){c&&(s.current=he(he({},s.current),{},me({},c,g))),a.registerForm(c,g)},unregisterForm:function(c){var g=he({},s.current);delete g[c],s.current=g,a.unregisterForm(c)}})},o)},Qce=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],$ce=function(e,t){var i=e.name,r=e.initialValues,o=e.fields,a=e.form,s=e.preserve,l=e.children,c=e.component,g=c===void 0?"form":c,u=e.validateMessages,d=e.validateTrigger,C=d===void 0?"onChange":d,f=e.onValuesChange,b=e.onFieldsChange,A=e.onFinish,p=e.onFinishFailed,y=e.clearOnDestroy,B=_n(e,Qce),x=v.useRef(null),w=v.useContext(Cv),S=cX(a),Z=Pe(S,1),M=Z[0],q=M.getInternalHooks(bu),_=q.useSubscribe,V=q.setInitialValues,Y=q.setCallbacks,X=q.setValidateMessages,K=q.setPreserve,Q=q.destroyForm;v.useImperativeHandle(t,function(){return he(he({},M),{},{nativeElement:x.current})}),v.useEffect(function(){return w.registerForm(i,M),function(){w.unregisterForm(i)}},[w,M,i]),X(he(he({},w.validateMessages),u)),Y({onValuesChange:f,onFieldsChange:function(J){if(w.triggerFormChange(i,J),b){for(var Ce=arguments.length,ve=new Array(Ce>1?Ce-1:0),Ae=1;Ae<Ce;Ae++)ve[Ae-1]=arguments[Ae];b.apply(void 0,[J].concat(ve))}},onFinish:function(J){w.triggerFormFinish(i,J),A&&A(J)},onFinishFailed:p}),K(s);var z=v.useRef(null);V(r,!z.current),z.current||(z.current=!0),v.useEffect(function(){return function(){return Q(y)}},[]);var D,N=typeof l=="function";if(N){var L=M.getFieldsValue(!0);D=l(L,M)}else D=l;_(!N);var P=v.useRef();v.useEffect(function(){Tce(P.current||[],o||[])||M.setFields(o||[]),P.current=o},[o,M]);var O=v.useMemo(function(){return he(he({},M),{},{validateTrigger:C})},[M,C]),ie=v.createElement(W3.Provider,{value:null},v.createElement(h0.Provider,{value:O},D));return g===!1?ie:v.createElement(g,Lt({},B,{ref:x,onSubmit:function(J){J.preventDefault(),J.stopPropagation(),M.submit()},onReset:function(J){var Ce;J.preventDefault(),M.resetFields(),(Ce=B.onReset)===null||Ce===void 0||Ce.call(B,J)}}),ie)};function vR(n){try{return JSON.stringify(n)}catch{return Math.random()}}function ege(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i=e[0],r=e[1],o=r===void 0?{}:r,a=lce(o)?{form:o}:o,s=a.form,l=v.useState(),c=Pe(l,2),g=c[0],u=c[1],d=v.useMemo(function(){return vR(g)},[g]),C=v.useRef(d);C.current=d;var f=v.useContext(h0),b=s||f,A=b&&b._init,p=Xi(i),y=v.useRef(p);return y.current=p,v.useEffect(function(){if(A){var B=b.getFieldsValue,x=b.getInternalHooks,w=x(bu),S=w.registerWatch,Z=function(V,Y){var X=a.preserve?Y:V;return typeof i=="function"?i(X):js(X,y.current)},M=S(function(_,V){var Y=Z(_,V),X=vR(Y);C.current!==X&&(C.current=X,u(Y))}),q=Z(B(),B(!0));return g!==q&&u(q),M}},[A]),g}var tge=v.forwardRef($ce),i2=tge;i2.FormProvider=Jce;i2.Field=sX;i2.List=Dce;i2.useForm=cX;i2.useWatch=ege;const hv=v.createContext({}),nge=n=>{let{children:e,status:t,override:i}=n;const r=v.useContext(hv),o=v.useMemo(()=>{const a=Object.assign({},r);return i&&delete a.isFormItemInput,t&&(delete a.status,delete a.hasFeedback,delete a.feedbackIcon),a},[t,i,r]);return v.createElement(hv.Provider,{value:o},e)},ige=v.createContext(void 0),yB=n=>{const{space:e,form:t,children:i}=n;if(i==null)return null;let r=i;return t&&(r=Gt.createElement(nge,{override:!0,status:!0},r)),e&&(r=Gt.createElement(wse,null,r)),r};function V3(n){if(n)return{closable:n.closable,closeIcon:n.closeIcon}}function yR(n){const{closable:e,closeIcon:t}=n||{};return Gt.useMemo(()=>{if(!e&&(e===!1||t===!1||t===null))return!1;if(e===void 0&&t===void 0)return null;let i={closeIcon:typeof t!="boolean"&&t!==null?t:void 0};return e&&typeof e=="object"&&(i=Object.assign(Object.assign({},i),e)),i},[e,t])}function BR(){const n={};for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(r=>{r&&Object.keys(r).forEach(o=>{r[o]!==void 0&&(n[o]=r[o])})}),n}const rge={};function gX(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rge;const i=yR(n),r=yR(e),o=typeof i!="boolean"?!!(i!=null&&i.disabled):!1,a=Gt.useMemo(()=>Object.assign({closeIcon:Gt.createElement(i5,null)},t),[t]),s=Gt.useMemo(()=>i===!1?!1:i?BR(a,r,i):r===!1?!1:r?BR(a,r):a.closable?a:!1,[i,r,a]);return Gt.useMemo(()=>{if(s===!1)return[!1,null,o];const{closeIconRender:l}=a,{closeIcon:c}=s;let g=c;if(g!=null){l&&(g=l(c));const u=ul(s,!0);Object.keys(u).length&&(g=Gt.isValidElement(g)?Gt.cloneElement(g,u):Gt.createElement("span",Object.assign({},u),g))}return[!0,g,o]},[s,a])}const oge=()=>bo()&&window.document.documentElement,I5=n=>{const{prefixCls:e,className:t,style:i,size:r,shape:o}=n,a=ct({[`${e}-lg`]:r==="large",[`${e}-sm`]:r==="small"}),s=ct({[`${e}-circle`]:o==="circle",[`${e}-square`]:o==="square",[`${e}-round`]:o==="round"}),l=v.useMemo(()=>typeof r=="number"?{width:r,height:r,lineHeight:`${r}px`}:{},[r]);return v.createElement("span",{className:ct(e,a,s,t),style:Object.assign(Object.assign({},l),i)})},age=new kn("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),C5=n=>({height:n,lineHeight:mt(n)}),zd=n=>Object.assign({width:n},C5(n)),sge=n=>({background:n.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:age,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Bb=(n,e)=>Object.assign({width:e(n).mul(5).equal(),minWidth:e(n).mul(5).equal()},C5(n)),lge=n=>{const{skeletonAvatarCls:e,gradientFromColor:t,controlHeight:i,controlHeightLG:r,controlHeightSM:o}=n;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:t},zd(i)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},zd(r)),[`${e}${e}-sm`]:Object.assign({},zd(o))}},cge=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:i,controlHeightLG:r,controlHeightSM:o,gradientFromColor:a,calc:s}=n;return{[i]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:t},Bb(e,s)),[`${i}-lg`]:Object.assign({},Bb(r,s)),[`${i}-sm`]:Object.assign({},Bb(o,s))}},xR=n=>Object.assign({width:n},C5(n)),gge=n=>{const{skeletonImageCls:e,imageSizeBase:t,gradientFromColor:i,borderRadiusSM:r,calc:o}=n;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:i,borderRadius:r},xR(o(t).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},xR(t)),{maxWidth:o(t).mul(4).equal(),maxHeight:o(t).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},xb=(n,e,t)=>{const{skeletonButtonCls:i}=n;return{[`${t}${i}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${i}-round`]:{borderRadius:e}}},Gb=(n,e)=>Object.assign({width:e(n).mul(2).equal(),minWidth:e(n).mul(2).equal()},C5(n)),uge=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:i,controlHeightLG:r,controlHeightSM:o,gradientFromColor:a,calc:s}=n;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:e,width:s(i).mul(2).equal(),minWidth:s(i).mul(2).equal()},Gb(i,s))},xb(n,i,t)),{[`${t}-lg`]:Object.assign({},Gb(r,s))}),xb(n,r,`${t}-lg`)),{[`${t}-sm`]:Object.assign({},Gb(o,s))}),xb(n,o,`${t}-sm`))},dge=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:i,skeletonParagraphCls:r,skeletonButtonCls:o,skeletonInputCls:a,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:g,gradientFromColor:u,padding:d,marginSM:C,borderRadius:f,titleHeight:b,blockRadius:A,paragraphLiHeight:p,controlHeightXS:y,paragraphMarginTop:B}=n;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:d,verticalAlign:"top",[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:u},zd(l)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:Object.assign({},zd(c)),[`${t}-sm`]:Object.assign({},zd(g))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[i]:{width:"100%",height:b,background:u,borderRadius:A,[`+ ${r}`]:{marginBlockStart:g}},[r]:{padding:0,"> li":{width:"100%",height:p,listStyle:"none",background:u,borderRadius:A,"+ li":{marginBlockStart:y}}},[`${r}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${i}, ${r} > li`]:{borderRadius:f}}},[`${e}-with-avatar ${e}-content`]:{[i]:{marginBlockStart:C,[`+ ${r}`]:{marginBlockStart:B}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},uge(n)),lge(n)),cge(n)),gge(n)),[`${e}${e}-block`]:{width:"100%",[o]:{width:"100%"},[a]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${i},
        ${r} > li,
        ${t},
        ${o},
        ${a},
        ${s}
      `]:Object.assign({},sge(n))}}},Ige=n=>{const{colorFillContent:e,colorFill:t}=n,i=e,r=t;return{color:i,colorGradientEnd:r,gradientFromColor:i,gradientToColor:r,titleHeight:n.controlHeight/2,blockRadius:n.borderRadiusSM,paragraphMarginTop:n.marginLG+n.marginXXS,paragraphLiHeight:n.controlHeight/2}},E0=ya("Skeleton",n=>{const{componentCls:e,calc:t}=n,i=Mi(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:t(n.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.gradientFromColor} 25%, ${n.gradientToColor} 37%, ${n.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[dge(i)]},Ige,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Cge=n=>{const{prefixCls:e,className:t,rootClassName:i,active:r,shape:o="circle",size:a="default"}=n,{getPrefixCls:s}=v.useContext(Zn),l=s("skeleton",e),[c,g,u]=E0(l),d=$a(n,["prefixCls","className"]),C=ct(l,`${l}-element`,{[`${l}-active`]:r},t,i,g,u);return c(v.createElement("div",{className:C},v.createElement(I5,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:a},d))))},hge=n=>{const{prefixCls:e,className:t,rootClassName:i,active:r,block:o=!1,size:a="default"}=n,{getPrefixCls:s}=v.useContext(Zn),l=s("skeleton",e),[c,g,u]=E0(l),d=$a(n,["prefixCls"]),C=ct(l,`${l}-element`,{[`${l}-active`]:r,[`${l}-block`]:o},t,i,g,u);return c(v.createElement("div",{className:C},v.createElement(I5,Object.assign({prefixCls:`${l}-button`,size:a},d))))},mge="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",fge=n=>{const{prefixCls:e,className:t,rootClassName:i,style:r,active:o}=n,{getPrefixCls:a}=v.useContext(Zn),s=a("skeleton",e),[l,c,g]=E0(s),u=ct(s,`${s}-element`,{[`${s}-active`]:o},t,i,c,g);return l(v.createElement("div",{className:u},v.createElement("div",{className:ct(`${s}-image`,t),style:r},v.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},v.createElement("title",null,"Image placeholder"),v.createElement("path",{d:mge,className:`${s}-image-path`})))))},pge=n=>{const{prefixCls:e,className:t,rootClassName:i,active:r,block:o,size:a="default"}=n,{getPrefixCls:s}=v.useContext(Zn),l=s("skeleton",e),[c,g,u]=E0(l),d=$a(n,["prefixCls"]),C=ct(l,`${l}-element`,{[`${l}-active`]:r,[`${l}-block`]:o},t,i,g,u);return c(v.createElement("div",{className:C},v.createElement(I5,Object.assign({prefixCls:`${l}-input`,size:a},d))))},Age=n=>{const{prefixCls:e,className:t,rootClassName:i,style:r,active:o,children:a}=n,{getPrefixCls:s}=v.useContext(Zn),l=s("skeleton",e),[c,g,u]=E0(l),d=ct(l,`${l}-element`,{[`${l}-active`]:o},g,t,i,u);return c(v.createElement("div",{className:d},v.createElement("div",{className:ct(`${l}-image`,t),style:r},a)))},bge=(n,e)=>{const{width:t,rows:i=2}=e;if(Array.isArray(t))return t[n];if(i-1===n)return t},vge=n=>{const{prefixCls:e,className:t,style:i,rows:r}=n,o=Nt(new Array(r)).map((a,s)=>v.createElement("li",{key:s,style:{width:bge(s,n)}}));return v.createElement("ul",{className:ct(e,t),style:i},o)},yge=n=>{let{prefixCls:e,className:t,width:i,style:r}=n;return v.createElement("h3",{className:ct(e,t),style:Object.assign({width:i},r)})};function wb(n){return n&&typeof n=="object"?n:{}}function Bge(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function xge(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function Gge(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const u1=n=>{const{prefixCls:e,loading:t,className:i,rootClassName:r,style:o,children:a,avatar:s=!1,title:l=!0,paragraph:c=!0,active:g,round:u}=n,{getPrefixCls:d,direction:C,skeleton:f}=v.useContext(Zn),b=d("skeleton",e),[A,p,y]=E0(b);if(t||!("loading"in n)){const B=!!s,x=!!l,w=!!c;let S;if(B){const q=Object.assign(Object.assign({prefixCls:`${b}-avatar`},Bge(x,w)),wb(s));S=v.createElement("div",{className:`${b}-header`},v.createElement(I5,Object.assign({},q)))}let Z;if(x||w){let q;if(x){const V=Object.assign(Object.assign({prefixCls:`${b}-title`},xge(B,w)),wb(l));q=v.createElement(yge,Object.assign({},V))}let _;if(w){const V=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},Gge(B,x)),wb(c));_=v.createElement(vge,Object.assign({},V))}Z=v.createElement("div",{className:`${b}-content`},q,_)}const M=ct(b,{[`${b}-with-avatar`]:B,[`${b}-active`]:g,[`${b}-rtl`]:C==="rtl",[`${b}-round`]:u},f==null?void 0:f.className,i,r,p,y);return A(v.createElement("div",{className:M,style:Object.assign(Object.assign({},f==null?void 0:f.style),o)},S,Z))}return a??null};u1.Button=hge;u1.Avatar=Cge;u1.Input=pge;u1.Image=fge;u1.Node=Age;function GR(){}const wge=v.createContext({add:GR,remove:GR});function uX(n){const e=v.useContext(wge),t=v.useRef();return fr(r=>{if(r){const o=n?r.querySelector(n):r;e.add(o),t.current=o}else e.remove(t.current)})}const wR=()=>{const{cancelButtonProps:n,cancelTextLocale:e,onCancel:t}=v.useContext(t2);return Gt.createElement(oa,Object.assign({onClick:t},n),e)},SR=()=>{const{confirmLoading:n,okButtonProps:e,okType:t,okTextLocale:i,onOk:r}=v.useContext(t2);return Gt.createElement(oa,Object.assign({},zE(t),{loading:n,onClick:r},e),i)};function dX(n,e){return Gt.createElement("span",{className:`${n}-close-x`},e||Gt.createElement(i5,{className:`${n}-close-icon`}))}const IX=n=>{const{okText:e,okType:t="primary",cancelText:i,confirmLoading:r,onOk:o,onCancel:a,okButtonProps:s,cancelButtonProps:l,footer:c}=n,[g]=N0("Modal",OH()),u=e||(g==null?void 0:g.okText),d=i||(g==null?void 0:g.cancelText),C={confirmLoading:r,okButtonProps:s,cancelButtonProps:l,okTextLocale:u,cancelTextLocale:d,okType:t,onOk:o,onCancel:a},f=Gt.useMemo(()=>C,Nt(Object.values(C)));let b;return typeof c=="function"||typeof c>"u"?(b=Gt.createElement(Gt.Fragment,null,Gt.createElement(wR,null),Gt.createElement(SR,null)),typeof c=="function"&&(b=c(b,{OkBtn:SR,CancelBtn:wR})),b=Gt.createElement(JE,{value:f},b)):b=c,Gt.createElement(nE,{disabled:!1},b)};function ZR(n){return{position:n,inset:0}}const Sge=n=>{const{componentCls:e,antCls:t}=n;return[{[`${e}-root`]:{[`${e}${t}-zoom-enter, ${e}${t}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:n.motionDurationSlow,userSelect:"none"},[`${e}${t}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},ZR("fixed")),{zIndex:n.zIndexPopupBase,height:"100%",backgroundColor:n.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},ZR("fixed")),{zIndex:n.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:Dse(n)}]},Zge=n=>{const{componentCls:e}=n;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${n.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${mt(n.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Ag(n)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${mt(n.calc(n.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:n.paddingLG,[`${e}-title`]:{margin:0,color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.titleFontSize,lineHeight:n.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:n.contentBg,backgroundClip:"padding-box",border:0,borderRadius:n.borderRadiusLG,boxShadow:n.boxShadow,pointerEvents:"auto",padding:n.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),insetInlineEnd:n.calc(n.modalHeaderHeight).sub(n.modalCloseBtnSize).div(2).equal(),zIndex:n.calc(n.zIndexPopupBase).add(10).equal(),padding:0,color:n.modalCloseIconColor,fontWeight:n.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:n.borderRadiusSM,width:n.modalCloseBtnSize,height:n.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${n.motionDurationMid}, background-color ${n.motionDurationMid}`,"&-x":{display:"flex",fontSize:n.fontSizeLG,fontStyle:"normal",lineHeight:mt(n.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:n.modalCloseIconHoverColor,backgroundColor:n.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:n.colorBgTextActive}},uB(n)),[`${e}-header`]:{color:n.colorText,background:n.headerBg,borderRadius:`${mt(n.borderRadiusLG)} ${mt(n.borderRadiusLG)} 0 0`,marginBottom:n.headerMarginBottom,padding:n.headerPadding,borderBottom:n.headerBorderBottom},[`${e}-body`]:{fontSize:n.fontSize,lineHeight:n.lineHeight,wordWrap:"break-word",padding:n.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${mt(n.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:n.footerBg,marginTop:n.footerMarginTop,padding:n.footerPadding,borderTop:n.footerBorderTop,borderRadius:n.footerBorderRadius,[`> ${n.antCls}-btn + ${n.antCls}-btn`]:{marginInlineStart:n.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},qge=n=>{const{componentCls:e}=n;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},CX=n=>{const e=n.padding,t=n.fontSizeHeading5,i=n.lineHeightHeading5;return Mi(n,{modalHeaderHeight:n.calc(n.calc(i).mul(t).equal()).add(n.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:n.colorSplit,modalFooterBorderStyle:n.lineType,modalFooterBorderWidth:n.lineWidth,modalCloseIconColor:n.colorIcon,modalCloseIconHoverColor:n.colorIconHover,modalCloseBtnSize:n.controlHeight,modalConfirmIconSize:n.fontHeight,modalTitleHeight:n.calc(n.titleFontSize).mul(n.titleLineHeight).equal()})},hX=n=>({footerBg:"transparent",headerBg:n.colorBgElevated,titleLineHeight:n.lineHeightHeading5,titleFontSize:n.fontSizeHeading5,contentBg:n.colorBgElevated,titleColor:n.colorTextHeading,contentPadding:n.wireframe?0:`${mt(n.paddingMD)} ${mt(n.paddingContentHorizontalLG)}`,headerPadding:n.wireframe?`${mt(n.padding)} ${mt(n.paddingLG)}`:0,headerBorderBottom:n.wireframe?`${mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",headerMarginBottom:n.wireframe?0:n.marginXS,bodyPadding:n.wireframe?n.paddingLG:0,footerPadding:n.wireframe?`${mt(n.paddingXS)} ${mt(n.padding)}`:0,footerBorderTop:n.wireframe?`${mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`:"none",footerBorderRadius:n.wireframe?`0 0 ${mt(n.borderRadiusLG)} ${mt(n.borderRadiusLG)}`:0,footerMarginTop:n.wireframe?0:n.marginSM,confirmBodyPadding:n.wireframe?`${mt(n.padding*2)} ${mt(n.padding*2)} ${mt(n.paddingLG)}`:0,confirmIconMarginInlineEnd:n.wireframe?n.margin:n.marginSM,confirmBtnsMarginTop:n.wireframe?n.marginLG:n.marginSM}),mX=ya("Modal",n=>{const e=CX(n);return[Zge(e),qge(e),Sge(e),CB(e,"zoom")]},hX,{unitless:{titleLineHeight:!0}});var Rge=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};let mv;const Mge=n=>{mv={x:n.pageX,y:n.pageY},setTimeout(()=>{mv=null},100)};oge()&&document.documentElement.addEventListener("click",Mge,!0);const fX=n=>{var e;const{getPopupContainer:t,getPrefixCls:i,direction:r,modal:o}=v.useContext(Zn),a=ge=>{const{onCancel:J}=n;J==null||J(ge)},s=ge=>{const{onOk:J}=n;J==null||J(ge)},{prefixCls:l,className:c,rootClassName:g,open:u,wrapClassName:d,centered:C,getContainer:f,focusTriggerAfterClose:b=!0,style:A,visible:p,width:y=520,footer:B,classNames:x,styles:w,children:S,loading:Z}=n,M=Rge(n,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),q=i("modal",l),_=i(),V=r5(q),[Y,X,K]=mX(q,V),Q=ct(d,{[`${q}-centered`]:!!C,[`${q}-wrap-rtl`]:r==="rtl"}),z=B!==null&&!Z?v.createElement(IX,Object.assign({},n,{onOk:s,onCancel:a})):null,[D,N,L]=gX(V3(n),V3(o),{closable:!0,closeIcon:v.createElement(i5,{className:`${q}-close-icon`}),closeIconRender:ge=>dX(q,ge)}),P=uX(`.${q}-content`),[O,ie]=$h("Modal",M.zIndex);return Y(v.createElement(yB,{form:!0,space:!0},v.createElement(o5.Provider,{value:ie},v.createElement(iX,Object.assign({width:y},M,{zIndex:O,getContainer:f===void 0?t:f,prefixCls:q,rootClassName:ct(X,g,K,V),footer:z,visible:u??p,mousePosition:(e=M.mousePosition)!==null&&e!==void 0?e:mv,onClose:a,closable:D&&{disabled:L,closeIcon:N},closeIcon:N,focusTriggerAfterClose:b,transitionName:lg(_,"zoom",n.transitionName),maskTransitionName:lg(_,"fade",n.maskTransitionName),className:ct(X,c,o==null?void 0:o.className),style:Object.assign(Object.assign({},o==null?void 0:o.style),A),classNames:Object.assign(Object.assign(Object.assign({},o==null?void 0:o.classNames),x),{wrapper:ct(Q,x==null?void 0:x.wrapper)}),styles:Object.assign(Object.assign({},o==null?void 0:o.styles),w),panelRef:P}),Z?v.createElement(u1,{active:!0,title:!1,paragraph:{rows:4},className:`${q}-body-skeleton`}):S))))},_ge=n=>{const{componentCls:e,titleFontSize:t,titleLineHeight:i,modalConfirmIconSize:r,fontSize:o,lineHeight:a,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=n,g=`${e}-confirm`;return{[g]:{"&-rtl":{direction:"rtl"},[`${n.antCls}-modal-header`]:{display:"none"},[`${g}-body-wrapper`]:Object.assign({},j8()),[`&${e} ${e}-body`]:{padding:c},[`${g}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n.iconCls}`]:{flex:"none",fontSize:r,marginInlineEnd:n.confirmIconMarginInlineEnd,marginTop:n.calc(n.calc(l).sub(r).equal()).div(2).equal()},[`&-has-title > ${n.iconCls}`]:{marginTop:n.calc(n.calc(s).sub(r).equal()).div(2).equal()}},[`${g}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:n.marginXS},[`${n.iconCls} + ${g}-paragraph`]:{maxWidth:`calc(100% - ${mt(n.calc(n.modalConfirmIconSize).add(n.marginSM).equal())})`},[`${g}-title`]:{color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:t,lineHeight:i},[`${g}-content`]:{color:n.colorText,fontSize:o,lineHeight:a},[`${g}-btns`]:{textAlign:"end",marginTop:n.confirmBtnsMarginTop,[`${n.antCls}-btn + ${n.antCls}-btn`]:{marginBottom:0,marginInlineStart:n.marginXS}}},[`${g}-error ${g}-body > ${n.iconCls}`]:{color:n.colorError},[`${g}-warning ${g}-body > ${n.iconCls},
        ${g}-confirm ${g}-body > ${n.iconCls}`]:{color:n.colorWarning},[`${g}-info ${g}-body > ${n.iconCls}`]:{color:n.colorInfo},[`${g}-success ${g}-body > ${n.iconCls}`]:{color:n.colorSuccess}}},Wge=uE(["Modal","confirm"],n=>{const e=CX(n);return[_ge(e)]},hX,{order:-1e3});var Vge=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function pX(n){const{prefixCls:e,icon:t,okText:i,cancelText:r,confirmPrefixCls:o,type:a,okCancel:s,footer:l,locale:c}=n,g=Vge(n,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let u=t;if(!t&&t!==null)switch(a){case"info":u=v.createElement(Pae,null);break;case"success":u=v.createElement(Fae,null);break;case"error":u=v.createElement(qE,null);break;default:u=v.createElement(Lae,null)}const d=s??a==="confirm",C=n.autoFocusButton===null?!1:n.autoFocusButton||"ok",[f]=N0("Modal"),b=c||f,A=i||(d?b==null?void 0:b.okText:b==null?void 0:b.justOkText),p=r||(b==null?void 0:b.cancelText),y=Object.assign({autoFocusButton:C,cancelTextLocale:p,okTextLocale:A,mergedOkCancel:d},g),B=v.useMemo(()=>y,Nt(Object.values(y))),x=v.createElement(v.Fragment,null,v.createElement(iR,null),v.createElement(rR,null)),w=n.title!==void 0&&n.title!==null,S=`${o}-body`;return v.createElement("div",{className:`${o}-body-wrapper`},v.createElement("div",{className:ct(S,{[`${S}-has-title`]:w})},u,v.createElement("div",{className:`${o}-paragraph`},w&&v.createElement("span",{className:`${o}-title`},n.title),v.createElement("div",{className:`${o}-content`},n.content))),l===void 0||typeof l=="function"?v.createElement(JE,{value:B},v.createElement("div",{className:`${o}-btns`},typeof l=="function"?l(x,{OkBtn:rR,CancelBtn:iR}):x)):l,v.createElement(Wge,{prefixCls:e}))}const Nge=n=>{const{close:e,zIndex:t,afterClose:i,open:r,keyboard:o,centered:a,getContainer:s,maskStyle:l,direction:c,prefixCls:g,wrapClassName:u,rootPrefixCls:d,bodyStyle:C,closable:f=!1,closeIcon:b,modalRender:A,focusTriggerAfterClose:p,onConfirm:y,styles:B}=n,x=`${g}-confirm`,w=n.width||416,S=n.style||{},Z=n.mask===void 0?!0:n.mask,M=n.maskClosable===void 0?!1:n.maskClosable,q=ct(x,`${x}-${n.type}`,{[`${x}-rtl`]:c==="rtl"},n.className),[,_]=va(),V=v.useMemo(()=>t!==void 0?t:_.zIndexPopupBase+nse,[t,_]);return v.createElement(fX,{prefixCls:g,className:q,wrapClassName:ct({[`${x}-centered`]:!!n.centered},u),onCancel:()=>{e==null||e({triggerCancel:!0}),y==null||y(!1)},open:r,title:"",footer:null,transitionName:lg(d||"","zoom",n.transitionName),maskTransitionName:lg(d||"","fade",n.maskTransitionName),mask:Z,maskClosable:M,style:S,styles:Object.assign({body:C,mask:l},B),width:w,zIndex:V,afterClose:i,keyboard:o,centered:a,getContainer:s,closable:f,closeIcon:b,modalRender:A,focusTriggerAfterClose:p},v.createElement(pX,Object.assign({},n,{confirmPrefixCls:x})))},AX=n=>{const{rootPrefixCls:e,iconPrefixCls:t,direction:i,theme:r}=n;return v.createElement(rc,{prefixCls:e,iconPrefixCls:t,direction:i,theme:r},v.createElement(Nge,Object.assign({},n)))},vu=[];let bX="";function vX(){return bX}const Fge=n=>{var e,t;const{prefixCls:i,getContainer:r,direction:o}=n,a=OH(),s=v.useContext(Zn),l=vX()||s.getPrefixCls(),c=i||`${l}-modal`;let g=r;return g===!1&&(g=void 0),Gt.createElement(AX,Object.assign({},n,{rootPrefixCls:l,prefixCls:c,iconPrefixCls:s.iconPrefixCls,theme:s.theme,direction:o??s.direction,locale:(t=(e=s.locale)===null||e===void 0?void 0:e.Modal)!==null&&t!==void 0?t:a,getContainer:g}))};function r2(n){const e=yae(),t=document.createDocumentFragment();let i=Object.assign(Object.assign({},n),{close:s,open:!0}),r;function o(){for(var c,g=arguments.length,u=new Array(g),d=0;d<g;d++)u[d]=arguments[d];if(u.some(b=>b==null?void 0:b.triggerCancel)){var f;(c=n.onCancel)===null||c===void 0||(f=c).call.apply(f,[n,()=>{}].concat(Nt(u.slice(1))))}for(let b=0;b<vu.length;b++)if(vu[b]===s){vu.splice(b,1);break}VE(t)}function a(c){clearTimeout(r),r=setTimeout(()=>{const g=e.getPrefixCls(void 0,vX()),u=e.getIconPrefixCls(),d=e.getTheme(),C=Gt.createElement(Fge,Object.assign({},c));WE(Gt.createElement(rc,{prefixCls:g,iconPrefixCls:u,theme:d},e.holderRender?e.holderRender(C):C),t)})}function s(){for(var c=arguments.length,g=new Array(c),u=0;u<c;u++)g[u]=arguments[u];i=Object.assign(Object.assign({},i),{open:!1,afterClose:()=>{typeof n.afterClose=="function"&&n.afterClose(),o.apply(this,g)}}),i.visible&&delete i.visible,a(i)}function l(c){typeof c=="function"?i=c(i):i=Object.assign(Object.assign({},i),c),a(i)}return a(i),vu.push(s),{destroy:s,update:l}}function yX(n){return Object.assign(Object.assign({},n),{type:"warning"})}function BX(n){return Object.assign(Object.assign({},n),{type:"info"})}function xX(n){return Object.assign(Object.assign({},n),{type:"success"})}function GX(n){return Object.assign(Object.assign({},n),{type:"error"})}function wX(n){return Object.assign(Object.assign({},n),{type:"confirm"})}function Hge(n){let{rootPrefixCls:e}=n;bX=e}var Ege=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Xge=(n,e)=>{var t,{afterClose:i,config:r}=n,o=Ege(n,["afterClose","config"]);const[a,s]=v.useState(!0),[l,c]=v.useState(r),{direction:g,getPrefixCls:u}=v.useContext(Zn),d=u("modal"),C=u(),f=()=>{var y;i(),(y=l.afterClose)===null||y===void 0||y.call(l)},b=function(){var y;s(!1);for(var B=arguments.length,x=new Array(B),w=0;w<B;w++)x[w]=arguments[w];if(x.some(M=>M==null?void 0:M.triggerCancel)){var Z;(y=l.onCancel)===null||y===void 0||(Z=y).call.apply(Z,[l,()=>{}].concat(Nt(x.slice(1))))}};v.useImperativeHandle(e,()=>({destroy:b,update:y=>{c(B=>Object.assign(Object.assign({},B),y))}}));const A=(t=l.okCancel)!==null&&t!==void 0?t:l.type==="confirm",[p]=N0("Modal",Ou.Modal);return v.createElement(AX,Object.assign({prefixCls:d,rootPrefixCls:C},l,{close:b,open:a,afterClose:f,okText:l.okText||(A?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:l.direction||g,cancelText:l.cancelText||(p==null?void 0:p.cancelText)},o))},zge=v.forwardRef(Xge);let qR=0;const Yge=v.memo(v.forwardRef((n,e)=>{const[t,i]=ose();return v.useImperativeHandle(e,()=>({patchElement:i}),[]),v.createElement(v.Fragment,null,t)}));function Kge(){const n=v.useRef(null),[e,t]=v.useState([]);v.useEffect(()=>{e.length&&(Nt(e).forEach(a=>{a()}),t([]))},[e]);const i=v.useCallback(o=>function(s){var l;qR+=1;const c=v.createRef();let g;const u=new Promise(A=>{g=A});let d=!1,C;const f=v.createElement(zge,{key:`modal-${qR}`,config:o(s),ref:c,afterClose:()=>{C==null||C()},isSilent:()=>d,onConfirm:A=>{g(A)}});return C=(l=n.current)===null||l===void 0?void 0:l.patchElement(f),C&&vu.push(C),{destroy:()=>{function A(){var p;(p=c.current)===null||p===void 0||p.destroy()}c.current?A():t(p=>[].concat(Nt(p),[A]))},update:A=>{function p(){var y;(y=c.current)===null||y===void 0||y.update(A)}c.current?p():t(y=>[].concat(Nt(y),[p]))},then:A=>(d=!0,u.then(A))}},[]);return[v.useMemo(()=>({info:i(BX),success:i(xX),error:i(GX),warning:i(yX),confirm:i(wX)}),[]),v.createElement(Yge,{key:"modal-holder",ref:n})]}function SX(n){return e=>v.createElement(rc,{theme:{token:{motion:!1,zIndexPopupBase:0}}},v.createElement(n,Object.assign({},e)))}const Lge=(n,e,t,i)=>SX(o=>{const{prefixCls:a,style:s}=o,l=v.useRef(null),[c,g]=v.useState(0),[u,d]=v.useState(0),[C,f]=Pl(!1,{value:o.open}),{getPrefixCls:b}=v.useContext(Zn),A=b("select",a);v.useEffect(()=>{if(f(!0),typeof ResizeObserver<"u"){const B=new ResizeObserver(w=>{const S=w[0].target;g(S.offsetHeight+8),d(S.offsetWidth)}),x=setInterval(()=>{var w;const S=`.${A}-dropdown`,Z=(w=l.current)===null||w===void 0?void 0:w.querySelector(S);Z&&(clearInterval(x),B.observe(Z))},10);return()=>{clearInterval(x),B.disconnect()}}},[]);let p=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},s),{margin:0}),open:C,visible:C,getPopupContainer:()=>l.current});const y={paddingBottom:c,position:"relative",minWidth:u};return v.createElement("div",{ref:l,style:y},v.createElement(n,Object.assign({},p)))}),ZX=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var h5=function(e){var t=e.className,i=e.customizeIcon,r=e.customizeIconProps,o=e.children,a=e.onMouseDown,s=e.onClick,l=typeof i=="function"?i(r):i;return v.createElement("span",{className:t,onMouseDown:function(g){g.preventDefault(),a==null||a(g)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},l!==void 0?l:v.createElement("span",{className:ct(t.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},Tge=function(e,t,i,r,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=Gt.useMemo(function(){if(sn(r)==="object")return r.clearIcon;if(o)return o},[r,o]),g=Gt.useMemo(function(){return!!(!a&&r&&(i.length||s)&&!(l==="combobox"&&s===""))},[r,a,i.length,s,l]);return{allowClear:g,clearIcon:Gt.createElement(h5,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"×")}},qX=v.createContext(null);function kge(){return v.useContext(qX)}function Pge(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=v.useState(!1),t=Pe(e,2),i=t[0],r=t[1],o=v.useRef(null),a=function(){window.clearTimeout(o.current)};v.useEffect(function(){return a},[]);var s=function(c,g){a(),o.current=window.setTimeout(function(){r(c),g&&g()},n)};return[i,s,a]}function RX(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=v.useRef(null),t=v.useRef(null);v.useEffect(function(){return function(){window.clearTimeout(t.current)}},[]);function i(r){(r||e.current===null)&&(e.current=r),window.clearTimeout(t.current),t.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},i]}function Dge(n,e,t,i){var r=v.useRef(null);r.current={open:e,triggerOpen:t,customizedTrigger:i},v.useEffect(function(){function o(a){var s;if(!((s=r.current)!==null&&s!==void 0&&s.customizedTrigger)){var l=a.target;l.shadowRoot&&a.composed&&(l=a.composedPath()[0]||l),r.current.open&&n().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&r.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function Uge(n){return![ht.ESC,ht.SHIFT,ht.BACKSPACE,ht.TAB,ht.WIN_KEY,ht.ALT,ht.META,ht.WIN_KEY_RIGHT,ht.CTRL,ht.SEMICOLON,ht.EQUALS,ht.CAPS_LOCK,ht.CONTEXT_MENU,ht.F1,ht.F2,ht.F3,ht.F4,ht.F5,ht.F6,ht.F7,ht.F8,ht.F9,ht.F10,ht.F11,ht.F12].includes(n)}var Oge=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],$1=void 0;function jge(n,e){var t=n.prefixCls,i=n.invalidate,r=n.item,o=n.renderItem,a=n.responsive,s=n.responsiveDisabled,l=n.registerSize,c=n.itemKey,g=n.className,u=n.style,d=n.children,C=n.display,f=n.order,b=n.component,A=b===void 0?"div":b,p=_n(n,Oge),y=a&&!C;function B(M){l(c,M)}v.useEffect(function(){return function(){B(null)}},[]);var x=o&&r!==$1?o(r):d,w;i||(w={opacity:y?0:1,height:y?0:$1,overflowY:y?"hidden":$1,order:a?f:$1,pointerEvents:y?"none":$1,position:y?"absolute":$1});var S={};y&&(S["aria-hidden"]=!0);var Z=v.createElement(A,Lt({className:ct(!i&&t,g),style:he(he({},w),u)},S,p,{ref:e}),x);return a&&(Z=v.createElement(c1,{onResize:function(q){var _=q.offsetWidth;B(_)},disabled:s},Z)),Z}var xC=v.forwardRef(jge);xC.displayName="Item";function Jge(n){if(typeof MessageChannel>"u")Si(n);else{var e=new MessageChannel;e.port1.onmessage=function(){return n()},e.port2.postMessage(void 0)}}function Qge(){var n=v.useRef(null),e=function(i){n.current||(n.current=[],Jge(function(){rg.unstable_batchedUpdates(function(){n.current.forEach(function(r){r()}),n.current=null})})),n.current.push(i)};return e}function VI(n,e){var t=v.useState(e),i=Pe(t,2),r=i[0],o=i[1],a=fr(function(s){n(function(){o(s)})});return[r,a]}var N3=Gt.createContext(null),$ge=["component"],eue=["className"],tue=["className"],nue=function(e,t){var i=v.useContext(N3);if(!i){var r=e.component,o=r===void 0?"div":r,a=_n(e,$ge);return v.createElement(o,Lt({},a,{ref:t}))}var s=i.className,l=_n(i,eue),c=e.className,g=_n(e,tue);return v.createElement(N3.Provider,{value:null},v.createElement(xC,Lt({ref:t,className:ct(s,c)},l,g)))},MX=v.forwardRef(nue);MX.displayName="RawItem";var iue=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],_X="responsive",WX="invalidate";function rue(n){return"+ ".concat(n.length," ...")}function oue(n,e){var t=n.prefixCls,i=t===void 0?"rc-overflow":t,r=n.data,o=r===void 0?[]:r,a=n.renderItem,s=n.renderRawItem,l=n.itemKey,c=n.itemWidth,g=c===void 0?10:c,u=n.ssr,d=n.style,C=n.className,f=n.maxCount,b=n.renderRest,A=n.renderRawRest,p=n.suffix,y=n.component,B=y===void 0?"div":y,x=n.itemComponent,w=n.onVisibleChange,S=_n(n,iue),Z=u==="full",M=Qge(),q=VI(M,null),_=Pe(q,2),V=_[0],Y=_[1],X=V||0,K=VI(M,new Map),Q=Pe(K,2),z=Q[0],D=Q[1],N=VI(M,0),L=Pe(N,2),P=L[0],O=L[1],ie=VI(M,0),ge=Pe(ie,2),J=ge[0],Ce=ge[1],ve=VI(M,0),Ae=Pe(ve,2),Xe=Ae[0],Le=Ae[1],Ee=v.useState(null),be=Pe(Ee,2),Ie=be[0],pe=be[1],$=v.useState(null),Ge=Pe($,2),Ze=Ge[0],Ye=Ge[1],Ne=v.useMemo(function(){return Ze===null&&Z?Number.MAX_SAFE_INTEGER:Ze||0},[Ze,V]),Je=v.useState(!1),Ke=Pe(Je,2),U=Ke[0],T=Ke[1],le="".concat(i,"-item"),ye=Math.max(P,J),Fe=f===_X,we=o.length&&Fe,tt=f===WX,je=we||typeof f=="number"&&o.length>f,Qe=v.useMemo(function(){var Bt=o;return we?V===null&&Z?Bt=o:Bt=o.slice(0,Math.min(o.length,X/g)):typeof f=="number"&&(Bt=o.slice(0,f)),Bt},[o,g,V,f,we]),Rt=v.useMemo(function(){return we?o.slice(Ne+1):o.slice(Qe.length)},[o,Qe,we,Ne]),ze=v.useCallback(function(Bt,ut){var it;return typeof l=="function"?l(Bt):(it=l&&(Bt==null?void 0:Bt[l]))!==null&&it!==void 0?it:ut},[l]),st=v.useCallback(a||function(Bt){return Bt},[a]);function gt(Bt,ut,it){Ze===Bt&&(ut===void 0||ut===Ie)||(Ye(Bt),it||(T(Bt<o.length-1),w==null||w(Bt)),ut!==void 0&&pe(ut))}function ot(Bt,ut){Y(ut.clientWidth)}function dt(Bt,ut){D(function(it){var an=new Map(it);return ut===null?an.delete(Bt):an.set(Bt,ut),an})}function ue(Bt,ut){Ce(ut),O(J)}function Me(Bt,ut){Le(ut)}function $e(Bt){return z.get(ze(Qe[Bt],Bt))}ui(function(){if(X&&typeof ye=="number"&&Qe){var Bt=Xe,ut=Qe.length,it=ut-1;if(!ut){gt(0,null);return}for(var an=0;an<ut;an+=1){var Nn=$e(an);if(Z&&(Nn=Nn||0),Nn===void 0){gt(an-1,void 0,!0);break}if(Bt+=Nn,it===0&&Bt<=X||an===it-1&&Bt+$e(it)<=X){gt(it,null);break}else if(Bt+ye>X){gt(an-1,Bt-Nn-Xe+J);break}}p&&$e(0)+Xe>X&&pe(null)}},[X,z,J,Xe,ze,Qe]);var ce=U&&!!Rt.length,Se={};Ie!==null&&we&&(Se={position:"absolute",left:Ie,top:0});var _e={prefixCls:le,responsive:we,component:x,invalidate:tt},Te=s?function(Bt,ut){var it=ze(Bt,ut);return v.createElement(N3.Provider,{key:it,value:he(he({},_e),{},{order:ut,item:Bt,itemKey:it,registerSize:dt,display:ut<=Ne})},s(Bt,ut))}:function(Bt,ut){var it=ze(Bt,ut);return v.createElement(xC,Lt({},_e,{order:ut,key:it,item:Bt,renderItem:st,itemKey:it,registerSize:dt,display:ut<=Ne}))},It,at={order:ce?Ne:Number.MAX_SAFE_INTEGER,className:"".concat(le,"-rest"),registerSize:ue,display:ce};if(A)A&&(It=v.createElement(N3.Provider,{value:he(he({},_e),at)},A(Rt)));else{var _t=b||rue;It=v.createElement(xC,Lt({},_e,at),typeof _t=="function"?_t(Rt):_t)}var Ft=v.createElement(B,Lt({className:ct(!tt&&i,C),style:d,ref:e},S),Qe.map(Te),je?It:null,p&&v.createElement(xC,Lt({},_e,{responsive:Fe,responsiveDisabled:!we,order:Ne,className:"".concat(le,"-suffix"),registerSize:Me,display:!0,style:Se}),p));return Fe&&(Ft=v.createElement(c1,{onResize:ot,disabled:!we},Ft)),Ft}var il=v.forwardRef(oue);il.displayName="Overflow";il.Item=MX;il.RESPONSIVE=_X;il.INVALIDATE=WX;var aue=function(e,t){var i,r=e.prefixCls,o=e.id,a=e.inputElement,s=e.disabled,l=e.tabIndex,c=e.autoFocus,g=e.autoComplete,u=e.editable,d=e.activeDescendantId,C=e.value,f=e.maxLength,b=e.onKeyDown,A=e.onMouseDown,p=e.onChange,y=e.onPaste,B=e.onCompositionStart,x=e.onCompositionEnd,w=e.open,S=e.attrs,Z=a||v.createElement("input",null),M=Z,q=M.ref,_=M.props,V=_.onKeyDown,Y=_.onChange,X=_.onMouseDown,K=_.onCompositionStart,Q=_.onCompositionEnd,z=_.style;return"maxLength"in Z.props,Z=v.cloneElement(Z,he(he(he({type:"search"},_),{},{id:o,ref:W0(t,q),disabled:s,tabIndex:l,autoComplete:g||"off",autoFocus:c,className:ct("".concat(r,"-selection-search-input"),(i=Z)===null||i===void 0||(i=i.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":w||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":w?d:void 0},S),{},{value:u?C:"",maxLength:f,readOnly:!u,unselectable:u?null:"on",style:he(he({},z),{},{opacity:u?null:0}),onKeyDown:function(N){b(N),V&&V(N)},onMouseDown:function(N){A(N),X&&X(N)},onChange:function(N){p(N),Y&&Y(N)},onCompositionStart:function(N){B(N),K&&K(N)},onCompositionEnd:function(N){x(N),Q&&Q(N)},onPaste:y})),Z},VX=v.forwardRef(aue);function NX(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var sue=typeof window<"u"&&window.document&&window.document.documentElement,lue=sue;function cue(n){return n!=null}function gue(n){return!n&&n!==0}function RR(n){return["string","number"].includes(sn(n))}function FX(n){var e=void 0;return n&&(RR(n.title)?e=n.title.toString():RR(n.label)&&(e=n.label.toString())),e}function uue(n,e){lue?v.useLayoutEffect(n,e):v.useEffect(n,e)}function due(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var MR=function(e){e.preventDefault(),e.stopPropagation()},Iue=function(e){var t=e.id,i=e.prefixCls,r=e.values,o=e.open,a=e.searchValue,s=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,g=e.disabled,u=e.mode,d=e.showSearch,C=e.autoFocus,f=e.autoComplete,b=e.activeDescendantId,A=e.tabIndex,p=e.removeIcon,y=e.maxTagCount,B=e.maxTagTextLength,x=e.maxTagPlaceholder,w=x===void 0?function(pe){return"+ ".concat(pe.length," ...")}:x,S=e.tagRender,Z=e.onToggleOpen,M=e.onRemove,q=e.onInputChange,_=e.onInputPaste,V=e.onInputKeyDown,Y=e.onInputMouseDown,X=e.onInputCompositionStart,K=e.onInputCompositionEnd,Q=v.useRef(null),z=v.useState(0),D=Pe(z,2),N=D[0],L=D[1],P=v.useState(!1),O=Pe(P,2),ie=O[0],ge=O[1],J="".concat(i,"-selection"),Ce=o||u==="multiple"&&s===!1||u==="tags"?a:"",ve=u==="tags"||u==="multiple"&&s===!1||d&&(o||ie);uue(function(){L(Q.current.scrollWidth)},[Ce]);var Ae=function($,Ge,Ze,Ye,Ne){return v.createElement("span",{title:FX($),className:ct("".concat(J,"-item"),me({},"".concat(J,"-item-disabled"),Ze))},v.createElement("span",{className:"".concat(J,"-item-content")},Ge),Ye&&v.createElement(h5,{className:"".concat(J,"-item-remove"),onMouseDown:MR,onClick:Ne,customizeIcon:p},"×"))},Xe=function($,Ge,Ze,Ye,Ne,Je){var Ke=function(T){MR(T),Z(!o)};return v.createElement("span",{onMouseDown:Ke},S({label:Ge,value:$,disabled:Ze,closable:Ye,onClose:Ne,isMaxTag:!!Je}))},Le=function($){var Ge=$.disabled,Ze=$.label,Ye=$.value,Ne=!g&&!Ge,Je=Ze;if(typeof B=="number"&&(typeof Ze=="string"||typeof Ze=="number")){var Ke=String(Je);Ke.length>B&&(Je="".concat(Ke.slice(0,B),"..."))}var U=function(le){le&&le.stopPropagation(),M($)};return typeof S=="function"?Xe(Ye,Je,Ge,Ne,U):Ae($,Je,Ge,Ne,U)},Ee=function($){var Ge=typeof w=="function"?w($):w;return typeof S=="function"?Xe(void 0,Ge,!1,!1,void 0,!0):Ae({title:Ge},Ge,!1)},be=v.createElement("div",{className:"".concat(J,"-search"),style:{width:N},onFocus:function(){ge(!0)},onBlur:function(){ge(!1)}},v.createElement(VX,{ref:l,open:o,prefixCls:i,id:t,inputElement:null,disabled:g,autoFocus:C,autoComplete:f,editable:ve,activeDescendantId:b,value:Ce,onKeyDown:V,onMouseDown:Y,onChange:q,onPaste:_,onCompositionStart:X,onCompositionEnd:K,tabIndex:A,attrs:ul(e,!0)}),v.createElement("span",{ref:Q,className:"".concat(J,"-search-mirror"),"aria-hidden":!0},Ce," ")),Ie=v.createElement(il,{prefixCls:"".concat(J,"-overflow"),data:r,renderItem:Le,renderRest:Ee,suffix:be,itemKey:due,maxCount:y});return v.createElement("span",{className:"".concat(J,"-wrap")},Ie,!r.length&&!Ce&&v.createElement("span",{className:"".concat(J,"-placeholder")},c))},Cue=function(e){var t=e.inputElement,i=e.prefixCls,r=e.id,o=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,g=e.mode,u=e.open,d=e.values,C=e.placeholder,f=e.tabIndex,b=e.showSearch,A=e.searchValue,p=e.activeValue,y=e.maxLength,B=e.onInputKeyDown,x=e.onInputMouseDown,w=e.onInputChange,S=e.onInputPaste,Z=e.onInputCompositionStart,M=e.onInputCompositionEnd,q=e.title,_=v.useState(!1),V=Pe(_,2),Y=V[0],X=V[1],K=g==="combobox",Q=K||b,z=d[0],D=A||"";K&&p&&!Y&&(D=p),v.useEffect(function(){K&&X(!1)},[K,p]);var N=g!=="combobox"&&!u&&!b?!1:!!D,L=q===void 0?FX(z):q,P=v.useMemo(function(){return z?null:v.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:N?{visibility:"hidden"}:void 0},C)},[z,N,C,i]);return v.createElement("span",{className:"".concat(i,"-selection-wrap")},v.createElement("span",{className:"".concat(i,"-selection-search")},v.createElement(VX,{ref:o,prefixCls:i,id:r,open:u,inputElement:t,disabled:a,autoFocus:s,autoComplete:l,editable:Q,activeDescendantId:c,value:D,onKeyDown:B,onMouseDown:x,onChange:function(ie){X(!0),w(ie)},onPaste:S,onCompositionStart:Z,onCompositionEnd:M,tabIndex:f,attrs:ul(e,!0),maxLength:K?y:void 0})),!K&&z?v.createElement("span",{className:"".concat(i,"-selection-item"),title:L,style:N?{visibility:"hidden"}:void 0},z.label):null,P)},hue=function(e,t){var i=v.useRef(null),r=v.useRef(!1),o=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,g=e.disabled,u=e.prefix,d=e.autoClearSearchValue,C=e.onSearch,f=e.onSearchSubmit,b=e.onToggleOpen,A=e.onInputKeyDown,p=e.domRef;v.useImperativeHandle(t,function(){return{focus:function(L){i.current.focus(L)},blur:function(){i.current.blur()}}});var y=RX(0),B=Pe(y,2),x=B[0],w=B[1],S=function(L){var P=L.which,O=i.current instanceof HTMLTextAreaElement;!O&&a&&(P===ht.UP||P===ht.DOWN)&&L.preventDefault(),A&&A(L),P===ht.ENTER&&s==="tags"&&!r.current&&!a&&(f==null||f(L.target.value)),!(O&&!a&&~[ht.UP,ht.DOWN,ht.LEFT,ht.RIGHT].indexOf(P))&&Uge(P)&&b(!0)},Z=function(){w(!0)},M=v.useRef(null),q=function(L){C(L,!0,r.current)!==!1&&b(!0)},_=function(){r.current=!0},V=function(L){r.current=!1,s!=="combobox"&&q(L.target.value)},Y=function(L){var P=L.target.value;if(c&&M.current&&/[\r\n]/.test(M.current)){var O=M.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");P=P.replace(O,M.current)}M.current=null,q(P)},X=function(L){var P=L.clipboardData,O=P==null?void 0:P.getData("text");M.current=O||""},K=function(L){var P=L.target;if(P!==i.current){var O=document.body.style.msTouchAction!==void 0;O?setTimeout(function(){i.current.focus()}):i.current.focus()}},Q=function(L){var P=x();L.target!==i.current&&!P&&!(s==="combobox"&&g)&&L.preventDefault(),(s!=="combobox"&&(!l||!P)||!a)&&(a&&d!==!1&&C("",!0,!1),b())},z={inputRef:i,onInputKeyDown:S,onInputMouseDown:Z,onInputChange:Y,onInputPaste:X,onInputCompositionStart:_,onInputCompositionEnd:V},D=s==="multiple"||s==="tags"?v.createElement(Iue,Lt({},e,z)):v.createElement(Cue,Lt({},e,z));return v.createElement("div",{ref:p,className:"".concat(o,"-selector"),onClick:K,onMouseDown:Q},u&&v.createElement("div",{className:"".concat(o,"-prefix")},u),D)},mue=v.forwardRef(hue);function fue(n){var e=n.prefixCls,t=n.align,i=n.arrow,r=n.arrowPos,o=i||{},a=o.className,s=o.content,l=r.x,c=l===void 0?0:l,g=r.y,u=g===void 0?0:g,d=v.useRef();if(!t||!t.points)return null;var C={position:"absolute"};if(t.autoArrow!==!1){var f=t.points[0],b=t.points[1],A=f[0],p=f[1],y=b[0],B=b[1];A===y||!["t","b"].includes(A)?C.top=u:A==="t"?C.top=0:C.bottom=0,p===B||!["l","r"].includes(p)?C.left=c:p==="l"?C.left=0:C.right=0}return v.createElement("div",{ref:d,className:ct("".concat(e,"-arrow"),a),style:C},s)}function pue(n){var e=n.prefixCls,t=n.open,i=n.zIndex,r=n.mask,o=n.motion;return r?v.createElement(gl,Lt({},o,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(a){var s=a.className;return v.createElement("div",{style:{zIndex:i},className:ct("".concat(e,"-mask"),s)})}):null}var Aue=v.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),bue=v.forwardRef(function(n,e){var t=n.popup,i=n.className,r=n.prefixCls,o=n.style,a=n.target,s=n.onVisibleChanged,l=n.open,c=n.keepDom,g=n.fresh,u=n.onClick,d=n.mask,C=n.arrow,f=n.arrowPos,b=n.align,A=n.motion,p=n.maskMotion,y=n.forceRender,B=n.getPopupContainer,x=n.autoDestroy,w=n.portal,S=n.zIndex,Z=n.onMouseEnter,M=n.onMouseLeave,q=n.onPointerEnter,_=n.onPointerDownCapture,V=n.ready,Y=n.offsetX,X=n.offsetY,K=n.offsetR,Q=n.offsetB,z=n.onAlign,D=n.onPrepare,N=n.stretch,L=n.targetWidth,P=n.targetHeight,O=typeof t=="function"?t():t,ie=l||c,ge=(B==null?void 0:B.length)>0,J=v.useState(!B||!ge),Ce=Pe(J,2),ve=Ce[0],Ae=Ce[1];if(ui(function(){!ve&&ge&&a&&Ae(!0)},[ve,ge,a]),!ve)return null;var Xe="auto",Le={left:"-1000vw",top:"-1000vh",right:Xe,bottom:Xe};if(V||!l){var Ee,be=b.points,Ie=b.dynamicInset||((Ee=b._experimental)===null||Ee===void 0?void 0:Ee.dynamicInset),pe=Ie&&be[0][1]==="r",$=Ie&&be[0][0]==="b";pe?(Le.right=K,Le.left=Xe):(Le.left=Y,Le.right=Xe),$?(Le.bottom=Q,Le.top=Xe):(Le.top=X,Le.bottom=Xe)}var Ge={};return N&&(N.includes("height")&&P?Ge.height=P:N.includes("minHeight")&&P&&(Ge.minHeight=P),N.includes("width")&&L?Ge.width=L:N.includes("minWidth")&&L&&(Ge.minWidth=L)),l||(Ge.pointerEvents="none"),v.createElement(w,{open:y||ie,getContainer:B&&function(){return B(a)},autoDestroy:x},v.createElement(pue,{prefixCls:r,open:l,zIndex:S,mask:d,motion:p}),v.createElement(c1,{onResize:z,disabled:!l},function(Ze){return v.createElement(gl,Lt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(r,"-hidden")},A,{onAppearPrepare:D,onEnterPrepare:D,visible:l,onVisibleChanged:function(Ne){var Je;A==null||(Je=A.onVisibleChanged)===null||Je===void 0||Je.call(A,Ne),s(Ne)}}),function(Ye,Ne){var Je=Ye.className,Ke=Ye.style,U=ct(r,Je,i);return v.createElement("div",{ref:W0(Ze,e,Ne),className:U,style:he(he(he(he({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},Le),Ge),Ke),{},{boxSizing:"border-box",zIndex:S},o),onMouseEnter:Z,onMouseLeave:M,onPointerEnter:q,onClick:u,onPointerDownCapture:_},C&&v.createElement(fue,{prefixCls:r,arrow:C,arrowPos:f,align:b}),v.createElement(Aue,{cache:!l&&!g},O))})}))}),vue=v.forwardRef(function(n,e){var t=n.children,i=n.getTriggerDOMNode,r=Qh(t),o=v.useCallback(function(s){$7(e,i?i(s):s)},[i]),a=l1(o,t.ref);return r?v.cloneElement(t,{ref:a}):t}),_R=v.createContext(null);function WR(n){return n?Array.isArray(n)?n:[n]:[]}function yue(n,e,t,i){return v.useMemo(function(){var r=WR(t??e),o=WR(i??e),a=new Set(r),s=new Set(o);return n&&(a.has("hover")&&(a.delete("hover"),a.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[a,s]},[n,e,t,i])}function Bue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function xue(n,e,t,i){for(var r=t.points,o=Object.keys(n),a=0;a<o.length;a+=1){var s,l=o[a];if(Bue((s=n[l])===null||s===void 0?void 0:s.points,r,i))return"".concat(e,"-placement-").concat(l)}return""}function VR(n,e,t,i){return e||(t?{motionName:"".concat(n,"-").concat(t)}:i?{motionName:i}:null)}function o2(n){return n.ownerDocument.defaultView}function fv(n){for(var e=[],t=n==null?void 0:n.parentElement,i=["hidden","scroll","clip","auto"];t;){var r=o2(t).getComputedStyle(t),o=r.overflowX,a=r.overflowY,s=r.overflow;[o,a,s].some(function(l){return i.includes(l)})&&e.push(t),t=t.parentElement}return e}function ph(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function NI(n){return ph(parseFloat(n),0)}function NR(n,e){var t=he({},n);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var r=o2(i).getComputedStyle(i),o=r.overflow,a=r.overflowClipMargin,s=r.borderTopWidth,l=r.borderBottomWidth,c=r.borderLeftWidth,g=r.borderRightWidth,u=i.getBoundingClientRect(),d=i.offsetHeight,C=i.clientHeight,f=i.offsetWidth,b=i.clientWidth,A=NI(s),p=NI(l),y=NI(c),B=NI(g),x=ph(Math.round(u.width/f*1e3)/1e3),w=ph(Math.round(u.height/d*1e3)/1e3),S=(f-b-y-B)*x,Z=(d-C-A-p)*w,M=A*w,q=p*w,_=y*x,V=B*x,Y=0,X=0;if(o==="clip"){var K=NI(a);Y=K*x,X=K*w}var Q=u.x+_-Y,z=u.y+M-X,D=Q+u.width+2*Y-_-V-S,N=z+u.height+2*X-M-q-Z;t.left=Math.max(t.left,Q),t.top=Math.max(t.top,z),t.right=Math.min(t.right,D),t.bottom=Math.min(t.bottom,N)}}),t}function FR(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),i=t.match(/^(.*)\%$/);return i?n*(parseFloat(i[1])/100):parseFloat(t)}function HR(n,e){var t=e||[],i=Pe(t,2),r=i[0],o=i[1];return[FR(n.width,r),FR(n.height,o)]}function ER(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function ed(n,e){var t=e[0],i=e[1],r,o;return t==="t"?o=n.y:t==="b"?o=n.y+n.height:o=n.y+n.height/2,i==="l"?r=n.x:i==="r"?r=n.x+n.width:r=n.x+n.width/2,{x:r,y:o}}function xc(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(i,r){return r===e?t[i]||"c":i}).join("")}function Gue(n,e,t,i,r,o,a){var s=v.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[i]||{}}),l=Pe(s,2),c=l[0],g=l[1],u=v.useRef(0),d=v.useMemo(function(){return e?fv(e):[]},[e]),C=v.useRef({}),f=function(){C.current={}};n||f();var b=fr(function(){if(e&&t&&n){let wr=function(Bn,ns){var _s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye,yg=J.x+Bn,C1=J.y+ns,Y0=yg+pe,Mt=C1+Ie,ln=Math.max(yg,_s.left),oi=Math.max(C1,_s.top),ci=Math.min(Y0,_s.right),ai=Math.min(Mt,_s.bottom);return Math.max(0,(ci-ln)*(ai-oi))},Ms=function(){de=J.y+it,We=de+Ie,Ve=J.x+ut,H=Ve+pe};var I1=wr,oc=Ms,y,B,x,w,S=e,Z=S.ownerDocument,M=o2(S),q=M.getComputedStyle(S),_=q.width,V=q.height,Y=q.position,X=S.style.left,K=S.style.top,Q=S.style.right,z=S.style.bottom,D=S.style.overflow,N=he(he({},r[i]),o),L=Z.createElement("div");(y=S.parentElement)===null||y===void 0||y.appendChild(L),L.style.left="".concat(S.offsetLeft,"px"),L.style.top="".concat(S.offsetTop,"px"),L.style.position=Y,L.style.height="".concat(S.offsetHeight,"px"),L.style.width="".concat(S.offsetWidth,"px"),S.style.left="0",S.style.top="0",S.style.right="auto",S.style.bottom="auto",S.style.overflow="hidden";var P;if(Array.isArray(t))P={x:t[0],y:t[1],width:0,height:0};else{var O,ie,ge=t.getBoundingClientRect();ge.x=(O=ge.x)!==null&&O!==void 0?O:ge.left,ge.y=(ie=ge.y)!==null&&ie!==void 0?ie:ge.top,P={x:ge.x,y:ge.y,width:ge.width,height:ge.height}}var J=S.getBoundingClientRect();J.x=(B=J.x)!==null&&B!==void 0?B:J.left,J.y=(x=J.y)!==null&&x!==void 0?x:J.top;var Ce=Z.documentElement,ve=Ce.clientWidth,Ae=Ce.clientHeight,Xe=Ce.scrollWidth,Le=Ce.scrollHeight,Ee=Ce.scrollTop,be=Ce.scrollLeft,Ie=J.height,pe=J.width,$=P.height,Ge=P.width,Ze={left:0,top:0,right:ve,bottom:Ae},Ye={left:-be,top:-Ee,right:Xe-be,bottom:Le-Ee},Ne=N.htmlRegion,Je="visible",Ke="visibleFirst";Ne!=="scroll"&&Ne!==Ke&&(Ne=Je);var U=Ne===Ke,T=NR(Ye,d),le=NR(Ze,d),ye=Ne===Je?le:T,Fe=U?le:ye;S.style.left="auto",S.style.top="auto",S.style.right="0",S.style.bottom="0";var we=S.getBoundingClientRect();S.style.left=X,S.style.top=K,S.style.right=Q,S.style.bottom=z,S.style.overflow=D,(w=S.parentElement)===null||w===void 0||w.removeChild(L);var tt=ph(Math.round(pe/parseFloat(_)*1e3)/1e3),je=ph(Math.round(Ie/parseFloat(V)*1e3)/1e3);if(tt===0||je===0||rh(t)&&!IB(t))return;var Qe=N.offset,Rt=N.targetOffset,ze=HR(J,Qe),st=Pe(ze,2),gt=st[0],ot=st[1],dt=HR(P,Rt),ue=Pe(dt,2),Me=ue[0],$e=ue[1];P.x-=Me,P.y-=$e;var ce=N.points||[],Se=Pe(ce,2),_e=Se[0],Te=Se[1],It=ER(Te),at=ER(_e),_t=ed(P,It),Ft=ed(J,at),Bt=he({},N),ut=_t.x-Ft.x+gt,it=_t.y-Ft.y+ot,an=wr(ut,it),Nn=wr(ut,it,le),xt=ed(P,["t","l"]),bt=ed(J,["t","l"]),Wt=ed(P,["b","r"]),Vt=ed(J,["b","r"]),Dt=N.overflow||{},qt=Dt.adjustX,Dn=Dt.adjustY,Rn=Dt.shiftX,E=Dt.shiftY,j=function(ns){return typeof ns=="boolean"?ns:ns>=0},de,We,Ve,H;Ms();var ee=j(Dn),te=at[0]===It[0];if(ee&&at[0]==="t"&&(We>Fe.bottom||C.current.bt)){var re=it;te?re-=Ie-$:re=xt.y-Vt.y-ot;var ne=wr(ut,re),Be=wr(ut,re,le);ne>an||ne===an&&(!U||Be>=Nn)?(C.current.bt=!0,it=re,ot=-ot,Bt.points=[xc(at,0),xc(It,0)]):C.current.bt=!1}if(ee&&at[0]==="b"&&(de<Fe.top||C.current.tb)){var Re=it;te?Re+=Ie-$:Re=Wt.y-bt.y-ot;var Ct=wr(ut,Re),Ue=wr(ut,Re,le);Ct>an||Ct===an&&(!U||Ue>=Nn)?(C.current.tb=!0,it=Re,ot=-ot,Bt.points=[xc(at,0),xc(It,0)]):C.current.tb=!1}var lt=j(qt),pt=at[1]===It[1];if(lt&&at[1]==="l"&&(H>Fe.right||C.current.rl)){var rt=ut;pt?rt-=pe-Ge:rt=xt.x-Vt.x-gt;var Ht=wr(rt,it),Et=wr(rt,it,le);Ht>an||Ht===an&&(!U||Et>=Nn)?(C.current.rl=!0,ut=rt,gt=-gt,Bt.points=[xc(at,1),xc(It,1)]):C.current.rl=!1}if(lt&&at[1]==="r"&&(Ve<Fe.left||C.current.lr)){var St=ut;pt?St+=pe-Ge:St=Wt.x-bt.x-gt;var Ut=wr(St,it),Xt=wr(St,it,le);Ut>an||Ut===an&&(!U||Xt>=Nn)?(C.current.lr=!0,ut=St,gt=-gt,Bt.points=[xc(at,1),xc(It,1)]):C.current.lr=!1}Ms();var ft=Rn===!0?0:Rn;typeof ft=="number"&&(Ve<le.left&&(ut-=Ve-le.left-gt,P.x+Ge<le.left+ft&&(ut+=P.x-le.left+Ge-ft)),H>le.right&&(ut-=H-le.right-gt,P.x>le.right-ft&&(ut+=P.x-le.right+ft)));var Ot=E===!0?0:E;typeof Ot=="number"&&(de<le.top&&(it-=de-le.top-ot,P.y+$<le.top+Ot&&(it+=P.y-le.top+$-Ot)),We>le.bottom&&(it-=We-le.bottom-ot,P.y>le.bottom-Ot&&(it+=P.y-le.bottom+Ot)));var Pt=J.x+ut,yn=Pt+pe,In=J.y+it,An=In+Ie,At=P.x,nt=At+Ge,Zt=P.y,kt=Zt+$,Yt=Math.max(Pt,At),un=Math.min(yn,nt),Cn=(Yt+un)/2,Pn=Cn-Pt,ir=Math.max(In,Zt),rr=Math.min(An,kt),bi=(ir+rr)/2,Gr=bi-In;a==null||a(e,Bt);var xo=we.right-J.x-(ut+J.width),Ba=we.bottom-J.y-(it+J.height);tt===1&&(ut=Math.round(ut),xo=Math.round(xo)),je===1&&(it=Math.round(it),Ba=Math.round(Ba));var vg={ready:!0,offsetX:ut/tt,offsetY:it/je,offsetR:xo/tt,offsetB:Ba/je,arrowX:Pn/tt,arrowY:Gr/je,scaleX:tt,scaleY:je,align:Bt};g(vg)}}),A=function(){u.current+=1;var B=u.current;Promise.resolve().then(function(){u.current===B&&b()})},p=function(){g(function(B){return he(he({},B),{},{ready:!1})})};return ui(p,[i]),ui(function(){n||p()},[n]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,A]}function wue(n,e,t,i,r){ui(function(){if(n&&e&&t){let d=function(){i(),r()};var u=d,o=e,a=t,s=fv(o),l=fv(a),c=o2(a),g=new Set([c].concat(Nt(s),Nt(l)));return g.forEach(function(C){C.addEventListener("scroll",d,{passive:!0})}),c.addEventListener("resize",d,{passive:!0}),i(),function(){g.forEach(function(C){C.removeEventListener("scroll",d),c.removeEventListener("resize",d)})}}},[n,e,t])}function Sue(n,e,t,i,r,o,a,s){var l=v.useRef(n);l.current=n;var c=v.useRef(!1);v.useEffect(function(){if(e&&i&&(!r||o)){var u=function(){c.current=!1},d=function(A){var p;l.current&&!a(((p=A.composedPath)===null||p===void 0||(p=p.call(A))===null||p===void 0?void 0:p[0])||A.target)&&!c.current&&s(!1)},C=o2(i);C.addEventListener("pointerdown",u,!0),C.addEventListener("mousedown",d,!0),C.addEventListener("contextmenu",d,!0);var f=R3(t);return f&&(f.addEventListener("mousedown",d,!0),f.addEventListener("contextmenu",d,!0)),function(){C.removeEventListener("pointerdown",u,!0),C.removeEventListener("mousedown",d,!0),C.removeEventListener("contextmenu",d,!0),f&&(f.removeEventListener("mousedown",d,!0),f.removeEventListener("contextmenu",d,!0))}}},[e,t,i,r,o]);function g(){c.current=!0}return g}var Zue=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function que(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d5,e=v.forwardRef(function(t,i){var r=t.prefixCls,o=r===void 0?"rc-trigger-popup":r,a=t.children,s=t.action,l=s===void 0?"hover":s,c=t.showAction,g=t.hideAction,u=t.popupVisible,d=t.defaultPopupVisible,C=t.onPopupVisibleChange,f=t.afterPopupVisibleChange,b=t.mouseEnterDelay,A=t.mouseLeaveDelay,p=A===void 0?.1:A,y=t.focusDelay,B=t.blurDelay,x=t.mask,w=t.maskClosable,S=w===void 0?!0:w,Z=t.getPopupContainer,M=t.forceRender,q=t.autoDestroy,_=t.destroyPopupOnHide,V=t.popup,Y=t.popupClassName,X=t.popupStyle,K=t.popupPlacement,Q=t.builtinPlacements,z=Q===void 0?{}:Q,D=t.popupAlign,N=t.zIndex,L=t.stretch,P=t.getPopupClassNameFromAlign,O=t.fresh,ie=t.alignPoint,ge=t.onPopupClick,J=t.onPopupAlign,Ce=t.arrow,ve=t.popupMotion,Ae=t.maskMotion,Xe=t.popupTransitionName,Le=t.popupAnimation,Ee=t.maskTransitionName,be=t.maskAnimation,Ie=t.className,pe=t.getTriggerDOMNode,$=_n(t,Zue),Ge=q||_||!1,Ze=v.useState(!1),Ye=Pe(Ze,2),Ne=Ye[0],Je=Ye[1];ui(function(){Je(ZX())},[]);var Ke=v.useRef({}),U=v.useContext(_R),T=v.useMemo(function(){return{registerSubPopup:function(ln,oi){Ke.current[ln]=oi,U==null||U.registerSubPopup(ln,oi)}}},[U]),le=eX(),ye=v.useState(null),Fe=Pe(ye,2),we=Fe[0],tt=Fe[1],je=v.useRef(null),Qe=fr(function(Mt){je.current=Mt,rh(Mt)&&we!==Mt&&tt(Mt),U==null||U.registerSubPopup(le,Mt)}),Rt=v.useState(null),ze=Pe(Rt,2),st=ze[0],gt=ze[1],ot=v.useRef(null),dt=fr(function(Mt){rh(Mt)&&st!==Mt&&(gt(Mt),ot.current=Mt)}),ue=v.Children.only(a),Me=(ue==null?void 0:ue.props)||{},$e={},ce=fr(function(Mt){var ln,oi,ci=st;return(ci==null?void 0:ci.contains(Mt))||((ln=R3(ci))===null||ln===void 0?void 0:ln.host)===Mt||Mt===ci||(we==null?void 0:we.contains(Mt))||((oi=R3(we))===null||oi===void 0?void 0:oi.host)===Mt||Mt===we||Object.values(Ke.current).some(function(ai){return(ai==null?void 0:ai.contains(Mt))||Mt===ai})}),Se=VR(o,ve,Le,Xe),_e=VR(o,Ae,be,Ee),Te=v.useState(d||!1),It=Pe(Te,2),at=It[0],_t=It[1],Ft=u??at,Bt=fr(function(Mt){u===void 0&&_t(Mt)});ui(function(){_t(u||!1)},[u]);var ut=v.useRef(Ft);ut.current=Ft;var it=v.useRef([]);it.current=[];var an=fr(function(Mt){var ln;Bt(Mt),((ln=it.current[it.current.length-1])!==null&&ln!==void 0?ln:Ft)!==Mt&&(it.current.push(Mt),C==null||C(Mt))}),Nn=v.useRef(),xt=function(){clearTimeout(Nn.current)},bt=function(ln){var oi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;xt(),oi===0?an(ln):Nn.current=setTimeout(function(){an(ln)},oi*1e3)};v.useEffect(function(){return xt},[]);var Wt=v.useState(!1),Vt=Pe(Wt,2),Dt=Vt[0],qt=Vt[1];ui(function(Mt){(!Mt||Ft)&&qt(!0)},[Ft]);var Dn=v.useState(null),Rn=Pe(Dn,2),E=Rn[0],j=Rn[1],de=v.useState(null),We=Pe(de,2),Ve=We[0],H=We[1],ee=function(ln){H([ln.clientX,ln.clientY])},te=Gue(Ft,we,ie&&Ve!==null?Ve:st,K,z,D,J),re=Pe(te,11),ne=re[0],Be=re[1],Re=re[2],Ct=re[3],Ue=re[4],lt=re[5],pt=re[6],rt=re[7],Ht=re[8],Et=re[9],St=re[10],Ut=yue(Ne,l,c,g),Xt=Pe(Ut,2),ft=Xt[0],Ot=Xt[1],Pt=ft.has("click"),yn=Ot.has("click")||Ot.has("contextMenu"),In=fr(function(){Dt||St()}),An=function(){ut.current&&ie&&yn&&bt(!1)};wue(Ft,st,we,In,An),ui(function(){In()},[Ve,K]),ui(function(){Ft&&!(z!=null&&z[K])&&In()},[JSON.stringify(D)]);var At=v.useMemo(function(){var Mt=xue(z,o,Et,ie);return ct(Mt,P==null?void 0:P(Et))},[Et,P,z,o,ie]);v.useImperativeHandle(i,function(){return{nativeElement:ot.current,popupElement:je.current,forceAlign:In}});var nt=v.useState(0),Zt=Pe(nt,2),kt=Zt[0],Yt=Zt[1],un=v.useState(0),Cn=Pe(un,2),Pn=Cn[0],ir=Cn[1],rr=function(){if(L&&st){var ln=st.getBoundingClientRect();Yt(ln.width),ir(ln.height)}},bi=function(){rr(),In()},Gr=function(ln){qt(!1),St(),f==null||f(ln)},xo=function(){return new Promise(function(ln){rr(),j(function(){return ln})})};ui(function(){E&&(St(),E(),j(null))},[E]);function Ba(Mt,ln,oi,ci){$e[Mt]=function(ai){var Il;ci==null||ci(ai),bt(ln,oi);for(var Go=arguments.length,l2=new Array(Go>1?Go-1:0),h1=1;h1<Go;h1++)l2[h1-1]=arguments[h1];(Il=Me[Mt])===null||Il===void 0||Il.call.apply(Il,[Me,ai].concat(l2))}}(Pt||yn)&&($e.onClick=function(Mt){var ln;ut.current&&yn?bt(!1):!ut.current&&Pt&&(ee(Mt),bt(!0));for(var oi=arguments.length,ci=new Array(oi>1?oi-1:0),ai=1;ai<oi;ai++)ci[ai-1]=arguments[ai];(ln=Me.onClick)===null||ln===void 0||ln.call.apply(ln,[Me,Mt].concat(ci))});var vg=Sue(Ft,yn,st,we,x,S,ce,bt),I1=ft.has("hover"),oc=Ot.has("hover"),wr,Ms;I1&&(Ba("onMouseEnter",!0,b,function(Mt){ee(Mt)}),Ba("onPointerEnter",!0,b,function(Mt){ee(Mt)}),wr=function(ln){(Ft||Dt)&&we!==null&&we!==void 0&&we.contains(ln.target)&&bt(!0,b)},ie&&($e.onMouseMove=function(Mt){var ln;(ln=Me.onMouseMove)===null||ln===void 0||ln.call(Me,Mt)})),oc&&(Ba("onMouseLeave",!1,p),Ba("onPointerLeave",!1,p),Ms=function(){bt(!1,p)}),ft.has("focus")&&Ba("onFocus",!0,y),Ot.has("focus")&&Ba("onBlur",!1,B),ft.has("contextMenu")&&($e.onContextMenu=function(Mt){var ln;ut.current&&Ot.has("contextMenu")?bt(!1):(ee(Mt),bt(!0)),Mt.preventDefault();for(var oi=arguments.length,ci=new Array(oi>1?oi-1:0),ai=1;ai<oi;ai++)ci[ai-1]=arguments[ai];(ln=Me.onContextMenu)===null||ln===void 0||ln.call.apply(ln,[Me,Mt].concat(ci))}),Ie&&($e.className=ct(Me.className,Ie));var Bn=he(he({},Me),$e),ns={},_s=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];_s.forEach(function(Mt){$[Mt]&&(ns[Mt]=function(){for(var ln,oi=arguments.length,ci=new Array(oi),ai=0;ai<oi;ai++)ci[ai]=arguments[ai];(ln=Bn[Mt])===null||ln===void 0||ln.call.apply(ln,[Bn].concat(ci)),$[Mt].apply($,ci)})});var yg=v.cloneElement(ue,he(he({},Bn),ns)),C1={x:lt,y:pt},Y0=Ce?he({},Ce!==!0?Ce:{}):null;return v.createElement(v.Fragment,null,v.createElement(c1,{disabled:!Ft,ref:dt,onResize:bi},v.createElement(vue,{getTriggerDOMNode:pe},yg)),v.createElement(_R.Provider,{value:T},v.createElement(bue,{portal:n,ref:Qe,prefixCls:o,popup:V,className:ct(Y,At),style:X,target:st,onMouseEnter:wr,onMouseLeave:Ms,onPointerEnter:wr,zIndex:N,open:Ft,keepDom:Dt,fresh:O,onClick:ge,onPointerDownCapture:vg,mask:x,motion:Se,maskMotion:_e,onVisibleChanged:Gr,onPrepare:xo,forceRender:M,autoDestroy:Ge,getPopupContainer:Z,align:Et,arrow:Y0,arrowPos:C1,ready:ne,offsetX:Be,offsetY:Re,offsetR:Ct,offsetB:Ue,onAlign:In,stretch:L,targetWidth:kt/rt,targetHeight:Pn/Ht})))});return e}const BB=que(d5);var Rue=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Mue=function(e){var t=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}},_ue=function(e,t){var i=e.prefixCls;e.disabled;var r=e.visible,o=e.children,a=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,g=e.dropdownClassName,u=e.direction,d=u===void 0?"ltr":u,C=e.placement,f=e.builtinPlacements,b=e.dropdownMatchSelectWidth,A=e.dropdownRender,p=e.dropdownAlign,y=e.getPopupContainer,B=e.empty,x=e.getTriggerDOMNode,w=e.onPopupVisibleChange,S=e.onPopupMouseEnter,Z=_n(e,Rue),M="".concat(i,"-dropdown"),q=a;A&&(q=A(a));var _=v.useMemo(function(){return f||Mue(b)},[f,b]),V=s?"".concat(M,"-").concat(s):l,Y=typeof b=="number",X=v.useMemo(function(){return Y?null:b===!1?"minWidth":"width"},[b,Y]),K=c;Y&&(K=he(he({},K),{},{width:b}));var Q=v.useRef(null);return v.useImperativeHandle(t,function(){return{getPopupElement:function(){var D;return(D=Q.current)===null||D===void 0?void 0:D.popupElement}}}),v.createElement(BB,Lt({},Z,{showAction:w?["click"]:[],hideAction:w?["click"]:[],popupPlacement:C||(d==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:_,prefixCls:M,popupTransitionName:V,popup:v.createElement("div",{onMouseEnter:S},q),ref:Q,stretch:X,popupAlign:p,popupVisible:r,getPopupContainer:y,popupClassName:ct(g,me({},"".concat(M,"-empty"),B)),popupStyle:K,getTriggerDOMNode:x,onPopupVisibleChange:w}),o)},Wue=v.forwardRef(_ue);function XR(n,e){var t=n.key,i;return"value"in n&&(i=n.value),t??(i!==void 0?i:"rc-index-key-".concat(e))}function pv(n){return typeof n<"u"&&!Number.isNaN(n)}function HX(n,e){var t=n||{},i=t.label,r=t.value,o=t.options,a=t.groupLabel,s=i||(e?"children":"label");return{label:s,value:r||"value",options:o||"options",groupLabel:a||s}}function Vue(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.fieldNames,i=e.childrenAsData,r=[],o=HX(t,!1),a=o.label,s=o.value,l=o.options,c=o.groupLabel;function g(u,d){Array.isArray(u)&&u.forEach(function(C){if(d||!(l in C)){var f=C[s];r.push({key:XR(C,r.length),groupOption:d,data:C,label:C[a],value:f})}else{var b=C[c];b===void 0&&i&&(b=C.label),r.push({key:XR(C,r.length),group:!0,data:C,label:b}),g(C[l],!0)}})}return g(n,!1),r}function Av(n){var e=he({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return _r(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var Nue=function(e,t,i){if(!t||!t.length)return null;var r=!1,o=function s(l,c){var g=kH(c),u=g[0],d=g.slice(1);if(!u)return[l];var C=l.split(u);return r=r||C.length>1,C.reduce(function(f,b){return[].concat(Nt(f),Nt(s(b,d)))},[]).filter(Boolean)},a=o(e,t);return r?typeof i<"u"?a.slice(0,i):a:null},xB=v.createContext(null);function Fue(n){var e=n.visible,t=n.values;if(!e)return null;var i=50;return v.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(t.slice(0,i).map(function(r){var o=r.label,a=r.value;return["number","string"].includes(sn(o))?o:a}).join(", ")),t.length>i?", ...":null)}var Hue=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Eue=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],bv=function(e){return e==="tags"||e==="multiple"},Xue=v.forwardRef(function(n,e){var t,i=n.id,r=n.prefixCls,o=n.className,a=n.showSearch,s=n.tagRender,l=n.direction,c=n.omitDomProps,g=n.displayValues,u=n.onDisplayValuesChange,d=n.emptyOptions,C=n.notFoundContent,f=C===void 0?"Not Found":C,b=n.onClear,A=n.mode,p=n.disabled,y=n.loading,B=n.getInputElement,x=n.getRawInputElement,w=n.open,S=n.defaultOpen,Z=n.onDropdownVisibleChange,M=n.activeValue,q=n.onActiveValueChange,_=n.activeDescendantId,V=n.searchValue,Y=n.autoClearSearchValue,X=n.onSearch,K=n.onSearchSplit,Q=n.tokenSeparators,z=n.allowClear,D=n.prefix,N=n.suffixIcon,L=n.clearIcon,P=n.OptionList,O=n.animation,ie=n.transitionName,ge=n.dropdownStyle,J=n.dropdownClassName,Ce=n.dropdownMatchSelectWidth,ve=n.dropdownRender,Ae=n.dropdownAlign,Xe=n.placement,Le=n.builtinPlacements,Ee=n.getPopupContainer,be=n.showAction,Ie=be===void 0?[]:be,pe=n.onFocus,$=n.onBlur,Ge=n.onKeyUp,Ze=n.onKeyDown,Ye=n.onMouseDown,Ne=_n(n,Hue),Je=bv(A),Ke=(a!==void 0?a:Je)||A==="combobox",U=he({},Ne);Eue.forEach(function(At){delete U[At]}),c==null||c.forEach(function(At){delete U[At]});var T=v.useState(!1),le=Pe(T,2),ye=le[0],Fe=le[1];v.useEffect(function(){Fe(ZX())},[]);var we=v.useRef(null),tt=v.useRef(null),je=v.useRef(null),Qe=v.useRef(null),Rt=v.useRef(null),ze=v.useRef(!1),st=Pge(),gt=Pe(st,3),ot=gt[0],dt=gt[1],ue=gt[2];v.useImperativeHandle(e,function(){var At,nt;return{focus:(At=Qe.current)===null||At===void 0?void 0:At.focus,blur:(nt=Qe.current)===null||nt===void 0?void 0:nt.blur,scrollTo:function(kt){var Yt;return(Yt=Rt.current)===null||Yt===void 0?void 0:Yt.scrollTo(kt)},nativeElement:we.current||tt.current}});var Me=v.useMemo(function(){var At;if(A!=="combobox")return V;var nt=(At=g[0])===null||At===void 0?void 0:At.value;return typeof nt=="string"||typeof nt=="number"?String(nt):""},[V,A,g]),$e=A==="combobox"&&typeof B=="function"&&B()||null,ce=typeof x=="function"&&x(),Se=l1(tt,ce==null||(t=ce.props)===null||t===void 0?void 0:t.ref),_e=v.useState(!1),Te=Pe(_e,2),It=Te[0],at=Te[1];ui(function(){at(!0)},[]);var _t=Pl(!1,{defaultValue:S,value:w}),Ft=Pe(_t,2),Bt=Ft[0],ut=Ft[1],it=It?Bt:!1,an=!f&&d;(p||an&&it&&A==="combobox")&&(it=!1);var Nn=an?!1:it,xt=v.useCallback(function(At){var nt=At!==void 0?At:!it;p||(ut(nt),it!==nt&&(Z==null||Z(nt)))},[p,it,ut,Z]),bt=v.useMemo(function(){return(Q||[]).some(function(At){return[`
`,`\r
`].includes(At)})},[Q]),Wt=v.useContext(xB)||{},Vt=Wt.maxCount,Dt=Wt.rawValues,qt=function(nt,Zt,kt){if(!(Je&&pv(Vt)&&(Dt==null?void 0:Dt.size)>=Vt)){var Yt=!0,un=nt;q==null||q(null);var Cn=Nue(nt,Q,pv(Vt)?Vt-Dt.size:void 0),Pn=kt?null:Cn;return A!=="combobox"&&Pn&&(un="",K==null||K(Pn),xt(!1),Yt=!1),X&&Me!==un&&X(un,{source:Zt?"typing":"effect"}),Yt}},Dn=function(nt){!nt||!nt.trim()||X(nt,{source:"submit"})};v.useEffect(function(){!it&&!Je&&A!=="combobox"&&qt("",!1,!1)},[it]),v.useEffect(function(){Bt&&p&&ut(!1),p&&!ze.current&&dt(!1)},[p]);var Rn=RX(),E=Pe(Rn,2),j=E[0],de=E[1],We=v.useRef(!1),Ve=function(nt){var Zt=j(),kt=nt.key,Yt=kt==="Enter";if(Yt&&(A!=="combobox"&&nt.preventDefault(),it||xt(!0)),de(!!Me),kt==="Backspace"&&!Zt&&Je&&!Me&&g.length){for(var un=Nt(g),Cn=null,Pn=un.length-1;Pn>=0;Pn-=1){var ir=un[Pn];if(!ir.disabled){un.splice(Pn,1),Cn=ir;break}}Cn&&u(un,{type:"remove",values:[Cn]})}for(var rr=arguments.length,bi=new Array(rr>1?rr-1:0),Gr=1;Gr<rr;Gr++)bi[Gr-1]=arguments[Gr];if(it&&(!Yt||!We.current)){var xo;(xo=Rt.current)===null||xo===void 0||xo.onKeyDown.apply(xo,[nt].concat(bi))}Yt&&(We.current=!0),Ze==null||Ze.apply(void 0,[nt].concat(bi))},H=function(nt){for(var Zt=arguments.length,kt=new Array(Zt>1?Zt-1:0),Yt=1;Yt<Zt;Yt++)kt[Yt-1]=arguments[Yt];if(it){var un;(un=Rt.current)===null||un===void 0||un.onKeyUp.apply(un,[nt].concat(kt))}nt.key==="Enter"&&(We.current=!1),Ge==null||Ge.apply(void 0,[nt].concat(kt))},ee=function(nt){var Zt=g.filter(function(kt){return kt!==nt});u(Zt,{type:"remove",values:[nt]})},te=v.useRef(!1),re=function(){dt(!0),p||(pe&&!te.current&&pe.apply(void 0,arguments),Ie.includes("focus")&&xt(!0)),te.current=!0},ne=function(){ze.current=!0,dt(!1,function(){te.current=!1,ze.current=!1,xt(!1)}),!p&&(Me&&(A==="tags"?X(Me,{source:"submit"}):A==="multiple"&&X("",{source:"blur"})),$&&$.apply(void 0,arguments))},Be=[];v.useEffect(function(){return function(){Be.forEach(function(At){return clearTimeout(At)}),Be.splice(0,Be.length)}},[]);var Re=function(nt){var Zt,kt=nt.target,Yt=(Zt=je.current)===null||Zt===void 0?void 0:Zt.getPopupElement();if(Yt&&Yt.contains(kt)){var un=setTimeout(function(){var rr=Be.indexOf(un);if(rr!==-1&&Be.splice(rr,1),ue(),!ye&&!Yt.contains(document.activeElement)){var bi;(bi=Qe.current)===null||bi===void 0||bi.focus()}});Be.push(un)}for(var Cn=arguments.length,Pn=new Array(Cn>1?Cn-1:0),ir=1;ir<Cn;ir++)Pn[ir-1]=arguments[ir];Ye==null||Ye.apply(void 0,[nt].concat(Pn))},Ct=v.useState({}),Ue=Pe(Ct,2),lt=Ue[1];function pt(){lt({})}var rt;ce&&(rt=function(nt){xt(nt)}),Dge(function(){var At;return[we.current,(At=je.current)===null||At===void 0?void 0:At.getPopupElement()]},Nn,xt,!!ce);var Ht=v.useMemo(function(){return he(he({},n),{},{notFoundContent:f,open:it,triggerOpen:Nn,id:i,showSearch:Ke,multiple:Je,toggleOpen:xt})},[n,f,Nn,it,i,Ke,Je,xt]),Et=!!N||y,St;Et&&(St=v.createElement(h5,{className:ct("".concat(r,"-arrow"),me({},"".concat(r,"-arrow-loading"),y)),customizeIcon:N,customizeIconProps:{loading:y,searchValue:Me,open:it,focused:ot,showSearch:Ke}}));var Ut=function(){var nt;b==null||b(),(nt=Qe.current)===null||nt===void 0||nt.focus(),u([],{type:"clear",values:g}),qt("",!1,!1)},Xt=Tge(r,Ut,g,z,L,p,Me,A),ft=Xt.allowClear,Ot=Xt.clearIcon,Pt=v.createElement(P,{ref:Rt}),yn=ct(r,o,me(me(me(me(me(me(me(me(me(me({},"".concat(r,"-focused"),ot),"".concat(r,"-multiple"),Je),"".concat(r,"-single"),!Je),"".concat(r,"-allow-clear"),z),"".concat(r,"-show-arrow"),Et),"".concat(r,"-disabled"),p),"".concat(r,"-loading"),y),"".concat(r,"-open"),it),"".concat(r,"-customize-input"),$e),"".concat(r,"-show-search"),Ke)),In=v.createElement(Wue,{ref:je,disabled:p,prefixCls:r,visible:Nn,popupElement:Pt,animation:O,transitionName:ie,dropdownStyle:ge,dropdownClassName:J,direction:l,dropdownMatchSelectWidth:Ce,dropdownRender:ve,dropdownAlign:Ae,placement:Xe,builtinPlacements:Le,getPopupContainer:Ee,empty:d,getTriggerDOMNode:function(nt){return tt.current||nt},onPopupVisibleChange:rt,onPopupMouseEnter:pt},ce?v.cloneElement(ce,{ref:Se}):v.createElement(mue,Lt({},n,{domRef:tt,prefixCls:r,inputElement:$e,ref:Qe,id:i,prefix:D,showSearch:Ke,autoClearSearchValue:Y,mode:A,activeDescendantId:_,tagRender:s,values:g,open:it,onToggleOpen:xt,activeValue:M,searchValue:Me,onSearch:qt,onSearchSubmit:Dn,onRemove:ee,tokenWithEnter:bt}))),An;return ce?An=In:An=v.createElement("div",Lt({className:yn},U,{ref:we,onMouseDown:Re,onKeyDown:Ve,onKeyUp:H,onFocus:re,onBlur:ne}),v.createElement(Fue,{visible:ot&&!it,values:g}),In,St,ft&&Ot),v.createElement(qX.Provider,{value:Ht},An)}),GB=function(){return null};GB.isSelectOptGroup=!0;var wB=function(){return null};wB.isSelectOption=!0;var EX=v.forwardRef(function(n,e){var t=n.height,i=n.offsetY,r=n.offsetX,o=n.children,a=n.prefixCls,s=n.onInnerResize,l=n.innerProps,c=n.rtl,g=n.extra,u={},d={display:"flex",flexDirection:"column"};return i!==void 0&&(u={height:t,position:"relative",overflow:"hidden"},d=he(he({},d),{},me(me(me(me(me({transform:"translateY(".concat(i,"px)")},c?"marginRight":"marginLeft",-r),"position","absolute"),"left",0),"right",0),"top",0))),v.createElement("div",{style:u},v.createElement(c1,{onResize:function(f){var b=f.offsetHeight;b&&s&&s()}},v.createElement("div",Lt({style:d,className:ct(me({},"".concat(a,"-holder-inner"),a)),ref:e},l),o,g)))});EX.displayName="Filler";function zue(n){var e=n.children,t=n.setRef,i=v.useCallback(function(r){t(r)},[]);return v.cloneElement(e,{ref:i})}function Yue(n,e,t,i,r,o,a,s){var l=s.getKey;return n.slice(e,t+1).map(function(c,g){var u=e+g,d=a(c,u,{style:{width:i},offsetX:r}),C=l(c);return v.createElement(zue,{key:C,setRef:function(b){return o(c,b)}},d)})}function Kue(n,e,t){var i=n.length,r=e.length,o,a;if(i===0&&r===0)return null;i<r?(o=n,a=e):(o=e,a=n);var s={__EMPTY_ITEM__:!0};function l(f){return f!==void 0?t(f):s}for(var c=null,g=Math.abs(i-r)!==1,u=0;u<a.length;u+=1){var d=l(o[u]),C=l(a[u]);if(d!==C){c=u,g=g||d!==l(a[u+1]);break}}return c===null?null:{index:c,multiple:g}}function Lue(n,e,t){var i=v.useState(n),r=Pe(i,2),o=r[0],a=r[1],s=v.useState(null),l=Pe(s,2),c=l[0],g=l[1];return v.useEffect(function(){var u=Kue(o||[],n||[],e);(u==null?void 0:u.index)!==void 0&&g(n[u.index]),a(n)},[n]),[c]}var zR=(typeof navigator>"u"?"undefined":sn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const XX=function(n,e,t,i){var r=v.useRef(!1),o=v.useRef(null);function a(){clearTimeout(o.current),r.current=!0,o.current=setTimeout(function(){r.current=!1},50)}var s=v.useRef({top:n,bottom:e,left:t,right:i});return s.current.top=n,s.current.bottom=e,s.current.left=t,s.current.right=i,function(l,c){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=l?c<0&&s.current.left||c>0&&s.current.right:c<0&&s.current.top||c>0&&s.current.bottom;return g&&u?(clearTimeout(o.current),r.current=!1):(!u||r.current)&&a(),!r.current&&u}};function Tue(n,e,t,i,r,o,a){var s=v.useRef(0),l=v.useRef(null),c=v.useRef(null),g=v.useRef(!1),u=XX(e,t,i,r);function d(y,B){if(Si.cancel(l.current),!u(!1,B)){var x=y;if(!x._virtualHandled)x._virtualHandled=!0;else return;s.current+=B,c.current=B,zR||x.preventDefault(),l.current=Si(function(){var w=g.current?10:1;a(s.current*w,!1),s.current=0})}}function C(y,B){a(B,!0),zR||y.preventDefault()}var f=v.useRef(null),b=v.useRef(null);function A(y){if(n){Si.cancel(b.current),b.current=Si(function(){f.current=null},2);var B=y.deltaX,x=y.deltaY,w=y.shiftKey,S=B,Z=x;(f.current==="sx"||!f.current&&w&&x&&!B)&&(S=x,Z=0,f.current="sx");var M=Math.abs(S),q=Math.abs(Z);f.current===null&&(f.current=o&&M>q?"x":"y"),f.current==="y"?d(y,Z):C(y,S)}}function p(y){n&&(g.current=y.detail===c.current)}return[A,p]}function kue(n,e,t,i){var r=v.useMemo(function(){return[new Map,[]]},[n,t.id,i]),o=Pe(r,2),a=o[0],s=o[1],l=function(g){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g,d=a.get(g),C=a.get(u);if(d===void 0||C===void 0)for(var f=n.length,b=s.length;b<f;b+=1){var A,p=n[b],y=e(p);a.set(y,b);var B=(A=t.get(y))!==null&&A!==void 0?A:i;if(s[b]=(s[b-1]||0)+B,y===g&&(d=b),y===u&&(C=b),d!==void 0&&C!==void 0)break}return{top:s[d-1]||0,bottom:s[C]}};return l}var Pue=function(){function n(){tr(this,n),me(this,"maps",void 0),me(this,"id",0),this.maps=Object.create(null)}return nr(n,[{key:"set",value:function(t,i){this.maps[t]=i,this.id+=1}},{key:"get",value:function(t){return this.maps[t]}}]),n}();function YR(n){var e=parseFloat(n);return isNaN(e)?0:e}function Due(n,e,t){var i=v.useState(0),r=Pe(i,2),o=r[0],a=r[1],s=v.useRef(new Map),l=v.useRef(new Pue),c=v.useRef();function g(){Si.cancel(c.current)}function u(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;g();var f=function(){s.current.forEach(function(A,p){if(A&&A.offsetParent){var y=bC(A),B=y.offsetHeight,x=getComputedStyle(y),w=x.marginTop,S=x.marginBottom,Z=YR(w),M=YR(S),q=B+Z+M;l.current.get(p)!==q&&l.current.set(p,q)}}),a(function(A){return A+1})};C?f():c.current=Si(f)}function d(C,f){var b=n(C);s.current.get(b),f?(s.current.set(b,f),u()):s.current.delete(b)}return v.useEffect(function(){return g},[]),[d,u,l.current,o]}var KR=14/15;function Uue(n,e,t){var i=v.useRef(!1),r=v.useRef(0),o=v.useRef(0),a=v.useRef(null),s=v.useRef(null),l,c=function(C){if(i.current){var f=Math.ceil(C.touches[0].pageX),b=Math.ceil(C.touches[0].pageY),A=r.current-f,p=o.current-b,y=Math.abs(A)>Math.abs(p);y?r.current=f:o.current=b;var B=t(y,y?A:p,!1,C);B&&C.preventDefault(),clearInterval(s.current),B&&(s.current=setInterval(function(){y?A*=KR:p*=KR;var x=Math.floor(y?A:p);(!t(y,x,!0)||Math.abs(x)<=.1)&&clearInterval(s.current)},16))}},g=function(){i.current=!1,l()},u=function(C){l(),C.touches.length===1&&!i.current&&(i.current=!0,r.current=Math.ceil(C.touches[0].pageX),o.current=Math.ceil(C.touches[0].pageY),a.current=C.target,a.current.addEventListener("touchmove",c,{passive:!1}),a.current.addEventListener("touchend",g,{passive:!0}))};l=function(){a.current&&(a.current.removeEventListener("touchmove",c),a.current.removeEventListener("touchend",g))},ui(function(){return n&&e.current.addEventListener("touchstart",u,{passive:!0}),function(){var d;(d=e.current)===null||d===void 0||d.removeEventListener("touchstart",u),l(),clearInterval(s.current)}},[n])}var Oue=10;function jue(n,e,t,i,r,o,a,s){var l=v.useRef(),c=v.useState(null),g=Pe(c,2),u=g[0],d=g[1];return ui(function(){if(u&&u.times<Oue){if(!n.current){d(function(L){return he({},L)});return}o();var C=u.targetAlign,f=u.originAlign,b=u.index,A=u.offset,p=n.current.clientHeight,y=!1,B=C,x=null;if(p){for(var w=C||f,S=0,Z=0,M=0,q=Math.min(e.length-1,b),_=0;_<=q;_+=1){var V=r(e[_]);Z=S;var Y=t.get(V);M=Z+(Y===void 0?i:Y),S=M}for(var X=w==="top"?A:p-A,K=q;K>=0;K-=1){var Q=r(e[K]),z=t.get(Q);if(z===void 0){y=!0;break}if(X-=z,X<=0)break}switch(w){case"top":x=Z-A;break;case"bottom":x=M-p+A;break;default:{var D=n.current.scrollTop,N=D+p;Z<D?B="top":M>N&&(B="bottom")}}x!==null&&a(x),x!==u.lastTop&&(y=!0)}y&&d(he(he({},u),{},{times:u.times+1,targetAlign:B,lastTop:x}))}},[u,n.current]),function(C){if(C==null){s();return}if(Si.cancel(l.current),typeof C=="number")a(C);else if(C&&sn(C)==="object"){var f,b=C.align;"index"in C?f=C.index:f=e.findIndex(function(y){return r(y)===C.key});var A=C.offset,p=A===void 0?0:A;d({times:0,index:f,offset:p,originAlign:b})}}}function LR(n,e){var t="touches"in n?n.touches[0]:n;return t[e?"pageX":"pageY"]}var TR=v.forwardRef(function(n,e){var t=n.prefixCls,i=n.rtl,r=n.scrollOffset,o=n.scrollRange,a=n.onStartMove,s=n.onStopMove,l=n.onScroll,c=n.horizontal,g=n.spinSize,u=n.containerSize,d=n.style,C=n.thumbStyle,f=v.useState(!1),b=Pe(f,2),A=b[0],p=b[1],y=v.useState(null),B=Pe(y,2),x=B[0],w=B[1],S=v.useState(null),Z=Pe(S,2),M=Z[0],q=Z[1],_=!i,V=v.useRef(),Y=v.useRef(),X=v.useState(!1),K=Pe(X,2),Q=K[0],z=K[1],D=v.useRef(),N=function(){clearTimeout(D.current),z(!0),D.current=setTimeout(function(){z(!1)},3e3)},L=o-u||0,P=u-g||0,O=v.useMemo(function(){if(r===0||L===0)return 0;var Ee=r/L;return Ee*P},[r,L,P]),ie=function(be){be.stopPropagation(),be.preventDefault()},ge=v.useRef({top:O,dragging:A,pageY:x,startTop:M});ge.current={top:O,dragging:A,pageY:x,startTop:M};var J=function(be){p(!0),w(LR(be,c)),q(ge.current.top),a(),be.stopPropagation(),be.preventDefault()};v.useEffect(function(){var Ee=function($){$.preventDefault()},be=V.current,Ie=Y.current;return be.addEventListener("touchstart",Ee,{passive:!1}),Ie.addEventListener("touchstart",J,{passive:!1}),function(){be.removeEventListener("touchstart",Ee),Ie.removeEventListener("touchstart",J)}},[]);var Ce=v.useRef();Ce.current=L;var ve=v.useRef();ve.current=P,v.useEffect(function(){if(A){var Ee,be=function($){var Ge=ge.current,Ze=Ge.dragging,Ye=Ge.pageY,Ne=Ge.startTop;Si.cancel(Ee);var Je=V.current.getBoundingClientRect(),Ke=u/(c?Je.width:Je.height);if(Ze){var U=(LR($,c)-Ye)*Ke,T=Ne;!_&&c?T-=U:T+=U;var le=Ce.current,ye=ve.current,Fe=ye?T/ye:0,we=Math.ceil(Fe*le);we=Math.max(we,0),we=Math.min(we,le),Ee=Si(function(){l(we,c)})}},Ie=function(){p(!1),s()};return window.addEventListener("mousemove",be,{passive:!0}),window.addEventListener("touchmove",be,{passive:!0}),window.addEventListener("mouseup",Ie,{passive:!0}),window.addEventListener("touchend",Ie,{passive:!0}),function(){window.removeEventListener("mousemove",be),window.removeEventListener("touchmove",be),window.removeEventListener("mouseup",Ie),window.removeEventListener("touchend",Ie),Si.cancel(Ee)}}},[A]),v.useEffect(function(){return N(),function(){clearTimeout(D.current)}},[r]),v.useImperativeHandle(e,function(){return{delayHidden:N}});var Ae="".concat(t,"-scrollbar"),Xe={position:"absolute",visibility:Q?null:"hidden"},Le={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(Xe.height=8,Xe.left=0,Xe.right=0,Xe.bottom=0,Le.height="100%",Le.width=g,_?Le.left=O:Le.right=O):(Xe.width=8,Xe.top=0,Xe.bottom=0,_?Xe.right=0:Xe.left=0,Le.width="100%",Le.height=g,Le.top=O),v.createElement("div",{ref:V,className:ct(Ae,me(me(me({},"".concat(Ae,"-horizontal"),c),"".concat(Ae,"-vertical"),!c),"".concat(Ae,"-visible"),Q)),style:he(he({},Xe),d),onMouseDown:ie,onMouseMove:N},v.createElement("div",{ref:Y,className:ct("".concat(Ae,"-thumb"),me({},"".concat(Ae,"-thumb-moving"),A)),style:he(he({},Le),C),onMouseDown:J}))}),Jue=20;function kR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=n/e*n;return isNaN(t)&&(t=0),t=Math.max(t,Jue),Math.floor(t)}var Que=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],$ue=[],e1e={overflowY:"auto",overflowAnchor:"none"};function t1e(n,e){var t=n.prefixCls,i=t===void 0?"rc-virtual-list":t,r=n.className,o=n.height,a=n.itemHeight,s=n.fullHeight,l=s===void 0?!0:s,c=n.style,g=n.data,u=n.children,d=n.itemKey,C=n.virtual,f=n.direction,b=n.scrollWidth,A=n.component,p=A===void 0?"div":A,y=n.onScroll,B=n.onVirtualScroll,x=n.onVisibleChange,w=n.innerProps,S=n.extraRender,Z=n.styles,M=_n(n,Que),q=v.useCallback(function(ee){return typeof d=="function"?d(ee):ee==null?void 0:ee[d]},[d]),_=Due(q),V=Pe(_,4),Y=V[0],X=V[1],K=V[2],Q=V[3],z=!!(C!==!1&&o&&a),D=v.useMemo(function(){return Object.values(K.maps).reduce(function(ee,te){return ee+te},0)},[K.id,K.maps]),N=z&&g&&(Math.max(a*g.length,D)>o||!!b),L=f==="rtl",P=ct(i,me({},"".concat(i,"-rtl"),L),r),O=g||$ue,ie=v.useRef(),ge=v.useRef(),J=v.useRef(),Ce=v.useState(0),ve=Pe(Ce,2),Ae=ve[0],Xe=ve[1],Le=v.useState(0),Ee=Pe(Le,2),be=Ee[0],Ie=Ee[1],pe=v.useState(!1),$=Pe(pe,2),Ge=$[0],Ze=$[1],Ye=function(){Ze(!0)},Ne=function(){Ze(!1)},Je={getKey:q};function Ke(ee){Xe(function(te){var re;typeof ee=="function"?re=ee(te):re=ee;var ne=Te(re);return ie.current.scrollTop=ne,ne})}var U=v.useRef({start:0,end:O.length}),T=v.useRef(),le=Lue(O,q),ye=Pe(le,1),Fe=ye[0];T.current=Fe;var we=v.useMemo(function(){if(!z)return{scrollHeight:void 0,start:0,end:O.length-1,offset:void 0};if(!N){var ee;return{scrollHeight:((ee=ge.current)===null||ee===void 0?void 0:ee.offsetHeight)||0,start:0,end:O.length-1,offset:void 0}}for(var te=0,re,ne,Be,Re=O.length,Ct=0;Ct<Re;Ct+=1){var Ue=O[Ct],lt=q(Ue),pt=K.get(lt),rt=te+(pt===void 0?a:pt);rt>=Ae&&re===void 0&&(re=Ct,ne=te),rt>Ae+o&&Be===void 0&&(Be=Ct),te=rt}return re===void 0&&(re=0,ne=0,Be=Math.ceil(o/a)),Be===void 0&&(Be=O.length-1),Be=Math.min(Be+1,O.length-1),{scrollHeight:te,start:re,end:Be,offset:ne}},[N,z,Ae,O,Q,o]),tt=we.scrollHeight,je=we.start,Qe=we.end,Rt=we.offset;U.current.start=je,U.current.end=Qe;var ze=v.useState({width:0,height:o}),st=Pe(ze,2),gt=st[0],ot=st[1],dt=function(te){ot({width:te.offsetWidth,height:te.offsetHeight})},ue=v.useRef(),Me=v.useRef(),$e=v.useMemo(function(){return kR(gt.width,b)},[gt.width,b]),ce=v.useMemo(function(){return kR(gt.height,tt)},[gt.height,tt]),Se=tt-o,_e=v.useRef(Se);_e.current=Se;function Te(ee){var te=ee;return Number.isNaN(_e.current)||(te=Math.min(te,_e.current)),te=Math.max(te,0),te}var It=Ae<=0,at=Ae>=Se,_t=be<=0,Ft=be>=b,Bt=XX(It,at,_t,Ft),ut=function(){return{x:L?-be:be,y:Ae}},it=v.useRef(ut()),an=fr(function(ee){if(B){var te=he(he({},ut()),ee);(it.current.x!==te.x||it.current.y!==te.y)&&(B(te),it.current=te)}});function Nn(ee,te){var re=ee;te?(rg.flushSync(function(){Ie(re)}),an()):Ke(re)}function xt(ee){var te=ee.currentTarget.scrollTop;te!==Ae&&Ke(te),y==null||y(ee),an()}var bt=function(te){var re=te,ne=b?b-gt.width:0;return re=Math.max(re,0),re=Math.min(re,ne),re},Wt=fr(function(ee,te){te?(rg.flushSync(function(){Ie(function(re){var ne=re+(L?-ee:ee);return bt(ne)})}),an()):Ke(function(re){var ne=re+ee;return ne})}),Vt=Tue(z,It,at,_t,Ft,!!b,Wt),Dt=Pe(Vt,2),qt=Dt[0],Dn=Dt[1];Uue(z,ie,function(ee,te,re,ne){var Be=ne;return Bt(ee,te,re)?!1:!Be||!Be._virtualHandled?(Be&&(Be._virtualHandled=!0),qt({preventDefault:function(){},deltaX:ee?te:0,deltaY:ee?0:te}),!0):!1}),ui(function(){function ee(re){var ne=It&&re.detail<0,Be=at&&re.detail>0;z&&!ne&&!Be&&re.preventDefault()}var te=ie.current;return te.addEventListener("wheel",qt,{passive:!1}),te.addEventListener("DOMMouseScroll",Dn,{passive:!0}),te.addEventListener("MozMousePixelScroll",ee,{passive:!1}),function(){te.removeEventListener("wheel",qt),te.removeEventListener("DOMMouseScroll",Dn),te.removeEventListener("MozMousePixelScroll",ee)}},[z,It,at]),ui(function(){if(b){var ee=bt(be);Ie(ee),an({x:ee})}},[gt.width,b]);var Rn=function(){var te,re;(te=ue.current)===null||te===void 0||te.delayHidden(),(re=Me.current)===null||re===void 0||re.delayHidden()},E=jue(ie,O,K,a,q,function(){return X(!0)},Ke,Rn);v.useImperativeHandle(e,function(){return{nativeElement:J.current,getScrollInfo:ut,scrollTo:function(te){function re(ne){return ne&&sn(ne)==="object"&&("left"in ne||"top"in ne)}re(te)?(te.left!==void 0&&Ie(bt(te.left)),E(te.top)):E(te)}}}),ui(function(){if(x){var ee=O.slice(je,Qe+1);x(ee,O)}},[je,Qe,O]);var j=kue(O,q,K,a),de=S==null?void 0:S({start:je,end:Qe,virtual:N,offsetX:be,offsetY:Rt,rtl:L,getSize:j}),We=Yue(O,je,Qe,b,be,Y,u,Je),Ve=null;o&&(Ve=he(me({},l?"height":"maxHeight",o),e1e),z&&(Ve.overflowY="hidden",b&&(Ve.overflowX="hidden"),Ge&&(Ve.pointerEvents="none")));var H={};return L&&(H.dir="rtl"),v.createElement("div",Lt({ref:J,style:he(he({},c),{},{position:"relative"}),className:P},H,M),v.createElement(c1,{onResize:dt},v.createElement(p,{className:"".concat(i,"-holder"),style:Ve,ref:ie,onScroll:xt,onMouseEnter:Rn},v.createElement(EX,{prefixCls:i,height:tt,offsetX:be,offsetY:Rt,scrollWidth:b,onInnerResize:X,ref:ge,innerProps:w,rtl:L,extra:de},We))),N&&tt>o&&v.createElement(TR,{ref:ue,prefixCls:i,scrollOffset:Ae,scrollRange:tt,rtl:L,onScroll:Nn,onStartMove:Ye,onStopMove:Ne,spinSize:ce,containerSize:gt.height,style:Z==null?void 0:Z.verticalScrollBar,thumbStyle:Z==null?void 0:Z.verticalScrollBarThumb}),N&&b>gt.width&&v.createElement(TR,{ref:Me,prefixCls:i,scrollOffset:be,scrollRange:b,rtl:L,onScroll:Nn,onStartMove:Ye,onStopMove:Ne,spinSize:$e,containerSize:gt.width,horizontal:!0,style:Z==null?void 0:Z.horizontalScrollBar,thumbStyle:Z==null?void 0:Z.horizontalScrollBarThumb}))}var zX=v.forwardRef(t1e);zX.displayName="List";function n1e(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var i1e=["disabled","title","children","style","className"];function PR(n){return typeof n=="string"||typeof n=="number"}var r1e=function(e,t){var i=kge(),r=i.prefixCls,o=i.id,a=i.open,s=i.multiple,l=i.mode,c=i.searchValue,g=i.toggleOpen,u=i.notFoundContent,d=i.onPopupScroll,C=v.useContext(xB),f=C.maxCount,b=C.flattenOptions,A=C.onActiveValue,p=C.defaultActiveFirstOption,y=C.onSelect,B=C.menuItemSelectedIcon,x=C.rawValues,w=C.fieldNames,S=C.virtual,Z=C.direction,M=C.listHeight,q=C.listItemHeight,_=C.optionRender,V="".concat(r,"-item"),Y=Jh(function(){return b},[a,b],function(be,Ie){return Ie[0]&&be[1]!==Ie[1]}),X=v.useRef(null),K=v.useMemo(function(){return s&&pv(f)&&(x==null?void 0:x.size)>=f},[s,f,x==null?void 0:x.size]),Q=function(Ie){Ie.preventDefault()},z=function(Ie){var pe;(pe=X.current)===null||pe===void 0||pe.scrollTo(typeof Ie=="number"?{index:Ie}:Ie)},D=function(Ie){for(var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=Y.length,Ge=0;Ge<$;Ge+=1){var Ze=(Ie+Ge*pe+$)%$,Ye=Y[Ze]||{},Ne=Ye.group,Je=Ye.data;if(!Ne&&!(Je!=null&&Je.disabled)&&!K)return Ze}return-1},N=v.useState(function(){return D(0)}),L=Pe(N,2),P=L[0],O=L[1],ie=function(Ie){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;O(Ie);var $={source:pe?"keyboard":"mouse"},Ge=Y[Ie];if(!Ge){A(null,-1,$);return}A(Ge.value,Ie,$)};v.useEffect(function(){ie(p!==!1?D(0):-1)},[Y.length,c]);var ge=v.useCallback(function(be){return l==="combobox"?!1:x.has(be)},[l,Nt(x).toString(),x.size]),J=v.useCallback(function(be){return l==="combobox"?String(be).toLowerCase()===c.toLowerCase():x.has(be)},[l,c,Nt(x).toString(),x.size]);v.useEffect(function(){var be=setTimeout(function(){if(!s&&a&&x.size===1){var pe=Array.from(x)[0],$=Y.findIndex(function(Ge){var Ze=Ge.data;return Ze.value===pe});$!==-1&&(ie($),z($))}});if(a){var Ie;(Ie=X.current)===null||Ie===void 0||Ie.scrollTo(void 0)}return function(){return clearTimeout(be)}},[a,c]);var Ce=function(Ie){Ie!==void 0&&y(Ie,{selected:!x.has(Ie)}),s||g(!1)};if(v.useImperativeHandle(t,function(){return{onKeyDown:function(Ie){var pe=Ie.which,$=Ie.ctrlKey;switch(pe){case ht.N:case ht.P:case ht.UP:case ht.DOWN:{var Ge=0;if(pe===ht.UP?Ge=-1:pe===ht.DOWN?Ge=1:n1e()&&$&&(pe===ht.N?Ge=1:pe===ht.P&&(Ge=-1)),Ge!==0){var Ze=D(P+Ge,Ge);z(Ze),ie(Ze,!0)}break}case ht.TAB:case ht.ENTER:{var Ye,Ne=Y[P];Ne&&!(Ne!=null&&(Ye=Ne.data)!==null&&Ye!==void 0&&Ye.disabled)&&!K?Ce(Ne.value):Ce(void 0),a&&Ie.preventDefault();break}case ht.ESC:g(!1),a&&Ie.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Ie){z(Ie)}}}),Y.length===0)return v.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(V,"-empty"),onMouseDown:Q},u);var ve=Object.keys(w).map(function(be){return w[be]}),Ae=function(Ie){return Ie.label};function Xe(be,Ie){var pe=be.group;return{role:pe?"presentation":"option",id:"".concat(o,"_list_").concat(Ie)}}var Le=function(Ie){var pe=Y[Ie];if(!pe)return null;var $=pe.data||{},Ge=$.value,Ze=pe.group,Ye=ul($,!0),Ne=Ae(pe);return pe?v.createElement("div",Lt({"aria-label":typeof Ne=="string"&&!Ze?Ne:null},Ye,{key:Ie},Xe(pe,Ie),{"aria-selected":J(Ge)}),Ge):null},Ee={role:"listbox",id:"".concat(o,"_list")};return v.createElement(v.Fragment,null,S&&v.createElement("div",Lt({},Ee,{style:{height:0,width:0,overflow:"hidden"}}),Le(P-1),Le(P),Le(P+1)),v.createElement(zX,{itemKey:"key",ref:X,data:Y,height:M,itemHeight:q,fullHeight:!1,onMouseDown:Q,onScroll:d,virtual:S,direction:Z,innerProps:S?null:Ee},function(be,Ie){var pe=be.group,$=be.groupOption,Ge=be.data,Ze=be.label,Ye=be.value,Ne=Ge.key;if(pe){var Je,Ke=(Je=Ge.title)!==null&&Je!==void 0?Je:PR(Ze)?Ze.toString():void 0;return v.createElement("div",{className:ct(V,"".concat(V,"-group"),Ge.className),title:Ke},Ze!==void 0?Ze:Ne)}var U=Ge.disabled,T=Ge.title;Ge.children;var le=Ge.style,ye=Ge.className,Fe=_n(Ge,i1e),we=$a(Fe,ve),tt=ge(Ye),je=U||!tt&&K,Qe="".concat(V,"-option"),Rt=ct(V,Qe,ye,me(me(me(me({},"".concat(Qe,"-grouped"),$),"".concat(Qe,"-active"),P===Ie&&!je),"".concat(Qe,"-disabled"),je),"".concat(Qe,"-selected"),tt)),ze=Ae(be),st=!B||typeof B=="function"||tt,gt=typeof ze=="number"?ze:ze||Ye,ot=PR(gt)?gt.toString():void 0;return T!==void 0&&(ot=T),v.createElement("div",Lt({},ul(we),S?{}:Xe(be,Ie),{"aria-selected":J(Ye),className:Rt,title:ot,onMouseMove:function(){P===Ie||je||ie(Ie)},onClick:function(){je||Ce(Ye)},style:le}),v.createElement("div",{className:"".concat(Qe,"-content")},typeof _=="function"?_(be,{index:Ie}):gt),v.isValidElement(B)||tt,st&&v.createElement(h5,{className:"".concat(V,"-option-state"),customizeIcon:B,customizeIconProps:{value:Ye,disabled:je,isSelected:tt}},tt?"✓":null))}))},o1e=v.forwardRef(r1e);const a1e=function(n,e){var t=v.useRef({values:new Map,options:new Map}),i=v.useMemo(function(){var o=t.current,a=o.values,s=o.options,l=n.map(function(u){if(u.label===void 0){var d;return he(he({},u),{},{label:(d=a.get(u.value))===null||d===void 0?void 0:d.label})}return u}),c=new Map,g=new Map;return l.forEach(function(u){c.set(u.value,u),g.set(u.value,e.get(u.value)||s.get(u.value))}),t.current.values=c,t.current.options=g,l},[n,e]),r=v.useCallback(function(o){return e.get(o)||t.current.options.get(o)},[e]);return[i,r]};function Sb(n,e){return NX(n).join("").toUpperCase().includes(e)}const s1e=function(n,e,t,i,r){return v.useMemo(function(){if(!t||i===!1)return n;var o=e.options,a=e.label,s=e.value,l=[],c=typeof i=="function",g=t.toUpperCase(),u=c?i:function(C,f){return r?Sb(f[r],g):f[o]?Sb(f[a!=="children"?a:"label"],g):Sb(f[s],g)},d=c?function(C){return Av(C)}:function(C){return C};return n.forEach(function(C){if(C[o]){var f=u(t,d(C));if(f)l.push(C);else{var b=C[o].filter(function(A){return u(t,d(A))});b.length&&l.push(he(he({},C),{},me({},o,b)))}return}u(t,d(C))&&l.push(C)}),l},[n,i,r,t,e])};var DR=0,l1e=bo();function c1e(){var n;return l1e?(n=DR,DR+=1):n="TEST_OR_SSR",n}function g1e(n){var e=v.useState(),t=Pe(e,2),i=t[0],r=t[1];return v.useEffect(function(){r("rc_select_".concat(c1e()))},[]),n||i}var u1e=["children","value"],d1e=["children"];function I1e(n){var e=n,t=e.key,i=e.props,r=i.children,o=i.value,a=_n(i,u1e);return he({key:t,value:o!==void 0?o:t,children:r},a)}function YX(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return cl(n).map(function(t,i){if(!v.isValidElement(t)||!t.type)return null;var r=t,o=r.type.isSelectOptGroup,a=r.key,s=r.props,l=s.children,c=_n(s,d1e);return e||!o?I1e(t):he(he({key:"__RC_SELECT_GRP__".concat(a===null?i:a,"__"),label:a},c),{},{options:YX(l)})}).filter(function(t){return t})}var C1e=function(e,t,i,r,o){return v.useMemo(function(){var a=e,s=!e;s&&(a=YX(t));var l=new Map,c=new Map,g=function(C,f,b){b&&typeof b=="string"&&C.set(f[b],f)},u=function d(C){for(var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=0;b<C.length;b+=1){var A=C[b];!A[i.options]||f?(l.set(A[i.value],A),g(c,A,i.label),g(c,A,r),g(c,A,o)):d(A[i.options],!0)}};return u(a),{options:a,valueOptions:l,labelOptions:c}},[e,t,i,r,o])};function UR(n){var e=v.useRef();e.current=n;var t=v.useCallback(function(){return e.current.apply(e,arguments)},[]);return t}var h1e=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],m1e=["inputValue"];function f1e(n){return!n||sn(n)!=="object"}var p1e=v.forwardRef(function(n,e){var t=n.id,i=n.mode,r=n.prefixCls,o=r===void 0?"rc-select":r,a=n.backfill,s=n.fieldNames,l=n.inputValue,c=n.searchValue,g=n.onSearch,u=n.autoClearSearchValue,d=u===void 0?!0:u,C=n.onSelect,f=n.onDeselect,b=n.dropdownMatchSelectWidth,A=b===void 0?!0:b,p=n.filterOption,y=n.filterSort,B=n.optionFilterProp,x=n.optionLabelProp,w=n.options,S=n.optionRender,Z=n.children,M=n.defaultActiveFirstOption,q=n.menuItemSelectedIcon,_=n.virtual,V=n.direction,Y=n.listHeight,X=Y===void 0?200:Y,K=n.listItemHeight,Q=K===void 0?20:K,z=n.labelRender,D=n.value,N=n.defaultValue,L=n.labelInValue,P=n.onChange,O=n.maxCount,ie=_n(n,h1e),ge=g1e(t),J=bv(i),Ce=!!(!w&&Z),ve=v.useMemo(function(){return p===void 0&&i==="combobox"?!1:p},[p,i]),Ae=v.useMemo(function(){return HX(s,Ce)},[JSON.stringify(s),Ce]),Xe=Pl("",{value:c!==void 0?c:l,postState:function(bt){return bt||""}}),Le=Pe(Xe,2),Ee=Le[0],be=Le[1],Ie=C1e(w,Z,Ae,B,x),pe=Ie.valueOptions,$=Ie.labelOptions,Ge=Ie.options,Ze=v.useCallback(function(xt){var bt=NX(xt);return bt.map(function(Wt){var Vt,Dt,qt,Dn,Rn;if(f1e(Wt))Vt=Wt;else{var E;qt=Wt.key,Dt=Wt.label,Vt=(E=Wt.value)!==null&&E!==void 0?E:qt}var j=pe.get(Vt);if(j){var de;Dt===void 0&&(Dt=j==null?void 0:j[x||Ae.label]),qt===void 0&&(qt=(de=j==null?void 0:j.key)!==null&&de!==void 0?de:Vt),Dn=j==null?void 0:j.disabled,Rn=j==null?void 0:j.title}return{label:Dt,value:Vt,key:qt,disabled:Dn,title:Rn}})},[Ae,x,pe]),Ye=Pl(N,{value:D}),Ne=Pe(Ye,2),Je=Ne[0],Ke=Ne[1],U=v.useMemo(function(){var xt,bt=J&&Je===null?[]:Je,Wt=Ze(bt);return i==="combobox"&&gue((xt=Wt[0])===null||xt===void 0?void 0:xt.value)?[]:Wt},[Je,Ze,i,J]),T=a1e(U,pe),le=Pe(T,2),ye=le[0],Fe=le[1],we=v.useMemo(function(){if(!i&&ye.length===1){var xt=ye[0];if(xt.value===null&&(xt.label===null||xt.label===void 0))return[]}return ye.map(function(bt){var Wt;return he(he({},bt),{},{label:(Wt=typeof z=="function"?z(bt):bt.label)!==null&&Wt!==void 0?Wt:bt.value})})},[i,ye,z]),tt=v.useMemo(function(){return new Set(ye.map(function(xt){return xt.value}))},[ye]);v.useEffect(function(){if(i==="combobox"){var xt,bt=(xt=ye[0])===null||xt===void 0?void 0:xt.value;be(cue(bt)?String(bt):"")}},[ye]);var je=UR(function(xt,bt){var Wt=bt??xt;return me(me({},Ae.value,xt),Ae.label,Wt)}),Qe=v.useMemo(function(){if(i!=="tags")return Ge;var xt=Nt(Ge),bt=function(Vt){return pe.has(Vt)};return Nt(ye).sort(function(Wt,Vt){return Wt.value<Vt.value?-1:1}).forEach(function(Wt){var Vt=Wt.value;bt(Vt)||xt.push(je(Vt,Wt.label))}),xt},[je,Ge,pe,ye,i]),Rt=s1e(Qe,Ae,Ee,ve,B),ze=v.useMemo(function(){return i!=="tags"||!Ee||Rt.some(function(xt){return xt[B||"value"]===Ee})||Rt.some(function(xt){return xt[Ae.value]===Ee})?Rt:[je(Ee)].concat(Nt(Rt))},[je,B,i,Rt,Ee,Ae]),st=function xt(bt){var Wt=Nt(bt).sort(function(Vt,Dt){return y(Vt,Dt,{searchValue:Ee})});return Wt.map(function(Vt){return Array.isArray(Vt.options)?he(he({},Vt),{},{options:Vt.options.length>0?xt(Vt.options):Vt.options}):Vt})},gt=v.useMemo(function(){return y?st(ze):ze},[ze,y,Ee]),ot=v.useMemo(function(){return Vue(gt,{fieldNames:Ae,childrenAsData:Ce})},[gt,Ae,Ce]),dt=function(bt){var Wt=Ze(bt);if(Ke(Wt),P&&(Wt.length!==ye.length||Wt.some(function(qt,Dn){var Rn;return((Rn=ye[Dn])===null||Rn===void 0?void 0:Rn.value)!==(qt==null?void 0:qt.value)}))){var Vt=L?Wt:Wt.map(function(qt){return qt.value}),Dt=Wt.map(function(qt){return Av(Fe(qt.value))});P(J?Vt:Vt[0],J?Dt:Dt[0])}},ue=v.useState(null),Me=Pe(ue,2),$e=Me[0],ce=Me[1],Se=v.useState(0),_e=Pe(Se,2),Te=_e[0],It=_e[1],at=M!==void 0?M:i!=="combobox",_t=v.useCallback(function(xt,bt){var Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Vt=Wt.source,Dt=Vt===void 0?"keyboard":Vt;It(bt),a&&i==="combobox"&&xt!==null&&Dt==="keyboard"&&ce(String(xt))},[a,i]),Ft=function(bt,Wt,Vt){var Dt=function(){var ee,te=Fe(bt);return[L?{label:te==null?void 0:te[Ae.label],value:bt,key:(ee=te==null?void 0:te.key)!==null&&ee!==void 0?ee:bt}:bt,Av(te)]};if(Wt&&C){var qt=Dt(),Dn=Pe(qt,2),Rn=Dn[0],E=Dn[1];C(Rn,E)}else if(!Wt&&f&&Vt!=="clear"){var j=Dt(),de=Pe(j,2),We=de[0],Ve=de[1];f(We,Ve)}},Bt=UR(function(xt,bt){var Wt,Vt=J?bt.selected:!0;Vt?Wt=J?[].concat(Nt(ye),[xt]):[xt]:Wt=ye.filter(function(Dt){return Dt.value!==xt}),dt(Wt),Ft(xt,Vt),i==="combobox"?ce(""):(!bv||d)&&(be(""),ce(""))}),ut=function(bt,Wt){dt(bt);var Vt=Wt.type,Dt=Wt.values;(Vt==="remove"||Vt==="clear")&&Dt.forEach(function(qt){Ft(qt.value,!1,Vt)})},it=function(bt,Wt){if(be(bt),ce(null),Wt.source==="submit"){var Vt=(bt||"").trim();if(Vt){var Dt=Array.from(new Set([].concat(Nt(tt),[Vt])));dt(Dt),Ft(Vt,!0),be("")}return}Wt.source!=="blur"&&(i==="combobox"&&dt(bt),g==null||g(bt))},an=function(bt){var Wt=bt;i!=="tags"&&(Wt=bt.map(function(Dt){var qt=$.get(Dt);return qt==null?void 0:qt.value}).filter(function(Dt){return Dt!==void 0}));var Vt=Array.from(new Set([].concat(Nt(tt),Nt(Wt))));dt(Vt),Vt.forEach(function(Dt){Ft(Dt,!0)})},Nn=v.useMemo(function(){var xt=_!==!1&&A!==!1;return he(he({},Ie),{},{flattenOptions:ot,onActiveValue:_t,defaultActiveFirstOption:at,onSelect:Bt,menuItemSelectedIcon:q,rawValues:tt,fieldNames:Ae,virtual:xt,direction:V,listHeight:X,listItemHeight:Q,childrenAsData:Ce,maxCount:O,optionRender:S})},[O,Ie,ot,_t,at,Bt,q,tt,Ae,_,A,V,X,Q,Ce,S]);return v.createElement(xB.Provider,{value:Nn},v.createElement(Xue,Lt({},ie,{id:ge,prefixCls:o,ref:e,omitDomProps:m1e,mode:i,displayValues:we,onDisplayValuesChange:ut,direction:V,searchValue:Ee,onSearch:it,autoClearSearchValue:d,onSearchSplit:an,dropdownMatchSelectWidth:A,OptionList:o1e,emptyOptions:!ot.length,activeValue:$e,activeDescendantId:"".concat(ge,"_list_").concat(Te)})))}),SB=p1e;SB.Option=wB;SB.OptGroup=GB;function A1e(n,e,t){return ct({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const b1e=(n,e)=>e||n,v1e=()=>{const[,n]=va(),[e]=N0("Empty"),i=new Ti(n.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return v.createElement("svg",{style:i,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,(e==null?void 0:e.description)||"Empty"),v.createElement("g",{fill:"none",fillRule:"evenodd"},v.createElement("g",{transform:"translate(24 31.67)"},v.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),v.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),v.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),v.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),v.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),v.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),v.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},v.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),v.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},y1e=()=>{const[,n]=va(),[e]=N0("Empty"),{colorFill:t,colorFillTertiary:i,colorFillQuaternary:r,colorBgContainer:o}=n,{borderColor:a,shadowColor:s,contentColor:l}=v.useMemo(()=>({borderColor:new Ti(t).onBackground(o).toHexShortString(),shadowColor:new Ti(i).onBackground(o).toHexShortString(),contentColor:new Ti(r).onBackground(o).toHexShortString()}),[t,i,r,o]);return v.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},v.createElement("title",null,(e==null?void 0:e.description)||"Empty"),v.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},v.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),v.createElement("g",{fillRule:"nonzero",stroke:a},v.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),v.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},B1e=n=>{const{componentCls:e,margin:t,marginXS:i,marginXL:r,fontSize:o,lineHeight:a}=n;return{[e]:{marginInline:i,fontSize:o,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:i,opacity:n.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:n.colorTextDescription},[`${e}-footer`]:{marginTop:t},"&-normal":{marginBlock:r,color:n.colorTextDescription,[`${e}-description`]:{color:n.colorTextDescription},[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:i,color:n.colorTextDescription,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},x1e=ya("Empty",n=>{const{componentCls:e,controlHeightLG:t,calc:i}=n,r=Mi(n,{emptyImgCls:`${e}-img`,emptyImgHeight:i(t).mul(2.5).equal(),emptyImgHeightMD:t,emptyImgHeightSM:i(t).mul(.875).equal()});return[B1e(r)]});var G1e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const KX=v.createElement(v1e,null),LX=v.createElement(y1e,null),ru=n=>{var{className:e,rootClassName:t,prefixCls:i,image:r=KX,description:o,children:a,imageStyle:s,style:l}=n,c=G1e(n,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:g,direction:u,empty:d}=v.useContext(Zn),C=g("empty",i),[f,b,A]=x1e(C),[p]=N0("Empty"),y=typeof o<"u"?o:p==null?void 0:p.description,B=typeof y=="string"?y:"empty";let x=null;return typeof r=="string"?x=v.createElement("img",{alt:B,src:r}):x=r,f(v.createElement("div",Object.assign({className:ct(b,A,C,d==null?void 0:d.className,{[`${C}-normal`]:r===LX,[`${C}-rtl`]:u==="rtl"},e,t),style:Object.assign(Object.assign({},d==null?void 0:d.style),l)},c),v.createElement("div",{className:`${C}-image`,style:s},x),y&&v.createElement("div",{className:`${C}-description`},y),a&&v.createElement("div",{className:`${C}-footer`},a)))};ru.PRESENTED_IMAGE_DEFAULT=KX;ru.PRESENTED_IMAGE_SIMPLE=LX;const w1e=n=>{const{componentName:e}=n,{getPrefixCls:t}=v.useContext(Zn),i=t("empty");switch(e){case"Table":case"List":return Gt.createElement(ru,{image:ru.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Gt.createElement(ru,{image:ru.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});case"Table.filter":return null;default:return Gt.createElement(ru,null)}},S1e=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var i,r;const{variant:o,[n]:a}=v.useContext(Zn),s=v.useContext(ige),l=a==null?void 0:a.variant;let c;typeof e<"u"?c=e:t===!1?c="borderless":c=(r=(i=s??l)!==null&&i!==void 0?i:o)!==null&&r!==void 0?r:"outlined";const g=foe.includes(c);return[c,g]},Z1e=n=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:n==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}};function q1e(n,e){return n||Z1e(e)}const OR=n=>{const{optionHeight:e,optionFontSize:t,optionLineHeight:i,optionPadding:r}=n;return{position:"relative",display:"block",minHeight:e,padding:r,color:n.colorText,fontWeight:"normal",fontSize:t,lineHeight:i,boxSizing:"border-box"}},R1e=n=>{const{antCls:e,componentCls:t}=n,i=`${t}-item`,r=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,a=`&${e}-slide-up-leave${e}-slide-up-leave-active`,s=`${t}-dropdown-placement-`;return[{[`${t}-dropdown`]:Object.assign(Object.assign({},Ag(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
          ${r}${s}bottomLeft,
          ${o}${s}bottomLeft
        `]:{animationName:KE},[`
          ${r}${s}topLeft,
          ${o}${s}topLeft,
          ${r}${s}topRight,
          ${o}${s}topRight
        `]:{animationName:TE},[`${a}${s}bottomLeft`]:{animationName:LE},[`
          ${a}${s}topLeft,
          ${a}${s}topRight
        `]:{animationName:kE},"&-hidden":{display:"none"},[i]:Object.assign(Object.assign({},OR(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},mh),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:n.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:n.optionSelectedColor,fontWeight:n.optionSelectedFontWeight,backgroundColor:n.optionSelectedBg,[`${i}-option-state`]:{color:n.colorPrimary},[`&:has(+ ${i}-option-selected:not(${i}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${i}-option-selected:not(${i}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.calc(n.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},OR(n)),{color:n.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},_3(n,"slide-up"),_3(n,"slide-down"),eR(n,"move-up"),eR(n,"move-down")]},M1e=n=>{const{multipleSelectItemHeight:e,paddingXXS:t,lineWidth:i,INTERNAL_FIXED_ITEM_MARGIN:r}=n,o=n.max(n.calc(t).sub(i).equal(),0),a=n.max(n.calc(o).sub(r).equal(),0);return{basePadding:o,containerPadding:a,itemHeight:mt(e),itemLineHeight:mt(n.calc(e).sub(n.calc(n.lineWidth).mul(2)).equal())}},_1e=n=>{const{multipleSelectItemHeight:e,selectHeight:t,lineWidth:i}=n;return n.calc(t).sub(e).div(2).sub(i).equal()},W1e=n=>{const{componentCls:e,iconCls:t,borderRadiusSM:i,motionDurationSlow:r,paddingXS:o,multipleItemColorDisabled:a,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:g}=n;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:g,borderRadius:i,cursor:"default",transition:`font-size ${r}, line-height ${r}, height ${r}`,marginInlineEnd:n.calc(g).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:n.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:a,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},n5()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${t}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},V1e=(n,e)=>{const{componentCls:t,INTERNAL_FIXED_ITEM_MARGIN:i}=n,r=`${t}-selection-overflow`,o=n.multipleSelectItemHeight,a=_1e(n),s=e?`${t}-${e}`:"",l=M1e(n);return{[`${t}-multiple${s}`]:Object.assign(Object.assign({},W1e(n)),{[`${t}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:n.borderRadius,[`${t}-disabled&`]:{background:n.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${mt(i)} 0`,lineHeight:mt(o),visibility:"hidden",content:'"\\a0"'}},[`${t}-selection-wrap`]:{width:"100%",overflow:"hidden"},[`${t}-selection-item`]:{height:l.itemHeight,lineHeight:mt(l.itemLineHeight)},[`${r}-item + ${r}-item`]:{[`${t}-selection-search`]:{marginInlineStart:0}},[`${r}-item-suffix`]:{height:"100%"},[`${t}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.calc(n.inputPaddingHorizontalBase).sub(a).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:n.fontFamily,lineHeight:mt(o),transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`},[`${t}-prefix`]:{height:l.itemHeight,lineHeight:mt(l.itemLineHeight),marginInlineStart:`calc(${mt(n.inputPaddingHorizontalBase)} - ${mt(l.basePadding)})`,marginInlineEnd:n.selectAffixPadding}})}};function Zb(n,e){const{componentCls:t}=n,i=e?`${t}-${e}`:"",r={[`${t}-multiple${i}`]:{fontSize:n.fontSize,[`${t}-selector`]:{[`${t}-show-search&`]:{cursor:"text"}},[`
        &${t}-show-arrow ${t}-selector,
        &${t}-allow-clear ${t}-selector
      `]:{paddingInlineEnd:n.calc(n.fontSizeIcon).add(n.controlPaddingHorizontal).equal()}}};return[V1e(n,e),r]}const N1e=n=>{const{componentCls:e}=n,t=Mi(n,{selectHeight:n.controlHeightSM,multipleSelectItemHeight:n.multipleItemHeightSM,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),i=Mi(n,{fontSize:n.fontSizeLG,selectHeight:n.controlHeightLG,multipleSelectItemHeight:n.multipleItemHeightLG,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius});return[Zb(n),Zb(t,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:n.calc(n.controlPaddingHorizontalSM).sub(n.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},Zb(i,"lg")]};function qb(n,e){const{componentCls:t,inputPaddingHorizontalBase:i,borderRadius:r,selectAffixPadding:o}=n,a=n.calc(n.controlHeight).sub(n.calc(n.lineWidth).mul(2)).equal(),s=e?`${t}-${e}`:"";return{[`${t}-single${s}`]:{fontSize:n.fontSize,height:n.controlHeight,[`${t}-selector`]:Object.assign(Object.assign({},Ag(n,!0)),{display:"flex",borderRadius:r,flex:"1 1 auto",[`${t}-selection-wrap`]:{display:"flex",width:"100%",position:"relative"},[`${t}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${t}-selection-item,
          ${t}-selection-placeholder,
          ${t}-prefix
        `]:{display:"block",padding:0,lineHeight:mt(a),transition:`all ${n.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${t}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[`${t}-prefix`]:{marginInlineEnd:o},[["&:after",`${t}-selection-item:empty:after`,`${t}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${t}-show-arrow ${t}-selection-item,
        &${t}-show-arrow ${t}-selection-search,
        &${t}-show-arrow ${t}-selection-placeholder
      `]:{paddingInlineEnd:n.showArrowPaddingInlineEnd},[`&${t}-open ${t}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{width:"100%",height:"100%",padding:`0 ${mt(i)}`,[`${t}-selection-search-input`]:{height:a},"&:after":{lineHeight:mt(a)}}},[`&${t}-customize-input`]:{[`${t}-selector`]:{"&:after":{display:"none"},[`${t}-selection-search`]:{position:"static",width:"100%"},[`${t}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${mt(i)}`,"&:after":{display:"none"}}}}}}}function F1e(n){const{componentCls:e}=n,t=n.calc(n.controlPaddingHorizontalSM).sub(n.lineWidth).equal();return[qb(n),qb(Mi(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${mt(t)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n.calc(t).add(n.calc(n.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.calc(n.fontSize).mul(1.5).equal()}}}},qb(Mi(n,{controlHeight:n.singleItemHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}const H1e=n=>{const{fontSize:e,lineHeight:t,lineWidth:i,controlHeight:r,controlHeightSM:o,controlHeightLG:a,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:g,fontWeightStrong:u,controlItemBgActive:d,controlItemBgHover:C,colorBgContainer:f,colorFillSecondary:b,colorBgContainerDisabled:A,colorTextDisabled:p,colorPrimaryHover:y,colorPrimary:B,controlOutline:x}=n,w=s*2,S=i*2,Z=Math.min(r-w,r-S),M=Math.min(o-w,o-S),q=Math.min(a-w,a-S);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:g,optionSelectedFontWeight:u,optionSelectedBg:d,optionActiveBg:C,optionPadding:`${(r-e*t)/2}px ${l}px`,optionFontSize:e,optionLineHeight:t,optionHeight:r,selectorBg:f,clearBg:f,singleItemHeightLG:a,multipleItemBg:b,multipleItemBorderColor:"transparent",multipleItemHeight:Z,multipleItemHeightSM:M,multipleItemHeightLG:q,multipleSelectorBgDisabled:A,multipleItemColorDisabled:p,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(n.fontSize*1.25),hoverBorderColor:y,activeBorderColor:B,activeOutlineColor:x,selectAffixPadding:s}},TX=(n,e)=>{const{componentCls:t,antCls:i,controlOutlineWidth:r}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{border:`${mt(n.lineWidth)} ${n.lineType} ${e.borderColor}`,background:n.selectorBg},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{borderColor:e.hoverBorderHover},[`${t}-focused& ${t}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${mt(r)} ${e.activeOutlineColor}`,outline:0}}}},jR=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},TX(n,e))}),E1e=n=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},TX(n,{borderColor:n.colorBorder,hoverBorderHover:n.hoverBorderColor,activeBorderColor:n.activeBorderColor,activeOutlineColor:n.activeOutlineColor})),jR(n,{status:"error",borderColor:n.colorError,hoverBorderHover:n.colorErrorHover,activeBorderColor:n.colorError,activeOutlineColor:n.colorErrorOutline})),jR(n,{status:"warning",borderColor:n.colorWarning,hoverBorderHover:n.colorWarningHover,activeBorderColor:n.colorWarning,activeOutlineColor:n.colorWarningOutline})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{background:n.colorBgContainerDisabled,color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${mt(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`}})}),kX=(n,e)=>{const{componentCls:t,antCls:i}=n;return{[`&:not(${t}-customize-input) ${t}-selector`]:{background:e.bg,border:`${mt(n.lineWidth)} ${n.lineType} transparent`,color:e.color},[`&:not(${t}-disabled):not(${t}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${t}-selector`]:{background:e.hoverBg},[`${t}-focused& ${t}-selector`]:{background:n.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},JR=(n,e)=>({[`&${n.componentCls}-status-${e.status}`]:Object.assign({},kX(n,e))}),X1e=n=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},kX(n,{bg:n.colorFillTertiary,hoverBg:n.colorFillSecondary,activeBorderColor:n.activeBorderColor,color:n.colorText})),JR(n,{status:"error",bg:n.colorErrorBg,hoverBg:n.colorErrorBgHover,activeBorderColor:n.colorError,color:n.colorError})),JR(n,{status:"warning",bg:n.colorWarningBg,hoverBg:n.colorWarningBgHover,activeBorderColor:n.colorWarning,color:n.colorWarning})),{[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{borderColor:n.colorBorder,background:n.colorBgContainerDisabled,color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.colorBgContainer,border:`${mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`}})}),z1e=n=>({"&-borderless":{[`${n.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${n.componentCls}-disabled`]:{[`&:not(${n.componentCls}-customize-input) ${n.componentCls}-selector`]:{color:n.colorTextDisabled}},[`&${n.componentCls}-multiple ${n.componentCls}-selection-item`]:{background:n.multipleItemBg,border:`${mt(n.lineWidth)} ${n.lineType} ${n.multipleItemBorderColor}`},[`&${n.componentCls}-status-error`]:{[`${n.componentCls}-selection-item`]:{color:n.colorError}},[`&${n.componentCls}-status-warning`]:{[`${n.componentCls}-selection-item`]:{color:n.colorWarning}}}}),Y1e=n=>({[n.componentCls]:Object.assign(Object.assign(Object.assign({},E1e(n)),X1e(n)),z1e(n))}),K1e=n=>{const{componentCls:e}=n;return{position:"relative",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},L1e=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},T1e=n=>{const{antCls:e,componentCls:t,inputPaddingHorizontalBase:i,iconCls:r}=n;return{[t]:Object.assign(Object.assign({},Ag(n)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${t}-customize-input) ${t}-selector`]:Object.assign(Object.assign({},K1e(n)),L1e(n)),[`${t}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},mh),{[`> ${e}-typography`]:{display:"inline"}}),[`${t}-selection-placeholder`]:Object.assign(Object.assign({},mh),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:Object.assign(Object.assign({},n5()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:n.fontSizeIcon,marginTop:n.calc(n.fontSizeIcon).mul(-1).div(2).equal(),color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${n.motionDurationSlow} ease`,[r]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:n.calc(n.fontSizeIcon).mul(-1).div(2).equal(),color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},[`&:hover ${t}-clear`]:{opacity:1,background:n.colorBgBase,borderRadius:"50%"}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:n.calc(i).add(n.fontSize).add(n.paddingXS).equal()}}}},k1e=n=>{const{componentCls:e}=n;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},T1e(n),F1e(n),N1e(n),R1e(n),{[`${e}-rtl`]:{direction:"rtl"}},OE(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},P1e=ya("Select",(n,e)=>{let{rootPrefixCls:t}=e;const i=Mi(n,{rootPrefixCls:t,inputPaddingHorizontalBase:n.calc(n.paddingSM).sub(1).equal(),multipleSelectItemHeight:n.multipleItemHeight,selectHeight:n.controlHeight});return[k1e(i),Y1e(i)]},H1e,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var D1e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},U1e=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:D1e}))},O1e=v.forwardRef(U1e),j1e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},J1e=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:j1e}))},Q1e=v.forwardRef(J1e),$1e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ede=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:$1e}))},tde=v.forwardRef(ede);function nde(n){let{suffixIcon:e,clearIcon:t,menuItemSelectedIcon:i,removeIcon:r,loading:o,multiple:a,hasFeedback:s,prefixCls:l,showSuffixIcon:c,feedbackIcon:g,showArrow:u,componentName:d}=n;const C=t??v.createElement(qE,null),f=y=>e===null&&!s&&!u?null:v.createElement(v.Fragment,null,c!==!1&&y,s&&g);let b=null;if(e!==void 0)b=f(e);else if(o)b=f(v.createElement(ME,{spin:!0}));else{const y=`${l}-suffix`;b=B=>{let{open:x,showSearch:w}=B;return f(x&&w?v.createElement(tde,{className:y}):v.createElement(Q1e,{className:y}))}}let A=null;i!==void 0?A=i:a?A=v.createElement(O1e,null):A=null;let p=null;return r!==void 0?p=r:p=v.createElement(i5,null),{clearIcon:C,suffixIcon:b,itemIcon:A,removeIcon:p}}function ide(n,e){return e!==void 0?e:n!==null}var rde=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const PX="SECRET_COMBOBOX_MODE_DO_NOT_USE",ode=(n,e)=>{var t;const{prefixCls:i,bordered:r,className:o,rootClassName:a,getPopupContainer:s,popupClassName:l,dropdownClassName:c,listHeight:g=256,placement:u,listItemHeight:d,size:C,disabled:f,notFoundContent:b,status:A,builtinPlacements:p,dropdownMatchSelectWidth:y,popupMatchSelectWidth:B,direction:x,style:w,allowClear:S,variant:Z,dropdownStyle:M,transitionName:q,tagRender:_,maxCount:V,prefix:Y}=n,X=rde(n,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:K,getPrefixCls:Q,renderEmpty:z,direction:D,virtual:N,popupMatchSelectWidth:L,popupOverflow:P,select:O}=v.useContext(Zn),[,ie]=va(),ge=d??(ie==null?void 0:ie.controlHeight),J=Q("select",i),Ce=Q(),ve=x??D,{compactSize:Ae,compactItemClassnames:Xe}=EE(J,ve),[Le,Ee]=S1e("select",Z,r),be=r5(J),[Ie,pe,$]=P1e(J,be),Ge=v.useMemo(()=>{const{mode:$e}=n;if($e!=="combobox")return $e===PX?"combobox":$e},[n.mode]),Ze=Ge==="multiple"||Ge==="tags",Ye=ide(n.suffixIcon,n.showArrow),Ne=(t=B??y)!==null&&t!==void 0?t:L,{status:Je,hasFeedback:Ke,isFormItemInput:U,feedbackIcon:T}=v.useContext(hv),le=b1e(Je,A);let ye;b!==void 0?ye=b:Ge==="combobox"?ye=null:ye=(z==null?void 0:z("Select"))||v.createElement(w1e,{componentName:"Select"});const{suffixIcon:Fe,itemIcon:we,removeIcon:tt,clearIcon:je}=nde(Object.assign(Object.assign({},X),{multiple:Ze,hasFeedback:Ke,feedbackIcon:T,showSuffixIcon:Ye,prefixCls:J,componentName:"Select"})),Qe=S===!0?{clearIcon:je}:S,Rt=$a(X,["suffixIcon","itemIcon"]),ze=ct(l||c,{[`${J}-dropdown-${ve}`]:ve==="rtl"},a,$,be,pe),st=s5($e=>{var ce;return(ce=C??Ae)!==null&&ce!==void 0?ce:$e}),gt=v.useContext(hh),ot=f??gt,dt=ct({[`${J}-lg`]:st==="large",[`${J}-sm`]:st==="small",[`${J}-rtl`]:ve==="rtl",[`${J}-${Le}`]:Ee,[`${J}-in-form-item`]:U},A1e(J,le,Ke),Xe,O==null?void 0:O.className,o,a,$,be,pe),ue=v.useMemo(()=>u!==void 0?u:ve==="rtl"?"bottomRight":"bottomLeft",[u,ve]),[Me]=$h("SelectLike",M==null?void 0:M.zIndex);return Ie(v.createElement(SB,Object.assign({ref:e,virtual:N,showSearch:O==null?void 0:O.showSearch},Rt,{style:Object.assign(Object.assign({},O==null?void 0:O.style),w),dropdownMatchSelectWidth:Ne,transitionName:lg(Ce,"slide-up",q),builtinPlacements:q1e(p,P),listHeight:g,listItemHeight:ge,mode:Ge,prefixCls:J,placement:ue,direction:ve,prefix:Y,suffixIcon:Fe,menuItemSelectedIcon:we,removeIcon:tt,allowClear:Qe,notFoundContent:ye,className:dt,getPopupContainer:s||K,dropdownClassName:ze,disabled:ot,dropdownStyle:Object.assign(Object.assign({},M),{zIndex:Me}),maxCount:Ze?V:void 0,tagRender:Ze?_:void 0})))},X0=v.forwardRef(ode),ade=Lge(X0);X0.SECRET_COMBOBOX_MODE_DO_NOT_USE=PX;X0.Option=wB;X0.OptGroup=GB;X0._InternalPanelDoNotUseOrYouWillBeFired=ade;const ju=["xxl","xl","lg","md","sm","xs"],sde=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),lde=n=>{const e=n,t=[].concat(ju).reverse();return t.forEach((i,r)=>{const o=i.toUpperCase(),a=`screen${o}Min`,s=`screen${o}`;if(!(e[a]<=e[s]))throw new Error(`${a}<=${s} fails : !(${e[a]}<=${e[s]})`);if(r<t.length-1){const l=`screen${o}Max`;if(!(e[s]<=e[l]))throw new Error(`${s}<=${l} fails : !(${e[s]}<=${e[l]})`);const g=`screen${t[r+1].toUpperCase()}Min`;if(!(e[l]<=e[g]))throw new Error(`${l}<=${g} fails : !(${e[l]}<=${e[g]})`)}}),n};function DX(){const[,n]=va(),e=sde(lde(n));return Gt.useMemo(()=>{const t=new Map;let i=-1,r={};return{matchHandlers:{},dispatch(o){return r=o,t.forEach(a=>a(r)),t.size>=1},subscribe(o){return t.size||this.register(),i+=1,t.set(i,o),o(r),i},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const a=e[o],s=this.matchHandlers[a];s==null||s.mql.removeListener(s==null?void 0:s.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const a=e[o],s=c=>{let{matches:g}=c;this.dispatch(Object.assign(Object.assign({},r),{[o]:g}))},l=window.matchMedia(a);l.addListener(s),this.matchHandlers[a]={mql:l,listener:s},s(l)})},responsiveMap:e}},[n])}const UX=(n,e)=>{if(e&&typeof e=="object")for(let t=0;t<ju.length;t++){const i=ju[t];if(n[i]&&e[i]!==void 0)return e[i]}};function cde(){const[,n]=v.useReducer(e=>e+1,0);return n}function gde(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const e=v.useRef({}),t=cde(),i=DX();return ui(()=>{const r=i.subscribe(o=>{e.current=o,n&&t()});return()=>i.unsubscribe(r)},[]),e.current}function OX(n){var e=n.children,t=n.prefixCls,i=n.id,r=n.overlayInnerStyle,o=n.className,a=n.style;return v.createElement("div",{className:ct("".concat(t,"-content"),o),style:a},v.createElement("div",{className:"".concat(t,"-inner"),id:i,role:"tooltip",style:r},typeof e=="function"?e():e))}var td={shiftX:64,adjustY:1},nd={adjustX:1,shiftY:!0},Na=[0,0],ude={left:{points:["cr","cl"],overflow:nd,offset:[-4,0],targetOffset:Na},right:{points:["cl","cr"],overflow:nd,offset:[4,0],targetOffset:Na},top:{points:["bc","tc"],overflow:td,offset:[0,-4],targetOffset:Na},bottom:{points:["tc","bc"],overflow:td,offset:[0,4],targetOffset:Na},topLeft:{points:["bl","tl"],overflow:td,offset:[0,-4],targetOffset:Na},leftTop:{points:["tr","tl"],overflow:nd,offset:[-4,0],targetOffset:Na},topRight:{points:["br","tr"],overflow:td,offset:[0,-4],targetOffset:Na},rightTop:{points:["tl","tr"],overflow:nd,offset:[4,0],targetOffset:Na},bottomRight:{points:["tr","br"],overflow:td,offset:[0,4],targetOffset:Na},rightBottom:{points:["bl","br"],overflow:nd,offset:[4,0],targetOffset:Na},bottomLeft:{points:["tl","bl"],overflow:td,offset:[0,4],targetOffset:Na},leftBottom:{points:["br","bl"],overflow:nd,offset:[-4,0],targetOffset:Na}},dde=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Ide=function(e,t){var i=e.overlayClassName,r=e.trigger,o=r===void 0?["hover"]:r,a=e.mouseEnterDelay,s=a===void 0?0:a,l=e.mouseLeaveDelay,c=l===void 0?.1:l,g=e.overlayStyle,u=e.prefixCls,d=u===void 0?"rc-tooltip":u,C=e.children,f=e.onVisibleChange,b=e.afterVisibleChange,A=e.transitionName,p=e.animation,y=e.motion,B=e.placement,x=B===void 0?"right":B,w=e.align,S=w===void 0?{}:w,Z=e.destroyTooltipOnHide,M=Z===void 0?!1:Z,q=e.defaultVisible,_=e.getTooltipContainer,V=e.overlayInnerStyle;e.arrowContent;var Y=e.overlay,X=e.id,K=e.showArrow,Q=K===void 0?!0:K,z=_n(e,dde),D=v.useRef(null);v.useImperativeHandle(t,function(){return D.current});var N=he({},z);"visible"in e&&(N.popupVisible=e.visible);var L=function(){return v.createElement(OX,{key:"content",prefixCls:d,id:X,overlayInnerStyle:V},Y)};return v.createElement(BB,Lt({popupClassName:i,prefixCls:d,popup:L,action:o,builtinPlacements:ude,popupPlacement:x,ref:D,popupAlign:S,getPopupContainer:_,onPopupVisibleChange:f,afterPopupVisibleChange:b,popupTransitionName:A,popupAnimation:p,popupMotion:y,defaultPopupVisible:q,autoDestroy:M,mouseLeaveDelay:c,popupStyle:g,mouseEnterDelay:s,arrow:Q},N),C)};const Cde=v.forwardRef(Ide);function hde(n){const{sizePopupArrow:e,borderRadiusXS:t,borderRadiusOuter:i}=n,r=e/2,o=0,a=r,s=i*1/Math.sqrt(2),l=r-i*(1-1/Math.sqrt(2)),c=r-t*(1/Math.sqrt(2)),g=i*(Math.sqrt(2)-1)+t*(1/Math.sqrt(2)),u=2*r-c,d=g,C=2*r-s,f=l,b=2*r-o,A=a,p=r*Math.sqrt(2)+i*(Math.sqrt(2)-2),y=i*(Math.sqrt(2)-1),B=`polygon(${y}px 100%, 50% ${y}px, ${2*r-y}px 100%, ${y}px 100%)`,x=`path('M ${o} ${a} A ${i} ${i} 0 0 0 ${s} ${l} L ${c} ${g} A ${t} ${t} 0 0 1 ${u} ${d} L ${C} ${f} A ${i} ${i} 0 0 0 ${b} ${A} Z')`;return{arrowShadowWidth:p,arrowPath:x,arrowPolygon:B}}const mde=(n,e,t)=>{const{sizePopupArrow:i,arrowPolygon:r,arrowPath:o,arrowShadowWidth:a,borderRadiusXS:s,calc:l}=n;return{pointerEvents:"none",width:i,height:i,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:i,height:l(i).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[r,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:a,height:a,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${mt(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:t,zIndex:0,background:"transparent"}}},jX=8;function JX(n){const{contentRadius:e,limitVerticalRadius:t}=n,i=e>12?e+2:12;return{arrowOffsetHorizontal:i,arrowOffsetVertical:t?jX:i}}function xf(n,e){return n?e:{}}function fde(n,e,t){const{componentCls:i,boxShadowPopoverArrow:r,arrowOffsetVertical:o,arrowOffsetHorizontal:a}=n,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}={};return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({[`${i}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},mde(n,e,r)),{"&:before":{background:e}})]},xf(!!l.top,{[[`&-placement-top > ${i}-arrow`,`&-placement-topLeft > ${i}-arrow`,`&-placement-topRight > ${i}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":a,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${mt(a)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),xf(!!l.bottom,{[[`&-placement-bottom > ${i}-arrow`,`&-placement-bottomLeft > ${i}-arrow`,`&-placement-bottomRight > ${i}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":a,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:a}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${mt(a)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:a}}}})),xf(!!l.left,{[[`&-placement-left > ${i}-arrow`,`&-placement-leftTop > ${i}-arrow`,`&-placement-leftBottom > ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${i}-arrow`]:{top:o},[`&-placement-leftBottom > ${i}-arrow`]:{bottom:o}})),xf(!!l.right,{[[`&-placement-right > ${i}-arrow`,`&-placement-rightTop > ${i}-arrow`,`&-placement-rightBottom > ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${i}-arrow`]:{top:o},[`&-placement-rightBottom > ${i}-arrow`]:{bottom:o}}))}}function pde(n,e,t,i){if(i===!1)return{adjustX:!1,adjustY:!1};const r=i&&typeof i=="object"?i:{},o={};switch(n){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+t,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+t,o.shiftX=!0,o.adjustX=!0;break}const a=Object.assign(Object.assign({},o),r);return a.shiftX||(a.adjustX=!0),a.shiftY||(a.adjustY=!0),a}const QR={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Ade={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},bde=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function vde(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:i,offset:r,borderRadius:o,visibleFirst:a}=n,s=e/2,l={};return Object.keys(QR).forEach(c=>{const g=i&&Ade[c]||QR[c],u=Object.assign(Object.assign({},g),{offset:[0,0],dynamicInset:!0});switch(l[c]=u,bde.has(c)&&(u.autoArrow=!1),c){case"top":case"topLeft":case"topRight":u.offset[1]=-s-r;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+r;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-r;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+r;break}const d=JX({contentRadius:o,limitVerticalRadius:!0});if(i)switch(c){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=-d.arrowOffsetHorizontal*2+s;break;case"leftBottom":case"rightBottom":u.offset[1]=d.arrowOffsetHorizontal*2-s;break}u.overflow=pde(c,d,e,t),a&&(u.htmlRegion="visibleFirst")}),l}const yde=n=>{const{componentCls:e,tooltipMaxWidth:t,tooltipColor:i,tooltipBg:r,tooltipBorderRadius:o,zIndexPopup:a,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:g}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Ag(n)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:t,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${e}-inner`]:{minWidth:"1em",minHeight:s,padding:`${mt(n.calc(c).div(2).equal())} ${mt(g)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:n.min(o,jX)}},[`${e}-content`]:{position:"relative"}}),Loe(n,(u,d)=>{let{darkColor:C}=d;return{[`&${e}-${u}`]:{[`${e}-inner`]:{backgroundColor:C},[`${e}-arrow`]:{"--antd-arrow-background-color":C}}}})),{"&-rtl":{direction:"rtl"}})},fde(n,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},Bde=n=>Object.assign(Object.assign({zIndexPopup:n.zIndexPopupBase+70},JX({contentRadius:n.borderRadius,limitVerticalRadius:!0})),hde(Mi(n,{borderRadiusOuter:Math.min(n.borderRadiusOuter,4)}))),QX=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return ya("Tooltip",i=>{const{borderRadius:r,colorTextLightSolid:o,colorBgSpotlight:a}=i,s=Mi(i,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:r,tooltipBg:a});return[yde(s),CB(i,"zoom-big-fast")]},Bde,{resetStyle:!1,injectStyle:e})(n)},xde=Z3.map(n=>`${n}-inverse`);function Gde(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(Nt(xde),Nt(Z3)).includes(n):Z3.includes(n)}function $X(n,e){const t=Gde(e),i=ct({[`${n}-${e}`]:e&&t}),r={},o={};return e&&!t&&(r.background=e,o["--antd-arrow-background-color"]=e),{className:i,overlayStyle:r,arrowStyle:o}}const wde=n=>{const{prefixCls:e,className:t,placement:i="top",title:r,color:o,overlayInnerStyle:a}=n,{getPrefixCls:s}=v.useContext(Zn),l=s("tooltip",e),[c,g,u]=QX(l),d=$X(l,o),C=d.arrowStyle,f=Object.assign(Object.assign({},a),d.overlayStyle),b=ct(g,u,l,`${l}-pure`,`${l}-placement-${i}`,t,d.className);return c(v.createElement("div",{className:b,style:C},v.createElement("div",{className:`${l}-arrow`}),v.createElement(OX,Object.assign({},n,{className:g,prefixCls:l,overlayInnerStyle:f}),r)))};var Sde=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Zde=v.forwardRef((n,e)=>{var t,i;const{prefixCls:r,openClassName:o,getTooltipContainer:a,overlayClassName:s,color:l,overlayInnerStyle:c,children:g,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:C,arrow:f=!0,title:b,overlay:A,builtinPlacements:p,arrowPointAtCenter:y=!1,autoAdjustOverflow:B=!0}=n,x=!!f,[,w]=va(),{getPopupContainer:S,getPrefixCls:Z,direction:M}=v.useContext(Zn),q=DH(),_=v.useRef(null),V=()=>{var le;(le=_.current)===null||le===void 0||le.forceAlign()};v.useImperativeHandle(e,()=>{var le;return{forceAlign:V,forcePopupAlign:()=>{q.deprecated(!1,"forcePopupAlign","forceAlign"),V()},nativeElement:(le=_.current)===null||le===void 0?void 0:le.nativeElement}});const[Y,X]=Pl(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(i=n.defaultOpen)!==null&&i!==void 0?i:n.defaultVisible}),K=!b&&!A&&b!==0,Q=le=>{var ye,Fe;X(K?!1:le),K||((ye=n.onOpenChange)===null||ye===void 0||ye.call(n,le),(Fe=n.onVisibleChange)===null||Fe===void 0||Fe.call(n,le))},z=v.useMemo(()=>{var le,ye;let Fe=y;return typeof f=="object"&&(Fe=(ye=(le=f.pointAtCenter)!==null&&le!==void 0?le:f.arrowPointAtCenter)!==null&&ye!==void 0?ye:y),p||vde({arrowPointAtCenter:Fe,autoAdjustOverflow:B,arrowWidth:x?w.sizePopupArrow:0,borderRadius:w.borderRadius,offset:w.marginXXS,visibleFirst:!0})},[y,f,p,w]),D=v.useMemo(()=>b===0?b:A||b||"",[A,b]),N=v.createElement(yB,{space:!0},typeof D=="function"?D():D),{getPopupContainer:L,placement:P="top",mouseEnterDelay:O=.1,mouseLeaveDelay:ie=.1,overlayStyle:ge,rootClassName:J}=n,Ce=Sde(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),ve=Z("tooltip",r),Ae=Z(),Xe=n["data-popover-inject"];let Le=Y;!("open"in n)&&!("visible"in n)&&K&&(Le=!1);const Ee=v.isValidElement(g)&&!RE(g)?g:v.createElement("span",null,g),be=Ee.props,Ie=!be.className||typeof be.className=="string"?ct(be.className,o||`${ve}-open`):be.className,[pe,$,Ge]=QX(ve,!Xe),Ze=$X(ve,l),Ye=Ze.arrowStyle,Ne=Object.assign(Object.assign({},c),Ze.overlayStyle),Je=ct(s,{[`${ve}-rtl`]:M==="rtl"},Ze.className,J,$,Ge),[Ke,U]=$h("Tooltip",Ce.zIndex),T=v.createElement(Cde,Object.assign({},Ce,{zIndex:Ke,showArrow:x,placement:P,mouseEnterDelay:O,mouseLeaveDelay:ie,prefixCls:ve,overlayClassName:Je,overlayStyle:Object.assign(Object.assign({},Ye),ge),getTooltipContainer:L||a||S,ref:_,builtinPlacements:z,overlay:N,visible:Le,onVisibleChange:Q,afterVisibleChange:u??d,overlayInnerStyle:Ne,arrowContent:v.createElement("span",{className:`${ve}-arrow-content`}),motion:{motionName:lg(Ae,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!C}),Le?H0(Ee,{className:Ie}):Ee);return pe(v.createElement(o5.Provider,{value:U},T))}),ez=Zde;ez._InternalPanelDoNotUseOrYouWillBeFired=wde;var tz=v.createContext(null);function nz(n,e){return n===void 0?null:"".concat(n,"-").concat(e)}function iz(n){var e=v.useContext(tz);return nz(e,n)}var qde=["children","locked"],Ss=v.createContext(null);function Rde(n,e){var t=he({},n);return Object.keys(e).forEach(function(i){var r=e[i];r!==void 0&&(t[i]=r)}),t}function Ah(n){var e=n.children,t=n.locked,i=_n(n,qde),r=v.useContext(Ss),o=Jh(function(){return Rde(r,i)},[r,i],function(a,s){return!t&&(a[0]!==s[0]||!ch(a[1],s[1],!0))});return v.createElement(Ss.Provider,{value:o},e)}var Mde=[],rz=v.createContext(null);function m5(){return v.useContext(rz)}var oz=v.createContext(Mde);function z0(n){var e=v.useContext(oz);return v.useMemo(function(){return n!==void 0?[].concat(Nt(e),[n]):e},[e,n])}var az=v.createContext(null),ZB=v.createContext({});function $R(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(IB(n)){var t=n.nodeName.toLowerCase(),i=["input","select","textarea","button"].includes(t)||n.isContentEditable||t==="a"&&!!n.getAttribute("href"),r=n.getAttribute("tabindex"),o=Number(r),a=null;return r&&!Number.isNaN(o)?a=o:i&&a===null&&(a=0),i&&n.disabled&&(a=null),a!==null&&(a>=0||e&&a<0)}return!1}function _de(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=Nt(n.querySelectorAll("*")).filter(function(i){return $R(i,e)});return $R(n,e)&&t.unshift(n),t}var vv=ht.LEFT,yv=ht.RIGHT,Bv=ht.UP,rp=ht.DOWN,op=ht.ENTER,sz=ht.ESC,FI=ht.HOME,HI=ht.END,eM=[Bv,rp,vv,yv];function Wde(n,e,t,i){var r,o="prev",a="next",s="children",l="parent";if(n==="inline"&&i===op)return{inlineTrigger:!0};var c=me(me({},Bv,o),rp,a),g=me(me(me(me({},vv,t?a:o),yv,t?o:a),rp,s),op,s),u=me(me(me(me(me(me({},Bv,o),rp,a),op,s),sz,l),vv,t?s:l),yv,t?l:s),d={inline:c,horizontal:g,vertical:u,inlineSub:c,horizontalSub:u,verticalSub:u},C=(r=d["".concat(n).concat(e?"":"Sub")])===null||r===void 0?void 0:r[i];switch(C){case o:return{offset:-1,sibling:!0};case a:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}function Vde(n){for(var e=n;e;){if(e.getAttribute("data-menu-list"))return e;e=e.parentElement}return null}function Nde(n,e){for(var t=n||document.activeElement;t;){if(e.has(t))return t;t=t.parentElement}return null}function qB(n,e){var t=_de(n,!0);return t.filter(function(i){return e.has(i)})}function tM(n,e,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var r=qB(n,e),o=r.length,a=r.findIndex(function(s){return t===s});return i<0?a===-1?a=o-1:a-=1:i>0&&(a+=1),a=(a+o)%o,r[a]}var xv=function(e,t){var i=new Set,r=new Map,o=new Map;return e.forEach(function(a){var s=document.querySelector("[data-menu-id='".concat(nz(t,a),"']"));s&&(i.add(s),o.set(s,a),r.set(a,s))}),{elements:i,key2element:r,element2key:o}};function Fde(n,e,t,i,r,o,a,s,l,c){var g=v.useRef(),u=v.useRef();u.current=e;var d=function(){Si.cancel(g.current)};return v.useEffect(function(){return function(){d()}},[]),function(C){var f=C.which;if([].concat(eM,[op,sz,FI,HI]).includes(f)){var b=o(),A=xv(b,i),p=A,y=p.elements,B=p.key2element,x=p.element2key,w=B.get(e),S=Nde(w,y),Z=x.get(S),M=Wde(n,a(Z,!0).length===1,t,f);if(!M&&f!==FI&&f!==HI)return;(eM.includes(f)||[FI,HI].includes(f))&&C.preventDefault();var q=function(D){if(D){var N=D,L=D.querySelector("a");L!=null&&L.getAttribute("href")&&(N=L);var P=x.get(D);s(P),d(),g.current=Si(function(){u.current===P&&N.focus()})}};if([FI,HI].includes(f)||M.sibling||!S){var _;!S||n==="inline"?_=r.current:_=Vde(S);var V,Y=qB(_,y);f===FI?V=Y[0]:f===HI?V=Y[Y.length-1]:V=tM(_,y,S,M.offset),q(V)}else if(M.inlineTrigger)l(Z);else if(M.offset>0)l(Z,!0),d(),g.current=Si(function(){A=xv(b,i);var z=S.getAttribute("aria-controls"),D=document.getElementById(z),N=tM(D,A.elements);q(N)},5);else if(M.offset<0){var X=a(Z,!0),K=X[X.length-2],Q=B.get(K);l(K,!1),q(Q)}}c==null||c(C)}}function Hde(n){Promise.resolve().then(n)}var RB="__RC_UTIL_PATH_SPLIT__",nM=function(e){return e.join(RB)},Ede=function(e){return e.split(RB)},Gv="rc-menu-more";function Xde(){var n=v.useState({}),e=Pe(n,2),t=e[1],i=v.useRef(new Map),r=v.useRef(new Map),o=v.useState([]),a=Pe(o,2),s=a[0],l=a[1],c=v.useRef(0),g=v.useRef(!1),u=function(){g.current||t({})},d=v.useCallback(function(B,x){var w=nM(x);r.current.set(w,B),i.current.set(B,w),c.current+=1;var S=c.current;Hde(function(){S===c.current&&u()})},[]),C=v.useCallback(function(B,x){var w=nM(x);r.current.delete(w),i.current.delete(B)},[]),f=v.useCallback(function(B){l(B)},[]),b=v.useCallback(function(B,x){var w=i.current.get(B)||"",S=Ede(w);return x&&s.includes(S[0])&&S.unshift(Gv),S},[s]),A=v.useCallback(function(B,x){return B.filter(function(w){return w!==void 0}).some(function(w){var S=b(w,!0);return S.includes(x)})},[b]),p=function(){var x=Nt(i.current.keys());return s.length&&x.push(Gv),x},y=v.useCallback(function(B){var x="".concat(i.current.get(B)).concat(RB),w=new Set;return Nt(r.current.keys()).forEach(function(S){S.startsWith(x)&&w.add(r.current.get(S))}),w},[]);return v.useEffect(function(){return function(){g.current=!0}},[]),{registerPath:d,unregisterPath:C,refreshOverflowKeys:f,isSubPathKey:A,getKeyPath:b,getKeys:p,getSubPathKeys:y}}function JI(n){var e=v.useRef(n);e.current=n;var t=v.useCallback(function(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(i=e.current)===null||i===void 0?void 0:i.call.apply(i,[e].concat(o))},[]);return n?t:void 0}var zde=Math.random().toFixed(5).toString().slice(2),iM=0;function Yde(n){var e=Pl(n,{value:n}),t=Pe(e,2),i=t[0],r=t[1];return v.useEffect(function(){iM+=1;var o="".concat(zde,"-").concat(iM);r("rc-menu-uuid-".concat(o))},[]),i}function lz(n,e,t,i){var r=v.useContext(Ss),o=r.activeKey,a=r.onActive,s=r.onInactive,l={active:o===n};return e||(l.onMouseEnter=function(c){t==null||t({key:n,domEvent:c}),a(n)},l.onMouseLeave=function(c){i==null||i({key:n,domEvent:c}),s(n)}),l}function cz(n){var e=v.useContext(Ss),t=e.mode,i=e.rtl,r=e.inlineIndent;if(t!=="inline")return null;var o=n;return i?{paddingRight:o*r}:{paddingLeft:o*r}}function gz(n){var e=n.icon,t=n.props,i=n.children,r;return e===null||e===!1?null:(typeof e=="function"?r=v.createElement(e,he({},t)):typeof e!="boolean"&&(r=e),r||i||null)}var Kde=["item"];function F3(n){var e=n.item,t=_n(n,Kde);return Object.defineProperty(t,"item",{get:function(){return _r(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),e}}),t}var Lde=["title","attribute","elementRef"],Tde=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],kde=["active"],Pde=function(n){nc(t,n);var e=ic(t);function t(){return tr(this,t),e.apply(this,arguments)}return nr(t,[{key:"render",value:function(){var r=this.props,o=r.title,a=r.attribute,s=r.elementRef,l=_n(r,Lde),c=$a(l,["eventKey","popupClassName","popupOffset","onTitleClick"]);return _r(!a,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),v.createElement(il.Item,Lt({},a,{title:typeof o=="string"?o:void 0},c,{ref:s}))}}]),t}(v.Component),Dde=v.forwardRef(function(n,e){var t=n.style,i=n.className,r=n.eventKey;n.warnKey;var o=n.disabled,a=n.itemIcon,s=n.children,l=n.role,c=n.onMouseEnter,g=n.onMouseLeave,u=n.onClick,d=n.onKeyDown,C=n.onFocus,f=_n(n,Tde),b=iz(r),A=v.useContext(Ss),p=A.prefixCls,y=A.onItemClick,B=A.disabled,x=A.overflowDisabled,w=A.itemIcon,S=A.selectedKeys,Z=A.onActive,M=v.useContext(ZB),q=M._internalRenderMenuItem,_="".concat(p,"-item"),V=v.useRef(),Y=v.useRef(),X=B||o,K=l1(e,Y),Q=z0(r),z=function(Le){return{key:r,keyPath:Nt(Q).reverse(),item:V.current,domEvent:Le}},D=a||w,N=lz(r,X,c,g),L=N.active,P=_n(N,kde),O=S.includes(r),ie=cz(Q.length),ge=function(Le){if(!X){var Ee=z(Le);u==null||u(F3(Ee)),y(Ee)}},J=function(Le){if(d==null||d(Le),Le.which===ht.ENTER){var Ee=z(Le);u==null||u(F3(Ee)),y(Ee)}},Ce=function(Le){Z(r),C==null||C(Le)},ve={};n.role==="option"&&(ve["aria-selected"]=O);var Ae=v.createElement(Pde,Lt({ref:V,elementRef:K,role:l===null?"none":l||"menuitem",tabIndex:o?null:-1,"data-menu-id":x&&b?null:b},$a(f,["extra"]),P,ve,{component:"li","aria-disabled":o,style:he(he({},ie),t),className:ct(_,me(me(me({},"".concat(_,"-active"),L),"".concat(_,"-selected"),O),"".concat(_,"-disabled"),X),i),onClick:ge,onKeyDown:J,onFocus:Ce}),s,v.createElement(gz,{props:he(he({},n),{},{isSelected:O}),icon:D}));return q&&(Ae=q(Ae,n,{selected:O})),Ae});function Ude(n,e){var t=n.eventKey,i=m5(),r=z0(t);return v.useEffect(function(){if(i)return i.registerPath(t,r),function(){i.unregisterPath(t,r)}},[r]),i?null:v.createElement(Dde,Lt({},n,{ref:e}))}const f5=v.forwardRef(Ude);var Ode=["className","children"],jde=function(e,t){var i=e.className,r=e.children,o=_n(e,Ode),a=v.useContext(Ss),s=a.prefixCls,l=a.mode,c=a.rtl;return v.createElement("ul",Lt({className:ct(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat(l==="inline"?"inline":"vertical"),i),role:"menu"},o,{"data-menu-list":!0,ref:t}),r)},MB=v.forwardRef(jde);MB.displayName="SubMenuList";function _B(n,e){return cl(n).map(function(t,i){if(v.isValidElement(t)){var r,o,a=t.key,s=(r=(o=t.props)===null||o===void 0?void 0:o.eventKey)!==null&&r!==void 0?r:a,l=s==null;l&&(s="tmp_key-".concat([].concat(Nt(e),[i]).join("-")));var c={key:s,eventKey:s};return v.cloneElement(t,c)}return t})}var Or={adjustX:1,adjustY:1},Jde={topLeft:{points:["bl","tl"],overflow:Or},topRight:{points:["br","tr"],overflow:Or},bottomLeft:{points:["tl","bl"],overflow:Or},bottomRight:{points:["tr","br"],overflow:Or},leftTop:{points:["tr","tl"],overflow:Or},leftBottom:{points:["br","bl"],overflow:Or},rightTop:{points:["tl","tr"],overflow:Or},rightBottom:{points:["bl","br"],overflow:Or}},Qde={topLeft:{points:["bl","tl"],overflow:Or},topRight:{points:["br","tr"],overflow:Or},bottomLeft:{points:["tl","bl"],overflow:Or},bottomRight:{points:["tr","br"],overflow:Or},rightTop:{points:["tr","tl"],overflow:Or},rightBottom:{points:["br","bl"],overflow:Or},leftTop:{points:["tl","tr"],overflow:Or},leftBottom:{points:["bl","br"],overflow:Or}};function uz(n,e,t){if(e)return e;if(t)return t[n]||t.other}var $de={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function e0e(n){var e=n.prefixCls,t=n.visible,i=n.children,r=n.popup,o=n.popupStyle,a=n.popupClassName,s=n.popupOffset,l=n.disabled,c=n.mode,g=n.onVisibleChange,u=v.useContext(Ss),d=u.getPopupContainer,C=u.rtl,f=u.subMenuOpenDelay,b=u.subMenuCloseDelay,A=u.builtinPlacements,p=u.triggerSubMenuAction,y=u.forceSubMenuRender,B=u.rootClassName,x=u.motion,w=u.defaultMotions,S=v.useState(!1),Z=Pe(S,2),M=Z[0],q=Z[1],_=he(C?he({},Qde):he({},Jde),A),V=$de[c],Y=uz(c,x,w),X=v.useRef(Y);c!=="inline"&&(X.current=Y);var K=he(he({},X.current),{},{leavedClassName:"".concat(e,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Q=v.useRef();return v.useEffect(function(){return Q.current=Si(function(){q(t)}),function(){Si.cancel(Q.current)}},[t]),v.createElement(BB,{prefixCls:e,popupClassName:ct("".concat(e,"-popup"),me({},"".concat(e,"-rtl"),C),a,B),stretch:c==="horizontal"?"minWidth":null,getPopupContainer:d,builtinPlacements:_,popupPlacement:V,popupVisible:M,popup:r,popupStyle:o,popupAlign:s&&{offset:s},action:l?[]:[p],mouseEnterDelay:f,mouseLeaveDelay:b,onPopupVisibleChange:g,forceRender:y,popupMotion:K,fresh:!0},i)}function t0e(n){var e=n.id,t=n.open,i=n.keyPath,r=n.children,o="inline",a=v.useContext(Ss),s=a.prefixCls,l=a.forceSubMenuRender,c=a.motion,g=a.defaultMotions,u=a.mode,d=v.useRef(!1);d.current=u===o;var C=v.useState(!d.current),f=Pe(C,2),b=f[0],A=f[1],p=d.current?t:!1;v.useEffect(function(){d.current&&A(!1)},[u]);var y=he({},uz(o,c,g));i.length>1&&(y.motionAppear=!1);var B=y.onVisibleChanged;return y.onVisibleChanged=function(x){return!d.current&&!x&&A(!0),B==null?void 0:B(x)},b?null:v.createElement(Ah,{mode:o,locked:!d.current},v.createElement(gl,Lt({visible:p},y,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),function(x){var w=x.className,S=x.style;return v.createElement(MB,{id:e,className:w,style:S},r)}))}var n0e=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],i0e=["active"],r0e=v.forwardRef(function(n,e){var t=n.style,i=n.className,r=n.title,o=n.eventKey;n.warnKey;var a=n.disabled,s=n.internalPopupClose,l=n.children,c=n.itemIcon,g=n.expandIcon,u=n.popupClassName,d=n.popupOffset,C=n.popupStyle,f=n.onClick,b=n.onMouseEnter,A=n.onMouseLeave,p=n.onTitleClick,y=n.onTitleMouseEnter,B=n.onTitleMouseLeave,x=_n(n,n0e),w=iz(o),S=v.useContext(Ss),Z=S.prefixCls,M=S.mode,q=S.openKeys,_=S.disabled,V=S.overflowDisabled,Y=S.activeKey,X=S.selectedKeys,K=S.itemIcon,Q=S.expandIcon,z=S.onItemClick,D=S.onOpenChange,N=S.onActive,L=v.useContext(ZB),P=L._internalRenderSubMenuItem,O=v.useContext(az),ie=O.isSubPathKey,ge=z0(),J="".concat(Z,"-submenu"),Ce=_||a,ve=v.useRef(),Ae=v.useRef(),Xe=c??K,Le=g??Q,Ee=q.includes(o),be=!V&&Ee,Ie=ie(X,o),pe=lz(o,Ce,y,B),$=pe.active,Ge=_n(pe,i0e),Ze=v.useState(!1),Ye=Pe(Ze,2),Ne=Ye[0],Je=Ye[1],Ke=function(dt){Ce||Je(dt)},U=function(dt){Ke(!0),b==null||b({key:o,domEvent:dt})},T=function(dt){Ke(!1),A==null||A({key:o,domEvent:dt})},le=v.useMemo(function(){return $||(M!=="inline"?Ne||ie([Y],o):!1)},[M,$,Y,Ne,o,ie]),ye=cz(ge.length),Fe=function(dt){Ce||(p==null||p({key:o,domEvent:dt}),M==="inline"&&D(o,!Ee))},we=JI(function(ot){f==null||f(F3(ot)),z(ot)}),tt=function(dt){M!=="inline"&&D(o,dt)},je=function(){N(o)},Qe=w&&"".concat(w,"-popup"),Rt=v.createElement("div",Lt({role:"menuitem",style:ye,className:"".concat(J,"-title"),tabIndex:Ce?null:-1,ref:ve,title:typeof r=="string"?r:null,"data-menu-id":V&&w?null:w,"aria-expanded":be,"aria-haspopup":!0,"aria-controls":Qe,"aria-disabled":Ce,onClick:Fe,onFocus:je},Ge),r,v.createElement(gz,{icon:M!=="horizontal"?Le:void 0,props:he(he({},n),{},{isOpen:be,isSubMenu:!0})},v.createElement("i",{className:"".concat(J,"-arrow")}))),ze=v.useRef(M);if(M!=="inline"&&ge.length>1?ze.current="vertical":ze.current=M,!V){var st=ze.current;Rt=v.createElement(e0e,{mode:st,prefixCls:J,visible:!s&&be&&M!=="inline",popupClassName:u,popupOffset:d,popupStyle:C,popup:v.createElement(Ah,{mode:st==="horizontal"?"vertical":st},v.createElement(MB,{id:Qe,ref:Ae},l)),disabled:Ce,onVisibleChange:tt},Rt)}var gt=v.createElement(il.Item,Lt({ref:e,role:"none"},x,{component:"li",style:t,className:ct(J,"".concat(J,"-").concat(M),i,me(me(me(me({},"".concat(J,"-open"),be),"".concat(J,"-active"),le),"".concat(J,"-selected"),Ie),"".concat(J,"-disabled"),Ce)),onMouseEnter:U,onMouseLeave:T}),Rt,!V&&v.createElement(t0e,{id:Qe,open:be,keyPath:ge},l));return P&&(gt=P(gt,n,{selected:Ie,active:le,open:be,disabled:Ce})),v.createElement(Ah,{onItemClick:we,mode:M==="horizontal"?"vertical":M,itemIcon:Xe,expandIcon:Le},gt)}),p5=v.forwardRef(function(n,e){var t=n.eventKey,i=n.children,r=z0(t),o=_B(i,r),a=m5();v.useEffect(function(){if(a)return a.registerPath(t,r),function(){a.unregisterPath(t,r)}},[r]);var s;return a?s=o:s=v.createElement(r0e,Lt({ref:e},n),o),v.createElement(oz.Provider,{value:r},s)});function WB(n){var e=n.className,t=n.style,i=v.useContext(Ss),r=i.prefixCls,o=m5();return o?null:v.createElement("li",{role:"separator",className:ct("".concat(r,"-item-divider"),e),style:t})}var o0e=["className","title","eventKey","children"],a0e=v.forwardRef(function(n,e){var t=n.className,i=n.title;n.eventKey;var r=n.children,o=_n(n,o0e),a=v.useContext(Ss),s=a.prefixCls,l="".concat(s,"-item-group");return v.createElement("li",Lt({ref:e,role:"presentation"},o,{onClick:function(g){return g.stopPropagation()},className:ct(l,t)}),v.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:typeof i=="string"?i:void 0},i),v.createElement("ul",{role:"group",className:"".concat(l,"-list")},r))}),VB=v.forwardRef(function(n,e){var t=n.eventKey,i=n.children,r=z0(t),o=_B(i,r),a=m5();return a?o:v.createElement(a0e,Lt({ref:e},$a(n,["warnKey"])),o)}),s0e=["label","children","key","type","extra"];function wv(n,e,t){var i=e.item,r=e.group,o=e.submenu,a=e.divider;return(n||[]).map(function(s,l){if(s&&sn(s)==="object"){var c=s,g=c.label,u=c.children,d=c.key,C=c.type,f=c.extra,b=_n(c,s0e),A=d??"tmp-".concat(l);return u||C==="group"?C==="group"?v.createElement(r,Lt({key:A},b,{title:g}),wv(u,e,t)):v.createElement(o,Lt({key:A},b,{title:g}),wv(u,e,t)):C==="divider"?v.createElement(a,Lt({key:A},b)):v.createElement(i,Lt({key:A},b,{extra:f}),g,(!!f||f===0)&&v.createElement("span",{className:"".concat(t,"-item-extra")},f))}return null}).filter(function(s){return s})}function rM(n,e,t,i,r){var o=n,a=he({divider:WB,item:f5,group:VB,submenu:p5},i);return e&&(o=wv(e,a,r)),_B(o,t)}var l0e=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Pg=[],c0e=v.forwardRef(function(n,e){var t,i=n,r=i.prefixCls,o=r===void 0?"rc-menu":r,a=i.rootClassName,s=i.style,l=i.className,c=i.tabIndex,g=c===void 0?0:c,u=i.items,d=i.children,C=i.direction,f=i.id,b=i.mode,A=b===void 0?"vertical":b,p=i.inlineCollapsed,y=i.disabled,B=i.disabledOverflow,x=i.subMenuOpenDelay,w=x===void 0?.1:x,S=i.subMenuCloseDelay,Z=S===void 0?.1:S,M=i.forceSubMenuRender,q=i.defaultOpenKeys,_=i.openKeys,V=i.activeKey,Y=i.defaultActiveFirst,X=i.selectable,K=X===void 0?!0:X,Q=i.multiple,z=Q===void 0?!1:Q,D=i.defaultSelectedKeys,N=i.selectedKeys,L=i.onSelect,P=i.onDeselect,O=i.inlineIndent,ie=O===void 0?24:O,ge=i.motion,J=i.defaultMotions,Ce=i.triggerSubMenuAction,ve=Ce===void 0?"hover":Ce,Ae=i.builtinPlacements,Xe=i.itemIcon,Le=i.expandIcon,Ee=i.overflowedIndicator,be=Ee===void 0?"...":Ee,Ie=i.overflowedIndicatorPopupClassName,pe=i.getPopupContainer,$=i.onClick,Ge=i.onOpenChange,Ze=i.onKeyDown;i.openAnimation,i.openTransitionName;var Ye=i._internalRenderMenuItem,Ne=i._internalRenderSubMenuItem,Je=i._internalComponents,Ke=_n(i,l0e),U=v.useMemo(function(){return[rM(d,u,Pg,Je,o),rM(d,u,Pg,{},o)]},[d,u,Je]),T=Pe(U,2),le=T[0],ye=T[1],Fe=v.useState(!1),we=Pe(Fe,2),tt=we[0],je=we[1],Qe=v.useRef(),Rt=Yde(f),ze=C==="rtl",st=Pl(q,{value:_,postState:function(nt){return nt||Pg}}),gt=Pe(st,2),ot=gt[0],dt=gt[1],ue=function(nt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function kt(){dt(nt),Ge==null||Ge(nt)}Zt?rg.flushSync(kt):kt()},Me=v.useState(ot),$e=Pe(Me,2),ce=$e[0],Se=$e[1],_e=v.useRef(!1),Te=v.useMemo(function(){return(A==="inline"||A==="vertical")&&p?["vertical",p]:[A,!1]},[A,p]),It=Pe(Te,2),at=It[0],_t=It[1],Ft=at==="inline",Bt=v.useState(at),ut=Pe(Bt,2),it=ut[0],an=ut[1],Nn=v.useState(_t),xt=Pe(Nn,2),bt=xt[0],Wt=xt[1];v.useEffect(function(){an(at),Wt(_t),_e.current&&(Ft?dt(ce):ue(Pg))},[at,_t]);var Vt=v.useState(0),Dt=Pe(Vt,2),qt=Dt[0],Dn=Dt[1],Rn=qt>=le.length-1||it!=="horizontal"||B;v.useEffect(function(){Ft&&Se(ot)},[ot]),v.useEffect(function(){return _e.current=!0,function(){_e.current=!1}},[]);var E=Xde(),j=E.registerPath,de=E.unregisterPath,We=E.refreshOverflowKeys,Ve=E.isSubPathKey,H=E.getKeyPath,ee=E.getKeys,te=E.getSubPathKeys,re=v.useMemo(function(){return{registerPath:j,unregisterPath:de}},[j,de]),ne=v.useMemo(function(){return{isSubPathKey:Ve}},[Ve]);v.useEffect(function(){We(Rn?Pg:le.slice(qt+1).map(function(At){return At.key}))},[qt,Rn]);var Be=Pl(V||Y&&((t=le[0])===null||t===void 0?void 0:t.key),{value:V}),Re=Pe(Be,2),Ct=Re[0],Ue=Re[1],lt=JI(function(At){Ue(At)}),pt=JI(function(){Ue(void 0)});v.useImperativeHandle(e,function(){return{list:Qe.current,focus:function(nt){var Zt,kt=ee(),Yt=xv(kt,Rt),un=Yt.elements,Cn=Yt.key2element,Pn=Yt.element2key,ir=qB(Qe.current,un),rr=Ct??(ir[0]?Pn.get(ir[0]):(Zt=le.find(function(xo){return!xo.props.disabled}))===null||Zt===void 0?void 0:Zt.key),bi=Cn.get(rr);if(rr&&bi){var Gr;bi==null||(Gr=bi.focus)===null||Gr===void 0||Gr.call(bi,nt)}}}});var rt=Pl(D||[],{value:N,postState:function(nt){return Array.isArray(nt)?nt:nt==null?Pg:[nt]}}),Ht=Pe(rt,2),Et=Ht[0],St=Ht[1],Ut=function(nt){if(K){var Zt=nt.key,kt=Et.includes(Zt),Yt;z?kt?Yt=Et.filter(function(Cn){return Cn!==Zt}):Yt=[].concat(Nt(Et),[Zt]):Yt=[Zt],St(Yt);var un=he(he({},nt),{},{selectedKeys:Yt});kt?P==null||P(un):L==null||L(un)}!z&&ot.length&&it!=="inline"&&ue(Pg)},Xt=JI(function(At){$==null||$(F3(At)),Ut(At)}),ft=JI(function(At,nt){var Zt=ot.filter(function(Yt){return Yt!==At});if(nt)Zt.push(At);else if(it!=="inline"){var kt=te(At);Zt=Zt.filter(function(Yt){return!kt.has(Yt)})}ch(ot,Zt,!0)||ue(Zt,!0)}),Ot=function(nt,Zt){var kt=Zt??!ot.includes(nt);ft(nt,kt)},Pt=Fde(it,Ct,ze,Rt,Qe,ee,H,Ue,Ot,Ze);v.useEffect(function(){je(!0)},[]);var yn=v.useMemo(function(){return{_internalRenderMenuItem:Ye,_internalRenderSubMenuItem:Ne}},[Ye,Ne]),In=it!=="horizontal"||B?le:le.map(function(At,nt){return v.createElement(Ah,{key:At.key,overflowDisabled:nt>qt},At)}),An=v.createElement(il,Lt({id:f,ref:Qe,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:f5,className:ct(o,"".concat(o,"-root"),"".concat(o,"-").concat(it),l,me(me({},"".concat(o,"-inline-collapsed"),bt),"".concat(o,"-rtl"),ze),a),dir:C,style:s,role:"menu",tabIndex:g,data:In,renderRawItem:function(nt){return nt},renderRawRest:function(nt){var Zt=nt.length,kt=Zt?le.slice(-Zt):null;return v.createElement(p5,{eventKey:Gv,title:be,disabled:Rn,internalPopupClose:Zt===0,popupClassName:Ie},kt)},maxCount:it!=="horizontal"||B?il.INVALIDATE:il.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(nt){Dn(nt)},onKeyDown:Pt},Ke));return v.createElement(ZB.Provider,{value:yn},v.createElement(tz.Provider,{value:Rt},v.createElement(Ah,{prefixCls:o,rootClassName:a,mode:it,openKeys:ot,rtl:ze,disabled:y,motion:tt?ge:null,defaultMotions:tt?J:null,activeKey:Ct,onActive:lt,onInactive:pt,selectedKeys:Et,inlineIndent:ie,subMenuOpenDelay:w,subMenuCloseDelay:Z,forceSubMenuRender:M,builtinPlacements:Ae,triggerSubMenuAction:ve,getPopupContainer:pe,itemIcon:Xe,expandIcon:Le,onItemClick:Xt,onOpenChange:ft},v.createElement(az.Provider,{value:ne},An),v.createElement("div",{style:{display:"none"},"aria-hidden":!0},v.createElement(rz.Provider,{value:re},ye)))))}),a2=c0e;a2.Item=f5;a2.SubMenu=p5;a2.ItemGroup=VB;a2.Divider=WB;const dz=v.createContext({});var g0e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},u0e=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:g0e}))},d0e=v.forwardRef(u0e);const H3=v.createContext({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var I0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Iz=n=>{const{prefixCls:e,className:t,dashed:i}=n,r=I0e(n,["prefixCls","className","dashed"]),{getPrefixCls:o}=v.useContext(Zn),a=o("menu",e),s=ct({[`${a}-item-divider-dashed`]:!!i},t);return v.createElement(WB,Object.assign({className:s},r))},Cz=n=>{var e;const{className:t,children:i,icon:r,title:o,danger:a,extra:s}=n,{prefixCls:l,firstLevel:c,direction:g,disableMenuItemTitleTooltip:u,inlineCollapsed:d}=v.useContext(H3),C=B=>{const x=i==null?void 0:i[0],w=v.createElement("span",{className:ct(`${l}-title-content`,{[`${l}-title-content-with-extra`]:!!s||s===0})},i);return(!r||v.isValidElement(i)&&i.type==="span")&&i&&B&&c&&typeof x=="string"?v.createElement("div",{className:`${l}-inline-collapsed-noicon`},x.charAt(0)):w},{siderCollapsed:f}=v.useContext(dz);let b=o;typeof o>"u"?b=c?i:"":o===!1&&(b="");const A={title:b};!f&&!d&&(A.title=null,A.open=!1);const p=cl(i).length;let y=v.createElement(f5,Object.assign({},$a(n,["title","icon","danger"]),{className:ct({[`${l}-item-danger`]:a,[`${l}-item-only-child`]:(r?p+1:p)===1},t),title:typeof o=="string"?o:void 0}),H0(r,{className:ct(v.isValidElement(r)?(e=r.props)===null||e===void 0?void 0:e.className:"",`${l}-item-icon`)}),C(d));return u||(y=v.createElement(ez,Object.assign({},A,{placement:g==="rtl"?"left":"right",overlayClassName:`${l}-inline-collapsed-tooltip`}),y)),y},oM=v.createContext(null),C0e=n=>{const{componentCls:e,motionDurationSlow:t,horizontalLineHeight:i,colorSplit:r,lineWidth:o,lineType:a,itemPaddingInline:s}=n;return{[`${e}-horizontal`]:{lineHeight:i,border:0,borderBottom:`${mt(o)} ${a} ${r}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},h0e=n=>{let{componentCls:e,menuArrowOffset:t,calc:i}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${mt(i(t).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${mt(t)})`}}}}},aM=n=>Object.assign({},cE(n)),sM=(n,e)=>{const{componentCls:t,itemColor:i,itemSelectedColor:r,groupTitleColor:o,itemBg:a,subMenuItemBg:s,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:g,activeBarBorderWidth:u,motionDurationSlow:d,motionEaseInOut:C,motionEaseOut:f,itemPaddingInline:b,motionDurationMid:A,itemHoverColor:p,lineType:y,colorSplit:B,itemDisabledColor:x,dangerItemColor:w,dangerItemHoverColor:S,dangerItemSelectedColor:Z,dangerItemActiveBg:M,dangerItemSelectedBg:q,popupBg:_,itemHoverBg:V,itemActiveBg:Y,menuSubMenuBg:X,horizontalItemSelectedColor:K,horizontalItemSelectedBg:Q,horizontalItemBorderRadius:z,horizontalItemHoverBg:D}=n;return{[`${t}-${e}, ${t}-${e} > ${t}`]:{color:i,background:a,[`&${t}-root:focus-visible`]:Object.assign({},aM(n)),[`${t}-item`]:{"&-group-title, &-extra":{color:o}},[`${t}-submenu-selected`]:{[`> ${t}-submenu-title`]:{color:r}},[`${t}-item, ${t}-submenu-title`]:{color:i,[`&:not(${t}-item-disabled):focus-visible`]:Object.assign({},aM(n))},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${x} !important`},[`${t}-item:not(${t}-item-selected):not(${t}-submenu-selected)`]:{[`&:hover, > ${t}-submenu-title:hover`]:{color:p}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:V},"&:active":{backgroundColor:Y}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:V},"&:active":{backgroundColor:Y}}},[`${t}-item-danger`]:{color:w,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:S}},[`&${t}-item:active`]:{background:M}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:r,[`&${t}-item-danger`]:{color:Z},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:l,[`&${t}-item-danger`]:{backgroundColor:q}},[`&${t}-submenu > ${t}`]:{backgroundColor:X},[`&${t}-popup > ${t}`]:{backgroundColor:_},[`&${t}-submenu-popup > ${t}`]:{backgroundColor:_},[`&${t}-horizontal`]:Object.assign(Object.assign({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:u,marginTop:n.calc(u).mul(-1).equal(),marginBottom:0,borderRadius:z,"&::after":{position:"absolute",insetInline:b,bottom:0,borderBottom:`${mt(c)} solid transparent`,transition:`border-color ${d} ${C}`,content:'""'},"&:hover, &-active, &-open":{background:D,"&::after":{borderBottomWidth:c,borderBottomColor:K}},"&-selected":{color:K,backgroundColor:Q,"&:hover":{backgroundColor:Q},"&::after":{borderBottomWidth:c,borderBottomColor:K}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${mt(u)} ${y} ${B}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:s},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${mt(g)} solid ${r}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${A} ${f}`,`opacity ${A} ${f}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:Z}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${A} ${C}`,`opacity ${A} ${C}`].join(",")}}}}}},lM=n=>{const{componentCls:e,itemHeight:t,itemMarginInline:i,padding:r,menuArrowSize:o,marginXS:a,itemMarginBlock:s,itemWidth:l,itemPaddingInline:c}=n,g=n.calc(o).add(r).add(a).equal();return{[`${e}-item`]:{position:"relative",overflow:"hidden"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:mt(t),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:s,width:l},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:mt(t)},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:g}}},m0e=n=>{const{componentCls:e,iconCls:t,itemHeight:i,colorTextLightSolid:r,dropdownWidth:o,controlHeightLG:a,motionEaseOut:s,paddingXL:l,itemMarginInline:c,fontSizeLG:g,motionDurationFast:u,motionDurationSlow:d,paddingXS:C,boxShadowSecondary:f,collapsedWidth:b,collapsedIconSize:A}=n,p={height:i,lineHeight:mt(i),listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":Object.assign({[`&${e}-root`]:{boxShadow:"none"}},lM(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:Object.assign(Object.assign({},lM(n)),{boxShadow:f})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${mt(n.calc(a).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${d}`,`background ${d}`,`padding ${u} ${s}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:p,[`& ${e}-item-group-title`]:{paddingInlineStart:l}},[`${e}-item`]:p}},{[`${e}-inline-collapsed`]:{width:b,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:g,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${mt(n.calc(g).div(2).equal())} - ${mt(c)})`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:A,lineHeight:mt(i),"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:r}},[`${e}-item-group-title`]:Object.assign(Object.assign({},mh),{paddingInline:C})}}]},cM=n=>{const{componentCls:e,motionDurationSlow:t,motionDurationMid:i,motionEaseInOut:r,motionEaseOut:o,iconCls:a,iconSize:s,iconMarginInlineEnd:l}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${t}`,`background ${t}`,`padding calc(${t} + 0.1s) ${r}`].join(","),[`${e}-item-icon, ${a}`]:{minWidth:s,fontSize:s,transition:[`font-size ${i} ${o}`,`margin ${t} ${r}`,`color ${t}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${t} ${r}`,`margin ${t}`,`color ${t}`].join(",")}},[`${e}-item-icon`]:Object.assign({},n5()),[`&${e}-item-only-child`]:{[`> ${a}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},gM=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:i,borderRadius:r,menuArrowSize:o,menuArrowOffset:a}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${i}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:n.calc(o).mul(.6).equal(),height:n.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:r,transition:[`background ${t} ${i}`,`transform ${t} ${i}`,`top ${t} ${i}`,`color ${t} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${mt(n.calc(a).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${mt(a)})`}}}}},f0e=n=>{const{antCls:e,componentCls:t,fontSize:i,motionDurationSlow:r,motionDurationMid:o,motionEaseInOut:a,paddingXS:s,padding:l,colorSplit:c,lineWidth:g,zIndexPopup:u,borderRadiusLG:d,subMenuItemBorderRadius:C,menuArrowSize:f,menuArrowOffset:b,lineType:A,groupTitleLineHeight:p,groupTitleFontSize:y}=n;return[{"":{[t]:Object.assign(Object.assign({},j8()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ag(n)),j8()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${r} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.itemBorderRadius},[`${t}-item-group-title`]:{padding:`${mt(s)} ${mt(l)}`,fontSize:y,lineHeight:p,transition:`all ${r}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${r} ${a}`,`background ${r} ${a}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${r} ${a}`,`background ${r} ${a}`,`padding ${o} ${a}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${r} ${a}`,`padding ${r} ${a}`].join(",")},[`${t}-title-content`]:{transition:`color ${r}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${e}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${t}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:n.padding,fontSize:n.fontSizeSM}},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:A,borderWidth:0,borderTopWidth:g,marginBlock:g,padding:0,"&-dashed":{borderStyle:"dashed"}}}),cM(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${mt(n.calc(i).mul(2).equal())} ${mt(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:u,borderRadius:d,boxShadow:"none",transformOrigin:"0 0",[`&${t}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${t}`]:Object.assign(Object.assign(Object.assign({borderRadius:d},cM(n)),gM(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:C},[`${t}-submenu-title::after`]:{transition:`transform ${r} ${a}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:n.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:n.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:n.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:n.paddingXS}}}),gM(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${mt(b)})`},"&::after":{transform:`rotate(45deg) translateX(${mt(n.calc(b).mul(-1).equal())})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(${mt(n.calc(f).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${mt(n.calc(b).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${mt(b)})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},p0e=n=>{var e,t,i;const{colorPrimary:r,colorError:o,colorTextDisabled:a,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:g,colorFillAlter:u,colorFillContent:d,lineWidth:C,lineWidthBold:f,controlItemBgActive:b,colorBgTextHover:A,controlHeightLG:p,lineHeight:y,colorBgElevated:B,marginXXS:x,padding:w,fontSize:S,controlHeightSM:Z,fontSizeLG:M,colorTextLightSolid:q,colorErrorHover:_}=n,V=(e=n.activeBarWidth)!==null&&e!==void 0?e:0,Y=(t=n.activeBarBorderWidth)!==null&&t!==void 0?t:C,X=(i=n.itemMarginInline)!==null&&i!==void 0?i:n.marginXXS,K=new Ti(q).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:n.zIndexPopupBase+50,radiusItem:n.borderRadiusLG,itemBorderRadius:n.borderRadiusLG,radiusSubMenuItem:n.borderRadiusSM,subMenuItemBorderRadius:n.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:r,horizontalItemHoverColor:r,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:r,itemSelectedColor:r,colorItemTextSelectedHorizontal:r,horizontalItemSelectedColor:r,colorItemBg:g,itemBg:g,colorItemBgHover:A,itemHoverBg:A,colorItemBgActive:d,itemActiveBg:b,colorSubItemBg:u,subMenuItemBg:u,colorItemBgSelected:b,itemSelectedBg:b,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:V,colorActiveBarHeight:f,activeBarHeight:f,colorActiveBarBorderSize:C,activeBarBorderWidth:Y,colorItemTextDisabled:a,itemDisabledColor:a,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:X,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:p,groupTitleLineHeight:y,collapsedWidth:p*2,popupBg:B,itemMarginBlock:x,itemPaddingInline:w,horizontalLineHeight:`${p*1.15}px`,iconSize:S,iconMarginInlineEnd:Z-S,collapsedIconSize:M,groupTitleFontSize:S,darkItemDisabledColor:new Ti(q).setAlpha(.25).toRgbString(),darkItemColor:K,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:q,darkItemSelectedBg:r,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:K,darkItemHoverColor:q,darkDangerItemHoverColor:_,darkDangerItemSelectedColor:q,darkDangerItemActiveBg:o,itemWidth:V?`calc(100% + ${Y}px)`:`calc(100% - ${X*2}px)`}},A0e=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ya("Menu",r=>{const{colorBgElevated:o,controlHeightLG:a,fontSize:s,darkItemColor:l,darkDangerItemColor:c,darkItemBg:g,darkSubMenuItemBg:u,darkItemSelectedColor:d,darkItemSelectedBg:C,darkDangerItemSelectedBg:f,darkItemHoverBg:b,darkGroupTitleColor:A,darkItemHoverColor:p,darkItemDisabledColor:y,darkDangerItemHoverColor:B,darkDangerItemSelectedColor:x,darkDangerItemActiveBg:w,popupBg:S,darkPopupBg:Z}=r,M=r.calc(s).div(7).mul(5).equal(),q=Mi(r,{menuArrowSize:M,menuHorizontalHeight:r.calc(a).mul(1.15).equal(),menuArrowOffset:r.calc(M).mul(.25).equal(),menuSubMenuBg:o,calc:r.calc,popupBg:S}),_=Mi(q,{itemColor:l,itemHoverColor:p,groupTitleColor:A,itemSelectedColor:d,itemBg:g,popupBg:Z,subMenuItemBg:u,itemActiveBg:"transparent",itemSelectedBg:C,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:b,itemDisabledColor:y,dangerItemColor:c,dangerItemHoverColor:B,dangerItemSelectedColor:x,dangerItemActiveBg:w,dangerItemSelectedBg:f,menuSubMenuBg:u,horizontalItemSelectedColor:d,horizontalItemSelectedBg:C});return[f0e(q),C0e(q),m0e(q),sM(q,"light"),sM(_,"dark"),h0e(q),Kse(q),_3(q,"slide-up"),_3(q,"slide-down"),CB(q,"zoom-big")]},p0e,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:t,unitless:{groupTitleLineHeight:!0}})(n,e)},hz=n=>{var e;const{popupClassName:t,icon:i,title:r,theme:o}=n,a=v.useContext(H3),{prefixCls:s,inlineCollapsed:l,theme:c}=a,g=z0();let u;if(!i)u=l&&!g.length&&r&&typeof r=="string"?v.createElement("div",{className:`${s}-inline-collapsed-noicon`},r.charAt(0)):v.createElement("span",{className:`${s}-title-content`},r);else{const f=v.isValidElement(r)&&r.type==="span";u=v.createElement(v.Fragment,null,H0(i,{className:ct(v.isValidElement(i)?(e=i.props)===null||e===void 0?void 0:e.className:"",`${s}-item-icon`)}),f?r:v.createElement("span",{className:`${s}-title-content`},r))}const d=v.useMemo(()=>Object.assign(Object.assign({},a),{firstLevel:!1}),[a]),[C]=$h("Menu");return v.createElement(H3.Provider,{value:d},v.createElement(p5,Object.assign({},$a(n,["icon"]),{title:u,popupClassName:ct(s,t,`${s}-${o||c}`),popupStyle:Object.assign({zIndex:C},n.popupStyle)})))};var b0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Rb(n){return n===null||n===!1}const v0e={item:Cz,submenu:hz,divider:Iz},y0e=v.forwardRef((n,e)=>{var t;const i=v.useContext(oM),r=i||{},{getPrefixCls:o,getPopupContainer:a,direction:s,menu:l}=v.useContext(Zn),c=o(),{prefixCls:g,className:u,style:d,theme:C="light",expandIcon:f,_internalDisableMenuItemTitleTooltip:b,inlineCollapsed:A,siderCollapsed:p,rootClassName:y,mode:B,selectable:x,onClick:w,overflowedIndicatorPopupClassName:S}=n,Z=b0e(n,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),M=$a(Z,["collapsedWidth"]);(t=r.validator)===null||t===void 0||t.call(r,{mode:B});const q=fr(function(){var ie;w==null||w.apply(void 0,arguments),(ie=r.onClick)===null||ie===void 0||ie.call(r)}),_=r.mode||B,V=x??r.selectable,Y=v.useMemo(()=>p!==void 0?p:A,[A,p]),X={horizontal:{motionName:`${c}-slide-up`},inline:hse(c),other:{motionName:`${c}-zoom-big`}},K=o("menu",g||r.prefixCls),Q=r5(K),[z,D,N]=A0e(K,Q,!i),L=ct(`${K}-${C}`,l==null?void 0:l.className,u),P=v.useMemo(()=>{var ie,ge;if(typeof f=="function"||Rb(f))return f||null;if(typeof r.expandIcon=="function"||Rb(r.expandIcon))return r.expandIcon||null;if(typeof(l==null?void 0:l.expandIcon)=="function"||Rb(l==null?void 0:l.expandIcon))return(l==null?void 0:l.expandIcon)||null;const J=(ie=f??(r==null?void 0:r.expandIcon))!==null&&ie!==void 0?ie:l==null?void 0:l.expandIcon;return H0(J,{className:ct(`${K}-submenu-expand-icon`,v.isValidElement(J)?(ge=J.props)===null||ge===void 0?void 0:ge.className:void 0)})},[f,r==null?void 0:r.expandIcon,l==null?void 0:l.expandIcon,K]),O=v.useMemo(()=>({prefixCls:K,inlineCollapsed:Y||!1,direction:s,firstLevel:!0,theme:C,mode:_,disableMenuItemTitleTooltip:b}),[K,Y,s,b,C]);return z(v.createElement(oM.Provider,{value:null},v.createElement(H3.Provider,{value:O},v.createElement(a2,Object.assign({getPopupContainer:a,overflowedIndicator:v.createElement(d0e,null),overflowedIndicatorPopupClassName:ct(K,`${K}-${C}`,S),mode:_,selectable:V,onClick:q},M,{inlineCollapsed:Y,style:Object.assign(Object.assign({},l==null?void 0:l.style),d),className:L,prefixCls:K,direction:s,defaultMotions:X,expandIcon:P,ref:e,rootClassName:ct(y,D,r.rootClassName,N,Q),_internalComponents:v0e})))))}),Ju=v.forwardRef((n,e)=>{const t=v.useRef(null),i=v.useContext(dz);return v.useImperativeHandle(e,()=>({menu:t.current,focus:r=>{var o;(o=t.current)===null||o===void 0||o.focus(r)}})),v.createElement(y0e,Object.assign({ref:t},n,i))});Ju.Item=Cz;Ju.SubMenu=hz;Ju.Divider=Iz;Ju.ItemGroup=VB;const mz=v.createContext({}),B0e=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},x0e=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},G0e=(n,e)=>{const{prefixCls:t,componentCls:i,gridColumns:r}=n,o={};for(let a=r;a>=0;a--)a===0?(o[`${i}${e}-${a}`]={display:"none"},o[`${i}-push-${a}`]={insetInlineStart:"auto"},o[`${i}-pull-${a}`]={insetInlineEnd:"auto"},o[`${i}${e}-push-${a}`]={insetInlineStart:"auto"},o[`${i}${e}-pull-${a}`]={insetInlineEnd:"auto"},o[`${i}${e}-offset-${a}`]={marginInlineStart:0},o[`${i}${e}-order-${a}`]={order:0}):(o[`${i}${e}-${a}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${a/r*100}%`,maxWidth:`${a/r*100}%`}],o[`${i}${e}-push-${a}`]={insetInlineStart:`${a/r*100}%`},o[`${i}${e}-pull-${a}`]={insetInlineEnd:`${a/r*100}%`},o[`${i}${e}-offset-${a}`]={marginInlineStart:`${a/r*100}%`},o[`${i}${e}-order-${a}`]={order:a});return o[`${i}${e}-flex`]={flex:`var(--${t}${e}-flex)`},o},Sv=(n,e)=>G0e(n,e),w0e=(n,e,t)=>({[`@media (min-width: ${mt(e)})`]:Object.assign({},Sv(n,t))}),S0e=()=>({}),Z0e=()=>({}),q0e=ya("Grid",B0e,S0e),R0e=ya("Grid",n=>{const e=Mi(n,{gridColumns:24}),t={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[x0e(e),Sv(e,""),Sv(e,"-xs"),Object.keys(t).map(i=>w0e(e,t[i],i)).reduce((i,r)=>Object.assign(Object.assign({},i),r),{})]},Z0e);var M0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function uM(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const _0e=["xs","sm","md","lg","xl","xxl"],Sl=v.forwardRef((n,e)=>{const{getPrefixCls:t,direction:i}=v.useContext(Zn),{gutter:r,wrap:o}=v.useContext(mz),{prefixCls:a,span:s,order:l,offset:c,push:g,pull:u,className:d,children:C,flex:f,style:b}=n,A=M0e(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),p=t("col",a),[y,B,x]=R0e(p),w={};let S={};_0e.forEach(q=>{let _={};const V=n[q];typeof V=="number"?_.span=V:typeof V=="object"&&(_=V||{}),delete A[q],S=Object.assign(Object.assign({},S),{[`${p}-${q}-${_.span}`]:_.span!==void 0,[`${p}-${q}-order-${_.order}`]:_.order||_.order===0,[`${p}-${q}-offset-${_.offset}`]:_.offset||_.offset===0,[`${p}-${q}-push-${_.push}`]:_.push||_.push===0,[`${p}-${q}-pull-${_.pull}`]:_.pull||_.pull===0,[`${p}-rtl`]:i==="rtl"}),_.flex&&(S[`${p}-${q}-flex`]=!0,w[`--${p}-${q}-flex`]=uM(_.flex))});const Z=ct(p,{[`${p}-${s}`]:s!==void 0,[`${p}-order-${l}`]:l,[`${p}-offset-${c}`]:c,[`${p}-push-${g}`]:g,[`${p}-pull-${u}`]:u},d,S,B,x),M={};if(r&&r[0]>0){const q=r[0]/2;M.paddingLeft=q,M.paddingRight=q}return f&&(M.flex=uM(f),o===!1&&!M.minWidth&&(M.minWidth=0)),y(v.createElement("div",Object.assign({},A,{style:Object.assign(Object.assign(Object.assign({},M),b),w),className:Z,ref:e}),C))});var W0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function dM(n,e){const[t,i]=v.useState(typeof n=="string"?n:""),r=()=>{if(typeof n=="string"&&i(n),typeof n=="object")for(let o=0;o<ju.length;o++){const a=ju[o];if(!e[a])continue;const s=n[a];if(s!==void 0){i(s);return}}};return v.useEffect(()=>{r()},[JSON.stringify(n),e]),t}const V0e=v.forwardRef((n,e)=>{const{prefixCls:t,justify:i,align:r,className:o,style:a,children:s,gutter:l=0,wrap:c}=n,g=W0e(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:u,direction:d}=v.useContext(Zn),[C,f]=v.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[b,A]=v.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),p=dM(r,b),y=dM(i,b),B=v.useRef(l),x=DX();v.useEffect(()=>{const D=x.subscribe(N=>{A(N);const L=B.current||0;(!Array.isArray(L)&&typeof L=="object"||Array.isArray(L)&&(typeof L[0]=="object"||typeof L[1]=="object"))&&f(N)});return()=>x.unsubscribe(D)},[]);const w=()=>{const D=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((L,P)=>{if(typeof L=="object")for(let O=0;O<ju.length;O++){const ie=ju[O];if(C[ie]&&L[ie]!==void 0){D[P]=L[ie];break}}else D[P]=L}),D},S=u("row",t),[Z,M,q]=q0e(S),_=w(),V=ct(S,{[`${S}-no-wrap`]:c===!1,[`${S}-${y}`]:y,[`${S}-${p}`]:p,[`${S}-rtl`]:d==="rtl"},o,M,q),Y={},X=_[0]!=null&&_[0]>0?_[0]/-2:void 0;X&&(Y.marginLeft=X,Y.marginRight=X);const[K,Q]=_;Y.rowGap=Q;const z=v.useMemo(()=>({gutter:[K,Q],wrap:c}),[K,Q,c]);return Z(v.createElement(mz.Provider,{value:z},v.createElement("div",Object.assign({},g,{className:V,style:Object.assign(Object.assign({},Y),a),ref:e}),s)))}),N0e=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:t,colorSplit:i,lineWidth:r,textPaddingInline:o,orientationMargin:a,verticalMarginInline:s}=n;return{[e]:Object.assign(Object.assign({},Ag(n)),{borderBlockStart:`${mt(r)} solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${mt(r)} solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${mt(n.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${mt(n.dividerHorizontalWithTextGutterMargin)} 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${mt(r)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:`calc(${a} * 100%)`},"&::after":{width:`calc(100% - ${a} * 100%)`}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:`calc(100% - ${a} * 100%)`},"&::after":{width:`calc(${a} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${mt(r)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:i,borderStyle:"dotted",borderWidth:`${mt(r)} 0 0`},[`&-horizontal${e}-with-text${e}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${e}-dotted`]:{borderInlineStartWidth:r,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:t}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:t}}})}},F0e=n=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:n.marginXS}),H0e=ya("Divider",n=>{const e=Mi(n,{dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG,sizePaddingEdgeHorizontal:0});return[N0e(e)]},F0e,{unitless:{orientationMargin:!0}});var E0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const IM=n=>{const{getPrefixCls:e,direction:t,divider:i}=v.useContext(Zn),{prefixCls:r,type:o="horizontal",orientation:a="center",orientationMargin:s,className:l,rootClassName:c,children:g,dashed:u,variant:d="solid",plain:C,style:f}=n,b=E0e(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),A=e("divider",r),[p,y,B]=H0e(A),x=!!g,w=a==="left"&&s!=null,S=a==="right"&&s!=null,Z=ct(A,i==null?void 0:i.className,y,B,`${A}-${o}`,{[`${A}-with-text`]:x,[`${A}-with-text-${a}`]:x,[`${A}-dashed`]:!!u,[`${A}-${d}`]:d!=="solid",[`${A}-plain`]:!!C,[`${A}-rtl`]:t==="rtl",[`${A}-no-default-orientation-margin-left`]:w,[`${A}-no-default-orientation-margin-right`]:S},l,c),M=v.useMemo(()=>typeof s=="number"?s:/^\d+$/.test(s)?Number(s):s,[s]),q=Object.assign(Object.assign({},w&&{marginLeft:M}),S&&{marginRight:M});return p(v.createElement("div",Object.assign({className:Z,style:Object.assign(Object.assign({},i==null?void 0:i.style),f)},b,{role:"separator"}),g&&o!=="vertical"&&v.createElement("span",{className:`${A}-inner-text`,style:q},g)))},X0e={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},fz=Gt.createContext({});var z0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Y0e=n=>cl(n).map(e=>Object.assign(Object.assign({},e==null?void 0:e.props),{key:e.key}));function K0e(n,e,t){const i=v.useMemo(()=>e||Y0e(t),[e,t]);return v.useMemo(()=>i.map(o=>{var{span:a}=o,s=z0e(o,["span"]);return a==="filled"?Object.assign(Object.assign({},s),{filled:!0}):Object.assign(Object.assign({},s),{span:typeof a=="number"?a:UX(n,a)})}),[i,n])}var L0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function T0e(n,e){let t=[],i=[],r=!1,o=0;return n.filter(a=>a).forEach(a=>{const{filled:s}=a,l=L0e(a,["filled"]);if(s){i.push(l),t.push(i),i=[],o=0;return}const c=e-o;o+=a.span||1,o>=e?(o>e?(r=!0,i.push(Object.assign(Object.assign({},l),{span:c}))):i.push(l),t.push(i),i=[],o=0):i.push(l)}),i.length>0&&t.push(i),t=t.map(a=>{const s=a.reduce((l,c)=>l+(c.span||1),0);if(s<e){const l=a[a.length-1];return l.span=e-s+1,a}return a}),[t,r]}const k0e=(n,e)=>{const[t,i]=v.useMemo(()=>T0e(e,n),[e,n]);return t},P0e=n=>{let{children:e}=n;return e};function CM(n){return n!=null}const Mb=n=>{const{itemPrefixCls:e,component:t,span:i,className:r,style:o,labelStyle:a,contentStyle:s,bordered:l,label:c,content:g,colon:u,type:d}=n,C=t;return l?v.createElement(C,{className:ct({[`${e}-item-label`]:d==="label",[`${e}-item-content`]:d==="content"},r),style:o,colSpan:i},CM(c)&&v.createElement("span",{style:a},c),CM(g)&&v.createElement("span",{style:s},g)):v.createElement(C,{className:ct(`${e}-item`,r),style:o,colSpan:i},v.createElement("div",{className:`${e}-item-container`},(c||c===0)&&v.createElement("span",{className:ct(`${e}-item-label`,{[`${e}-item-no-colon`]:!u}),style:a},c),(g||g===0)&&v.createElement("span",{className:ct(`${e}-item-content`),style:s},g)))};function _b(n,e,t){let{colon:i,prefixCls:r,bordered:o}=e,{component:a,type:s,showLabel:l,showContent:c,labelStyle:g,contentStyle:u}=t;return n.map((d,C)=>{let{label:f,children:b,prefixCls:A=r,className:p,style:y,labelStyle:B,contentStyle:x,span:w=1,key:S}=d;return typeof a=="string"?v.createElement(Mb,{key:`${s}-${S||C}`,className:p,style:y,labelStyle:Object.assign(Object.assign({},g),B),contentStyle:Object.assign(Object.assign({},u),x),span:w,colon:i,component:a,itemPrefixCls:A,bordered:o,label:l?f:null,content:c?b:null,type:s}):[v.createElement(Mb,{key:`label-${S||C}`,className:p,style:Object.assign(Object.assign(Object.assign({},g),y),B),span:1,colon:i,component:a[0],itemPrefixCls:A,bordered:o,label:f,type:"label"}),v.createElement(Mb,{key:`content-${S||C}`,className:p,style:Object.assign(Object.assign(Object.assign({},u),y),x),span:w*2-1,component:a[1],itemPrefixCls:A,bordered:o,content:b,type:"content"})]})}const D0e=n=>{const e=v.useContext(fz),{prefixCls:t,vertical:i,row:r,index:o,bordered:a}=n;return i?v.createElement(v.Fragment,null,v.createElement("tr",{key:`label-${o}`,className:`${t}-row`},_b(r,n,Object.assign({component:"th",type:"label",showLabel:!0},e))),v.createElement("tr",{key:`content-${o}`,className:`${t}-row`},_b(r,n,Object.assign({component:"td",type:"content",showContent:!0},e)))):v.createElement("tr",{key:o,className:`${t}-row`},_b(r,n,Object.assign({component:a?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},e)))},U0e=n=>{const{componentCls:e,labelBg:t}=n;return{[`&${e}-bordered`]:{[`> ${e}-view`]:{border:`${mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"> table":{tableLayout:"auto"},[`${e}-row`]:{borderBottom:`${mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${e}-item-label, > ${e}-item-content`]:{padding:`${mt(n.padding)} ${mt(n.paddingLG)}`,borderInlineEnd:`${mt(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${e}-item-label`]:{color:n.colorTextSecondary,backgroundColor:t,"&::after":{display:"none"}}}},[`&${e}-middle`]:{[`${e}-row`]:{[`> ${e}-item-label, > ${e}-item-content`]:{padding:`${mt(n.paddingSM)} ${mt(n.paddingLG)}`}}},[`&${e}-small`]:{[`${e}-row`]:{[`> ${e}-item-label, > ${e}-item-content`]:{padding:`${mt(n.paddingXS)} ${mt(n.padding)}`}}}}}},O0e=n=>{const{componentCls:e,extraColor:t,itemPaddingBottom:i,itemPaddingEnd:r,colonMarginRight:o,colonMarginLeft:a,titleMarginBottom:s}=n;return{[e]:Object.assign(Object.assign(Object.assign({},Ag(n)),U0e(n)),{"&-rtl":{direction:"rtl"},[`${e}-header`]:{display:"flex",alignItems:"center",marginBottom:s},[`${e}-title`]:Object.assign(Object.assign({},mh),{flex:"auto",color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG,lineHeight:n.lineHeightLG}),[`${e}-extra`]:{marginInlineStart:"auto",color:t,fontSize:n.fontSize},[`${e}-view`]:{width:"100%",borderRadius:n.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${e}-row`]:{"> th, > td":{paddingBottom:i,paddingInlineEnd:r},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${e}-item-label`]:{color:n.colorTextTertiary,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${mt(a)} ${mt(o)}`},[`&${e}-item-no-colon::after`]:{content:'""'}},[`${e}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${e}-item-content`]:{display:"table-cell",flex:1,color:n.contentColor,fontSize:n.fontSize,lineHeight:n.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${e}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${e}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${e}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${e}-row`]:{"> th, > td":{paddingBottom:n.paddingSM}}},"&-small":{[`${e}-row`]:{"> th, > td":{paddingBottom:n.paddingXS}}}})}},j0e=n=>({labelBg:n.colorFillAlter,titleColor:n.colorText,titleMarginBottom:n.fontSizeSM*n.lineHeightSM,itemPaddingBottom:n.padding,itemPaddingEnd:n.padding,colonMarginRight:n.marginXS,colonMarginLeft:n.marginXXS/2,contentColor:n.colorText,extraColor:n.colorText}),J0e=ya("Descriptions",n=>{const e=Mi(n,{});return O0e(e)},j0e);var Q0e=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const pz=n=>{const{prefixCls:e,title:t,extra:i,column:r,colon:o=!0,bordered:a,layout:s,children:l,className:c,rootClassName:g,style:u,size:d,labelStyle:C,contentStyle:f,items:b}=n,A=Q0e(n,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:p,direction:y,descriptions:B}=v.useContext(Zn),x=p("descriptions",e),w=gde(),S=v.useMemo(()=>{var K;return typeof r=="number"?r:(K=UX(w,Object.assign(Object.assign({},X0e),r)))!==null&&K!==void 0?K:3},[w,r]),Z=K0e(w,b,l),M=s5(d),q=k0e(S,Z),[_,V,Y]=J0e(x),X=v.useMemo(()=>({labelStyle:C,contentStyle:f}),[C,f]);return _(v.createElement(fz.Provider,{value:X},v.createElement("div",Object.assign({className:ct(x,B==null?void 0:B.className,{[`${x}-${M}`]:M&&M!=="default",[`${x}-bordered`]:!!a,[`${x}-rtl`]:y==="rtl"},c,g,V,Y),style:Object.assign(Object.assign({},B==null?void 0:B.style),u)},A),(t||i)&&v.createElement("div",{className:`${x}-header`},t&&v.createElement("div",{className:`${x}-title`},t),i&&v.createElement("div",{className:`${x}-extra`},i)),v.createElement("div",{className:`${x}-view`},v.createElement("table",null,v.createElement("tbody",null,q.map((K,Q)=>v.createElement(D0e,{key:Q,index:Q,colon:o,prefixCls:x,vertical:s==="vertical",bordered:a,row:K}))))))))};pz.Item=P0e;var hM=v.createContext(null),Az=v.createContext({}),$0e=["prefixCls","className","containerRef"],eIe=function(e){var t=e.prefixCls,i=e.className,r=e.containerRef,o=_n(e,$0e),a=v.useContext(Az),s=a.panel,l=l1(s,r);return v.createElement("div",Lt({className:ct("".concat(t,"-content"),i),role:"dialog",ref:l},ul(e,{aria:!0}),{"aria-modal":"true"},o))};function mM(n){return typeof n=="string"&&String(Number(n))===n?(_r(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(n)):n}var fM={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function tIe(n,e){var t,i,r,o=n.prefixCls,a=n.open,s=n.placement,l=n.inline,c=n.push,g=n.forceRender,u=n.autoFocus,d=n.keyboard,C=n.classNames,f=n.rootClassName,b=n.rootStyle,A=n.zIndex,p=n.className,y=n.id,B=n.style,x=n.motion,w=n.width,S=n.height,Z=n.children,M=n.mask,q=n.maskClosable,_=n.maskMotion,V=n.maskClassName,Y=n.maskStyle,X=n.afterOpenChange,K=n.onClose,Q=n.onMouseEnter,z=n.onMouseOver,D=n.onMouseLeave,N=n.onClick,L=n.onKeyDown,P=n.onKeyUp,O=n.styles,ie=n.drawerRender,ge=v.useRef(),J=v.useRef(),Ce=v.useRef();v.useImperativeHandle(e,function(){return ge.current});var ve=function(T){var le=T.keyCode,ye=T.shiftKey;switch(le){case ht.TAB:{if(le===ht.TAB){if(!ye&&document.activeElement===Ce.current){var Fe;(Fe=J.current)===null||Fe===void 0||Fe.focus({preventScroll:!0})}else if(ye&&document.activeElement===J.current){var we;(we=Ce.current)===null||we===void 0||we.focus({preventScroll:!0})}}break}case ht.ESC:{K&&d&&(T.stopPropagation(),K(T));break}}};v.useEffect(function(){if(a&&u){var U;(U=ge.current)===null||U===void 0||U.focus({preventScroll:!0})}},[a]);var Ae=v.useState(!1),Xe=Pe(Ae,2),Le=Xe[0],Ee=Xe[1],be=v.useContext(hM),Ie;typeof c=="boolean"?Ie=c?{}:{distance:0}:Ie=c||{};var pe=(t=(i=(r=Ie)===null||r===void 0?void 0:r.distance)!==null&&i!==void 0?i:be==null?void 0:be.pushDistance)!==null&&t!==void 0?t:180,$=v.useMemo(function(){return{pushDistance:pe,push:function(){Ee(!0)},pull:function(){Ee(!1)}}},[pe]);v.useEffect(function(){if(a){var U;be==null||(U=be.push)===null||U===void 0||U.call(be)}else{var T;be==null||(T=be.pull)===null||T===void 0||T.call(be)}},[a]),v.useEffect(function(){return function(){var U;be==null||(U=be.pull)===null||U===void 0||U.call(be)}},[]);var Ge=M&&v.createElement(gl,Lt({key:"mask"},_,{visible:a}),function(U,T){var le=U.className,ye=U.style;return v.createElement("div",{className:ct("".concat(o,"-mask"),le,C==null?void 0:C.mask,V),style:he(he(he({},ye),Y),O==null?void 0:O.mask),onClick:q&&a?K:void 0,ref:T})}),Ze=typeof x=="function"?x(s):x,Ye={};if(Le&&pe)switch(s){case"top":Ye.transform="translateY(".concat(pe,"px)");break;case"bottom":Ye.transform="translateY(".concat(-pe,"px)");break;case"left":Ye.transform="translateX(".concat(pe,"px)");break;default:Ye.transform="translateX(".concat(-pe,"px)");break}s==="left"||s==="right"?Ye.width=mM(w):Ye.height=mM(S);var Ne={onMouseEnter:Q,onMouseOver:z,onMouseLeave:D,onClick:N,onKeyDown:L,onKeyUp:P},Je=v.createElement(gl,Lt({key:"panel"},Ze,{visible:a,forceRender:g,onVisibleChanged:function(T){X==null||X(T)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function(U,T){var le=U.className,ye=U.style,Fe=v.createElement(eIe,Lt({id:y,containerRef:T,prefixCls:o,className:ct(p,C==null?void 0:C.content),style:he(he({},B),O==null?void 0:O.content)},ul(n,{aria:!0}),Ne),Z);return v.createElement("div",Lt({className:ct("".concat(o,"-content-wrapper"),C==null?void 0:C.wrapper,le),style:he(he(he({},Ye),ye),O==null?void 0:O.wrapper)},ul(n,{data:!0})),ie?ie(Fe):Fe)}),Ke=he({},b);return A&&(Ke.zIndex=A),v.createElement(hM.Provider,{value:$},v.createElement("div",{className:ct(o,"".concat(o,"-").concat(s),f,me(me({},"".concat(o,"-open"),a),"".concat(o,"-inline"),l)),style:Ke,tabIndex:-1,ref:ge,onKeyDown:ve},Ge,v.createElement("div",{tabIndex:0,ref:J,style:fM,"aria-hidden":"true","data-sentinel":"start"}),Je,v.createElement("div",{tabIndex:0,ref:Ce,style:fM,"aria-hidden":"true","data-sentinel":"end"})))}var nIe=v.forwardRef(tIe),iIe=function(e){var t=e.open,i=t===void 0?!1:t,r=e.prefixCls,o=r===void 0?"rc-drawer":r,a=e.placement,s=a===void 0?"right":a,l=e.autoFocus,c=l===void 0?!0:l,g=e.keyboard,u=g===void 0?!0:g,d=e.width,C=d===void 0?378:d,f=e.mask,b=f===void 0?!0:f,A=e.maskClosable,p=A===void 0?!0:A,y=e.getContainer,B=e.forceRender,x=e.afterOpenChange,w=e.destroyOnClose,S=e.onMouseEnter,Z=e.onMouseOver,M=e.onMouseLeave,q=e.onClick,_=e.onKeyDown,V=e.onKeyUp,Y=e.panelRef,X=v.useState(!1),K=Pe(X,2),Q=K[0],z=K[1],D=v.useState(!1),N=Pe(D,2),L=N[0],P=N[1];ui(function(){P(!0)},[]);var O=L?i:!1,ie=v.useRef(),ge=v.useRef();ui(function(){O&&(ge.current=document.activeElement)},[O]);var J=function(Le){var Ee;if(z(Le),x==null||x(Le),!Le&&ge.current&&!((Ee=ie.current)!==null&&Ee!==void 0&&Ee.contains(ge.current))){var be;(be=ge.current)===null||be===void 0||be.focus({preventScroll:!0})}},Ce=v.useMemo(function(){return{panel:Y}},[Y]);if(!B&&!Q&&!O&&w)return null;var ve={onMouseEnter:S,onMouseOver:Z,onMouseLeave:M,onClick:q,onKeyDown:_,onKeyUp:V},Ae=he(he({},e),{},{open:O,prefixCls:o,placement:s,autoFocus:c,keyboard:u,width:C,mask:b,maskClosable:p,inline:y===!1,afterOpenChange:J,ref:ie},ve);return v.createElement(Az.Provider,{value:Ce},v.createElement(d5,{open:O||B||Q,autoDestroy:!1,getContainer:y,autoLock:b&&(O||Q)},v.createElement(nIe,Ae)))};const bz=n=>{var e,t;const{prefixCls:i,title:r,footer:o,extra:a,loading:s,onClose:l,headerStyle:c,bodyStyle:g,footerStyle:u,children:d,classNames:C,styles:f}=n,{drawer:b}=v.useContext(Zn),A=v.useCallback(w=>v.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:`${i}-close`},w),[l]),[p,y]=gX(V3(n),V3(b),{closable:!0,closeIconRender:A}),B=v.useMemo(()=>{var w,S;return!r&&!p?null:v.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(w=b==null?void 0:b.styles)===null||w===void 0?void 0:w.header),c),f==null?void 0:f.header),className:ct(`${i}-header`,{[`${i}-header-close-only`]:p&&!r&&!a},(S=b==null?void 0:b.classNames)===null||S===void 0?void 0:S.header,C==null?void 0:C.header)},v.createElement("div",{className:`${i}-header-title`},y,r&&v.createElement("div",{className:`${i}-title`},r)),a&&v.createElement("div",{className:`${i}-extra`},a))},[p,y,a,c,i,r]),x=v.useMemo(()=>{var w,S;if(!o)return null;const Z=`${i}-footer`;return v.createElement("div",{className:ct(Z,(w=b==null?void 0:b.classNames)===null||w===void 0?void 0:w.footer,C==null?void 0:C.footer),style:Object.assign(Object.assign(Object.assign({},(S=b==null?void 0:b.styles)===null||S===void 0?void 0:S.footer),u),f==null?void 0:f.footer)},o)},[o,u,i]);return v.createElement(v.Fragment,null,B,v.createElement("div",{className:ct(`${i}-body`,C==null?void 0:C.body,(e=b==null?void 0:b.classNames)===null||e===void 0?void 0:e.body),style:Object.assign(Object.assign(Object.assign({},(t=b==null?void 0:b.styles)===null||t===void 0?void 0:t.body),g),f==null?void 0:f.body)},s?v.createElement(u1,{active:!0,title:!1,paragraph:{rows:5},className:`${i}-body-skeleton`}):d),x)},rIe=n=>{const e="100%";return{left:`translateX(-${e})`,right:`translateX(${e})`,top:`translateY(-${e})`,bottom:`translateY(${e})`}[n]},vz=(n,e)=>({"&-enter, &-appear":Object.assign(Object.assign({},n),{"&-active":e}),"&-leave":Object.assign(Object.assign({},e),{"&-active":n})}),yz=(n,e)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${e}`}}},vz({opacity:n},{opacity:1})),oIe=(n,e)=>[yz(.7,e),vz({transform:rIe(n)},{transform:"none"})],aIe=n=>{const{componentCls:e,motionDurationSlow:t}=n;return{[e]:{[`${e}-mask-motion`]:yz(0,t),[`${e}-panel-motion`]:["left","right","top","bottom"].reduce((i,r)=>Object.assign(Object.assign({},i),{[`&-${r}`]:oIe(r,t)}),{})}}},sIe=n=>{const{borderRadiusSM:e,componentCls:t,zIndexPopup:i,colorBgMask:r,colorBgElevated:o,motionDurationSlow:a,motionDurationMid:s,paddingXS:l,padding:c,paddingLG:g,fontSizeLG:u,lineHeightLG:d,lineWidth:C,lineType:f,colorSplit:b,marginXS:A,colorIcon:p,colorIconHover:y,colorBgTextHover:B,colorBgTextActive:x,colorText:w,fontWeightStrong:S,footerPaddingBlock:Z,footerPaddingInline:M,calc:q}=n,_=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:i,pointerEvents:"none",color:w,"&-pure":{position:"relative",background:o,display:"flex",flexDirection:"column",[`&${t}-left`]:{boxShadow:n.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:n.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:n.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:n.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:i,background:r,pointerEvents:"auto"},[_]:{position:"absolute",zIndex:i,maxWidth:"100vw",transition:`all ${a}`,"&-hidden":{display:"none"}},[`&-left > ${_}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowDrawerLeft},[`&-right > ${_}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:n.boxShadowDrawerRight},[`&-top > ${_}`]:{top:0,insetInline:0,boxShadow:n.boxShadowDrawerUp},[`&-bottom > ${_}`]:{bottom:0,insetInline:0,boxShadow:n.boxShadowDrawerDown},[`${t}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${mt(c)} ${mt(g)}`,fontSize:u,lineHeight:d,borderBottom:`${mt(C)} ${f} ${b}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:Object.assign({display:"inline-flex",width:q(u).add(l).equal(),height:q(u).add(l).equal(),borderRadius:e,justifyContent:"center",alignItems:"center",marginInlineEnd:A,color:p,fontWeight:S,fontSize:u,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${s}`,textRendering:"auto","&:hover":{color:y,backgroundColor:B,textDecoration:"none"},"&:active":{backgroundColor:x}},uB(n)),[`${t}-title`]:{flex:1,margin:0,fontWeight:n.fontWeightStrong,fontSize:u,lineHeight:d},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:g,overflow:"auto",[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${t}-footer`]:{flexShrink:0,padding:`${mt(Z)} ${mt(M)}`,borderTop:`${mt(C)} ${f} ${b}`},"&-rtl":{direction:"rtl"}}}},lIe=n=>({zIndexPopup:n.zIndexPopupBase,footerPaddingBlock:n.paddingXS,footerPaddingInline:n.padding}),Bz=ya("Drawer",n=>{const e=Mi(n,{});return[sIe(e),aIe(e)]},lIe);var xz=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const cIe={distance:180},Zv=n=>{const{rootClassName:e,width:t,height:i,size:r="default",mask:o=!0,push:a=cIe,open:s,afterOpenChange:l,onClose:c,prefixCls:g,getContainer:u,style:d,className:C,visible:f,afterVisibleChange:b,maskStyle:A,drawerStyle:p,contentWrapperStyle:y}=n,B=xz(n,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:x,getPrefixCls:w,direction:S,drawer:Z}=v.useContext(Zn),M=w("drawer",g),[q,_,V]=Bz(M),Y=u===void 0&&x?()=>x(document.body):u,X=ct({"no-mask":!o,[`${M}-rtl`]:S==="rtl"},e,_,V),K=v.useMemo(()=>t??(r==="large"?736:378),[t,r]),Q=v.useMemo(()=>i??(r==="large"?736:378),[i,r]),z={motionName:lg(M,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},D=Ce=>({motionName:lg(M,`panel-motion-${Ce}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),N=uX(),[L,P]=$h("Drawer",B.zIndex),{classNames:O={},styles:ie={}}=B,{classNames:ge={},styles:J={}}=Z||{};return q(v.createElement(yB,{form:!0,space:!0},v.createElement(o5.Provider,{value:P},v.createElement(iIe,Object.assign({prefixCls:M,onClose:c,maskMotion:z,motion:D},B,{classNames:{mask:ct(O.mask,ge.mask),content:ct(O.content,ge.content),wrapper:ct(O.wrapper,ge.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},ie.mask),A),J.mask),content:Object.assign(Object.assign(Object.assign({},ie.content),p),J.content),wrapper:Object.assign(Object.assign(Object.assign({},ie.wrapper),y),J.wrapper)},open:s??f,mask:o,push:a,width:K,height:Q,style:Object.assign(Object.assign({},Z==null?void 0:Z.style),d),className:ct(Z==null?void 0:Z.className,C),rootClassName:X,getContainer:Y,afterOpenChange:l??b,panelRef:N,zIndex:L}),v.createElement(bz,Object.assign({prefixCls:M},B,{onClose:c}))))))},gIe=n=>{const{prefixCls:e,style:t,className:i,placement:r="right"}=n,o=xz(n,["prefixCls","style","className","placement"]),{getPrefixCls:a}=v.useContext(Zn),s=a("drawer",e),[l,c,g]=Bz(s),u=ct(s,`${s}-pure`,`${s}-${r}`,c,g,i);return l(v.createElement("div",{className:u,style:t},v.createElement(bz,Object.assign({prefixCls:s},o))))};Zv._InternalPanelDoNotUseOrYouWillBeFired=gIe;function pM(n){return["small","middle","large"].includes(n)}function AM(n){return n?typeof n=="number"&&!Number.isNaN(n):!1}const Gz=Gt.createContext({latestIndex:0}),uIe=Gz.Provider,dIe=n=>{let{className:e,index:t,children:i,split:r,style:o}=n;const{latestIndex:a}=v.useContext(Gz);return i==null?null:v.createElement(v.Fragment,null,v.createElement("div",{className:e,style:o},i),t<a&&r&&v.createElement("span",{className:`${e}-split`},r))};var IIe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const CIe=v.forwardRef((n,e)=>{var t,i,r;const{getPrefixCls:o,space:a,direction:s}=v.useContext(Zn),{size:l=(t=a==null?void 0:a.size)!==null&&t!==void 0?t:"small",align:c,className:g,rootClassName:u,children:d,direction:C="horizontal",prefixCls:f,split:b,style:A,wrap:p=!1,classNames:y,styles:B}=n,x=IIe(n,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[w,S]=Array.isArray(l)?l:[l,l],Z=pM(S),M=pM(w),q=AM(S),_=AM(w),V=cl(d,{keepEmpty:!0}),Y=c===void 0&&C==="horizontal"?"center":c,X=o("space",f),[K,Q,z]=FE(X),D=ct(X,a==null?void 0:a.className,Q,`${X}-${C}`,{[`${X}-rtl`]:s==="rtl",[`${X}-align-${Y}`]:Y,[`${X}-gap-row-${S}`]:Z,[`${X}-gap-col-${w}`]:M},g,u,z),N=ct(`${X}-item`,(i=y==null?void 0:y.item)!==null&&i!==void 0?i:(r=a==null?void 0:a.classNames)===null||r===void 0?void 0:r.item);let L=0;const P=V.map((ge,J)=>{var Ce,ve;ge!=null&&(L=J);const Ae=(ge==null?void 0:ge.key)||`${N}-${J}`;return v.createElement(dIe,{className:N,key:Ae,index:J,split:b,style:(Ce=B==null?void 0:B.item)!==null&&Ce!==void 0?Ce:(ve=a==null?void 0:a.styles)===null||ve===void 0?void 0:ve.item},ge)}),O=v.useMemo(()=>({latestIndex:L}),[L]);if(V.length===0)return null;const ie={};return p&&(ie.flexWrap="wrap"),!M&&_&&(ie.columnGap=w),!Z&&q&&(ie.rowGap=S),K(v.createElement("div",Object.assign({ref:e,className:D,style:Object.assign(Object.assign(Object.assign({},ie),a==null?void 0:a.style),A)},x),v.createElement(uIe,{value:O},P)))}),wz=CIe;wz.Compact=Zse;var hIe=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const mIe=n=>{const{prefixCls:e,className:t,closeIcon:i,closable:r,type:o,title:a,children:s,footer:l}=n,c=hIe(n,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:g}=v.useContext(Zn),u=g(),d=e||g("modal"),C=r5(u),[f,b,A]=mX(d,C),p=`${d}-confirm`;let y={};return o?y={closable:r??!1,title:"",footer:"",children:v.createElement(pX,Object.assign({},n,{prefixCls:d,confirmPrefixCls:p,rootPrefixCls:u,content:s}))}:y={closable:r??!0,title:a,footer:l!==null&&v.createElement(IX,Object.assign({},n)),children:s},f(v.createElement(tX,Object.assign({prefixCls:d,className:ct(b,`${d}-pure-panel`,o&&p,o&&`${p}-${o}`,t,A,C)},c,{closeIcon:dX(d,i),closable:r},y)))},fIe=SX(mIe);function Sz(n){return r2(yX(n))}const Hr=fX;Hr.useModal=Kge;Hr.info=function(e){return r2(BX(e))};Hr.success=function(e){return r2(xX(e))};Hr.error=function(e){return r2(GX(e))};Hr.warning=Sz;Hr.warn=Sz;Hr.confirm=function(e){return r2(wX(e))};Hr.destroyAll=function(){for(;vu.length;){const e=vu.pop();e&&e()}};Hr.config=Hge;Hr._InternalPanelDoNotUseOrYouWillBeFired=fIe;var pIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},AIe=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:pIe}))},bIe=v.forwardRef(AIe),vIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"},yIe=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:vIe}))},BIe=v.forwardRef(yIe),xIe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},GIe=function(e,t){return v.createElement(ro,Lt({},e,{ref:t,icon:xIe}))},wIe=v.forwardRef(GIe),NB={exports:{}},Yd=typeof Reflect=="object"?Reflect:null,bM=Yd&&typeof Yd.apply=="function"?Yd.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},ap;Yd&&typeof Yd.ownKeys=="function"?ap=Yd.ownKeys:Object.getOwnPropertySymbols?ap=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ap=function(e){return Object.getOwnPropertyNames(e)};function SIe(n){console&&console.warn&&console.warn(n)}var Zz=Number.isNaN||function(e){return e!==e};function $n(){$n.init.call(this)}NB.exports=$n;NB.exports.once=MIe;$n.EventEmitter=$n;$n.prototype._events=void 0;$n.prototype._eventsCount=0;$n.prototype._maxListeners=void 0;var vM=10;function A5(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty($n,"defaultMaxListeners",{enumerable:!0,get:function(){return vM},set:function(n){if(typeof n!="number"||n<0||Zz(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");vM=n}});$n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$n.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Zz(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function qz(n){return n._maxListeners===void 0?$n.defaultMaxListeners:n._maxListeners}$n.prototype.getMaxListeners=function(){return qz(this)};$n.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r=e==="error",o=this._events;if(o!==void 0)r=r&&o.error===void 0;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")bM(l,this,t);else for(var c=l.length,g=Vz(l,c),i=0;i<c;++i)bM(g[i],this,t);return!0};function Rz(n,e,t,i){var r,o,a;if(A5(t),o=n._events,o===void 0?(o=n._events=Object.create(null),n._eventsCount=0):(o.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),o=n._events),a=o[e]),a===void 0)a=o[e]=t,++n._eventsCount;else if(typeof a=="function"?a=o[e]=i?[t,a]:[a,t]:i?a.unshift(t):a.push(t),r=qz(n),r>0&&a.length>r&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=n,s.type=e,s.count=a.length,SIe(s)}return n}$n.prototype.addListener=function(e,t){return Rz(this,e,t,!1)};$n.prototype.on=$n.prototype.addListener;$n.prototype.prependListener=function(e,t){return Rz(this,e,t,!0)};function ZIe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Mz(n,e,t){var i={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},r=ZIe.bind(i);return r.listener=t,i.wrapFn=r,r}$n.prototype.once=function(e,t){return A5(t),this.on(e,Mz(this,e,t)),this};$n.prototype.prependOnceListener=function(e,t){return A5(t),this.prependListener(e,Mz(this,e,t)),this};$n.prototype.removeListener=function(e,t){var i,r,o,a,s;if(A5(t),r=this._events,r===void 0)return this;if(i=r[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(o=-1,a=i.length-1;a>=0;a--)if(i[a]===t||i[a].listener===t){s=i[a].listener,o=a;break}if(o<0)return this;o===0?i.shift():qIe(i,o),i.length===1&&(r[e]=i[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this};$n.prototype.off=$n.prototype.removeListener;$n.prototype.removeAllListeners=function(e){var t,i,r;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var o=Object.keys(i),a;for(r=0;r<o.length;++r)a=o[r],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function _z(n,e,t){var i=n._events;if(i===void 0)return[];var r=i[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?RIe(r):Vz(r,r.length)}$n.prototype.listeners=function(e){return _z(this,e,!0)};$n.prototype.rawListeners=function(e){return _z(this,e,!1)};$n.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):Wz.call(n,e)};$n.prototype.listenerCount=Wz;function Wz(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}$n.prototype.eventNames=function(){return this._eventsCount>0?ap(this._events):[]};function Vz(n,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=n[i];return t}function qIe(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function RIe(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function MIe(n,e){return new Promise(function(t,i){function r(a){n.removeListener(e,o),i(a)}function o(){typeof n.removeListener=="function"&&n.removeListener("error",r),t([].slice.call(arguments))}Nz(n,e,o,{once:!0}),e!=="error"&&_Ie(n,r,{once:!0})})}function _Ie(n,e,t){typeof n.on=="function"&&Nz(n,"error",e,t)}function Nz(n,e,t,i){if(typeof n.on=="function")i.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function r(o){i.once&&n.removeEventListener(e,r),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var WIe=NB.exports;function VIe(n,e){var t=atob(n);return t}function NIe(n,e,t){var i=VIe(n),r=i.indexOf(`
`,10)+1,o=i.substring(r)+"",a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)}function FIe(n,e,t){var i;return function(o){return i=i||NIe(n),new Worker(i,o)}}var HIe=FIe("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogUmVjb3JkcyB3aGF0IG9iamVjdHMgYXJlIGNvbGxpZGluZyB3aXRoIGVhY2ggb3RoZXIKICAgKi8KCiAgLyoqCiAgICogQSAzeDMgbWF0cml4LgogICAqIEF1dGhvcmVkIGJ5IHtAbGluayBodHRwOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS8gc2NodGVwcGV9CiAgICovCiAgY2xhc3MgTWF0MyB7CiAgICAvKioKICAgICAqIEEgdmVjdG9yIG9mIGxlbmd0aCA5LCBjb250YWluaW5nIGFsbCBtYXRyaXggZWxlbWVudHMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIEBwYXJhbSBlbGVtZW50cyBBIHZlY3RvciBvZiBsZW5ndGggOSwgY29udGFpbmluZyBhbGwgbWF0cml4IGVsZW1lbnRzLgogICAgICovCiAgICBjb25zdHJ1Y3RvcihlbGVtZW50cykgewogICAgICBpZiAoZWxlbWVudHMgPT09IHZvaWQgMCkgewogICAgICAgIGVsZW1lbnRzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdOwogICAgICB9CgogICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7CiAgICB9CiAgICAvKioKICAgICAqIFNldHMgdGhlIG1hdHJpeCB0byBpZGVudGl0eQogICAgICogQHRvZG8gU2hvdWxkIHBlcmhhcHMgYmUgcmVuYW1lZCB0byBgc2V0SWRlbnRpdHkoKWAgdG8gYmUgbW9yZSBjbGVhci4KICAgICAqIEB0b2RvIENyZWF0ZSBhbm90aGVyIGZ1bmN0aW9uIHRoYXQgaW1tZWRpYXRlbHkgY3JlYXRlcyBhbiBpZGVudGl0eSBtYXRyaXggZWcuIGBleWUoKWAKICAgICAqLwoKCiAgICBpZGVudGl0eSgpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGVbMF0gPSAxOwogICAgICBlWzFdID0gMDsKICAgICAgZVsyXSA9IDA7CiAgICAgIGVbM10gPSAwOwogICAgICBlWzRdID0gMTsKICAgICAgZVs1XSA9IDA7CiAgICAgIGVbNl0gPSAwOwogICAgICBlWzddID0gMDsKICAgICAgZVs4XSA9IDE7CiAgICB9CiAgICAvKioKICAgICAqIFNldCBhbGwgZWxlbWVudHMgdG8gemVybwogICAgICovCgoKICAgIHNldFplcm8oKSB7CiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBlWzBdID0gMDsKICAgICAgZVsxXSA9IDA7CiAgICAgIGVbMl0gPSAwOwogICAgICBlWzNdID0gMDsKICAgICAgZVs0XSA9IDA7CiAgICAgIGVbNV0gPSAwOwogICAgICBlWzZdID0gMDsKICAgICAgZVs3XSA9IDA7CiAgICAgIGVbOF0gPSAwOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBtYXRyaXggZGlhZ29uYWwgZWxlbWVudHMgZnJvbSBhIFZlYzMKICAgICAqLwoKCiAgICBzZXRUcmFjZSh2ZWN0b3IpIHsKICAgICAgY29uc3QgZSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGVbMF0gPSB2ZWN0b3IueDsKICAgICAgZVs0XSA9IHZlY3Rvci55OwogICAgICBlWzhdID0gdmVjdG9yLno7CiAgICB9CiAgICAvKioKICAgICAqIEdldHMgdGhlIG1hdHJpeCBkaWFnb25hbCBlbGVtZW50cwogICAgICovCgoKICAgIGdldFRyYWNlKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgICAgdGFyZ2V0LnggPSBlWzBdOwogICAgICB0YXJnZXQueSA9IGVbNF07CiAgICAgIHRhcmdldC56ID0gZVs4XTsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogTWF0cml4LVZlY3RvciBtdWx0aXBsaWNhdGlvbgogICAgICogQHBhcmFtIHYgVGhlIHZlY3RvciB0byBtdWx0aXBseSB3aXRoCiAgICAgKiBAcGFyYW0gdGFyZ2V0IE9wdGlvbmFsLCB0YXJnZXQgdG8gc2F2ZSB0aGUgcmVzdWx0IGluLgogICAgICovCgoKICAgIHZtdWx0KHYsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgICAgY29uc3QgeCA9IHYueDsKICAgICAgY29uc3QgeSA9IHYueTsKICAgICAgY29uc3QgeiA9IHYuejsKICAgICAgdGFyZ2V0LnggPSBlWzBdICogeCArIGVbMV0gKiB5ICsgZVsyXSAqIHo7CiAgICAgIHRhcmdldC55ID0gZVszXSAqIHggKyBlWzRdICogeSArIGVbNV0gKiB6OwogICAgICB0YXJnZXQueiA9IGVbNl0gKiB4ICsgZVs3XSAqIHkgKyBlWzhdICogejsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogTWF0cml4LXNjYWxhciBtdWx0aXBsaWNhdGlvbgogICAgICovCgoKICAgIHNtdWx0KHMpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5lbGVtZW50c1tpXSAqPSBzOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIE1hdHJpeCBtdWx0aXBsaWNhdGlvbgogICAgICogQHBhcmFtIG1hdHJpeCBNYXRyaXggdG8gbXVsdGlwbHkgd2l0aCBmcm9tIGxlZnQgc2lkZS4KICAgICAqLwoKCiAgICBtbXVsdChtYXRyaXgsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgTWF0MygpOwogICAgICB9CgogICAgICBjb25zdCBBID0gdGhpcy5lbGVtZW50czsKICAgICAgY29uc3QgQiA9IG1hdHJpeC5lbGVtZW50czsKICAgICAgY29uc3QgVCA9IHRhcmdldC5lbGVtZW50czsKICAgICAgY29uc3QgYTExID0gQVswXSwKICAgICAgICAgICAgYTEyID0gQVsxXSwKICAgICAgICAgICAgYTEzID0gQVsyXSwKICAgICAgICAgICAgYTIxID0gQVszXSwKICAgICAgICAgICAgYTIyID0gQVs0XSwKICAgICAgICAgICAgYTIzID0gQVs1XSwKICAgICAgICAgICAgYTMxID0gQVs2XSwKICAgICAgICAgICAgYTMyID0gQVs3XSwKICAgICAgICAgICAgYTMzID0gQVs4XTsKICAgICAgY29uc3QgYjExID0gQlswXSwKICAgICAgICAgICAgYjEyID0gQlsxXSwKICAgICAgICAgICAgYjEzID0gQlsyXSwKICAgICAgICAgICAgYjIxID0gQlszXSwKICAgICAgICAgICAgYjIyID0gQls0XSwKICAgICAgICAgICAgYjIzID0gQls1XSwKICAgICAgICAgICAgYjMxID0gQls2XSwKICAgICAgICAgICAgYjMyID0gQls3XSwKICAgICAgICAgICAgYjMzID0gQls4XTsKICAgICAgVFswXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMTsKICAgICAgVFsxXSA9IGExMSAqIGIxMiArIGExMiAqIGIyMiArIGExMyAqIGIzMjsKICAgICAgVFsyXSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMzsKICAgICAgVFszXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMTsKICAgICAgVFs0XSA9IGEyMSAqIGIxMiArIGEyMiAqIGIyMiArIGEyMyAqIGIzMjsKICAgICAgVFs1XSA9IGEyMSAqIGIxMyArIGEyMiAqIGIyMyArIGEyMyAqIGIzMzsKICAgICAgVFs2XSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMTsKICAgICAgVFs3XSA9IGEzMSAqIGIxMiArIGEzMiAqIGIyMiArIGEzMyAqIGIzMjsKICAgICAgVFs4XSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMzsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogU2NhbGUgZWFjaCBjb2x1bW4gb2YgdGhlIG1hdHJpeAogICAgICovCgoKICAgIHNjYWxlKHZlY3RvciwgdGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgewogICAgICAgIHRhcmdldCA9IG5ldyBNYXQzKCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRzOwogICAgICBjb25zdCB0ID0gdGFyZ2V0LmVsZW1lbnRzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDM7IGkrKykgewogICAgICAgIHRbMyAqIGkgKyAwXSA9IHZlY3Rvci54ICogZVszICogaSArIDBdOwogICAgICAgIHRbMyAqIGkgKyAxXSA9IHZlY3Rvci55ICogZVszICogaSArIDFdOwogICAgICAgIHRbMyAqIGkgKyAyXSA9IHZlY3Rvci56ICogZVszICogaSArIDJdOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTb2x2ZSBBeD1iCiAgICAgKiBAcGFyYW0gYiBUaGUgcmlnaHQgaGFuZCBzaWRlCiAgICAgKiBAcGFyYW0gdGFyZ2V0IE9wdGlvbmFsLiBUYXJnZXQgdmVjdG9yIHRvIHNhdmUgaW4uCiAgICAgKiBAcmV0dXJuIFRoZSBzb2x1dGlvbiB4CiAgICAgKiBAdG9kbyBzaG91bGQgcmV1c2UgYXJyYXlzCiAgICAgKi8KCgogICAgc29sdmUoYiwgdGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgewogICAgICAgIHRhcmdldCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIC8vIENvbnN0cnVjdCBlcXVhdGlvbnMKICAgICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93cwoKICAgICAgY29uc3QgbmMgPSA0OyAvLyBudW0gY29scwoKICAgICAgY29uc3QgZXFucyA9IFtdOwogICAgICBsZXQgaTsKICAgICAgbGV0IGo7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgbnIgKiBuYzsgaSsrKSB7CiAgICAgICAgZXFucy5wdXNoKDApOwogICAgICB9CgogICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgZm9yIChqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgICAgZXFuc1tpICsgbmMgKiBqXSA9IHRoaXMuZWxlbWVudHNbaSArIDMgKiBqXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGVxbnNbMyArIDQgKiAwXSA9IGIueDsKICAgICAgZXFuc1szICsgNCAqIDFdID0gYi55OwogICAgICBlcW5zWzMgKyA0ICogMl0gPSBiLno7IC8vIENvbXB1dGUgcmlnaHQgdXBwZXIgdHJpYW5ndWxhciB2ZXJzaW9uIG9mIHRoZSBtYXRyaXggLSBHYXVzcyBlbGltaW5hdGlvbgoKICAgICAgbGV0IG4gPSAzOwogICAgICBjb25zdCBrID0gbjsKICAgICAgbGV0IG5wOwogICAgICBjb25zdCBrcCA9IDQ7IC8vIG51bSByb3dzCgogICAgICBsZXQgcDsKCiAgICAgIGRvIHsKICAgICAgICBpID0gayAtIG47CgogICAgICAgIGlmIChlcW5zW2kgKyBuYyAqIGldID09PSAwKSB7CiAgICAgICAgICAvLyB0aGUgcGl2b3QgaXMgbnVsbCwgc3dhcCBsaW5lcwogICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgICAgaWYgKGVxbnNbaSArIG5jICogal0gIT09IDApIHsKICAgICAgICAgICAgICBucCA9IGtwOwoKICAgICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICAvLyBkbyBsaWduZSggaSApID0gbGlnbmUoIGkgKSArIGxpZ25lKCBrICkKICAgICAgICAgICAgICAgIHAgPSBrcCAtIG5wOwogICAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBpXSArPSBlcW5zW3AgKyBuYyAqIGpdOwogICAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gIT09IDApIHsKICAgICAgICAgIGZvciAoaiA9IGkgKyAxOyBqIDwgazsgaisrKSB7CiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBlcW5zW2kgKyBuYyAqIGpdIC8gZXFuc1tpICsgbmMgKiBpXTsKICAgICAgICAgICAgbnAgPSBrcDsKCiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAvLyBkbyBsaWduZSggayApID0gbGlnbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaWduZSggaSApCiAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgZXFuc1twICsgbmMgKiBqXSA9IHAgPD0gaSA/IDAgOiBlcW5zW3AgKyBuYyAqIGpdIC0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgICAgIH0gd2hpbGUgKC0tbnApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSB3aGlsZSAoLS1uKTsgLy8gR2V0IHRoZSBzb2x1dGlvbgoKCiAgICAgIHRhcmdldC56ID0gZXFuc1syICogbmMgKyAzXSAvIGVxbnNbMiAqIG5jICsgMl07CiAgICAgIHRhcmdldC55ID0gKGVxbnNbMSAqIG5jICsgM10gLSBlcW5zWzEgKiBuYyArIDJdICogdGFyZ2V0LnopIC8gZXFuc1sxICogbmMgKyAxXTsKICAgICAgdGFyZ2V0LnggPSAoZXFuc1swICogbmMgKyAzXSAtIGVxbnNbMCAqIG5jICsgMl0gKiB0YXJnZXQueiAtIGVxbnNbMCAqIG5jICsgMV0gKiB0YXJnZXQueSkgLyBlcW5zWzAgKiBuYyArIDBdOwoKICAgICAgaWYgKGlzTmFOKHRhcmdldC54KSB8fCBpc05hTih0YXJnZXQueSkgfHwgaXNOYU4odGFyZ2V0LnopIHx8IHRhcmdldC54ID09PSBJbmZpbml0eSB8fCB0YXJnZXQueSA9PT0gSW5maW5pdHkgfHwgdGFyZ2V0LnogPT09IEluZmluaXR5KSB7CiAgICAgICAgdGhyb3cgYENvdWxkIG5vdCBzb2x2ZSBlcXVhdGlvbiEgR290IHg9WyR7dGFyZ2V0LnRvU3RyaW5nKCl9XSwgYj1bJHtiLnRvU3RyaW5nKCl9XSwgQT1bJHt0aGlzLnRvU3RyaW5nKCl9XWA7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbiBlbGVtZW50IGluIHRoZSBtYXRyaXggYnkgaW5kZXguIEluZGV4IHN0YXJ0cyBhdCAwLCBub3QgMSEhIQogICAgICogQHBhcmFtIHZhbHVlIElmIHByb3ZpZGVkLCB0aGUgbWF0cml4IGVsZW1lbnQgd2lsbCBiZSBzZXQgdG8gdGhpcyB2YWx1ZS4KICAgICAqLwoKCiAgICBlKHJvdywgY29sdW1uLCB2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2NvbHVtbiArIDMgKiByb3ddOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFNldCB2YWx1ZQogICAgICAgIHRoaXMuZWxlbWVudHNbY29sdW1uICsgMyAqIHJvd10gPSB2YWx1ZTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb3B5IGFub3RoZXIgbWF0cml4IGludG8gdGhpcyBtYXRyaXggb2JqZWN0LgogICAgICovCgoKICAgIGNvcHkobWF0cml4KSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cml4LmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IG1hdHJpeC5lbGVtZW50c1tpXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeC4KICAgICAqLwoKCiAgICB0b1N0cmluZygpIHsKICAgICAgbGV0IHIgPSAnJzsKICAgICAgY29uc3Qgc2VwID0gJywnOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHsKICAgICAgICByICs9IHRoaXMuZWxlbWVudHNbaV0gKyBzZXA7CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfQogICAgLyoqCiAgICAgKiByZXZlcnNlIHRoZSBtYXRyaXgKICAgICAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IG1hdHJpeCB0byBzYXZlIGluLgogICAgICogQHJldHVybiBUaGUgc29sdXRpb24geAogICAgICovCgoKICAgIHJldmVyc2UodGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgewogICAgICAgIHRhcmdldCA9IG5ldyBNYXQzKCk7CiAgICAgIH0KCiAgICAgIC8vIENvbnN0cnVjdCBlcXVhdGlvbnMKICAgICAgY29uc3QgbnIgPSAzOyAvLyBudW0gcm93cwoKICAgICAgY29uc3QgbmMgPSA2OyAvLyBudW0gY29scwoKICAgICAgY29uc3QgZXFucyA9IHJldmVyc2VfZXFuczsKICAgICAgbGV0IGk7CiAgICAgIGxldCBqOwoKICAgICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgIGZvciAoaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIGVxbnNbaSArIG5jICogal0gPSB0aGlzLmVsZW1lbnRzW2kgKyAzICogal07CiAgICAgICAgfQogICAgICB9CgogICAgICBlcW5zWzMgKyA2ICogMF0gPSAxOwogICAgICBlcW5zWzMgKyA2ICogMV0gPSAwOwogICAgICBlcW5zWzMgKyA2ICogMl0gPSAwOwogICAgICBlcW5zWzQgKyA2ICogMF0gPSAwOwogICAgICBlcW5zWzQgKyA2ICogMV0gPSAxOwogICAgICBlcW5zWzQgKyA2ICogMl0gPSAwOwogICAgICBlcW5zWzUgKyA2ICogMF0gPSAwOwogICAgICBlcW5zWzUgKyA2ICogMV0gPSAwOwogICAgICBlcW5zWzUgKyA2ICogMl0gPSAxOyAvLyBDb21wdXRlIHJpZ2h0IHVwcGVyIHRyaWFuZ3VsYXIgdmVyc2lvbiBvZiB0aGUgbWF0cml4IC0gR2F1c3MgZWxpbWluYXRpb24KCiAgICAgIGxldCBuID0gMzsKICAgICAgY29uc3QgayA9IG47CiAgICAgIGxldCBucDsKICAgICAgY29uc3Qga3AgPSBuYzsgLy8gbnVtIHJvd3MKCiAgICAgIGxldCBwOwoKICAgICAgZG8gewogICAgICAgIGkgPSBrIC0gbjsKCiAgICAgICAgaWYgKGVxbnNbaSArIG5jICogaV0gPT09IDApIHsKICAgICAgICAgIC8vIHRoZSBwaXZvdCBpcyBudWxsLCBzd2FwIGxpbmVzCiAgICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IGs7IGorKykgewogICAgICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBqXSAhPT0gMCkgewogICAgICAgICAgICAgIG5wID0ga3A7CgogICAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgIC8vIGRvIGxpbmUoIGkgKSA9IGxpbmUoIGkgKSArIGxpbmUoIGsgKQogICAgICAgICAgICAgICAgcCA9IGtwIC0gbnA7CiAgICAgICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGldICs9IGVxbnNbcCArIG5jICogal07CiAgICAgICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZXFuc1tpICsgbmMgKiBpXSAhPT0gMCkgewogICAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBrOyBqKyspIHsKICAgICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgICBucCA9IGtwOwoKICAgICAgICAgICAgZG8gewogICAgICAgICAgICAgIC8vIGRvIGxpbmUoIGsgKSA9IGxpbmUoIGsgKSAtIG11bHRpcGxpZXIgKiBsaW5lKCBpICkKICAgICAgICAgICAgICBwID0ga3AgLSBucDsKICAgICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gcCA8PSBpID8gMCA6IGVxbnNbcCArIG5jICogal0gLSBlcW5zW3AgKyBuYyAqIGldICogbXVsdGlwbGllcjsKICAgICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IHdoaWxlICgtLW4pOyAvLyBlbGltaW5hdGUgdGhlIHVwcGVyIGxlZnQgdHJpYW5nbGUgb2YgdGhlIG1hdHJpeAoKCiAgICAgIGkgPSAyOwoKICAgICAgZG8gewogICAgICAgIGogPSBpIC0gMTsKCiAgICAgICAgZG8gewogICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IGVxbnNbaSArIG5jICogal0gLyBlcW5zW2kgKyBuYyAqIGldOwogICAgICAgICAgbnAgPSBuYzsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIHAgPSBuYyAtIG5wOwogICAgICAgICAgICBlcW5zW3AgKyBuYyAqIGpdID0gZXFuc1twICsgbmMgKiBqXSAtIGVxbnNbcCArIG5jICogaV0gKiBtdWx0aXBsaWVyOwogICAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgICAgfSB3aGlsZSAoai0tKTsKICAgICAgfSB3aGlsZSAoLS1pKTsgLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGlhZ29uYWwKCgogICAgICBpID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gMSAvIGVxbnNbaSArIG5jICogaV07CiAgICAgICAgbnAgPSBuYzsKCiAgICAgICAgZG8gewogICAgICAgICAgcCA9IG5jIC0gbnA7CiAgICAgICAgICBlcW5zW3AgKyBuYyAqIGldID0gZXFuc1twICsgbmMgKiBpXSAqIG11bHRpcGxpZXI7CiAgICAgICAgfSB3aGlsZSAoLS1ucCk7CiAgICAgIH0gd2hpbGUgKGktLSk7CgogICAgICBpID0gMjsKCiAgICAgIGRvIHsKICAgICAgICBqID0gMjsKCiAgICAgICAgZG8gewogICAgICAgICAgcCA9IGVxbnNbbnIgKyBqICsgbmMgKiBpXTsKCiAgICAgICAgICBpZiAoaXNOYU4ocCkgfHwgcCA9PT0gSW5maW5pdHkpIHsKICAgICAgICAgICAgdGhyb3cgYENvdWxkIG5vdCByZXZlcnNlISBBPVske3RoaXMudG9TdHJpbmcoKX1dYDsKICAgICAgICAgIH0KCiAgICAgICAgICB0YXJnZXQuZShpLCBqLCBwKTsKICAgICAgICB9IHdoaWxlIChqLS0pOwogICAgICB9IHdoaWxlIChpLS0pOwoKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBtYXRyaXggZnJvbSBhIHF1YXRlcmlvbgogICAgICovCgoKICAgIHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb24ocSkgewogICAgICBjb25zdCB4ID0gcS54OwogICAgICBjb25zdCB5ID0gcS55OwogICAgICBjb25zdCB6ID0gcS56OwogICAgICBjb25zdCB3ID0gcS53OwogICAgICBjb25zdCB4MiA9IHggKyB4OwogICAgICBjb25zdCB5MiA9IHkgKyB5OwogICAgICBjb25zdCB6MiA9IHogKyB6OwogICAgICBjb25zdCB4eCA9IHggKiB4MjsKICAgICAgY29uc3QgeHkgPSB4ICogeTI7CiAgICAgIGNvbnN0IHh6ID0geCAqIHoyOwogICAgICBjb25zdCB5eSA9IHkgKiB5MjsKICAgICAgY29uc3QgeXogPSB5ICogejI7CiAgICAgIGNvbnN0IHp6ID0geiAqIHoyOwogICAgICBjb25zdCB3eCA9IHcgKiB4MjsKICAgICAgY29uc3Qgd3kgPSB3ICogeTI7CiAgICAgIGNvbnN0IHd6ID0gdyAqIHoyOwogICAgICBjb25zdCBlID0gdGhpcy5lbGVtZW50czsKICAgICAgZVszICogMCArIDBdID0gMSAtICh5eSArIHp6KTsKICAgICAgZVszICogMCArIDFdID0geHkgLSB3ejsKICAgICAgZVszICogMCArIDJdID0geHogKyB3eTsKICAgICAgZVszICogMSArIDBdID0geHkgKyB3ejsKICAgICAgZVszICogMSArIDFdID0gMSAtICh4eCArIHp6KTsKICAgICAgZVszICogMSArIDJdID0geXogLSB3eDsKICAgICAgZVszICogMiArIDBdID0geHogLSB3eTsKICAgICAgZVszICogMiArIDFdID0geXogKyB3eDsKICAgICAgZVszICogMiArIDJdID0gMSAtICh4eCArIHl5KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFRyYW5zcG9zZSB0aGUgbWF0cml4CiAgICAgKiBAcGFyYW0gdGFyZ2V0IE9wdGlvbmFsLiBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0LgogICAgICogQHJldHVybiBUaGUgdGFyZ2V0IE1hdDMsIG9yIGEgbmV3IE1hdDMgaWYgdGFyZ2V0IHdhcyBvbWl0dGVkLgogICAgICovCgoKICAgIHRyYW5zcG9zZSh0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0ID0gbmV3IE1hdDMoKTsKICAgICAgfQoKICAgICAgY29uc3QgTSA9IHRoaXMuZWxlbWVudHM7CiAgICAgIGNvbnN0IFQgPSB0YXJnZXQuZWxlbWVudHM7CiAgICAgIGxldCB0bXA7IC8vU2V0IGRpYWdvbmFscwoKICAgICAgVFswXSA9IE1bMF07CiAgICAgIFRbNF0gPSBNWzRdOwogICAgICBUWzhdID0gTVs4XTsKICAgICAgdG1wID0gTVsxXTsKICAgICAgVFsxXSA9IE1bM107CiAgICAgIFRbM10gPSB0bXA7CiAgICAgIHRtcCA9IE1bMl07CiAgICAgIFRbMl0gPSBNWzZdOwogICAgICBUWzZdID0gdG1wOwogICAgICB0bXAgPSBNWzVdOwogICAgICBUWzVdID0gTVs3XTsKICAgICAgVFs3XSA9IHRtcDsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgfQogIGNvbnN0IHJldmVyc2VfZXFucyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTsKCiAgLyoqCiAgICogMy1kaW1lbnNpb25hbCB2ZWN0b3IKICAgKiBAZXhhbXBsZQogICAqICAgICBjb25zdCB2ID0gbmV3IFZlYzMoMSwgMiwgMykKICAgKiAgICAgY29uc29sZS5sb2coJ3g9JyArIHYueCkgLy8geD0xCiAgICovCgogIGNsYXNzIFZlYzMgewogICAgY29uc3RydWN0b3IoeCwgeSwgeikgewogICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7CiAgICAgICAgeCA9IDAuMDsKICAgICAgfQoKICAgICAgaWYgKHkgPT09IHZvaWQgMCkgewogICAgICAgIHkgPSAwLjA7CiAgICAgIH0KCiAgICAgIGlmICh6ID09PSB2b2lkIDApIHsKICAgICAgICB6ID0gMC4wOwogICAgICB9CgogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSB6OwogICAgfQogICAgLyoqCiAgICAgKiBWZWN0b3IgY3Jvc3MgcHJvZHVjdAogICAgICogQHBhcmFtIHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbi4KICAgICAqLwoKCiAgICBjcm9zcyh2ZWN0b3IsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBjb25zdCB2eCA9IHZlY3Rvci54OwogICAgICBjb25zdCB2eSA9IHZlY3Rvci55OwogICAgICBjb25zdCB2eiA9IHZlY3Rvci56OwogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICB0YXJnZXQueCA9IHkgKiB2eiAtIHogKiB2eTsKICAgICAgdGFyZ2V0LnkgPSB6ICogdnggLSB4ICogdno7CiAgICAgIHRhcmdldC56ID0geCAqIHZ5IC0geSAqIHZ4OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHZlY3RvcnMnIDMgZWxlbWVudHMKICAgICAqLwoKCiAgICBzZXQoeCwgeSwgeikgewogICAgICB0aGlzLnggPSB4OwogICAgICB0aGlzLnkgPSB5OwogICAgICB0aGlzLnogPSB6OwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogU2V0IGFsbCBjb21wb25lbnRzIG9mIHRoZSB2ZWN0b3IgdG8gemVyby4KICAgICAqLwoKCiAgICBzZXRaZXJvKCkgewogICAgICB0aGlzLnggPSB0aGlzLnkgPSB0aGlzLnogPSAwOwogICAgfQogICAgLyoqCiAgICAgKiBWZWN0b3IgYWRkaXRpb24KICAgICAqLwoKCiAgICB2YWRkKHZlY3RvciwgdGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQpIHsKICAgICAgICB0YXJnZXQueCA9IHZlY3Rvci54ICsgdGhpcy54OwogICAgICAgIHRhcmdldC55ID0gdmVjdG9yLnkgKyB0aGlzLnk7CiAgICAgICAgdGFyZ2V0LnogPSB2ZWN0b3IueiArIHRoaXMuejsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54ICsgdmVjdG9yLngsIHRoaXMueSArIHZlY3Rvci55LCB0aGlzLnogKyB2ZWN0b3Iueik7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVmVjdG9yIHN1YnRyYWN0aW9uCiAgICAgKiBAcGFyYW0gdGFyZ2V0IE9wdGlvbmFsIHRhcmdldCB0byBzYXZlIGluLgogICAgICovCgoKICAgIHZzdWIodmVjdG9yLCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCkgewogICAgICAgIHRhcmdldC54ID0gdGhpcy54IC0gdmVjdG9yLng7CiAgICAgICAgdGFyZ2V0LnkgPSB0aGlzLnkgLSB2ZWN0b3IueTsKICAgICAgICB0YXJnZXQueiA9IHRoaXMueiAtIHZlY3Rvci56OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuZXcgVmVjMyh0aGlzLnggLSB2ZWN0b3IueCwgdGhpcy55IC0gdmVjdG9yLnksIHRoaXMueiAtIHZlY3Rvci56KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGNyb3NzIHByb2R1Y3QgbWF0cml4IGFfY3Jvc3MgZnJvbSBhIHZlY3Rvciwgc3VjaCB0aGF0IGEgeCBiID0gYV9jcm9zcyAqIGIgPSBjCiAgICAgKgogICAgICogU2VlIHtAbGluayBodHRwczovL3d3dzguY3MudW11LnNlL2t1cnNlci9UREJEMjQvVlQwNi9sZWN0dXJlcy9MZWN0dXJlNi5wZGYgVW1lw6UgVW5pdmVyc2l0eSBMZWN0dXJlfQogICAgICovCgoKICAgIGNyb3NzbWF0KCkgewogICAgICByZXR1cm4gbmV3IE1hdDMoWzAsIC10aGlzLnosIHRoaXMueSwgdGhpcy56LCAwLCAtdGhpcy54LCAtdGhpcy55LCB0aGlzLngsIDBdKTsKICAgIH0KICAgIC8qKgogICAgICogTm9ybWFsaXplIHRoZSB2ZWN0b3IuIE5vdGUgdGhhdCB0aGlzIGNoYW5nZXMgdGhlIHZhbHVlcyBpbiB0aGUgdmVjdG9yLgogICAgICAqIEByZXR1cm4gUmV0dXJucyB0aGUgbm9ybSBvZiB0aGUgdmVjdG9yCiAgICAgKi8KCgogICAgbm9ybWFsaXplKCkgewogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICBjb25zdCBuID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7CgogICAgICBpZiAobiA+IDAuMCkgewogICAgICAgIGNvbnN0IGludk4gPSAxIC8gbjsKICAgICAgICB0aGlzLnggKj0gaW52TjsKICAgICAgICB0aGlzLnkgKj0gaW52TjsKICAgICAgICB0aGlzLnogKj0gaW52TjsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBNYWtlIHNvbWV0aGluZyB1cAogICAgICAgIHRoaXMueCA9IDA7CiAgICAgICAgdGhpcy55ID0gMDsKICAgICAgICB0aGlzLnogPSAwOwogICAgICB9CgogICAgICByZXR1cm4gbjsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSB2ZXJzaW9uIG9mIHRoaXMgdmVjdG9yIHRoYXQgaXMgb2YgbGVuZ3RoIDEuCiAgICAgKiBAcGFyYW0gdGFyZ2V0IE9wdGlvbmFsIHRhcmdldCB0byBzYXZlIGluCiAgICAgKiBAcmV0dXJuIFJldHVybnMgdGhlIHVuaXQgdmVjdG9yCiAgICAgKi8KCgogICAgdW5pdCh0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgbGV0IG5pbnYgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKCiAgICAgIGlmIChuaW52ID4gMC4wKSB7CiAgICAgICAgbmludiA9IDEuMCAvIG5pbnY7CiAgICAgICAgdGFyZ2V0LnggPSB4ICogbmludjsKICAgICAgICB0YXJnZXQueSA9IHkgKiBuaW52OwogICAgICAgIHRhcmdldC56ID0geiAqIG5pbnY7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGFyZ2V0LnggPSAxOwogICAgICAgIHRhcmdldC55ID0gMDsKICAgICAgICB0YXJnZXQueiA9IDA7CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3IKICAgICAqLwoKCiAgICBsZW5ndGgoKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIHJldHVybiBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgdmVjdG9yLgogICAgICovCgoKICAgIGxlbmd0aFNxdWFyZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRvdCh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGRpc3RhbmNlIGZyb20gdGhpcyBwb2ludCB0byBhbm90aGVyIHBvaW50CiAgICAgKi8KCgogICAgZGlzdGFuY2VUbyhwKSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIGNvbnN0IHB4ID0gcC54OwogICAgICBjb25zdCBweSA9IHAueTsKICAgICAgY29uc3QgcHogPSBwLno7CiAgICAgIHJldHVybiBNYXRoLnNxcnQoKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHNxdWFyZWQgZGlzdGFuY2UgZnJvbSB0aGlzIHBvaW50IHRvIGFub3RoZXIgcG9pbnQKICAgICAqLwoKCiAgICBkaXN0YW5jZVNxdWFyZWQocCkgewogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICBjb25zdCBweCA9IHAueDsKICAgICAgY29uc3QgcHkgPSBwLnk7CiAgICAgIGNvbnN0IHB6ID0gcC56OwogICAgICByZXR1cm4gKHB4IC0geCkgKiAocHggLSB4KSArIChweSAtIHkpICogKHB5IC0geSkgKyAocHogLSB6KSAqIChweiAtIHopOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSBhbGwgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHZlY3RvciB3aXRoIGEgc2NhbGFyLgogICAgICogQHBhcmFtIHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4KICAgICAqLwoKCiAgICBzY2FsZShzY2FsYXIsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICB0YXJnZXQueCA9IHNjYWxhciAqIHg7CiAgICAgIHRhcmdldC55ID0gc2NhbGFyICogeTsKICAgICAgdGFyZ2V0LnogPSBzY2FsYXIgKiB6OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB0aGUgdmVjdG9yIHdpdGggYW4gb3RoZXIgdmVjdG9yLCBjb21wb25lbnQtd2lzZS4KICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHZlY3RvciB0byBzYXZlIHRoZSByZXN1bHQgaW4uCiAgICAgKi8KCgogICAgdm11bCh2ZWN0b3IsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB0YXJnZXQueCA9IHZlY3Rvci54ICogdGhpcy54OwogICAgICB0YXJnZXQueSA9IHZlY3Rvci55ICogdGhpcy55OwogICAgICB0YXJnZXQueiA9IHZlY3Rvci56ICogdGhpcy56OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBTY2FsZSBhIHZlY3RvciBhbmQgYWRkIGl0IHRvIHRoaXMgdmVjdG9yLiBTYXZlIHRoZSByZXN1bHQgaW4gInRhcmdldCIuICh0YXJnZXQgPSB0aGlzICsgdmVjdG9yICogc2NhbGFyKQogICAgICogQHBhcmFtIHRhcmdldCBUaGUgdmVjdG9yIHRvIHNhdmUgdGhlIHJlc3VsdCBpbi4KICAgICAqLwoKCiAgICBhZGRTY2FsZWRWZWN0b3Ioc2NhbGFyLCB2ZWN0b3IsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB0YXJnZXQueCA9IHRoaXMueCArIHNjYWxhciAqIHZlY3Rvci54OwogICAgICB0YXJnZXQueSA9IHRoaXMueSArIHNjYWxhciAqIHZlY3Rvci55OwogICAgICB0YXJnZXQueiA9IHRoaXMueiArIHNjYWxhciAqIHZlY3Rvci56OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBDYWxjdWxhdGUgZG90IHByb2R1Y3QKICAgICAqIEBwYXJhbSB2ZWN0b3IKICAgICAqLwoKCiAgICBkb3QodmVjdG9yKSB7CiAgICAgIHJldHVybiB0aGlzLnggKiB2ZWN0b3IueCArIHRoaXMueSAqIHZlY3Rvci55ICsgdGhpcy56ICogdmVjdG9yLno7CiAgICB9CgogICAgaXNaZXJvKCkgewogICAgICByZXR1cm4gdGhpcy54ID09PSAwICYmIHRoaXMueSA9PT0gMCAmJiB0aGlzLnogPT09IDA7CiAgICB9CiAgICAvKioKICAgICAqIE1ha2UgdGhlIHZlY3RvciBwb2ludCBpbiB0aGUgb3Bwb3NpdGUgZGlyZWN0aW9uLgogICAgICogQHBhcmFtIHRhcmdldCBPcHRpb25hbCB0YXJnZXQgdG8gc2F2ZSBpbgogICAgICovCgoKICAgIG5lZ2F0ZSh0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgdGFyZ2V0LnggPSAtdGhpcy54OwogICAgICB0YXJnZXQueSA9IC10aGlzLnk7CiAgICAgIHRhcmdldC56ID0gLXRoaXMuejsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZSB0d28gYXJ0aWZpY2lhbCB0YW5nZW50cyB0byB0aGUgdmVjdG9yCiAgICAgKiBAcGFyYW0gdDEgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBmaXJzdCB0YW5nZW50IGluCiAgICAgKiBAcGFyYW0gdDIgVmVjdG9yIG9iamVjdCB0byBzYXZlIHRoZSBzZWNvbmQgdGFuZ2VudCBpbgogICAgICovCgoKICAgIHRhbmdlbnRzKHQxLCB0MikgewogICAgICBjb25zdCBub3JtID0gdGhpcy5sZW5ndGgoKTsKCiAgICAgIGlmIChub3JtID4gMC4wKSB7CiAgICAgICAgY29uc3QgbiA9IFZlYzNfdGFuZ2VudHNfbjsKICAgICAgICBjb25zdCBpbm9ybSA9IDEgLyBub3JtOwogICAgICAgIG4uc2V0KHRoaXMueCAqIGlub3JtLCB0aGlzLnkgKiBpbm9ybSwgdGhpcy56ICogaW5vcm0pOwogICAgICAgIGNvbnN0IHJhbmRWZWMgPSBWZWMzX3RhbmdlbnRzX3JhbmRWZWM7CgogICAgICAgIGlmIChNYXRoLmFicyhuLngpIDwgMC45KSB7CiAgICAgICAgICByYW5kVmVjLnNldCgxLCAwLCAwKTsKICAgICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByYW5kVmVjLnNldCgwLCAxLCAwKTsKICAgICAgICAgIG4uY3Jvc3MocmFuZFZlYywgdDEpOwogICAgICAgIH0KCiAgICAgICAgbi5jcm9zcyh0MSwgdDIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRoZSBub3JtYWwgbGVuZ3RoIGlzIHplcm8sIG1ha2Ugc29tZXRoaW5nIHVwCiAgICAgICAgdDEuc2V0KDEsIDAsIDApOwogICAgICAgIHQyLnNldCgwLCAxLCAwKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0cyB0byBhIG1vcmUgcmVhZGFibGUgZm9ybWF0CiAgICAgKi8KCgogICAgdG9TdHJpbmcoKSB7CiAgICAgIHJldHVybiBgJHt0aGlzLnh9LCR7dGhpcy55fSwke3RoaXMuen1gOwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0cyB0byBhbiBhcnJheQogICAgICovCgoKICAgIHRvQXJyYXkoKSB7CiAgICAgIHJldHVybiBbdGhpcy54LCB0aGlzLnksIHRoaXMuel07CiAgICB9CiAgICAvKioKICAgICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyB2ZWN0b3IuCiAgICAgKi8KCgogICAgY29weSh2ZWN0b3IpIHsKICAgICAgdGhpcy54ID0gdmVjdG9yLng7CiAgICAgIHRoaXMueSA9IHZlY3Rvci55OwogICAgICB0aGlzLnogPSB2ZWN0b3IuejsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIERvIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjdG9ycwogICAgICogQHBhcmFtIHQgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLiAwIHdpbGwgbWFrZSB0aGlzIGZ1bmN0aW9uIHJldHVybiB1LCBhbmQgMSB3aWxsIG1ha2UgaXQgcmV0dXJuIHYuIE51bWJlcnMgaW4gYmV0d2VlbiB3aWxsIGdlbmVyYXRlIGEgdmVjdG9yIGluIGJldHdlZW4gdGhlbS4KICAgICAqLwoKCiAgICBsZXJwKHZlY3RvciwgdCwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IHggPSB0aGlzLng7CiAgICAgIGNvbnN0IHkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHogPSB0aGlzLno7CiAgICAgIHRhcmdldC54ID0geCArICh2ZWN0b3IueCAtIHgpICogdDsKICAgICAgdGFyZ2V0LnkgPSB5ICsgKHZlY3Rvci55IC0geSkgKiB0OwogICAgICB0YXJnZXQueiA9IHogKyAodmVjdG9yLnogLSB6KSAqIHQ7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGEgdmVjdG9yIGVxdWFscyBpcyBhbG1vc3QgZXF1YWwgdG8gYW5vdGhlciBvbmUuCiAgICAgKi8KCgogICAgYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKSB7CiAgICAgIGlmIChwcmVjaXNpb24gPT09IHZvaWQgMCkgewogICAgICAgIHByZWNpc2lvbiA9IDFlLTY7CiAgICAgIH0KCiAgICAgIGlmIChNYXRoLmFicyh0aGlzLnggLSB2ZWN0b3IueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55IC0gdmVjdG9yLnkpID4gcHJlY2lzaW9uIHx8IE1hdGguYWJzKHRoaXMueiAtIHZlY3Rvci56KSA+IHByZWNpc2lvbikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGEgdmVjdG9yIGlzIGFsbW9zdCB6ZXJvCiAgICAgKi8KCgogICAgYWxtb3N0WmVybyhwcmVjaXNpb24pIHsKICAgICAgaWYgKHByZWNpc2lvbiA9PT0gdm9pZCAwKSB7CiAgICAgICAgcHJlY2lzaW9uID0gMWUtNjsKICAgICAgfQoKICAgICAgaWYgKE1hdGguYWJzKHRoaXMueCkgPiBwcmVjaXNpb24gfHwgTWF0aC5hYnModGhpcy55KSA+IHByZWNpc2lvbiB8fCBNYXRoLmFicyh0aGlzLnopID4gcHJlY2lzaW9uKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIHZlY3RvciBpcyBhbnRpLXBhcmFsbGVsIHRvIGFub3RoZXIgdmVjdG9yLgogICAgICogQHBhcmFtIHByZWNpc2lvbiBTZXQgdG8gemVybyBmb3IgZXhhY3QgY29tcGFyaXNvbnMKICAgICAqLwoKCiAgICBpc0FudGlwYXJhbGxlbFRvKHZlY3RvciwgcHJlY2lzaW9uKSB7CiAgICAgIHRoaXMubmVnYXRlKGFudGlwX25lZyk7CiAgICAgIHJldHVybiBhbnRpcF9uZWcuYWxtb3N0RXF1YWxzKHZlY3RvciwgcHJlY2lzaW9uKTsKICAgIH0KICAgIC8qKgogICAgICogQ2xvbmUgdGhlIHZlY3RvcgogICAgICovCgoKICAgIGNsb25lKCkgewogICAgICByZXR1cm4gbmV3IFZlYzModGhpcy54LCB0aGlzLnksIHRoaXMueik7CiAgICB9CgogIH0KICBWZWMzLlpFUk8gPSBuZXcgVmVjMygwLCAwLCAwKTsKICBWZWMzLlVOSVRfWCA9IG5ldyBWZWMzKDEsIDAsIDApOwogIFZlYzMuVU5JVF9ZID0gbmV3IFZlYzMoMCwgMSwgMCk7CiAgVmVjMy5VTklUX1ogPSBuZXcgVmVjMygwLCAwLCAxKTsKICBjb25zdCBWZWMzX3RhbmdlbnRzX24gPSBuZXcgVmVjMygpOwogIGNvbnN0IFZlYzNfdGFuZ2VudHNfcmFuZFZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYW50aXBfbmVnID0gbmV3IFZlYzMoKTsKCiAgLyoqCiAgICogQXhpcyBhbGlnbmVkIGJvdW5kaW5nIGJveCBjbGFzcy4KICAgKi8KICBjbGFzcyBBQUJCIHsKICAgIC8qKgogICAgICogVGhlIGxvd2VyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIHVwcGVyIGJvdW5kIG9mIHRoZSBib3VuZGluZyBib3gKICAgICAqLwogICAgY29uc3RydWN0b3Iob3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICB0aGlzLmxvd2VyQm91bmQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnVwcGVyQm91bmQgPSBuZXcgVmVjMygpOwoKICAgICAgaWYgKG9wdGlvbnMubG93ZXJCb3VuZCkgewogICAgICAgIHRoaXMubG93ZXJCb3VuZC5jb3B5KG9wdGlvbnMubG93ZXJCb3VuZCk7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLnVwcGVyQm91bmQpIHsKICAgICAgICB0aGlzLnVwcGVyQm91bmQuY29weShvcHRpb25zLnVwcGVyQm91bmQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgQUFCQiBib3VuZHMgZnJvbSBhIHNldCBvZiBwb2ludHMuCiAgICAgKiBAcGFyYW0gcG9pbnRzIEFuIGFycmF5IG9mIFZlYzMncy4KICAgICAqIEByZXR1cm4gVGhlIHNlbGYgb2JqZWN0CiAgICAgKi8KCgogICAgc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCBza2luU2l6ZSkgewogICAgICBjb25zdCBsID0gdGhpcy5sb3dlckJvdW5kOwogICAgICBjb25zdCB1ID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBxID0gcXVhdGVybmlvbjsgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludAoKICAgICAgbC5jb3B5KHBvaW50c1swXSk7CgogICAgICBpZiAocSkgewogICAgICAgIHEudm11bHQobCwgbCk7CiAgICAgIH0KCiAgICAgIHUuY29weShsKTsKCiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IHAgPSBwb2ludHNbaV07CgogICAgICAgIGlmIChxKSB7CiAgICAgICAgICBxLnZtdWx0KHAsIHRtcCQxKTsKICAgICAgICAgIHAgPSB0bXAkMTsKICAgICAgICB9CgogICAgICAgIGlmIChwLnggPiB1LngpIHsKICAgICAgICAgIHUueCA9IHAueDsKICAgICAgICB9CgogICAgICAgIGlmIChwLnggPCBsLngpIHsKICAgICAgICAgIGwueCA9IHAueDsKICAgICAgICB9CgogICAgICAgIGlmIChwLnkgPiB1LnkpIHsKICAgICAgICAgIHUueSA9IHAueTsKICAgICAgICB9CgogICAgICAgIGlmIChwLnkgPCBsLnkpIHsKICAgICAgICAgIGwueSA9IHAueTsKICAgICAgICB9CgogICAgICAgIGlmIChwLnogPiB1LnopIHsKICAgICAgICAgIHUueiA9IHAuejsKICAgICAgICB9CgogICAgICAgIGlmIChwLnogPCBsLnopIHsKICAgICAgICAgIGwueiA9IHAuejsKICAgICAgICB9CiAgICAgIH0gLy8gQWRkIG9mZnNldAoKCiAgICAgIGlmIChwb3NpdGlvbikgewogICAgICAgIHBvc2l0aW9uLnZhZGQobCwgbCk7CiAgICAgICAgcG9zaXRpb24udmFkZCh1LCB1KTsKICAgICAgfQoKICAgICAgaWYgKHNraW5TaXplKSB7CiAgICAgICAgbC54IC09IHNraW5TaXplOwogICAgICAgIGwueSAtPSBza2luU2l6ZTsKICAgICAgICBsLnogLT0gc2tpblNpemU7CiAgICAgICAgdS54ICs9IHNraW5TaXplOwogICAgICAgIHUueSArPSBza2luU2l6ZTsKICAgICAgICB1LnogKz0gc2tpblNpemU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBDb3B5IGJvdW5kcyBmcm9tIGFuIEFBQkIgdG8gdGhpcyBBQUJCCiAgICAgKiBAcGFyYW0gYWFiYiBTb3VyY2UgdG8gY29weSBmcm9tCiAgICAgKiBAcmV0dXJuIFRoZSB0aGlzIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eQogICAgICovCgoKICAgIGNvcHkoYWFiYikgewogICAgICB0aGlzLmxvd2VyQm91bmQuY29weShhYWJiLmxvd2VyQm91bmQpOwogICAgICB0aGlzLnVwcGVyQm91bmQuY29weShhYWJiLnVwcGVyQm91bmQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogQ2xvbmUgYW4gQUFCQgogICAgICovCgoKICAgIGNsb25lKCkgewogICAgICByZXR1cm4gbmV3IEFBQkIoKS5jb3B5KHRoaXMpOwogICAgfQogICAgLyoqCiAgICAgKiBFeHRlbmQgdGhpcyBBQUJCIHNvIHRoYXQgaXQgY292ZXJzIHRoZSBnaXZlbiBBQUJCIHRvby4KICAgICAqLwoKCiAgICBleHRlbmQoYWFiYikgewogICAgICB0aGlzLmxvd2VyQm91bmQueCA9IE1hdGgubWluKHRoaXMubG93ZXJCb3VuZC54LCBhYWJiLmxvd2VyQm91bmQueCk7CiAgICAgIHRoaXMudXBwZXJCb3VuZC54ID0gTWF0aC5tYXgodGhpcy51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC54KTsKICAgICAgdGhpcy5sb3dlckJvdW5kLnkgPSBNYXRoLm1pbih0aGlzLmxvd2VyQm91bmQueSwgYWFiYi5sb3dlckJvdW5kLnkpOwogICAgICB0aGlzLnVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRoaXMudXBwZXJCb3VuZC55LCBhYWJiLnVwcGVyQm91bmQueSk7CiAgICAgIHRoaXMubG93ZXJCb3VuZC56ID0gTWF0aC5taW4odGhpcy5sb3dlckJvdW5kLnosIGFhYmIubG93ZXJCb3VuZC56KTsKICAgICAgdGhpcy51cHBlckJvdW5kLnogPSBNYXRoLm1heCh0aGlzLnVwcGVyQm91bmQueiwgYWFiYi51cHBlckJvdW5kLnopOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEFBQkIgb3ZlcmxhcHMgdGhpcyBBQUJCLgogICAgICovCgoKICAgIG92ZXJsYXBzKGFhYmIpIHsKICAgICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgICAgLy8gfC0tLS0tLS0tfAogICAgICAvLyBsMSAgICAgICB1MQoKICAgICAgY29uc3Qgb3ZlcmxhcHNYID0gbDIueCA8PSB1MS54ICYmIHUxLnggPD0gdTIueCB8fCBsMS54IDw9IHUyLnggJiYgdTIueCA8PSB1MS54OwogICAgICBjb25zdCBvdmVybGFwc1kgPSBsMi55IDw9IHUxLnkgJiYgdTEueSA8PSB1Mi55IHx8IGwxLnkgPD0gdTIueSAmJiB1Mi55IDw9IHUxLnk7CiAgICAgIGNvbnN0IG92ZXJsYXBzWiA9IGwyLnogPD0gdTEueiAmJiB1MS56IDw9IHUyLnogfHwgbDEueiA8PSB1Mi56ICYmIHUyLnogPD0gdTEuejsKICAgICAgcmV0dXJuIG92ZXJsYXBzWCAmJiBvdmVybGFwc1kgJiYgb3ZlcmxhcHNaOwogICAgfSAvLyBNb3N0bHkgZm9yIGRlYnVnZ2luZwoKCiAgICB2b2x1bWUoKSB7CiAgICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICAgIHJldHVybiAodS54IC0gbC54KSAqICh1LnkgLSBsLnkpICogKHUueiAtIGwueik7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gQUFCQiBpcyBmdWxseSBjb250YWluZWQgaW4gdGhpcyBBQUJCLgogICAgICovCgoKICAgIGNvbnRhaW5zKGFhYmIpIHsKICAgICAgY29uc3QgbDEgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUxID0gdGhpcy51cHBlckJvdW5kOwogICAgICBjb25zdCBsMiA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdTIgPSBhYWJiLnVwcGVyQm91bmQ7IC8vICAgICAgbDIgICAgICAgIHUyCiAgICAgIC8vICAgICAgfC0tLS0tLS0tLXwKICAgICAgLy8gfC0tLS0tLS0tLS0tLS0tLXwKICAgICAgLy8gbDEgICAgICAgICAgICAgIHUxCgogICAgICByZXR1cm4gbDEueCA8PSBsMi54ICYmIHUxLnggPj0gdTIueCAmJiBsMS55IDw9IGwyLnkgJiYgdTEueSA+PSB1Mi55ICYmIGwxLnogPD0gbDIueiAmJiB1MS56ID49IHUyLno7CiAgICB9CgogICAgZ2V0Q29ybmVycyhhLCBiLCBjLCBkLCBlLCBmLCBnLCBoKSB7CiAgICAgIGNvbnN0IGwgPSB0aGlzLmxvd2VyQm91bmQ7CiAgICAgIGNvbnN0IHUgPSB0aGlzLnVwcGVyQm91bmQ7CiAgICAgIGEuY29weShsKTsKICAgICAgYi5zZXQodS54LCBsLnksIGwueik7CiAgICAgIGMuc2V0KHUueCwgdS55LCBsLnopOwogICAgICBkLnNldChsLngsIHUueSwgdS56KTsKICAgICAgZS5zZXQodS54LCBsLnksIHUueik7CiAgICAgIGYuc2V0KGwueCwgdS55LCBsLnopOwogICAgICBnLnNldChsLngsIGwueSwgdS56KTsKICAgICAgaC5jb3B5KHUpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gYW5vdGhlciBmcmFtZS4KICAgICAqIEByZXR1cm4gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0LgogICAgICovCgoKICAgIHRvTG9jYWxGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgICAgY29uc3QgYSA9IGNvcm5lcnNbMF07CiAgICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgICAgY29uc3QgZCA9IGNvcm5lcnNbM107CiAgICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgICAgY29uc3QgZyA9IGNvcm5lcnNbNl07CiAgICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgICAgZnJhbWUucG9pbnRUb0xvY2FsKGNvcm5lciwgY29ybmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHJlcHJlc2VudGF0aW9uIG9mIGFuIEFBQkIgaW4gdGhlIGdsb2JhbCBmcmFtZS4KICAgICAqIEByZXR1cm4gVGhlICJ0YXJnZXQiIEFBQkIgb2JqZWN0LgogICAgICovCgoKICAgIHRvV29ybGRGcmFtZShmcmFtZSwgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGNvcm5lcnMgPSB0cmFuc2Zvcm1JbnRvRnJhbWVfY29ybmVyczsKICAgICAgY29uc3QgYSA9IGNvcm5lcnNbMF07CiAgICAgIGNvbnN0IGIgPSBjb3JuZXJzWzFdOwogICAgICBjb25zdCBjID0gY29ybmVyc1syXTsKICAgICAgY29uc3QgZCA9IGNvcm5lcnNbM107CiAgICAgIGNvbnN0IGUgPSBjb3JuZXJzWzRdOwogICAgICBjb25zdCBmID0gY29ybmVyc1s1XTsKICAgICAgY29uc3QgZyA9IGNvcm5lcnNbNl07CiAgICAgIGNvbnN0IGggPSBjb3JuZXJzWzddOyAvLyBHZXQgY29ybmVycyBpbiBjdXJyZW50IGZyYW1lCgogICAgICB0aGlzLmdldENvcm5lcnMoYSwgYiwgYywgZCwgZSwgZiwgZywgaCk7IC8vIFRyYW5zZm9ybSB0aGVtIHRvIG5ldyBsb2NhbCBmcmFtZQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgIGNvbnN0IGNvcm5lciA9IGNvcm5lcnNbaV07CiAgICAgICAgZnJhbWUucG9pbnRUb1dvcmxkKGNvcm5lciwgY29ybmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldC5zZXRGcm9tUG9pbnRzKGNvcm5lcnMpOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiB0aGUgQUFCQiBpcyBoaXQgYnkgYSByYXkuCiAgICAgKi8KCgogICAgb3ZlcmxhcHNSYXkocmF5KSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkaXJlY3Rpb24sCiAgICAgICAgZnJvbQogICAgICB9ID0gcmF5OyAvLyBjb25zdCB0ID0gMAogICAgICAvLyByYXkuZGlyZWN0aW9uIGlzIHVuaXQgZGlyZWN0aW9uIHZlY3RvciBvZiByYXkKCiAgICAgIGNvbnN0IGRpckZyYWNYID0gMSAvIGRpcmVjdGlvbi54OwogICAgICBjb25zdCBkaXJGcmFjWSA9IDEgLyBkaXJlY3Rpb24ueTsKICAgICAgY29uc3QgZGlyRnJhY1ogPSAxIC8gZGlyZWN0aW9uLno7IC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyCgogICAgICBjb25zdCB0MSA9ICh0aGlzLmxvd2VyQm91bmQueCAtIGZyb20ueCkgKiBkaXJGcmFjWDsKICAgICAgY29uc3QgdDIgPSAodGhpcy51cHBlckJvdW5kLnggLSBmcm9tLngpICogZGlyRnJhY1g7CiAgICAgIGNvbnN0IHQzID0gKHRoaXMubG93ZXJCb3VuZC55IC0gZnJvbS55KSAqIGRpckZyYWNZOwogICAgICBjb25zdCB0NCA9ICh0aGlzLnVwcGVyQm91bmQueSAtIGZyb20ueSkgKiBkaXJGcmFjWTsKICAgICAgY29uc3QgdDUgPSAodGhpcy5sb3dlckJvdW5kLnogLSBmcm9tLnopICogZGlyRnJhY1o7CiAgICAgIGNvbnN0IHQ2ID0gKHRoaXMudXBwZXJCb3VuZC56IC0gZnJvbS56KSAqIGRpckZyYWNaOyAvLyBjb25zdCB0bWluID0gTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgTWF0aC5taW4odDMsIHQ0KSkpOwogICAgICAvLyBjb25zdCB0bWF4ID0gTWF0aC5taW4oTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgTWF0aC5tYXgodDMsIHQ0KSkpOwoKICAgICAgY29uc3QgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpLCBNYXRoLm1pbih0NSwgdDYpKTsKICAgICAgY29uc3QgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpLCBNYXRoLm1heCh0NSwgdDYpKTsgLy8gaWYgdG1heCA8IDAsIHJheSAobGluZSkgaXMgaW50ZXJzZWN0aW5nIEFBQkIsIGJ1dCB3aG9sZSBBQUJCIGlzIGJlaGluZyB1cwoKICAgICAgaWYgKHRtYXggPCAwKSB7CiAgICAgICAgLy90ID0gdG1heDsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8gaWYgdG1pbiA+IHRtYXgsIHJheSBkb2Vzbid0IGludGVyc2VjdCBBQUJCCgoKICAgICAgaWYgKHRtaW4gPiB0bWF4KSB7CiAgICAgICAgLy90ID0gdG1heDsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICB9CiAgY29uc3QgdG1wJDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRyYW5zZm9ybUludG9GcmFtZV9jb3JuZXJzID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwoKICAvKioKICAgKiBDb2xsaXNpb24gIm1hdHJpeCIuCiAgICogSXQncyBhY3R1YWxseSBhIHRyaWFuZ3VsYXItc2hhcGVkIGFycmF5IG9mIHdoZXRoZXIgdHdvIGJvZGllcyBhcmUgdG91Y2hpbmcgdGhpcyBzdGVwLCBmb3IgcmVmZXJlbmNlIG5leHQgc3RlcAogICAqLwogIGNsYXNzIEFycmF5Q29sbGlzaW9uTWF0cml4IHsKICAgIC8qKgogICAgICogVGhlIG1hdHJpeCBzdG9yYWdlLgogICAgICovCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5tYXRyaXggPSBbXTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFuIGVsZW1lbnQKICAgICAqLwoKCiAgICBnZXQoYmksIGJqKSB7CiAgICAgIGxldCB7CiAgICAgICAgaW5kZXg6IGkKICAgICAgfSA9IGJpOwogICAgICBsZXQgewogICAgICAgIGluZGV4OiBqCiAgICAgIH0gPSBiajsKCiAgICAgIGlmIChqID4gaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5tYXRyaXhbKGkgKiAoaSArIDEpID4+IDEpICsgaiAtIDFdOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgYW4gZWxlbWVudAogICAgICovCgoKICAgIHNldChiaSwgYmosIHZhbHVlKSB7CiAgICAgIGxldCB7CiAgICAgICAgaW5kZXg6IGkKICAgICAgfSA9IGJpOwogICAgICBsZXQgewogICAgICAgIGluZGV4OiBqCiAgICAgIH0gPSBiajsKCiAgICAgIGlmIChqID4gaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICB0aGlzLm1hdHJpeFsoaSAqIChpICsgMSkgPj4gMSkgKyBqIC0gMV0gPSB2YWx1ZSA/IDEgOiAwOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGFsbCBlbGVtZW50cyB0byB6ZXJvCiAgICAgKi8KCgogICAgcmVzZXQoKSB7CiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5tYXRyaXgubGVuZ3RoOyBpICE9PSBsOyBpKyspIHsKICAgICAgICB0aGlzLm1hdHJpeFtpXSA9IDA7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogU2V0cyB0aGUgbWF4IG51bWJlciBvZiBvYmplY3RzCiAgICAgKi8KCgogICAgc2V0TnVtT2JqZWN0cyhuKSB7CiAgICAgIHRoaXMubWF0cml4Lmxlbmd0aCA9IG4gKiAobiAtIDEpID4+IDE7CiAgICB9CgogIH0KCiAgLyoqCiAgICogQmFzZSBjbGFzcyBmb3Igb2JqZWN0cyB0aGF0IGRpc3BhdGNoZXMgZXZlbnRzLgogICAqLwogIGNsYXNzIEV2ZW50VGFyZ2V0IHsKICAgIC8qKgogICAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyCiAgICAgKiBAcmV0dXJuIFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4KICAgICAqLwogICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwoKICAgICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gW107CiAgICAgIH0KCiAgICAgIGlmICghbGlzdGVuZXJzW3R5cGVdLmluY2x1ZGVzKGxpc3RlbmVyKSkgewogICAgICAgIGxpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkCiAgICAgKi8KCgogICAgaGFzRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKCiAgICAgIGlmIChsaXN0ZW5lcnNbdHlwZV0gIT09IHVuZGVmaW5lZCAmJiBsaXN0ZW5lcnNbdHlwZV0uaW5jbHVkZXMobGlzdGVuZXIpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgYW55IGV2ZW50IGxpc3RlbmVyIG9mIHRoZSBnaXZlbiB0eXBlIGlzIGFkZGVkCiAgICAgKi8KCgogICAgaGFzQW55RXZlbnRMaXN0ZW5lcih0eXBlKSB7CiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwogICAgICByZXR1cm4gbGlzdGVuZXJzW3R5cGVdICE9PSB1bmRlZmluZWQ7CiAgICB9CiAgICAvKioKICAgICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lcgogICAgICogQHJldHVybiBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikgewogICAgICBpZiAodGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzOwoKICAgICAgaWYgKGxpc3RlbmVyc1t0eXBlXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIGxpc3RlbmVyc1t0eXBlXS5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogRW1pdCBhbiBldmVudC4KICAgICAqIEByZXR1cm4gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LgogICAgICovCgoKICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHsKICAgICAgaWYgKHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyczsKICAgICAgY29uc3QgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1tldmVudC50eXBlXTsKCiAgICAgIGlmIChsaXN0ZW5lckFycmF5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBldmVudC50YXJnZXQgPSB0aGlzOwoKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBsaXN0ZW5lckFycmF5W2ldLmNhbGwodGhpcywgZXZlbnQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogIH0KCiAgLyoqCiAgICogQSBRdWF0ZXJuaW9uIGRlc2NyaWJlcyBhIHJvdGF0aW9uIGluIDNEIHNwYWNlLiBUaGUgUXVhdGVybmlvbiBpcyBtYXRoZW1hdGljYWxseSBkZWZpbmVkIGFzIFEgPSB4KmkgKyB5KmogKyB6KmsgKyB3LCB3aGVyZSAoaSxqLGspIGFyZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9ycy4gKHgseSx6KSBjYW4gYmUgc2VlbiBhcyBhIHZlY3RvciByZWxhdGVkIHRvIHRoZSBheGlzIG9mIHJvdGF0aW9uLCB3aGlsZSB0aGUgcmVhbCBtdWx0aXBsaWVyLCB3LCBpcyByZWxhdGVkIHRvIHRoZSBhbW91bnQgb2Ygcm90YXRpb24uCiAgICogQHBhcmFtIHggTXVsdGlwbGllciBvZiB0aGUgaW1hZ2luYXJ5IGJhc2lzIHZlY3RvciBpLgogICAqIEBwYXJhbSB5IE11bHRpcGxpZXIgb2YgdGhlIGltYWdpbmFyeSBiYXNpcyB2ZWN0b3Igai4KICAgKiBAcGFyYW0geiBNdWx0aXBsaWVyIG9mIHRoZSBpbWFnaW5hcnkgYmFzaXMgdmVjdG9yIGsuCiAgICogQHBhcmFtIHcgTXVsdGlwbGllciBvZiB0aGUgcmVhbCBwYXJ0LgogICAqIEBzZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9RdWF0ZXJuaW9uCiAgICovCgogIGNsYXNzIFF1YXRlcm5pb24gewogICAgY29uc3RydWN0b3IoeCwgeSwgeiwgdykgewogICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7CiAgICAgICAgeCA9IDA7CiAgICAgIH0KCiAgICAgIGlmICh5ID09PSB2b2lkIDApIHsKICAgICAgICB5ID0gMDsKICAgICAgfQoKICAgICAgaWYgKHogPT09IHZvaWQgMCkgewogICAgICAgIHogPSAwOwogICAgICB9CgogICAgICBpZiAodyA9PT0gdm9pZCAwKSB7CiAgICAgICAgdyA9IDE7CiAgICAgIH0KCiAgICAgIHRoaXMueCA9IHg7CiAgICAgIHRoaXMueSA9IHk7CiAgICAgIHRoaXMueiA9IHo7CiAgICAgIHRoaXMudyA9IHc7CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHF1YXRlcm5pb24uCiAgICAgKi8KCgogICAgc2V0KHgsIHksIHosIHcpIHsKICAgICAgdGhpcy54ID0geDsKICAgICAgdGhpcy55ID0geTsKICAgICAgdGhpcy56ID0gejsKICAgICAgdGhpcy53ID0gdzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgdG8gYSByZWFkYWJsZSBmb3JtYXQKICAgICAqIEByZXR1cm4gIngseSx6LHciCiAgICAgKi8KCgogICAgdG9TdHJpbmcoKSB7CiAgICAgIHJldHVybiBgJHt0aGlzLnh9LCR7dGhpcy55fSwke3RoaXMuen0sJHt0aGlzLnd9YDsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydCB0byBhbiBBcnJheQogICAgICogQHJldHVybiBbeCwgeSwgeiwgd10KICAgICAqLwoKCiAgICB0b0FycmF5KCkgewogICAgICByZXR1cm4gW3RoaXMueCwgdGhpcy55LCB0aGlzLnosIHRoaXMud107CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGdpdmVuIGFuIGF4aXMgYW5kIGFuIGFuZ2xlIGluIHJhZGlhbnMuCiAgICAgKi8KCgogICAgc2V0RnJvbUF4aXNBbmdsZSh2ZWN0b3IsIGFuZ2xlKSB7CiAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSAqIDAuNSk7CiAgICAgIHRoaXMueCA9IHZlY3Rvci54ICogczsKICAgICAgdGhpcy55ID0gdmVjdG9yLnkgKiBzOwogICAgICB0aGlzLnogPSB2ZWN0b3IueiAqIHM7CiAgICAgIHRoaXMudyA9IE1hdGguY29zKGFuZ2xlICogMC41KTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnRzIHRoZSBxdWF0ZXJuaW9uIHRvIFsgYXhpcywgYW5nbGUgXSByZXByZXNlbnRhdGlvbi4KICAgICAqIEBwYXJhbSB0YXJnZXRBeGlzIEEgdmVjdG9yIG9iamVjdCB0byByZXVzZSBmb3Igc3RvcmluZyB0aGUgYXhpcy4KICAgICAqIEByZXR1cm4gQW4gYXJyYXksIGZpcnN0IGVsZW1lbnQgaXMgdGhlIGF4aXMgYW5kIHRoZSBzZWNvbmQgaXMgdGhlIGFuZ2xlIGluIHJhZGlhbnMuCiAgICAgKi8KCgogICAgdG9BeGlzQW5nbGUodGFyZ2V0QXhpcykgewogICAgICBpZiAodGFyZ2V0QXhpcyA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0QXhpcyA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMubm9ybWFsaXplKCk7IC8vIGlmIHc+MSBhY29zIGFuZCBzcXJ0IHdpbGwgcHJvZHVjZSBlcnJvcnMsIHRoaXMgY2FudCBoYXBwZW4gaWYgcXVhdGVybmlvbiBpcyBub3JtYWxpc2VkCgogICAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLmFjb3ModGhpcy53KTsKICAgICAgY29uc3QgcyA9IE1hdGguc3FydCgxIC0gdGhpcy53ICogdGhpcy53KTsgLy8gYXNzdW1pbmcgcXVhdGVybmlvbiBub3JtYWxpc2VkIHRoZW4gdyBpcyBsZXNzIHRoYW4gMSwgc28gdGVybSBhbHdheXMgcG9zaXRpdmUuCgogICAgICBpZiAocyA8IDAuMDAxKSB7CiAgICAgICAgLy8gdGVzdCB0byBhdm9pZCBkaXZpZGUgYnkgemVybywgcyBpcyBhbHdheXMgcG9zaXRpdmUgZHVlIHRvIHNxcnQKICAgICAgICAvLyBpZiBzIGNsb3NlIHRvIHplcm8gdGhlbiBkaXJlY3Rpb24gb2YgYXhpcyBub3QgaW1wb3J0YW50CiAgICAgICAgdGFyZ2V0QXhpcy54ID0gdGhpcy54OyAvLyBpZiBpdCBpcyBpbXBvcnRhbnQgdGhhdCBheGlzIGlzIG5vcm1hbGlzZWQgdGhlbiByZXBsYWNlIHdpdGggeD0xOyB5PXo9MDsKCiAgICAgICAgdGFyZ2V0QXhpcy55ID0gdGhpcy55OwogICAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMuejsKICAgICAgfSBlbHNlIHsKICAgICAgICB0YXJnZXRBeGlzLnggPSB0aGlzLnggLyBzOyAvLyBub3JtYWxpc2UgYXhpcwoKICAgICAgICB0YXJnZXRBeGlzLnkgPSB0aGlzLnkgLyBzOwogICAgICAgIHRhcmdldEF4aXMueiA9IHRoaXMueiAvIHM7CiAgICAgIH0KCiAgICAgIHJldHVybiBbdGFyZ2V0QXhpcywgYW5nbGVdOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHF1YXRlcm5pb24gdmFsdWUgZ2l2ZW4gdHdvIHZlY3RvcnMuIFRoZSByZXN1bHRpbmcgcm90YXRpb24gd2lsbCBiZSB0aGUgbmVlZGVkIHJvdGF0aW9uIHRvIHJvdGF0ZSB1IHRvIHYuCiAgICAgKi8KCgogICAgc2V0RnJvbVZlY3RvcnModSwgdikgewogICAgICBpZiAodS5pc0FudGlwYXJhbGxlbFRvKHYpKSB7CiAgICAgICAgY29uc3QgdDEgPSBzZnZfdDE7CiAgICAgICAgY29uc3QgdDIgPSBzZnZfdDI7CiAgICAgICAgdS50YW5nZW50cyh0MSwgdDIpOwogICAgICAgIHRoaXMuc2V0RnJvbUF4aXNBbmdsZSh0MSwgTWF0aC5QSSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgYSA9IHUuY3Jvc3Modik7CiAgICAgICAgdGhpcy54ID0gYS54OwogICAgICAgIHRoaXMueSA9IGEueTsKICAgICAgICB0aGlzLnogPSBhLno7CiAgICAgICAgdGhpcy53ID0gTWF0aC5zcXJ0KHUubGVuZ3RoKCkgKiogMiAqIHYubGVuZ3RoKCkgKiogMikgKyB1LmRvdCh2KTsKICAgICAgICB0aGlzLm5vcm1hbGl6ZSgpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogTXVsdGlwbHkgdGhlIHF1YXRlcm5pb24gd2l0aCBhbiBvdGhlciBxdWF0ZXJuaW9uLgogICAgICovCgoKICAgIG11bHQocXVhdCwgdGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgewogICAgICAgIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGF4ID0gdGhpcy54OwogICAgICBjb25zdCBheSA9IHRoaXMueTsKICAgICAgY29uc3QgYXogPSB0aGlzLno7CiAgICAgIGNvbnN0IGF3ID0gdGhpcy53OwogICAgICBjb25zdCBieCA9IHF1YXQueDsKICAgICAgY29uc3QgYnkgPSBxdWF0Lnk7CiAgICAgIGNvbnN0IGJ6ID0gcXVhdC56OwogICAgICBjb25zdCBidyA9IHF1YXQudzsKICAgICAgdGFyZ2V0LnggPSBheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5OwogICAgICB0YXJnZXQueSA9IGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYno7CiAgICAgIHRhcmdldC56ID0gYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieDsKICAgICAgdGFyZ2V0LncgPSBhdyAqIGJ3IC0gYXggKiBieCAtIGF5ICogYnkgLSBheiAqIGJ6OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGludmVyc2UgcXVhdGVybmlvbiByb3RhdGlvbi4KICAgICAqLwoKCiAgICBpbnZlcnNlKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpOwogICAgICB9CgogICAgICBjb25zdCB4ID0gdGhpcy54OwogICAgICBjb25zdCB5ID0gdGhpcy55OwogICAgICBjb25zdCB6ID0gdGhpcy56OwogICAgICBjb25zdCB3ID0gdGhpcy53OwogICAgICB0aGlzLmNvbmp1Z2F0ZSh0YXJnZXQpOwogICAgICBjb25zdCBpbm9ybTIgPSAxIC8gKHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3KTsKICAgICAgdGFyZ2V0LnggKj0gaW5vcm0yOwogICAgICB0YXJnZXQueSAqPSBpbm9ybTI7CiAgICAgIHRhcmdldC56ICo9IGlub3JtMjsKICAgICAgdGFyZ2V0LncgKj0gaW5vcm0yOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHF1YXRlcm5pb24gY29uanVnYXRlCiAgICAgKi8KCgogICAgY29uanVnYXRlKHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgUXVhdGVybmlvbigpOwogICAgICB9CgogICAgICB0YXJnZXQueCA9IC10aGlzLng7CiAgICAgIHRhcmdldC55ID0gLXRoaXMueTsKICAgICAgdGFyZ2V0LnogPSAtdGhpcy56OwogICAgICB0YXJnZXQudyA9IHRoaXMudzsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIC8qKgogICAgICogTm9ybWFsaXplIHRoZSBxdWF0ZXJuaW9uLiBOb3RlIHRoYXQgdGhpcyBjaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIHF1YXRlcm5pb24uCiAgICAgKi8KCgogICAgbm9ybWFsaXplKCkgewogICAgICBsZXQgbCA9IE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkgKyB0aGlzLnogKiB0aGlzLnogKyB0aGlzLncgKiB0aGlzLncpOwoKICAgICAgaWYgKGwgPT09IDApIHsKICAgICAgICB0aGlzLnggPSAwOwogICAgICAgIHRoaXMueSA9IDA7CiAgICAgICAgdGhpcy56ID0gMDsKICAgICAgICB0aGlzLncgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGwgPSAxIC8gbDsKICAgICAgICB0aGlzLnggKj0gbDsKICAgICAgICB0aGlzLnkgKj0gbDsKICAgICAgICB0aGlzLnogKj0gbDsKICAgICAgICB0aGlzLncgKj0gbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIEFwcHJveGltYXRpb24gb2YgcXVhdGVybmlvbiBub3JtYWxpemF0aW9uLiBXb3JrcyBiZXN0IHdoZW4gcXVhdCBpcyBhbHJlYWR5IGFsbW9zdC1ub3JtYWxpemVkLgogICAgICogQGF1dGhvciB1bnBoYXNlZCwgaHR0cHM6Ly9naXRodWIuY29tL3VucGhhc2VkCiAgICAgKi8KCgogICAgbm9ybWFsaXplRmFzdCgpIHsKICAgICAgY29uc3QgZiA9ICgzLjAgLSAodGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56ICsgdGhpcy53ICogdGhpcy53KSkgLyAyLjA7CgogICAgICBpZiAoZiA9PT0gMCkgewogICAgICAgIHRoaXMueCA9IDA7CiAgICAgICAgdGhpcy55ID0gMDsKICAgICAgICB0aGlzLnogPSAwOwogICAgICAgIHRoaXMudyA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy54ICo9IGY7CiAgICAgICAgdGhpcy55ICo9IGY7CiAgICAgICAgdGhpcy56ICo9IGY7CiAgICAgICAgdGhpcy53ICo9IGY7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB0aGUgcXVhdGVybmlvbiBieSBhIHZlY3RvcgogICAgICovCgoKICAgIHZtdWx0KHYsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBjb25zdCB4ID0gdi54OwogICAgICBjb25zdCB5ID0gdi55OwogICAgICBjb25zdCB6ID0gdi56OwogICAgICBjb25zdCBxeCA9IHRoaXMueDsKICAgICAgY29uc3QgcXkgPSB0aGlzLnk7CiAgICAgIGNvbnN0IHF6ID0gdGhpcy56OwogICAgICBjb25zdCBxdyA9IHRoaXMudzsgLy8gcSp2CgogICAgICBjb25zdCBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTsKICAgICAgY29uc3QgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7CiAgICAgIGNvbnN0IGl6ID0gcXcgKiB6ICsgcXggKiB5IC0gcXkgKiB4OwogICAgICBjb25zdCBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7CiAgICAgIHRhcmdldC54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeTsKICAgICAgdGFyZ2V0LnkgPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6OwogICAgICB0YXJnZXQueiA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIENvcGllcyB2YWx1ZSBvZiBzb3VyY2UgdG8gdGhpcyBxdWF0ZXJuaW9uLgogICAgICogQHJldHVybiB0aGlzCiAgICAgKi8KCgogICAgY29weShxdWF0KSB7CiAgICAgIHRoaXMueCA9IHF1YXQueDsKICAgICAgdGhpcy55ID0gcXVhdC55OwogICAgICB0aGlzLnogPSBxdWF0Lno7CiAgICAgIHRoaXMudyA9IHF1YXQudzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgdGhlIHF1YXRlcm5pb24gdG8gZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24uIE9yZGVyOiBZWlgsIGFzIHRoaXMgcGFnZSBkZXNjcmliZXM6IGh0dHBzOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9zdGFuZGFyZHMvaW5kZXguaHRtCiAgICAgKiBAcGFyYW0gb3JkZXIgVGhyZWUtY2hhcmFjdGVyIHN0cmluZywgZGVmYXVsdHMgdG8gIllaWCIKICAgICAqLwoKCiAgICB0b0V1bGVyKHRhcmdldCwgb3JkZXIpIHsKICAgICAgaWYgKG9yZGVyID09PSB2b2lkIDApIHsKICAgICAgICBvcmRlciA9ICdZWlgnOwogICAgICB9CgogICAgICBsZXQgaGVhZGluZzsKICAgICAgbGV0IGF0dGl0dWRlOwogICAgICBsZXQgYmFuazsKICAgICAgY29uc3QgeCA9IHRoaXMueDsKICAgICAgY29uc3QgeSA9IHRoaXMueTsKICAgICAgY29uc3QgeiA9IHRoaXMuejsKICAgICAgY29uc3QgdyA9IHRoaXMudzsKCiAgICAgIHN3aXRjaCAob3JkZXIpIHsKICAgICAgICBjYXNlICdZWlgnOgogICAgICAgICAgY29uc3QgdGVzdCA9IHggKiB5ICsgeiAqIHc7CgogICAgICAgICAgaWYgKHRlc3QgPiAwLjQ5OSkgewogICAgICAgICAgICAvLyBzaW5ndWxhcml0eSBhdCBub3J0aCBwb2xlCiAgICAgICAgICAgIGhlYWRpbmcgPSAyICogTWF0aC5hdGFuMih4LCB3KTsKICAgICAgICAgICAgYXR0aXR1ZGUgPSBNYXRoLlBJIC8gMjsKICAgICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRlc3QgPCAtMC40OTkpIHsKICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZQogICAgICAgICAgICBoZWFkaW5nID0gLTIgKiBNYXRoLmF0YW4yKHgsIHcpOwogICAgICAgICAgICBhdHRpdHVkZSA9IC1NYXRoLlBJIC8gMjsKICAgICAgICAgICAgYmFuayA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGhlYWRpbmcgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBjb25zdCBzcXggPSB4ICogeDsKICAgICAgICAgICAgY29uc3Qgc3F5ID0geSAqIHk7CiAgICAgICAgICAgIGNvbnN0IHNxeiA9IHogKiB6OwogICAgICAgICAgICBoZWFkaW5nID0gTWF0aC5hdGFuMigyICogeSAqIHcgLSAyICogeCAqIHosIDEgLSAyICogc3F5IC0gMiAqIHNxeik7IC8vIEhlYWRpbmcKCiAgICAgICAgICAgIGF0dGl0dWRlID0gTWF0aC5hc2luKDIgKiB0ZXN0KTsgLy8gYXR0aXR1ZGUKCiAgICAgICAgICAgIGJhbmsgPSBNYXRoLmF0YW4yKDIgKiB4ICogdyAtIDIgKiB5ICogeiwgMSAtIDIgKiBzcXggLSAyICogc3F6KTsgLy8gYmFuawogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFdWxlciBvcmRlciAke29yZGVyfSBub3Qgc3VwcG9ydGVkIHlldC5gKTsKICAgICAgfQoKICAgICAgdGFyZ2V0LnkgPSBoZWFkaW5nOwogICAgICB0YXJnZXQueiA9IGF0dGl0dWRlOwogICAgICB0YXJnZXQueCA9IGJhbms7CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgcXVhdGVybmlvbiBjb21wb25lbnRzIGdpdmVuIEV1bGVyIGFuZ2xlIHJlcHJlc2VudGF0aW9uLgogICAgICoKICAgICAqIEBwYXJhbSBvcmRlciBUaGUgb3JkZXIgdG8gYXBwbHkgYW5nbGVzOiAnWFlaJyBvciAnWVhaJyBvciBhbnkgb3RoZXIgY29tYmluYXRpb24uCiAgICAgKgogICAgICogU2VlIHtAbGluayBodHRwczovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLzIwNjk2LWZ1bmN0aW9uLXRvLWNvbnZlcnQtYmV0d2Vlbi1kY20tZXVsZXItYW5nbGVzLXF1YXRlcm5pb25zLWFuZC1ldWxlci12ZWN0b3JzIE1hdGhXb3Jrc30gcmVmZXJlbmNlCiAgICAgKi8KCgogICAgc2V0RnJvbUV1bGVyKHgsIHksIHosIG9yZGVyKSB7CiAgICAgIGlmIChvcmRlciA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3JkZXIgPSAnWFlaJzsKICAgICAgfQoKICAgICAgY29uc3QgYzEgPSBNYXRoLmNvcyh4IC8gMik7CiAgICAgIGNvbnN0IGMyID0gTWF0aC5jb3MoeSAvIDIpOwogICAgICBjb25zdCBjMyA9IE1hdGguY29zKHogLyAyKTsKICAgICAgY29uc3QgczEgPSBNYXRoLnNpbih4IC8gMik7CiAgICAgIGNvbnN0IHMyID0gTWF0aC5zaW4oeSAvIDIpOwogICAgICBjb25zdCBzMyA9IE1hdGguc2luKHogLyAyKTsKCiAgICAgIGlmIChvcmRlciA9PT0gJ1hZWicpIHsKICAgICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgKyBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzIC0gczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyArIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgLSBzMSAqIHMyICogczM7CiAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWFonKSB7CiAgICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyAtIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzICsgczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWlhZJykgewogICAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgKyBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyAtIHMxICogczIgKiBzMzsKICAgICAgfSBlbHNlIGlmIChvcmRlciA9PT0gJ1pZWCcpIHsKICAgICAgICB0aGlzLnggPSBzMSAqIGMyICogYzMgLSBjMSAqIHMyICogczM7CiAgICAgICAgdGhpcy55ID0gYzEgKiBzMiAqIGMzICsgczEgKiBjMiAqIHMzOwogICAgICAgIHRoaXMueiA9IGMxICogYzIgKiBzMyAtIHMxICogczIgKiBjMzsKICAgICAgICB0aGlzLncgPSBjMSAqIGMyICogYzMgKyBzMSAqIHMyICogczM7CiAgICAgIH0gZWxzZSBpZiAob3JkZXIgPT09ICdZWlgnKSB7CiAgICAgICAgdGhpcy54ID0gczEgKiBjMiAqIGMzICsgYzEgKiBzMiAqIHMzOwogICAgICAgIHRoaXMueSA9IGMxICogczIgKiBjMyArIHMxICogYzIgKiBzMzsKICAgICAgICB0aGlzLnogPSBjMSAqIGMyICogczMgLSBzMSAqIHMyICogYzM7CiAgICAgICAgdGhpcy53ID0gYzEgKiBjMiAqIGMzIC0gczEgKiBzMiAqIHMzOwogICAgICB9IGVsc2UgaWYgKG9yZGVyID09PSAnWFpZJykgewogICAgICAgIHRoaXMueCA9IHMxICogYzIgKiBjMyAtIGMxICogczIgKiBzMzsKICAgICAgICB0aGlzLnkgPSBjMSAqIHMyICogYzMgLSBzMSAqIGMyICogczM7CiAgICAgICAgdGhpcy56ID0gYzEgKiBjMiAqIHMzICsgczEgKiBzMiAqIGMzOwogICAgICAgIHRoaXMudyA9IGMxICogYzIgKiBjMyArIHMxICogczIgKiBzMzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgY2xvbmUoKSB7CiAgICAgIHJldHVybiBuZXcgUXVhdGVybmlvbih0aGlzLngsIHRoaXMueSwgdGhpcy56LCB0aGlzLncpOwogICAgfQogICAgLyoqCiAgICAgKiBQZXJmb3JtcyBhIHNwaGVyaWNhbCBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byBxdWF0CiAgICAgKgogICAgICogQHBhcmFtIHRvUXVhdCBzZWNvbmQgb3BlcmFuZAogICAgICogQHBhcmFtIHQgaW50ZXJwb2xhdGlvbiBhbW91bnQgYmV0d2VlbiB0aGUgc2VsZiBxdWF0ZXJuaW9uIGFuZCB0b1F1YXQKICAgICAqIEBwYXJhbSB0YXJnZXQgQSBxdWF0ZXJuaW9uIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uIElmIG5vdCBwcm92aWRlZCwgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZC4KICAgICAqIEByZXR1cm5zIHtRdWF0ZXJuaW9ufSBUaGUgInRhcmdldCIgb2JqZWN0CiAgICAgKi8KCgogICAgc2xlcnAodG9RdWF0LCB0LCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgfQoKICAgICAgY29uc3QgYXggPSB0aGlzLng7CiAgICAgIGNvbnN0IGF5ID0gdGhpcy55OwogICAgICBjb25zdCBheiA9IHRoaXMuejsKICAgICAgY29uc3QgYXcgPSB0aGlzLnc7CiAgICAgIGxldCBieCA9IHRvUXVhdC54OwogICAgICBsZXQgYnkgPSB0b1F1YXQueTsKICAgICAgbGV0IGJ6ID0gdG9RdWF0Lno7CiAgICAgIGxldCBidyA9IHRvUXVhdC53OwogICAgICBsZXQgb21lZ2E7CiAgICAgIGxldCBjb3NvbTsKICAgICAgbGV0IHNpbm9tOwogICAgICBsZXQgc2NhbGUwOwogICAgICBsZXQgc2NhbGUxOyAvLyBjYWxjIGNvc2luZQoKICAgICAgY29zb20gPSBheCAqIGJ4ICsgYXkgKiBieSArIGF6ICogYnogKyBhdyAqIGJ3OyAvLyBhZGp1c3Qgc2lnbnMgKGlmIG5lY2Vzc2FyeSkKCiAgICAgIGlmIChjb3NvbSA8IDAuMCkgewogICAgICAgIGNvc29tID0gLWNvc29tOwogICAgICAgIGJ4ID0gLWJ4OwogICAgICAgIGJ5ID0gLWJ5OwogICAgICAgIGJ6ID0gLWJ6OwogICAgICAgIGJ3ID0gLWJ3OwogICAgICB9IC8vIGNhbGN1bGF0ZSBjb2VmZmljaWVudHMKCgogICAgICBpZiAoMS4wIC0gY29zb20gPiAwLjAwMDAwMSkgewogICAgICAgIC8vIHN0YW5kYXJkIGNhc2UgKHNsZXJwKQogICAgICAgIG9tZWdhID0gTWF0aC5hY29zKGNvc29tKTsKICAgICAgICBzaW5vbSA9IE1hdGguc2luKG9tZWdhKTsKICAgICAgICBzY2FsZTAgPSBNYXRoLnNpbigoMS4wIC0gdCkgKiBvbWVnYSkgLyBzaW5vbTsKICAgICAgICBzY2FsZTEgPSBNYXRoLnNpbih0ICogb21lZ2EpIC8gc2lub207CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gImZyb20iIGFuZCAidG8iIHF1YXRlcm5pb25zIGFyZSB2ZXJ5IGNsb3NlCiAgICAgICAgLy8gIC4uLiBzbyB3ZSBjYW4gZG8gYSBsaW5lYXIgaW50ZXJwb2xhdGlvbgogICAgICAgIHNjYWxlMCA9IDEuMCAtIHQ7CiAgICAgICAgc2NhbGUxID0gdDsKICAgICAgfSAvLyBjYWxjdWxhdGUgZmluYWwgdmFsdWVzCgoKICAgICAgdGFyZ2V0LnggPSBzY2FsZTAgKiBheCArIHNjYWxlMSAqIGJ4OwogICAgICB0YXJnZXQueSA9IHNjYWxlMCAqIGF5ICsgc2NhbGUxICogYnk7CiAgICAgIHRhcmdldC56ID0gc2NhbGUwICogYXogKyBzY2FsZTEgKiBiejsKICAgICAgdGFyZ2V0LncgPSBzY2FsZTAgKiBhdyArIHNjYWxlMSAqIGJ3OwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqCiAgICAgKiBSb3RhdGUgYW4gYWJzb2x1dGUgb3JpZW50YXRpb24gcXVhdGVybmlvbiBnaXZlbiBhbiBhbmd1bGFyIHZlbG9jaXR5IGFuZCBhIHRpbWUgc3RlcC4KICAgICAqLwoKCiAgICBpbnRlZ3JhdGUoYW5ndWxhclZlbG9jaXR5LCBkdCwgYW5ndWxhckZhY3RvciwgdGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgewogICAgICAgIHRhcmdldCA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IGF4ID0gYW5ndWxhclZlbG9jaXR5LnggKiBhbmd1bGFyRmFjdG9yLngsCiAgICAgICAgICAgIGF5ID0gYW5ndWxhclZlbG9jaXR5LnkgKiBhbmd1bGFyRmFjdG9yLnksCiAgICAgICAgICAgIGF6ID0gYW5ndWxhclZlbG9jaXR5LnogKiBhbmd1bGFyRmFjdG9yLnosCiAgICAgICAgICAgIGJ4ID0gdGhpcy54LAogICAgICAgICAgICBieSA9IHRoaXMueSwKICAgICAgICAgICAgYnogPSB0aGlzLnosCiAgICAgICAgICAgIGJ3ID0gdGhpcy53OwogICAgICBjb25zdCBoYWxmX2R0ID0gZHQgKiAwLjU7CiAgICAgIHRhcmdldC54ICs9IGhhbGZfZHQgKiAoYXggKiBidyArIGF5ICogYnogLSBheiAqIGJ5KTsKICAgICAgdGFyZ2V0LnkgKz0gaGFsZl9kdCAqIChheSAqIGJ3ICsgYXogKiBieCAtIGF4ICogYnopOwogICAgICB0YXJnZXQueiArPSBoYWxmX2R0ICogKGF6ICogYncgKyBheCAqIGJ5IC0gYXkgKiBieCk7CiAgICAgIHRhcmdldC53ICs9IGhhbGZfZHQgKiAoLWF4ICogYnggLSBheSAqIGJ5IC0gYXogKiBieik7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CgogIH0KICBjb25zdCBzZnZfdDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNmdl90MiA9IG5ldyBWZWMzKCk7CgogIC8qKgogICAqIFRoZSBhdmFpbGFibGUgc2hhcGUgdHlwZXMuCiAgICovCiAgY29uc3QgU0hBUEVfVFlQRVMgPSB7CiAgICAvKiogU1BIRVJFICovCiAgICBTUEhFUkU6IDEsCgogICAgLyoqIFBMQU5FICovCiAgICBQTEFORTogMiwKCiAgICAvKiogQk9YICovCiAgICBCT1g6IDQsCgogICAgLyoqIENPTVBPVU5EICovCiAgICBDT01QT1VORDogOCwKCiAgICAvKiogQ09OVkVYUE9MWUhFRFJPTiAqLwogICAgQ09OVkVYUE9MWUhFRFJPTjogMTYsCgogICAgLyoqIEhFSUdIVEZJRUxEICovCiAgICBIRUlHSFRGSUVMRDogMzIsCgogICAgLyoqIFBBUlRJQ0xFICovCiAgICBQQVJUSUNMRTogNjQsCgogICAgLyoqIENZTElOREVSICovCiAgICBDWUxJTkRFUjogMTI4LAoKICAgIC8qKiBUUklNRVNIICovCiAgICBUUklNRVNIOiAyNTYKICB9OwogIC8qKgogICAqIFNoYXBlVHlwZQogICAqLwoKICAvKioKICAgKiBCYXNlIGNsYXNzIGZvciBzaGFwZXMKICAgKi8KICBjbGFzcyBTaGFwZSB7CiAgICAvKioKICAgICAqIElkZW50aWZpZXIgb2YgdGhlIFNoYXBlLgogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgdHlwZSBvZiB0aGlzIHNoYXBlLiBNdXN0IGJlIHNldCB0byBhbiBpbnQgPiAwIGJ5IHN1YmNsYXNzZXMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBsb2NhbCBib3VuZGluZyBzcGhlcmUgcmFkaXVzIG9mIHRoaXMgc2hhcGUuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZC4KICAgICAqIEBkZWZhdWx0IHRydWUKICAgICAqLwoKICAgIC8qKgogICAgICogQGRlZmF1bHQgMQogICAgICovCgogICAgLyoqCiAgICAgKiBAZGVmYXVsdCAtMQogICAgICovCgogICAgLyoqCiAgICAgKiBPcHRpb25hbCBtYXRlcmlhbCBvZiB0aGUgc2hhcGUgdGhhdCByZWd1bGF0ZXMgY29udGFjdCBwcm9wZXJ0aWVzLgogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgYm9keSB0byB3aGljaCB0aGUgc2hhcGUgaXMgYWRkZWQgdG8uCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFsbCB0aGUgU2hhcGUgdHlwZXMuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHsKICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgewogICAgICAgIG9wdGlvbnMgPSB7fTsKICAgICAgfQoKICAgICAgdGhpcy5pZCA9IFNoYXBlLmlkQ291bnRlcisrOwogICAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgMDsKICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IDA7CiAgICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID8gb3B0aW9ucy5jb2xsaXNpb25SZXNwb25zZSA6IHRydWU7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgPyBvcHRpb25zLm1hdGVyaWFsIDogbnVsbDsKICAgICAgdGhpcy5ib2R5ID0gbnVsbDsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZXMgdGhlIGJvdW5kaW5nIHNwaGVyZSByYWRpdXMuCiAgICAgKiBUaGUgcmVzdWx0IGlzIHN0b3JlZCBpbiB0aGUgcHJvcGVydHkgYC5ib3VuZGluZ1NwaGVyZVJhZGl1c2AKICAgICAqLwoKCiAgICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgICAgdGhyb3cgYGNvbXB1dGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAke3RoaXMudHlwZX1gOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIHZvbHVtZSBvZiB0aGlzIHNoYXBlCiAgICAgKi8KCgogICAgdm9sdW1lKCkgewogICAgICB0aHJvdyBgdm9sdW1lKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICR7dGhpcy50eXBlfWA7CiAgICB9CiAgICAvKioKICAgICAqIENhbGN1bGF0ZXMgdGhlIGluZXJ0aWEgaW4gdGhlIGxvY2FsIGZyYW1lIGZvciB0aGlzIHNoYXBlLgogICAgICogQHNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfbW9tZW50c19vZl9pbmVydGlhCiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICB0aHJvdyBgY2FsY3VsYXRlTG9jYWxJbmVydGlhKCkgbm90IGltcGxlbWVudGVkIGZvciBzaGFwZSB0eXBlICR7dGhpcy50eXBlfWA7CiAgICB9CiAgICAvKioKICAgICAqIEB0b2RvIHVzZSBhYnN0cmFjdCBmb3IgdGhlc2Uga2luZCBvZiBtZXRob2RzCiAgICAgKi8KCgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgdGhyb3cgYGNhbGN1bGF0ZVdvcmxkQUFCQigpIG5vdCBpbXBsZW1lbnRlZCBmb3Igc2hhcGUgdHlwZSAke3RoaXMudHlwZX1gOwogICAgfQoKICB9CiAgU2hhcGUuaWRDb3VudGVyID0gMDsKICBTaGFwZS50eXBlcyA9IFNIQVBFX1RZUEVTOwoKICAvKioKICAgKiBUcmFuc2Zvcm1hdGlvbiB1dGlsaXRpZXMuCiAgICovCiAgY2xhc3MgVHJhbnNmb3JtIHsKICAgIC8qKgogICAgICogcG9zaXRpb24KICAgICAqLwoKICAgIC8qKgogICAgICogcXVhdGVybmlvbgogICAgICovCiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7CiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnF1YXRlcm5pb24gPSBuZXcgUXVhdGVybmlvbigpOwoKICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHsKICAgICAgICB0aGlzLnBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHsKICAgICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIGdsb2JhbCBwb2ludCBpbiBsb2NhbCB0cmFuc2Zvcm0gY29vcmRpbmF0ZXMuCiAgICAgKi8KCgogICAgcG9pbnRUb0xvY2FsKHdvcmxkUG9pbnQsIHJlc3VsdCkgewogICAgICByZXR1cm4gVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHRoaXMucG9zaXRpb24sIHRoaXMucXVhdGVybmlvbiwgd29ybGRQb2ludCwgcmVzdWx0KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGEgbG9jYWwgcG9pbnQgaW4gZ2xvYmFsIHRyYW5zZm9ybSBjb29yZGluYXRlcy4KICAgICAqLwoKCiAgICBwb2ludFRvV29ybGQobG9jYWxQb2ludCwgcmVzdWx0KSB7CiAgICAgIHJldHVybiBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5wb3NpdGlvbiwgdGhpcy5xdWF0ZXJuaW9uLCBsb2NhbFBvaW50LCByZXN1bHQpOwogICAgfQogICAgLyoqCiAgICAgKiB2ZWN0b3JUb1dvcmxkRnJhbWUKICAgICAqLwoKCiAgICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHsKICAgICAgICByZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIHBvaW50VG9Mb2NhbEZyYW1lCiAgICAgKi8KCgogICAgc3RhdGljIHBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmVzdWx0ID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgd29ybGRQb2ludC52c3ViKHBvc2l0aW9uLCByZXN1bHQpOwogICAgICBxdWF0ZXJuaW9uLmNvbmp1Z2F0ZSh0bXBRdWF0JDEpOwogICAgICB0bXBRdWF0JDEudm11bHQocmVzdWx0LCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgLyoqCiAgICAgKiBwb2ludFRvV29ybGRGcmFtZQogICAgICovCgoKICAgIHN0YXRpYyBwb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdGVybmlvbiwgbG9jYWxQb2ludCwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgewogICAgICAgIHJlc3VsdCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIHF1YXRlcm5pb24udm11bHQobG9jYWxQb2ludCwgcmVzdWx0KTsKICAgICAgcmVzdWx0LnZhZGQocG9zaXRpb24sIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIHZlY3RvclRvV29ybGRGcmFtZQogICAgICovCgoKICAgIHN0YXRpYyB2ZWN0b3JUb1dvcmxkRnJhbWUocXVhdGVybmlvbiwgbG9jYWxWZWN0b3IsIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHsKICAgICAgICByZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBxdWF0ZXJuaW9uLnZtdWx0KGxvY2FsVmVjdG9yLCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgLyoqCiAgICAgKiB2ZWN0b3JUb0xvY2FsRnJhbWUKICAgICAqLwoKCiAgICBzdGF0aWMgdmVjdG9yVG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0ZXJuaW9uLCB3b3JsZFZlY3RvciwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgewogICAgICAgIHJlc3VsdCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIHF1YXRlcm5pb24udyAqPSAtMTsKICAgICAgcXVhdGVybmlvbi52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTsKICAgICAgcXVhdGVybmlvbi53ICo9IC0xOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICB9CiAgY29uc3QgdG1wUXVhdCQxID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgLyoqCiAgICogQSBzZXQgb2YgcG9seWdvbnMgZGVzY3JpYmluZyBhIGNvbnZleCBzaGFwZS4KICAgKgogICAqIFRoZSBzaGFwZSBNVVNUIGJlIGNvbnZleCBmb3IgdGhlIGNvZGUgdG8gd29yayBwcm9wZXJseS4gTm8gcG9seWdvbnMgbWF5IGJlIGNvcGxhbmFyIChjb250YWluZWQKICAgKiBpbiB0aGUgc2FtZSAzRCBwbGFuZSksIGluc3RlYWQgdGhlc2Ugc2hvdWxkIGJlIG1lcmdlZCBpbnRvIG9uZSBwb2x5Z29uLgogICAqCiAgICogQGF1dGhvciBxaWFvIC8gaHR0cHM6Ly9naXRodWIuY29tL3FpYW8gKG9yaWdpbmFsIGF1dGhvciwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvL3RocmVlLmpzL2NvbW1pdC84NTAyNmYwYzc2OWU0MDAwMTQ4YTY3ZDQ1YTllOWI5YzUxMDg4MzZmKQogICAqIEBhdXRob3Igc2NodGVwcGUgLyBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUKICAgKiBAc2VlIGh0dHBzOi8vd3d3LmFsdGRldmJsb2dhZGF5LmNvbS8yMDExLzA1LzEzL2NvbnRhY3QtZ2VuZXJhdGlvbi1iZXR3ZWVuLTNkLWNvbnZleC1tZXNoZXMvCiAgICoKICAgKiBAdG9kbyBNb3ZlIHRoZSBjbGlwcGluZyBmdW5jdGlvbnMgdG8gQ29udGFjdEdlbmVyYXRvcj8KICAgKiBAdG9kbyBBdXRvbWF0aWNhbGx5IG1lcmdlIGNvcGxhbmFyIHBvbHlnb25zIGluIGNvbnN0cnVjdG9yLgogICAqIEBleGFtcGxlCiAgICogICAgIGNvbnN0IGNvbnZleFNoYXBlID0gbmV3IENBTk5PTi5Db252ZXhQb2x5aGVkcm9uKHsgdmVydGljZXMsIGZhY2VzIH0pCiAgICogICAgIGNvbnN0IGNvbnZleEJvZHkgPSBuZXcgQ0FOTk9OLkJvZHkoeyBtYXNzOiAxLCBzaGFwZTogY29udmV4U2hhcGUgfSkKICAgKiAgICAgd29ybGQuYWRkQm9keShjb252ZXhCb2R5KQogICAqLwogIGNsYXNzIENvbnZleFBvbHloZWRyb24gZXh0ZW5kcyBTaGFwZSB7CiAgICAvKiogdmVydGljZXMgKi8KCiAgICAvKioKICAgICAqIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggZmFjZSBjb25zaXN0cyBvZgogICAgICovCgogICAgLyoqIGZhY2VOb3JtYWxzICovCgogICAgLyoqIHdvcmxkVmVydGljZXMgKi8KCiAgICAvKiogd29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlICovCgogICAgLyoqIHdvcmxkRmFjZU5vcm1hbHMgKi8KCiAgICAvKiogd29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlICovCgogICAgLyoqCiAgICAgKiBJZiBnaXZlbiwgdGhlc2UgbG9jYWxseSBkZWZpbmVkLCBub3JtYWxpemVkIGF4ZXMgYXJlIHRoZSBvbmx5IG9uZXMgYmVpbmcgY2hlY2tlZCB3aGVuIGRvaW5nIHNlcGFyYXRpbmcgYXhpcyBjaGVjay4KICAgICAqLwoKICAgIC8qKiB1bmlxdWVFZGdlcyAqLwoKICAgIC8qKgogICAgICogQHBhcmFtIHZlcnRpY2VzIEFuIGFycmF5IG9mIFZlYzMncwogICAgICogQHBhcmFtIGZhY2VzIEFycmF5IG9mIGludGVnZXIgYXJyYXlzLCBkZXNjcmliaW5nIHdoaWNoIHZlcnRpY2VzIHRoYXQgaXMgaW5jbHVkZWQgaW4gZWFjaCBmYWNlLgogICAgICovCiAgICBjb25zdHJ1Y3Rvcihwcm9wcykgewogICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkgewogICAgICAgIHByb3BzID0ge307CiAgICAgIH0KCiAgICAgIGNvbnN0IHsKICAgICAgICB2ZXJ0aWNlcyA9IFtdLAogICAgICAgIGZhY2VzID0gW10sCiAgICAgICAgbm9ybWFscyA9IFtdLAogICAgICAgIGF4ZXMsCiAgICAgICAgYm91bmRpbmdTcGhlcmVSYWRpdXMKICAgICAgfSA9IHByb3BzOwogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTgogICAgICB9KTsKICAgICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzOwogICAgICB0aGlzLmZhY2VzID0gZmFjZXM7CiAgICAgIHRoaXMuZmFjZU5vcm1hbHMgPSBub3JtYWxzOwoKICAgICAgaWYgKHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5jb21wdXRlTm9ybWFscygpOwogICAgICB9CgogICAgICBpZiAoIWJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSBib3VuZGluZ1NwaGVyZVJhZGl1czsKICAgICAgfQoKICAgICAgdGhpcy53b3JsZFZlcnRpY2VzID0gW107IC8vIFdvcmxkIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgLnZlcnRpY2VzCgogICAgICB0aGlzLndvcmxkVmVydGljZXNOZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFscyA9IFtdOyAvLyBXb3JsZCB0cmFuc2Zvcm1lZCB2ZXJzaW9uIG9mIC5mYWNlTm9ybWFscwoKICAgICAgdGhpcy53b3JsZEZhY2VOb3JtYWxzTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICB0aGlzLnVuaXF1ZUF4ZXMgPSBheGVzID8gYXhlcy5zbGljZSgpIDogbnVsbDsKICAgICAgdGhpcy51bmlxdWVFZGdlcyA9IFtdOwogICAgICB0aGlzLmNvbXB1dGVFZGdlcygpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyB1bmlxdWVFZGdlcwogICAgICovCgoKICAgIGNvbXB1dGVFZGdlcygpIHsKICAgICAgY29uc3QgZmFjZXMgPSB0aGlzLmZhY2VzOwogICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICAgIGNvbnN0IGVkZ2VzID0gdGhpcy51bmlxdWVFZGdlczsKICAgICAgZWRnZXMubGVuZ3RoID0gMDsKICAgICAgY29uc3QgZWRnZSA9IG5ldyBWZWMzKCk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07CiAgICAgICAgY29uc3QgbnVtVmVydGljZXMgPSBmYWNlLmxlbmd0aDsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IG51bVZlcnRpY2VzOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGsgPSAoaiArIDEpICUgbnVtVmVydGljZXM7CiAgICAgICAgICB2ZXJ0aWNlc1tmYWNlW2pdXS52c3ViKHZlcnRpY2VzW2ZhY2Vba11dLCBlZGdlKTsKICAgICAgICAgIGVkZ2Uubm9ybWFsaXplKCk7CiAgICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKCiAgICAgICAgICBmb3IgKGxldCBwID0gMDsgcCAhPT0gZWRnZXMubGVuZ3RoOyBwKyspIHsKICAgICAgICAgICAgaWYgKGVkZ2VzW3BdLmFsbW9zdEVxdWFscyhlZGdlKSB8fCBlZGdlc1twXS5hbG1vc3RFcXVhbHMoZWRnZSkpIHsKICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICAgIGVkZ2VzLnB1c2goZWRnZS5jbG9uZSgpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZSB0aGUgbm9ybWFscyBvZiB0aGUgZmFjZXMuCiAgICAgKiBXaWxsIHJldXNlIGV4aXN0aW5nIFZlYzMgb2JqZWN0cyBpbiB0aGUgYGZhY2VOb3JtYWxzYCBhcnJheSBpZiB0aGV5IGV4aXN0LgogICAgICovCgoKICAgIGNvbXB1dGVOb3JtYWxzKCkgewogICAgICB0aGlzLmZhY2VOb3JtYWxzLmxlbmd0aCA9IHRoaXMuZmFjZXMubGVuZ3RoOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAvLyBDaGVjayBzbyBhbGwgdmVydGljZXMgZXhpc3RzIGZvciB0aGlzIGZhY2UKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuZmFjZXNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGlmICghdGhpcy52ZXJ0aWNlc1t0aGlzLmZhY2VzW2ldW2pdXSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZlcnRleCAke3RoaXMuZmFjZXNbaV1bal19IG5vdCBmb3VuZCFgKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ldIHx8IG5ldyBWZWMzKCk7CiAgICAgICAgdGhpcy5nZXRGYWNlTm9ybWFsKGksIG4pOwogICAgICAgIG4ubmVnYXRlKG4pOwogICAgICAgIHRoaXMuZmFjZU5vcm1hbHNbaV0gPSBuOwogICAgICAgIGNvbnN0IHZlcnRleCA9IHRoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVswXV07CgogICAgICAgIGlmIChuLmRvdCh2ZXJ0ZXgpIDwgMCkgewogICAgICAgICAgY29uc29sZS5lcnJvcihgLmZhY2VOb3JtYWxzWyR7aX1dID0gVmVjMygke24udG9TdHJpbmcoKX0pIGxvb2tzIGxpa2UgaXQgcG9pbnRzIGludG8gdGhlIHNoYXBlPyBUaGUgdmVydGljZXMgZm9sbG93LiBNYWtlIHN1cmUgdGhleSBhcmUgb3JkZXJlZCBDQ1cgYXJvdW5kIHRoZSBub3JtYWwsIHVzaW5nIHRoZSByaWdodCBoYW5kIHJ1bGUuYCk7CgogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmZhY2VzW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybihgLnZlcnRpY2VzWyR7dGhpcy5mYWNlc1tpXVtqXX1dID0gVmVjMygke3RoaXMudmVydGljZXNbdGhpcy5mYWNlc1tpXVtqXV0udG9TdHJpbmcoKX0pYCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGUgdGhlIG5vcm1hbCBvZiBhIGZhY2UgZnJvbSBpdHMgdmVydGljZXMKICAgICAqLwoKCiAgICBnZXRGYWNlTm9ybWFsKGksIHRhcmdldCkgewogICAgICBjb25zdCBmID0gdGhpcy5mYWNlc1tpXTsKICAgICAgY29uc3QgdmEgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dOwogICAgICBjb25zdCB2YiA9IHRoaXMudmVydGljZXNbZlsxXV07CiAgICAgIGNvbnN0IHZjID0gdGhpcy52ZXJ0aWNlc1tmWzJdXTsKICAgICAgQ29udmV4UG9seWhlZHJvbi5jb21wdXRlTm9ybWFsKHZhLCB2YiwgdmMsIHRhcmdldCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzCiAgICAgKi8KCgogICAgc3RhdGljIGNvbXB1dGVOb3JtYWwodmEsIHZiLCB2YywgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGNiID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgYWIgPSBuZXcgVmVjMygpOwogICAgICB2Yi52c3ViKHZhLCBhYik7CiAgICAgIHZjLnZzdWIodmIsIGNiKTsKICAgICAgY2IuY3Jvc3MoYWIsIHRhcmdldCk7CgogICAgICBpZiAoIXRhcmdldC5pc1plcm8oKSkgewogICAgICAgIHRhcmdldC5ub3JtYWxpemUoKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBAcGFyYW0gbWluRGlzdCBDbGFtcCBkaXN0YW5jZQogICAgICogQHBhcmFtIHJlc3VsdCBUaGUgYW4gYXJyYXkgb2YgY29udGFjdCBwb2ludCBvYmplY3RzLCBzZWUgY2xpcEZhY2VBZ2FpbnN0SHVsbAogICAgICovCgoKICAgIGNsaXBBZ2FpbnN0SHVsbChwb3NBLCBxdWF0QSwgaHVsbEIsIHBvc0IsIHF1YXRCLCBzZXBhcmF0aW5nTm9ybWFsLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHsKICAgICAgY29uc3QgV29ybGROb3JtYWwgPSBuZXcgVmVjMygpOwogICAgICBsZXQgY2xvc2VzdEZhY2VCID0gLTE7CiAgICAgIGxldCBkbWF4ID0gLU51bWJlci5NQVhfVkFMVUU7CgogICAgICBmb3IgKGxldCBmYWNlID0gMDsgZmFjZSA8IGh1bGxCLmZhY2VzLmxlbmd0aDsgZmFjZSsrKSB7CiAgICAgICAgV29ybGROb3JtYWwuY29weShodWxsQi5mYWNlTm9ybWFsc1tmYWNlXSk7CiAgICAgICAgcXVhdEIudm11bHQoV29ybGROb3JtYWwsIFdvcmxkTm9ybWFsKTsKICAgICAgICBjb25zdCBkID0gV29ybGROb3JtYWwuZG90KHNlcGFyYXRpbmdOb3JtYWwpOwoKICAgICAgICBpZiAoZCA+IGRtYXgpIHsKICAgICAgICAgIGRtYXggPSBkOwogICAgICAgICAgY2xvc2VzdEZhY2VCID0gZmFjZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IHdvcmxkVmVydHNCMSA9IFtdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBodWxsQi5mYWNlc1tjbG9zZXN0RmFjZUJdLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGh1bGxCLnZlcnRpY2VzW2h1bGxCLmZhY2VzW2Nsb3Nlc3RGYWNlQl1baV1dOwogICAgICAgIGNvbnN0IHdvcmxkYiA9IG5ldyBWZWMzKCk7CiAgICAgICAgd29ybGRiLmNvcHkoYik7CiAgICAgICAgcXVhdEIudm11bHQod29ybGRiLCB3b3JsZGIpOwogICAgICAgIHBvc0IudmFkZCh3b3JsZGIsIHdvcmxkYik7CiAgICAgICAgd29ybGRWZXJ0c0IxLnB1c2god29ybGRiKTsKICAgICAgfQoKICAgICAgaWYgKGNsb3Nlc3RGYWNlQiA+PSAwKSB7CiAgICAgICAgdGhpcy5jbGlwRmFjZUFnYWluc3RIdWxsKHNlcGFyYXRpbmdOb3JtYWwsIHBvc0EsIHF1YXRBLCB3b3JsZFZlcnRzQjEsIG1pbkRpc3QsIG1heERpc3QsIHJlc3VsdCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogRmluZCB0aGUgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhpcyBodWxsIGFuZCBhbm90aGVyCiAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgdmVjdG9yIHRvIHNhdmUgdGhlIGF4aXMgaW4KICAgICAqIEByZXR1cm4gUmV0dXJucyBmYWxzZSBpZiBhIHNlcGFyYXRpb24gaXMgZm91bmQsIGVsc2UgdHJ1ZQogICAgICovCgoKICAgIGZpbmRTZXBhcmF0aW5nQXhpcyhodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCLCB0YXJnZXQsIGZhY2VMaXN0QSwgZmFjZUxpc3RCKSB7CiAgICAgIGNvbnN0IGZhY2VBTm9ybWFsV1MzID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgV29ybGRub3JtYWwxID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgZGVsdGFDID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3Qgd29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHdvcmxkRWRnZTEgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBDcm9zcyA9IG5ldyBWZWMzKCk7CiAgICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgICAgY29uc3QgaHVsbEEgPSB0aGlzOwoKICAgICAgaWYgKCFodWxsQS51bmlxdWVBeGVzKSB7CiAgICAgICAgY29uc3QgbnVtRmFjZXNBID0gZmFjZUxpc3RBID8gZmFjZUxpc3RBLmxlbmd0aCA6IGh1bGxBLmZhY2VzLmxlbmd0aDsgLy8gVGVzdCBmYWNlIG5vcm1hbHMgZnJvbSBodWxsQQoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQTsgaSsrKSB7CiAgICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QSA/IGZhY2VMaXN0QVtpXSA6IGk7IC8vIEdldCB3b3JsZCBmYWNlIG5vcm1hbAoKICAgICAgICAgIGZhY2VBTm9ybWFsV1MzLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmldKTsKICAgICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MzLCBmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgICBjb25zdCBkID0gaHVsbEEudGVzdFNlcEF4aXMoZmFjZUFOb3JtYWxXUzMsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgIGlmIChkID09PSBmYWxzZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICAgIGRtaW4gPSBkOwogICAgICAgICAgICB0YXJnZXQuY29weShmYWNlQU5vcm1hbFdTMyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gaHVsbEEudW5pcXVlQXhlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgLy8gR2V0IHdvcmxkIGF4aXMKICAgICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUF4ZXNbaV0sIGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICAgIGNvbnN0IGQgPSBodWxsQS50ZXN0U2VwQXhpcyhmYWNlQU5vcm1hbFdTMywgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KGZhY2VBTm9ybWFsV1MzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICghaHVsbEIudW5pcXVlQXhlcykgewogICAgICAgIC8vIFRlc3QgZmFjZSBub3JtYWxzIGZyb20gaHVsbEIKICAgICAgICBjb25zdCBudW1GYWNlc0IgPSBmYWNlTGlzdEIgPyBmYWNlTGlzdEIubGVuZ3RoIDogaHVsbEIuZmFjZXMubGVuZ3RoOwoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZhY2VzQjsgaSsrKSB7CiAgICAgICAgICBjb25zdCBmaSA9IGZhY2VMaXN0QiA/IGZhY2VMaXN0QltpXSA6IGk7CiAgICAgICAgICBXb3JsZG5vcm1hbDEuY29weShodWxsQi5mYWNlTm9ybWFsc1tmaV0pOwogICAgICAgICAgcXVhdEIudm11bHQoV29ybGRub3JtYWwxLCBXb3JsZG5vcm1hbDEpOwogICAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRlc3QgdW5pcXVlIGF4ZXMgaW4gQgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBodWxsQi51bmlxdWVBeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBxdWF0Qi52bXVsdChodWxsQi51bmlxdWVBeGVzW2ldLCBXb3JsZG5vcm1hbDEpOwogICAgICAgICAgY29uc3QgZCA9IGh1bGxBLnRlc3RTZXBBeGlzKFdvcmxkbm9ybWFsMSwgaHVsbEIsIHBvc0EsIHF1YXRBLCBwb3NCLCBxdWF0Qik7CgogICAgICAgICAgaWYgKGQgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZCA8IGRtaW4pIHsKICAgICAgICAgICAgZG1pbiA9IGQ7CiAgICAgICAgICAgIHRhcmdldC5jb3B5KFdvcmxkbm9ybWFsMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIFRlc3QgZWRnZXMKCgogICAgICBmb3IgKGxldCBlMCA9IDA7IGUwICE9PSBodWxsQS51bmlxdWVFZGdlcy5sZW5ndGg7IGUwKyspIHsKICAgICAgICAvLyBHZXQgd29ybGQgZWRnZQogICAgICAgIHF1YXRBLnZtdWx0KGh1bGxBLnVuaXF1ZUVkZ2VzW2UwXSwgd29ybGRFZGdlMCk7CgogICAgICAgIGZvciAobGV0IGUxID0gMDsgZTEgIT09IGh1bGxCLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgZTErKykgewogICAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2UgMgogICAgICAgICAgcXVhdEIudm11bHQoaHVsbEIudW5pcXVlRWRnZXNbZTFdLCB3b3JsZEVkZ2UxKTsKICAgICAgICAgIHdvcmxkRWRnZTAuY3Jvc3Mod29ybGRFZGdlMSwgQ3Jvc3MpOwoKICAgICAgICAgIGlmICghQ3Jvc3MuYWxtb3N0WmVybygpKSB7CiAgICAgICAgICAgIENyb3NzLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICBjb25zdCBkaXN0ID0gaHVsbEEudGVzdFNlcEF4aXMoQ3Jvc3MsIGh1bGxCLCBwb3NBLCBxdWF0QSwgcG9zQiwgcXVhdEIpOwoKICAgICAgICAgICAgaWYgKGRpc3QgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZGlzdCA8IGRtaW4pIHsKICAgICAgICAgICAgICBkbWluID0gZGlzdDsKICAgICAgICAgICAgICB0YXJnZXQuY29weShDcm9zcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHBvc0IudnN1Yihwb3NBLCBkZWx0YUMpOwoKICAgICAgaWYgKGRlbHRhQy5kb3QodGFyZ2V0KSA+IDAuMCkgewogICAgICAgIHRhcmdldC5uZWdhdGUodGFyZ2V0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIFRlc3Qgc2VwYXJhdGluZyBheGlzIGFnYWluc3QgdHdvIGh1bGxzLiBCb3RoIGh1bGxzIGFyZSBwcm9qZWN0ZWQgb250byB0aGUgYXhpcyBhbmQgdGhlIG92ZXJsYXAgc2l6ZSBpcyByZXR1cm5lZCBpZiB0aGVyZSBpcyBvbmUuCiAgICAgKiBAcmV0dXJuIFRoZSBvdmVybGFwIGRlcHRoLCBvciBGQUxTRSBpZiBubyBwZW5ldHJhdGlvbi4KICAgICAqLwoKCiAgICB0ZXN0U2VwQXhpcyhheGlzLCBodWxsQiwgcG9zQSwgcXVhdEEsIHBvc0IsIHF1YXRCKSB7CiAgICAgIGNvbnN0IGh1bGxBID0gdGhpczsKICAgICAgQ29udmV4UG9seWhlZHJvbi5wcm9qZWN0KGh1bGxBLCBheGlzLCBwb3NBLCBxdWF0QSwgbWF4bWluQSk7CiAgICAgIENvbnZleFBvbHloZWRyb24ucHJvamVjdChodWxsQiwgYXhpcywgcG9zQiwgcXVhdEIsIG1heG1pbkIpOwogICAgICBjb25zdCBtYXhBID0gbWF4bWluQVswXTsKICAgICAgY29uc3QgbWluQSA9IG1heG1pbkFbMV07CiAgICAgIGNvbnN0IG1heEIgPSBtYXhtaW5CWzBdOwogICAgICBjb25zdCBtaW5CID0gbWF4bWluQlsxXTsKCiAgICAgIGlmIChtYXhBIDwgbWluQiB8fCBtYXhCIDwgbWluQSkgewogICAgICAgIHJldHVybiBmYWxzZTsgLy8gU2VwYXJhdGVkCiAgICAgIH0KCiAgICAgIGNvbnN0IGQwID0gbWF4QSAtIG1pbkI7CiAgICAgIGNvbnN0IGQxID0gbWF4QiAtIG1pbkE7CiAgICAgIGNvbnN0IGRlcHRoID0gZDAgPCBkMSA/IGQwIDogZDE7CiAgICAgIHJldHVybiBkZXB0aDsKICAgIH0KICAgIC8qKgogICAgICogY2FsY3VsYXRlTG9jYWxJbmVydGlhCiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdAogICAgICBjb25zdCBhYWJibWF4ID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgYWFiYm1pbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuY29tcHV0ZUxvY2FsQUFCQihhYWJibWluLCBhYWJibWF4KTsKICAgICAgY29uc3QgeCA9IGFhYmJtYXgueCAtIGFhYmJtaW4ueDsKICAgICAgY29uc3QgeSA9IGFhYmJtYXgueSAtIGFhYmJtaW4ueTsKICAgICAgY29uc3QgeiA9IGFhYmJtYXgueiAtIGFhYmJtaW4uejsKICAgICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeik7CiAgICAgIHRhcmdldC55ID0gMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHggKiAyICogeCArIDIgKiB6ICogMiAqIHopOwogICAgICB0YXJnZXQueiA9IDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB5ICogMiAqIHkgKyAyICogeCAqIDIgKiB4KTsKICAgIH0KICAgIC8qKgogICAgICogQHBhcmFtIGZhY2VfaSBJbmRleCBvZiB0aGUgZmFjZQogICAgICovCgoKICAgIGdldFBsYW5lQ29uc3RhbnRPZkZhY2UoZmFjZV9pKSB7CiAgICAgIGNvbnN0IGYgPSB0aGlzLmZhY2VzW2ZhY2VfaV07CiAgICAgIGNvbnN0IG4gPSB0aGlzLmZhY2VOb3JtYWxzW2ZhY2VfaV07CiAgICAgIGNvbnN0IHYgPSB0aGlzLnZlcnRpY2VzW2ZbMF1dOwogICAgICBjb25zdCBjID0gLW4uZG90KHYpOwogICAgICByZXR1cm4gYzsKICAgIH0KICAgIC8qKgogICAgICogQ2xpcCBhIGZhY2UgYWdhaW5zdCBhIGh1bGwuCiAgICAgKiBAcGFyYW0gd29ybGRWZXJ0c0IxIEFuIGFycmF5IG9mIFZlYzMgd2l0aCB2ZXJ0aWNlcyBpbiB0aGUgd29ybGQgZnJhbWUuCiAgICAgKiBAcGFyYW0gbWluRGlzdCBEaXN0YW5jZSBjbGFtcGluZwogICAgICogQHBhcmFtIEFycmF5IHJlc3VsdCBBcnJheSB0byBzdG9yZSByZXN1bHRpbmcgY29udGFjdCBwb2ludHMgaW4uIFdpbGwgYmUgb2JqZWN0cyB3aXRoIHByb3BlcnRpZXM6IHBvaW50LCBkZXB0aCwgbm9ybWFsLiBUaGVzZSBhcmUgcmVwcmVzZW50ZWQgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICAgKi8KCgogICAgY2xpcEZhY2VBZ2FpbnN0SHVsbChzZXBhcmF0aW5nTm9ybWFsLCBwb3NBLCBxdWF0QSwgd29ybGRWZXJ0c0IxLCBtaW5EaXN0LCBtYXhEaXN0LCByZXN1bHQpIHsKICAgICAgY29uc3QgZmFjZUFOb3JtYWxXUyA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGVkZ2UwID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgV29ybGRFZGdlMCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHdvcmxkUGxhbmVBbm9ybWFsMSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHBsYW5lTm9ybWFsV1MxID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3Qgd29ybGRBMSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGxvY2FsUGxhbmVOb3JtYWwgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBwbGFuZU5vcm1hbFdTID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgaHVsbEEgPSB0aGlzOwogICAgICBjb25zdCB3b3JsZFZlcnRzQjIgPSBbXTsKICAgICAgY29uc3QgcFZ0eEluID0gd29ybGRWZXJ0c0IxOwogICAgICBjb25zdCBwVnR4T3V0ID0gd29ybGRWZXJ0c0IyOwogICAgICBsZXQgY2xvc2VzdEZhY2VBID0gLTE7CiAgICAgIGxldCBkbWluID0gTnVtYmVyLk1BWF9WQUxVRTsgLy8gRmluZCB0aGUgZmFjZSB3aXRoIG5vcm1hbCBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXMKCiAgICAgIGZvciAobGV0IGZhY2UgPSAwOyBmYWNlIDwgaHVsbEEuZmFjZXMubGVuZ3RoOyBmYWNlKyspIHsKICAgICAgICBmYWNlQU5vcm1hbFdTLmNvcHkoaHVsbEEuZmFjZU5vcm1hbHNbZmFjZV0pOwogICAgICAgIHF1YXRBLnZtdWx0KGZhY2VBTm9ybWFsV1MsIGZhY2VBTm9ybWFsV1MpOwogICAgICAgIGNvbnN0IGQgPSBmYWNlQU5vcm1hbFdTLmRvdChzZXBhcmF0aW5nTm9ybWFsKTsKCiAgICAgICAgaWYgKGQgPCBkbWluKSB7CiAgICAgICAgICBkbWluID0gZDsKICAgICAgICAgIGNsb3Nlc3RGYWNlQSA9IGZhY2U7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoY2xvc2VzdEZhY2VBIDwgMCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBHZXQgdGhlIGZhY2UgYW5kIGNvbnN0cnVjdCBjb25uZWN0ZWQgZmFjZXMKCgogICAgICBjb25zdCBwb2x5QSA9IGh1bGxBLmZhY2VzW2Nsb3Nlc3RGYWNlQV07CiAgICAgIHBvbHlBLmNvbm5lY3RlZEZhY2VzID0gW107CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGh1bGxBLmZhY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBodWxsQS5mYWNlc1tpXS5sZW5ndGg7IGorKykgewogICAgICAgICAgaWYgKAogICAgICAgICAgLyogU2hhcmluZyBhIHZlcnRleCovCiAgICAgICAgICBwb2x5QS5pbmRleE9mKGh1bGxBLmZhY2VzW2ldW2pdKSAhPT0gLTEgJiYKICAgICAgICAgIC8qIE5vdCB0aGUgb25lIHdlIGFyZSBsb29raW5nIGZvciBjb25uZWN0aW9ucyBmcm9tICovCiAgICAgICAgICBpICE9PSBjbG9zZXN0RmFjZUEgJiYKICAgICAgICAgIC8qIE5vdCBhbHJlYWR5IGFkZGVkICovCiAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5pbmRleE9mKGkpID09PSAtMSkgewogICAgICAgICAgICBwb2x5QS5jb25uZWN0ZWRGYWNlcy5wdXNoKGkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSAvLyBDbGlwIHRoZSBwb2x5Z29uIHRvIHRoZSBiYWNrIG9mIHRoZSBwbGFuZXMgb2YgYWxsIGZhY2VzIG9mIGh1bGwgQSwKICAgICAgLy8gdGhhdCBhcmUgYWRqYWNlbnQgdG8gdGhlIHdpdG5lc3MgZmFjZQoKCiAgICAgIGNvbnN0IG51bVZlcnRpY2VzQSA9IHBvbHlBLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmVydGljZXNBOyBpKyspIHsKICAgICAgICBjb25zdCBhID0gaHVsbEEudmVydGljZXNbcG9seUFbaV1dOwogICAgICAgIGNvbnN0IGIgPSBodWxsQS52ZXJ0aWNlc1twb2x5QVsoaSArIDEpICUgbnVtVmVydGljZXNBXV07CiAgICAgICAgYS52c3ViKGIsIGVkZ2UwKTsKICAgICAgICBXb3JsZEVkZ2UwLmNvcHkoZWRnZTApOwogICAgICAgIHF1YXRBLnZtdWx0KFdvcmxkRWRnZTAsIFdvcmxkRWRnZTApOwogICAgICAgIHBvc0EudmFkZChXb3JsZEVkZ2UwLCBXb3JsZEVkZ2UwKTsKICAgICAgICB3b3JsZFBsYW5lQW5vcm1hbDEuY29weSh0aGlzLmZhY2VOb3JtYWxzW2Nsb3Nlc3RGYWNlQV0pOwogICAgICAgIHF1YXRBLnZtdWx0KHdvcmxkUGxhbmVBbm9ybWFsMSwgd29ybGRQbGFuZUFub3JtYWwxKTsKICAgICAgICBwb3NBLnZhZGQod29ybGRQbGFuZUFub3JtYWwxLCB3b3JsZFBsYW5lQW5vcm1hbDEpOwogICAgICAgIFdvcmxkRWRnZTAuY3Jvc3Mod29ybGRQbGFuZUFub3JtYWwxLCBwbGFuZU5vcm1hbFdTMSk7CiAgICAgICAgcGxhbmVOb3JtYWxXUzEubmVnYXRlKHBsYW5lTm9ybWFsV1MxKTsKICAgICAgICB3b3JsZEExLmNvcHkoYSk7CiAgICAgICAgcXVhdEEudm11bHQod29ybGRBMSwgd29ybGRBMSk7CiAgICAgICAgcG9zQS52YWRkKHdvcmxkQTEsIHdvcmxkQTEpOwogICAgICAgIGNvbnN0IG90aGVyRmFjZSA9IHBvbHlBLmNvbm5lY3RlZEZhY2VzW2ldOwogICAgICAgIGxvY2FsUGxhbmVOb3JtYWwuY29weSh0aGlzLmZhY2VOb3JtYWxzW290aGVyRmFjZV0pOwogICAgICAgIGNvbnN0IGxvY2FsUGxhbmVFcSA9IHRoaXMuZ2V0UGxhbmVDb25zdGFudE9mRmFjZShvdGhlckZhY2UpOwogICAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgICBxdWF0QS52bXVsdChwbGFuZU5vcm1hbFdTLCBwbGFuZU5vcm1hbFdTKTsKICAgICAgICBjb25zdCBwbGFuZUVxV1MgPSBsb2NhbFBsYW5lRXEgLSBwbGFuZU5vcm1hbFdTLmRvdChwb3NBKTsgLy8gQ2xpcCBmYWNlIGFnYWluc3Qgb3VyIGNvbnN0cnVjdGVkIHBsYW5lCgogICAgICAgIHRoaXMuY2xpcEZhY2VBZ2FpbnN0UGxhbmUocFZ0eEluLCBwVnR4T3V0LCBwbGFuZU5vcm1hbFdTLCBwbGFuZUVxV1MpOyAvLyBUaHJvdyBhd2F5IGFsbCBjbGlwcGVkIHBvaW50cywgYnV0IHNhdmUgdGhlIHJlbWFpbmluZyB1bnRpbCBuZXh0IGNsaXAKCiAgICAgICAgd2hpbGUgKHBWdHhJbi5sZW5ndGgpIHsKICAgICAgICAgIHBWdHhJbi5zaGlmdCgpOwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKHBWdHhPdXQubGVuZ3RoKSB7CiAgICAgICAgICBwVnR4SW4ucHVzaChwVnR4T3V0LnNoaWZ0KCkpOwogICAgICAgIH0KICAgICAgfSAvLyBvbmx5IGtlZXAgY29udGFjdCBwb2ludHMgdGhhdCBhcmUgYmVoaW5kIHRoZSB3aXRuZXNzIGZhY2UKCgogICAgICBsb2NhbFBsYW5lTm9ybWFsLmNvcHkodGhpcy5mYWNlTm9ybWFsc1tjbG9zZXN0RmFjZUFdKTsKICAgICAgY29uc3QgbG9jYWxQbGFuZUVxID0gdGhpcy5nZXRQbGFuZUNvbnN0YW50T2ZGYWNlKGNsb3Nlc3RGYWNlQSk7CiAgICAgIHBsYW5lTm9ybWFsV1MuY29weShsb2NhbFBsYW5lTm9ybWFsKTsKICAgICAgcXVhdEEudm11bHQocGxhbmVOb3JtYWxXUywgcGxhbmVOb3JtYWxXUyk7CiAgICAgIGNvbnN0IHBsYW5lRXFXUyA9IGxvY2FsUGxhbmVFcSAtIHBsYW5lTm9ybWFsV1MuZG90KHBvc0EpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwVnR4SW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgZGVwdGggPSBwbGFuZU5vcm1hbFdTLmRvdChwVnR4SW5baV0pICsgcGxhbmVFcVdTOyAvLyA/Pz8KCiAgICAgICAgaWYgKGRlcHRoIDw9IG1pbkRpc3QpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGBjbGFtcGVkOiBkZXB0aD0ke2RlcHRofSB0byBtaW5EaXN0PSR7bWluRGlzdH1gKTsKICAgICAgICAgIGRlcHRoID0gbWluRGlzdDsKICAgICAgICB9CgogICAgICAgIGlmIChkZXB0aCA8PSBtYXhEaXN0KSB7CiAgICAgICAgICBjb25zdCBwb2ludCA9IHBWdHhJbltpXTsKCiAgICAgICAgICBpZiAoZGVwdGggPD0gMWUtNikgewogICAgICAgICAgICBjb25zdCBwID0gewogICAgICAgICAgICAgIHBvaW50LAogICAgICAgICAgICAgIG5vcm1hbDogcGxhbmVOb3JtYWxXUywKICAgICAgICAgICAgICBkZXB0aAogICAgICAgICAgICB9OwogICAgICAgICAgICByZXN1bHQucHVzaChwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ2xpcCBhIGZhY2UgaW4gYSBodWxsIGFnYWluc3QgdGhlIGJhY2sgb2YgYSBwbGFuZS4KICAgICAqIEBwYXJhbSBwbGFuZUNvbnN0YW50IFRoZSBjb25zdGFudCBpbiB0aGUgbWF0aGVtYXRpY2FsIHBsYW5lIGVxdWF0aW9uCiAgICAgKi8KCgogICAgY2xpcEZhY2VBZ2FpbnN0UGxhbmUoaW5WZXJ0aWNlcywgb3V0VmVydGljZXMsIHBsYW5lTm9ybWFsLCBwbGFuZUNvbnN0YW50KSB7CiAgICAgIGxldCBuX2RvdF9maXJzdDsKICAgICAgbGV0IG5fZG90X2xhc3Q7CiAgICAgIGNvbnN0IG51bVZlcnRzID0gaW5WZXJ0aWNlcy5sZW5ndGg7CgogICAgICBpZiAobnVtVmVydHMgPCAyKSB7CiAgICAgICAgcmV0dXJuIG91dFZlcnRpY2VzOwogICAgICB9CgogICAgICBsZXQgZmlyc3RWZXJ0ZXggPSBpblZlcnRpY2VzW2luVmVydGljZXMubGVuZ3RoIC0gMV07CiAgICAgIGxldCBsYXN0VmVydGV4ID0gaW5WZXJ0aWNlc1swXTsKICAgICAgbl9kb3RfZmlyc3QgPSBwbGFuZU5vcm1hbC5kb3QoZmlyc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgIGZvciAobGV0IHZpID0gMDsgdmkgPCBudW1WZXJ0czsgdmkrKykgewogICAgICAgIGxhc3RWZXJ0ZXggPSBpblZlcnRpY2VzW3ZpXTsKICAgICAgICBuX2RvdF9sYXN0ID0gcGxhbmVOb3JtYWwuZG90KGxhc3RWZXJ0ZXgpICsgcGxhbmVDb25zdGFudDsKCiAgICAgICAgaWYgKG5fZG90X2ZpcnN0IDwgMCkgewogICAgICAgICAgaWYgKG5fZG90X2xhc3QgPCAwKSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kIDwgMCwgc28gb3V0cHV0IGxhc3RWZXJ0ZXgKICAgICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICAgIG5ld3YuY29weShsYXN0VmVydGV4KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFN0YXJ0IDwgMCwgZW5kID49IDAsIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24KICAgICAgICAgICAgY29uc3QgbmV3diA9IG5ldyBWZWMzKCk7CiAgICAgICAgICAgIGZpcnN0VmVydGV4LmxlcnAobGFzdFZlcnRleCwgbl9kb3RfZmlyc3QgLyAobl9kb3RfZmlyc3QgLSBuX2RvdF9sYXN0KSwgbmV3dik7CiAgICAgICAgICAgIG91dFZlcnRpY2VzLnB1c2gobmV3dik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChuX2RvdF9sYXN0IDwgMCkgewogICAgICAgICAgICAvLyBTdGFydCA+PSAwLCBlbmQgPCAwIHNvIG91dHB1dCBpbnRlcnNlY3Rpb24gYW5kIGVuZAogICAgICAgICAgICBjb25zdCBuZXd2ID0gbmV3IFZlYzMoKTsKICAgICAgICAgICAgZmlyc3RWZXJ0ZXgubGVycChsYXN0VmVydGV4LCBuX2RvdF9maXJzdCAvIChuX2RvdF9maXJzdCAtIG5fZG90X2xhc3QpLCBuZXd2KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChuZXd2KTsKICAgICAgICAgICAgb3V0VmVydGljZXMucHVzaChsYXN0VmVydGV4KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZpcnN0VmVydGV4ID0gbGFzdFZlcnRleDsKICAgICAgICBuX2RvdF9maXJzdCA9IG5fZG90X2xhc3Q7CiAgICAgIH0KCiAgICAgIHJldHVybiBvdXRWZXJ0aWNlczsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyBgLndvcmxkVmVydGljZXNgIGFuZCBzZXRzIGAud29ybGRWZXJ0aWNlc05lZWRzVXBkYXRlYCB0byBmYWxzZS4KICAgICAqLwoKCiAgICBjb21wdXRlV29ybGRWZXJ0aWNlcyhwb3NpdGlvbiwgcXVhdCkgewogICAgICB3aGlsZSAodGhpcy53b3JsZFZlcnRpY2VzLmxlbmd0aCA8IHRoaXMudmVydGljZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy53b3JsZFZlcnRpY2VzLnB1c2gobmV3IFZlYzMoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKICAgICAgY29uc3Qgd29ybGRWZXJ0cyA9IHRoaXMud29ybGRWZXJ0aWNlczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcXVhdC52bXVsdCh2ZXJ0c1tpXSwgd29ybGRWZXJ0c1tpXSk7CiAgICAgICAgcG9zaXRpb24udmFkZCh3b3JsZFZlcnRzW2ldLCB3b3JsZFZlcnRzW2ldKTsKICAgICAgfQoKICAgICAgdGhpcy53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUgPSBmYWxzZTsKICAgIH0KCiAgICBjb21wdXRlTG9jYWxBQUJCKGFhYmJtaW4sIGFhYmJtYXgpIHsKICAgICAgY29uc3QgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzOwogICAgICBhYWJibWluLnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTsKICAgICAgYWFiYm1heC5zZXQoLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFLCAtTnVtYmVyLk1BWF9WQUxVRSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdmVydGljZXNbaV07CgogICAgICAgIGlmICh2LnggPCBhYWJibWluLngpIHsKICAgICAgICAgIGFhYmJtaW4ueCA9IHYueDsKICAgICAgICB9IGVsc2UgaWYgKHYueCA+IGFhYmJtYXgueCkgewogICAgICAgICAgYWFiYm1heC54ID0gdi54OwogICAgICAgIH0KCiAgICAgICAgaWYgKHYueSA8IGFhYmJtaW4ueSkgewogICAgICAgICAgYWFiYm1pbi55ID0gdi55OwogICAgICAgIH0gZWxzZSBpZiAodi55ID4gYWFiYm1heC55KSB7CiAgICAgICAgICBhYWJibWF4LnkgPSB2Lnk7CiAgICAgICAgfQoKICAgICAgICBpZiAodi56IDwgYWFiYm1pbi56KSB7CiAgICAgICAgICBhYWJibWluLnogPSB2Lno7CiAgICAgICAgfSBlbHNlIGlmICh2LnogPiBhYWJibWF4LnopIHsKICAgICAgICAgIGFhYmJtYXgueiA9IHYuejsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyBgd29ybGRWZXJ0aWNlc2AgYW5kIHNldHMgYHdvcmxkVmVydGljZXNOZWVkc1VwZGF0ZWAgdG8gZmFsc2UuCiAgICAgKi8KCgogICAgY29tcHV0ZVdvcmxkRmFjZU5vcm1hbHMocXVhdCkgewogICAgICBjb25zdCBOID0gdGhpcy5mYWNlTm9ybWFscy5sZW5ndGg7CgogICAgICB3aGlsZSAodGhpcy53b3JsZEZhY2VOb3JtYWxzLmxlbmd0aCA8IE4pIHsKICAgICAgICB0aGlzLndvcmxkRmFjZU5vcm1hbHMucHVzaChuZXcgVmVjMygpKTsKICAgICAgfQoKICAgICAgY29uc3Qgbm9ybWFscyA9IHRoaXMuZmFjZU5vcm1hbHM7CiAgICAgIGNvbnN0IHdvcmxkTm9ybWFscyA9IHRoaXMud29ybGRGYWNlTm9ybWFsczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBxdWF0LnZtdWx0KG5vcm1hbHNbaV0sIHdvcmxkTm9ybWFsc1tpXSk7CiAgICAgIH0KCiAgICAgIHRoaXMud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICAgKi8KCgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXIKICAgICAgbGV0IG1heDIgPSAwOwogICAgICBjb25zdCB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBub3JtMiA9IHZlcnRzW2ldLmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgICAgaWYgKG5vcm0yID4gbWF4MikgewogICAgICAgICAgbWF4MiA9IG5vcm0yOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE1hdGguc3FydChtYXgyKTsKICAgIH0KICAgIC8qKgogICAgICogY2FsY3VsYXRlV29ybGRBQUJCCiAgICAgKi8KCgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwogICAgICBsZXQgbWlueDsKICAgICAgbGV0IG1pbnk7CiAgICAgIGxldCBtaW56OwogICAgICBsZXQgbWF4eDsKICAgICAgbGV0IG1heHk7CiAgICAgIGxldCBtYXh6OwogICAgICBsZXQgdGVtcFdvcmxkVmVydGV4ID0gbmV3IFZlYzMoKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0ZW1wV29ybGRWZXJ0ZXguY29weSh2ZXJ0c1tpXSk7CiAgICAgICAgcXVhdC52bXVsdCh0ZW1wV29ybGRWZXJ0ZXgsIHRlbXBXb3JsZFZlcnRleCk7CiAgICAgICAgcG9zLnZhZGQodGVtcFdvcmxkVmVydGV4LCB0ZW1wV29ybGRWZXJ0ZXgpOwogICAgICAgIGNvbnN0IHYgPSB0ZW1wV29ybGRWZXJ0ZXg7CgogICAgICAgIGlmIChtaW54ID09PSB1bmRlZmluZWQgfHwgdi54IDwgbWlueCkgewogICAgICAgICAgbWlueCA9IHYueDsKICAgICAgICB9CgogICAgICAgIGlmIChtYXh4ID09PSB1bmRlZmluZWQgfHwgdi54ID4gbWF4eCkgewogICAgICAgICAgbWF4eCA9IHYueDsKICAgICAgICB9CgogICAgICAgIGlmIChtaW55ID09PSB1bmRlZmluZWQgfHwgdi55IDwgbWlueSkgewogICAgICAgICAgbWlueSA9IHYueTsKICAgICAgICB9CgogICAgICAgIGlmIChtYXh5ID09PSB1bmRlZmluZWQgfHwgdi55ID4gbWF4eSkgewogICAgICAgICAgbWF4eSA9IHYueTsKICAgICAgICB9CgogICAgICAgIGlmIChtaW56ID09PSB1bmRlZmluZWQgfHwgdi56IDwgbWlueikgewogICAgICAgICAgbWlueiA9IHYuejsKICAgICAgICB9CgogICAgICAgIGlmIChtYXh6ID09PSB1bmRlZmluZWQgfHwgdi56ID4gbWF4eikgewogICAgICAgICAgbWF4eiA9IHYuejsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1pbi5zZXQobWlueCwgbWlueSwgbWlueik7CiAgICAgIG1heC5zZXQobWF4eCwgbWF4eSwgbWF4eik7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhcHByb3hpbWF0ZSBjb252ZXggdm9sdW1lCiAgICAgKi8KCgogICAgdm9sdW1lKCkgewogICAgICByZXR1cm4gNC4wICogTWF0aC5QSSAqIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgLyAzLjA7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbiBhdmVyYWdlIG9mIGFsbCB0aGUgdmVydGljZXMgcG9zaXRpb25zCiAgICAgKi8KCgogICAgZ2V0QXZlcmFnZVBvaW50TG9jYWwodGFyZ2V0KSB7CiAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgewogICAgICAgIHRhcmdldCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0YXJnZXQudmFkZCh2ZXJ0c1tpXSwgdGFyZ2V0KTsKICAgICAgfQoKICAgICAgdGFyZ2V0LnNjYWxlKDEgLyB2ZXJ0cy5sZW5ndGgsIHRhcmdldCk7CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CiAgICAvKioKICAgICAqIFRyYW5zZm9ybSBhbGwgbG9jYWwgcG9pbnRzLiBXaWxsIGNoYW5nZSB0aGUgLnZlcnRpY2VzCiAgICAgKi8KCgogICAgdHJhbnNmb3JtQWxsUG9pbnRzKG9mZnNldCwgcXVhdCkgewogICAgICBjb25zdCBuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7CiAgICAgIGNvbnN0IHZlcnRzID0gdGhpcy52ZXJ0aWNlczsgLy8gQXBwbHkgcm90YXRpb24KCiAgICAgIGlmIChxdWF0KSB7CiAgICAgICAgLy8gUm90YXRlIHZlcnRpY2VzCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsKICAgICAgICAgIHF1YXQudm11bHQodiwgdik7CiAgICAgICAgfSAvLyBSb3RhdGUgZmFjZSBub3JtYWxzCgoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZU5vcm1hbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLmZhY2VOb3JtYWxzW2ldOwogICAgICAgICAgcXVhdC52bXVsdCh2LCB2KTsKICAgICAgICB9CiAgICAgICAgLyoKICAgICAgICAgICAgICAvLyBSb3RhdGUgZWRnZXMKICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLnVuaXF1ZUVkZ2VzLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IHRoaXMudW5pcXVlRWRnZXNbaV07CiAgICAgICAgICAgICAgICAgIHF1YXQudm11bHQodix2KTsKICAgICAgICAgICAgICB9Ki8KCiAgICAgIH0gLy8gQXBwbHkgb2Zmc2V0CgoKICAgICAgaWYgKG9mZnNldCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07CiAgICAgICAgICB2LnZhZGQob2Zmc2V0LCB2KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ2hlY2tzIHdoZXRoZXIgcCBpcyBpbnNpZGUgdGhlIHBvbHloZWRyYS4gTXVzdCBiZSBpbiBsb2NhbCBjb29yZHMuCiAgICAgKiBUaGUgcG9pbnQgbGllcyBvdXRzaWRlIG9mIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgb3RoZXIgcG9pbnRzIGlmIGFuZCBvbmx5IGlmIHRoZSBkaXJlY3Rpb24KICAgICAqIG9mIGFsbCB0aGUgdmVjdG9ycyBmcm9tIGl0IHRvIHRob3NlIG90aGVyIHBvaW50cyBhcmUgb24gbGVzcyB0aGFuIG9uZSBoYWxmIG9mIGEgc3BoZXJlIGFyb3VuZCBpdC4KICAgICAqIEBwYXJhbSBwIEEgcG9pbnQgZ2l2ZW4gaW4gbG9jYWwgY29vcmRpbmF0ZXMKICAgICAqLwoKCiAgICBwb2ludElzSW5zaWRlKHApIHsKICAgICAgY29uc3QgdmVydHMgPSB0aGlzLnZlcnRpY2VzOwogICAgICBjb25zdCBmYWNlcyA9IHRoaXMuZmFjZXM7CiAgICAgIGNvbnN0IG5vcm1hbHMgPSB0aGlzLmZhY2VOb3JtYWxzOwogICAgICBjb25zdCBwb3NpdGl2ZVJlc3VsdCA9IG51bGw7CiAgICAgIGNvbnN0IHBvaW50SW5zaWRlID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5nZXRBdmVyYWdlUG9pbnRMb2NhbChwb2ludEluc2lkZSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmFjZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgbiA9IG5vcm1hbHNbaV07CiAgICAgICAgY29uc3QgdiA9IHZlcnRzW2ZhY2VzW2ldWzBdXTsgLy8gV2Ugb25seSBuZWVkIG9uZSBwb2ludCBpbiB0aGUgZmFjZQogICAgICAgIC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgICBjb25zdCB2VG9QID0gbmV3IFZlYzMoKTsKICAgICAgICBwLnZzdWIodiwgdlRvUCk7CiAgICAgICAgY29uc3QgcjEgPSBuLmRvdCh2VG9QKTsKICAgICAgICBjb25zdCB2VG9Qb2ludEluc2lkZSA9IG5ldyBWZWMzKCk7CiAgICAgICAgcG9pbnRJbnNpZGUudnN1Yih2LCB2VG9Qb2ludEluc2lkZSk7CiAgICAgICAgY29uc3QgcjIgPSBuLmRvdCh2VG9Qb2ludEluc2lkZSk7CgogICAgICAgIGlmIChyMSA8IDAgJiYgcjIgPiAwIHx8IHIxID4gMCAmJiByMiA8IDApIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gRW5jb3VudGVyZWQgc29tZSBvdGhlciBzaWduLiBFeGl0LgogICAgICAgIH0KICAgICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICAgICAgcmV0dXJuIHBvc2l0aXZlUmVzdWx0ID8gMSA6IC0xOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgbWF4IGFuZCBtaW4gZG90IHByb2R1Y3Qgb2YgYSBjb252ZXggaHVsbCBhdCBwb3NpdGlvbiAocG9zLHF1YXQpIHByb2plY3RlZCBvbnRvIGFuIGF4aXMuCiAgICAgKiBSZXN1bHRzIGFyZSBzYXZlZCBpbiB0aGUgYXJyYXkgbWF4bWluLgogICAgICogQHBhcmFtIHJlc3VsdCByZXN1bHRbMF0gYW5kIHJlc3VsdFsxXSB3aWxsIGJlIHNldCB0byBtYXhpbXVtIGFuZCBtaW5pbXVtLCByZXNwZWN0aXZlbHkuCiAgICAgKi8KCgogICAgc3RhdGljIHByb2plY3Qoc2hhcGUsIGF4aXMsIHBvcywgcXVhdCwgcmVzdWx0KSB7CiAgICAgIGNvbnN0IG4gPSBzaGFwZS52ZXJ0aWNlcy5sZW5ndGg7CiAgICAgIGNvbnN0IGxvY2FsQXhpcyA9IHByb2plY3RfbG9jYWxBeGlzOwogICAgICBsZXQgbWF4ID0gMDsKICAgICAgbGV0IG1pbiA9IDA7CiAgICAgIGNvbnN0IGxvY2FsT3JpZ2luID0gcHJvamVjdF9sb2NhbE9yaWdpbjsKICAgICAgY29uc3QgdnMgPSBzaGFwZS52ZXJ0aWNlczsKICAgICAgbG9jYWxPcmlnaW4uc2V0WmVybygpOyAvLyBUcmFuc2Zvcm0gdGhlIGF4aXMgdG8gbG9jYWwKCiAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBheGlzLCBsb2NhbEF4aXMpOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zLCBxdWF0LCBsb2NhbE9yaWdpbiwgbG9jYWxPcmlnaW4pOwogICAgICBjb25zdCBhZGQgPSBsb2NhbE9yaWdpbi5kb3QobG9jYWxBeGlzKTsKICAgICAgbWluID0gbWF4ID0gdnNbMF0uZG90KGxvY2FsQXhpcyk7CgogICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG47IGkrKykgewogICAgICAgIGNvbnN0IHZhbCA9IHZzW2ldLmRvdChsb2NhbEF4aXMpOwoKICAgICAgICBpZiAodmFsID4gbWF4KSB7CiAgICAgICAgICBtYXggPSB2YWw7CiAgICAgICAgfQoKICAgICAgICBpZiAodmFsIDwgbWluKSB7CiAgICAgICAgICBtaW4gPSB2YWw7CiAgICAgICAgfQogICAgICB9CgogICAgICBtaW4gLT0gYWRkOwogICAgICBtYXggLT0gYWRkOwoKICAgICAgaWYgKG1pbiA+IG1heCkgewogICAgICAgIC8vIEluY29uc2lzdGVudCAtIHN3YXAKICAgICAgICBjb25zdCB0ZW1wID0gbWluOwogICAgICAgIG1pbiA9IG1heDsKICAgICAgICBtYXggPSB0ZW1wOwogICAgICB9IC8vIE91dHB1dAoKCiAgICAgIHJlc3VsdFswXSA9IG1heDsKICAgICAgcmVzdWx0WzFdID0gbWluOwogICAgfQoKICB9CiAgY29uc3QgbWF4bWluQSA9IFtdOwogIGNvbnN0IG1heG1pbkIgPSBbXTsKICBuZXcgVmVjMygpOwogIGNvbnN0IHByb2plY3RfbG9jYWxBeGlzID0gbmV3IFZlYzMoKTsKICBjb25zdCBwcm9qZWN0X2xvY2FsT3JpZ2luID0gbmV3IFZlYzMoKTsKCiAgLyoqCiAgICogQSAzZCBib3ggc2hhcGUuCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3Qgc2l6ZSA9IDEKICAgKiAgICAgY29uc3QgaGFsZkV4dGVudHMgPSBuZXcgQ0FOTk9OLlZlYzMoc2l6ZSwgc2l6ZSwgc2l6ZSkKICAgKiAgICAgY29uc3QgYm94U2hhcGUgPSBuZXcgQ0FOTk9OLkJveChoYWxmRXh0ZW50cykKICAgKiAgICAgY29uc3QgYm94Qm9keSA9IG5ldyBDQU5OT04uQm9keSh7IG1hc3M6IDEsIHNoYXBlOiBib3hTaGFwZSB9KQogICAqICAgICB3b3JsZC5hZGRCb2R5KGJveEJvZHkpCiAgICovCiAgY2xhc3MgQm94IGV4dGVuZHMgU2hhcGUgewogICAgLyoqCiAgICAgKiBUaGUgaGFsZiBleHRlbnRzIG9mIHRoZSBib3guCiAgICAgKi8KCiAgICAvKioKICAgICAqIFVzZWQgYnkgdGhlIGNvbnRhY3QgZ2VuZXJhdG9yIHRvIG1ha2UgY29udGFjdHMgd2l0aCBvdGhlciBjb252ZXggcG9seWhlZHJhIGZvciBleGFtcGxlLgogICAgICovCiAgICBjb25zdHJ1Y3RvcihoYWxmRXh0ZW50cykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuQk9YCiAgICAgIH0pOwogICAgICB0aGlzLmhhbGZFeHRlbnRzID0gaGFsZkV4dGVudHM7CiAgICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gbnVsbDsKICAgICAgdGhpcy51cGRhdGVDb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24oKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSBsb2NhbCBjb252ZXggcG9seWhlZHJvbiByZXByZXNlbnRhdGlvbiB1c2VkIGZvciBzb21lIGNvbGxpc2lvbnMuCiAgICAgKi8KCgogICAgdXBkYXRlQ29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uKCkgewogICAgICBjb25zdCBzeCA9IHRoaXMuaGFsZkV4dGVudHMueDsKICAgICAgY29uc3Qgc3kgPSB0aGlzLmhhbGZFeHRlbnRzLnk7CiAgICAgIGNvbnN0IHN6ID0gdGhpcy5oYWxmRXh0ZW50cy56OwogICAgICBjb25zdCBWID0gVmVjMzsKICAgICAgY29uc3QgdmVydGljZXMgPSBbbmV3IFYoLXN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCAtc3ksIC1zeiksIG5ldyBWKHN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCBzeSwgLXN6KSwgbmV3IFYoLXN4LCAtc3ksIHN6KSwgbmV3IFYoc3gsIC1zeSwgc3opLCBuZXcgVihzeCwgc3ksIHN6KSwgbmV3IFYoLXN4LCBzeSwgc3opXTsKICAgICAgY29uc3QgZmFjZXMgPSBbWzMsIDIsIDEsIDBdLCAvLyAtegogICAgICBbNCwgNSwgNiwgN10sIC8vICt6CiAgICAgIFs1LCA0LCAwLCAxXSwgLy8gLXkKICAgICAgWzIsIDMsIDcsIDZdLCAvLyAreQogICAgICBbMCwgNCwgNywgM10sIC8vIC14CiAgICAgIFsxLCAyLCA2LCA1XSAvLyAreAogICAgICBdOwogICAgICBjb25zdCBheGVzID0gW25ldyBWKDAsIDAsIDEpLCBuZXcgVigwLCAxLCAwKSwgbmV3IFYoMSwgMCwgMCldOwogICAgICBjb25zdCBoID0gbmV3IENvbnZleFBvbHloZWRyb24oewogICAgICAgIHZlcnRpY2VzLAogICAgICAgIGZhY2VzLAogICAgICAgIGF4ZXMKICAgICAgfSk7CiAgICAgIHRoaXMuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uID0gaDsKICAgICAgaC5tYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7CiAgICB9CiAgICAvKioKICAgICAqIENhbGN1bGF0ZSB0aGUgaW5lcnRpYSBvZiB0aGUgYm94LgogICAgICovCgoKICAgIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgQm94LmNhbGN1bGF0ZUluZXJ0aWEodGhpcy5oYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KTsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgICBzdGF0aWMgY2FsY3VsYXRlSW5lcnRpYShoYWxmRXh0ZW50cywgbWFzcywgdGFyZ2V0KSB7CiAgICAgIGNvbnN0IGUgPSBoYWxmRXh0ZW50czsKICAgICAgdGFyZ2V0LnggPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnogKiAyICogZS56KTsKICAgICAgdGFyZ2V0LnkgPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS54ICogMiAqIGUueCArIDIgKiBlLnogKiAyICogZS56KTsKICAgICAgdGFyZ2V0LnogPSAxLjAgLyAxMi4wICogbWFzcyAqICgyICogZS55ICogMiAqIGUueSArIDIgKiBlLnggKiAyICogZS54KTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBib3ggNiBzaWRlIG5vcm1hbHMKICAgICAqIEBwYXJhbSBzaXhUYXJnZXRWZWN0b3JzIEFuIGFycmF5IG9mIDYgdmVjdG9ycywgdG8gc3RvcmUgdGhlIHJlc3VsdGluZyBzaWRlIG5vcm1hbHMgaW4uCiAgICAgKiBAcGFyYW0gcXVhdCBPcmllbnRhdGlvbiB0byBhcHBseSB0byB0aGUgbm9ybWFsIHZlY3RvcnMuIElmIG5vdCBwcm92aWRlZCwgdGhlIHZlY3RvcnMgd2lsbCBiZSBpbiByZXNwZWN0IHRvIHRoZSBsb2NhbCBmcmFtZS4KICAgICAqLwoKCiAgICBnZXRTaWRlTm9ybWFscyhzaXhUYXJnZXRWZWN0b3JzLCBxdWF0KSB7CiAgICAgIGNvbnN0IHNpZGVzID0gc2l4VGFyZ2V0VmVjdG9yczsKICAgICAgY29uc3QgZXggPSB0aGlzLmhhbGZFeHRlbnRzOwogICAgICBzaWRlc1swXS5zZXQoZXgueCwgMCwgMCk7CiAgICAgIHNpZGVzWzFdLnNldCgwLCBleC55LCAwKTsKICAgICAgc2lkZXNbMl0uc2V0KDAsIDAsIGV4LnopOwogICAgICBzaWRlc1szXS5zZXQoLWV4LngsIDAsIDApOwogICAgICBzaWRlc1s0XS5zZXQoMCwgLWV4LnksIDApOwogICAgICBzaWRlc1s1XS5zZXQoMCwgMCwgLWV4LnopOwoKICAgICAgaWYgKHF1YXQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBzaWRlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgcXVhdC52bXVsdChzaWRlc1tpXSwgc2lkZXNbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHNpZGVzOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB2b2x1bWUgb2YgdGhlIGJveC4KICAgICAqLwoKCiAgICB2b2x1bWUoKSB7CiAgICAgIHJldHVybiA4LjAgKiB0aGlzLmhhbGZFeHRlbnRzLnggKiB0aGlzLmhhbGZFeHRlbnRzLnkgKiB0aGlzLmhhbGZFeHRlbnRzLno7CiAgICB9CiAgICAvKioKICAgICAqIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzCiAgICAgKi8KCgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSB0aGlzLmhhbGZFeHRlbnRzLmxlbmd0aCgpOwogICAgfQogICAgLyoqCiAgICAgKiBmb3JFYWNoV29ybGRDb3JuZXIKICAgICAqLwoKCiAgICBmb3JFYWNoV29ybGRDb3JuZXIocG9zLCBxdWF0LCBjYWxsYmFjaykgewogICAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50czsKICAgICAgY29uc3QgY29ybmVycyA9IFtbZS54LCBlLnksIGUuel0sIFstZS54LCBlLnksIGUuel0sIFstZS54LCAtZS55LCBlLnpdLCBbLWUueCwgLWUueSwgLWUuel0sIFtlLngsIC1lLnksIC1lLnpdLCBbZS54LCBlLnksIC1lLnpdLCBbLWUueCwgZS55LCAtZS56XSwgW2UueCwgLWUueSwgZS56XV07CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvcm5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICB3b3JsZENvcm5lclRlbXBQb3Muc2V0KGNvcm5lcnNbaV1bMF0sIGNvcm5lcnNbaV1bMV0sIGNvcm5lcnNbaV1bMl0pOwogICAgICAgIHF1YXQudm11bHQod29ybGRDb3JuZXJUZW1wUG9zLCB3b3JsZENvcm5lclRlbXBQb3MpOwogICAgICAgIHBvcy52YWRkKHdvcmxkQ29ybmVyVGVtcFBvcywgd29ybGRDb3JuZXJUZW1wUG9zKTsKICAgICAgICBjYWxsYmFjayh3b3JsZENvcm5lclRlbXBQb3MueCwgd29ybGRDb3JuZXJUZW1wUG9zLnksIHdvcmxkQ29ybmVyVGVtcFBvcy56KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBjYWxjdWxhdGVXb3JsZEFBQkIKICAgICAqLwoKCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICBjb25zdCBlID0gdGhpcy5oYWxmRXh0ZW50czsKICAgICAgd29ybGRDb3JuZXJzVGVtcFswXS5zZXQoZS54LCBlLnksIGUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbMV0uc2V0KC1lLngsIGUueSwgZS56KTsKICAgICAgd29ybGRDb3JuZXJzVGVtcFsyXS5zZXQoLWUueCwgLWUueSwgZS56KTsKICAgICAgd29ybGRDb3JuZXJzVGVtcFszXS5zZXQoLWUueCwgLWUueSwgLWUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbNF0uc2V0KGUueCwgLWUueSwgLWUueik7CiAgICAgIHdvcmxkQ29ybmVyc1RlbXBbNV0uc2V0KGUueCwgZS55LCAtZS56KTsKICAgICAgd29ybGRDb3JuZXJzVGVtcFs2XS5zZXQoLWUueCwgZS55LCAtZS56KTsKICAgICAgd29ybGRDb3JuZXJzVGVtcFs3XS5zZXQoZS54LCAtZS55LCBlLnopOwogICAgICBjb25zdCB3YyA9IHdvcmxkQ29ybmVyc1RlbXBbMF07CiAgICAgIHF1YXQudm11bHQod2MsIHdjKTsKICAgICAgcG9zLnZhZGQod2MsIHdjKTsKICAgICAgbWF4LmNvcHkod2MpOwogICAgICBtaW4uY29weSh3Yyk7CgogICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDg7IGkrKykgewogICAgICAgIGNvbnN0IHdjID0gd29ybGRDb3JuZXJzVGVtcFtpXTsKICAgICAgICBxdWF0LnZtdWx0KHdjLCB3Yyk7CiAgICAgICAgcG9zLnZhZGQod2MsIHdjKTsKICAgICAgICBjb25zdCB4ID0gd2MueDsKICAgICAgICBjb25zdCB5ID0gd2MueTsKICAgICAgICBjb25zdCB6ID0gd2MuejsKCiAgICAgICAgaWYgKHggPiBtYXgueCkgewogICAgICAgICAgbWF4LnggPSB4OwogICAgICAgIH0KCiAgICAgICAgaWYgKHkgPiBtYXgueSkgewogICAgICAgICAgbWF4LnkgPSB5OwogICAgICAgIH0KCiAgICAgICAgaWYgKHogPiBtYXgueikgewogICAgICAgICAgbWF4LnogPSB6OwogICAgICAgIH0KCiAgICAgICAgaWYgKHggPCBtaW4ueCkgewogICAgICAgICAgbWluLnggPSB4OwogICAgICAgIH0KCiAgICAgICAgaWYgKHkgPCBtaW4ueSkgewogICAgICAgICAgbWluLnkgPSB5OwogICAgICAgIH0KCiAgICAgICAgaWYgKHogPCBtaW4ueikgewogICAgICAgICAgbWluLnogPSB6OwogICAgICAgIH0KICAgICAgfSAvLyBHZXQgZWFjaCBheGlzIG1heAogICAgICAvLyBtaW4uc2V0KEluZmluaXR5LEluZmluaXR5LEluZmluaXR5KTsKICAgICAgLy8gbWF4LnNldCgtSW5maW5pdHksLUluZmluaXR5LC1JbmZpbml0eSk7CiAgICAgIC8vIHRoaXMuZm9yRWFjaFdvcmxkQ29ybmVyKHBvcyxxdWF0LGZ1bmN0aW9uKHgseSx6KXsKICAgICAgLy8gICAgIGlmKHggPiBtYXgueCl7CiAgICAgIC8vICAgICAgICAgbWF4LnggPSB4OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYoeSA+IG1heC55KXsKICAgICAgLy8gICAgICAgICBtYXgueSA9IHk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZih6ID4gbWF4LnopewogICAgICAvLyAgICAgICAgIG1heC56ID0gejsKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIGlmKHggPCBtaW4ueCl7CiAgICAgIC8vICAgICAgICAgbWluLnggPSB4OwogICAgICAvLyAgICAgfQogICAgICAvLyAgICAgaWYoeSA8IG1pbi55KXsKICAgICAgLy8gICAgICAgICBtaW4ueSA9IHk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBpZih6IDwgbWluLnopewogICAgICAvLyAgICAgICAgIG1pbi56ID0gejsKICAgICAgLy8gICAgIH0KICAgICAgLy8gfSk7CgogICAgfQoKICB9CiAgY29uc3Qgd29ybGRDb3JuZXJUZW1wUG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCB3b3JsZENvcm5lcnNUZW1wID0gW25ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCksIG5ldyBWZWMzKCldOwoKICAvKioKICAgKiBCT0RZX1RZUEVTCiAgICovCiAgY29uc3QgQk9EWV9UWVBFUyA9IHsKICAgIC8qKiBEWU5BTUlDICovCiAgICBEWU5BTUlDOiAxLAoKICAgIC8qKiBTVEFUSUMgKi8KICAgIFNUQVRJQzogMiwKCiAgICAvKiogS0lORU1BVElDICovCiAgICBLSU5FTUFUSUM6IDQKICB9OwogIC8qKgogICAqIEJvZHlUeXBlCiAgICovCgogIC8qKgogICAqIEJPRFlfU0xFRVBfU1RBVEVTCiAgICovCiAgY29uc3QgQk9EWV9TTEVFUF9TVEFURVMgPSB7CiAgICAvKiogQVdBS0UgKi8KICAgIEFXQUtFOiAwLAoKICAgIC8qKiBTTEVFUFkgKi8KICAgIFNMRUVQWTogMSwKCiAgICAvKiogU0xFRVBJTkcgKi8KICAgIFNMRUVQSU5HOiAyCiAgfTsKICAvKioKICAgKiBCb2R5U2xlZXBTdGF0ZQogICAqLwoKICAvKioKICAgKiBCYXNlIGNsYXNzIGZvciBhbGwgYm9keSB0eXBlcy4KICAgKiBAZXhhbXBsZQogICAqICAgICBjb25zdCBzaGFwZSA9IG5ldyBDQU5OT04uU3BoZXJlKDEpCiAgICogICAgIGNvbnN0IGJvZHkgPSBuZXcgQ0FOTk9OLkJvZHkoewogICAqICAgICAgIG1hc3M6IDEsCiAgICogICAgICAgc2hhcGUsCiAgICogICAgIH0pCiAgICogICAgIHdvcmxkLmFkZEJvZHkoYm9keSkKICAgKi8KICBjbGFzcyBCb2R5IGV4dGVuZHMgRXZlbnRUYXJnZXQgewogICAgLyoqCiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHR3byBib2RpZXMgY29sbGlkZS4gVGhpcyBldmVudCBpcyBkaXNwYXRjaGVkIG9uIGVhY2gKICAgICAqIG9mIHRoZSB0d28gYm9kaWVzIGludm9sdmVkIGluIHRoZSBjb2xsaXNpb24uCiAgICAgKiBAZXZlbnQgY29sbGlkZQogICAgICogQHBhcmFtIGJvZHkgVGhlIGJvZHkgdGhhdCB3YXMgaW52b2x2ZWQgaW4gdGhlIGNvbGxpc2lvbi4KICAgICAqIEBwYXJhbSBjb250YWN0IFRoZSBkZXRhaWxzIG9mIHRoZSBjb2xsaXNpb24uCiAgICAgKi8KCiAgICAvKioKICAgICAqIEEgZHluYW1pYyBib2R5IGlzIGZ1bGx5IHNpbXVsYXRlZC4gQ2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHRoZSB1c2VyLCBidXQgbm9ybWFsbHkgdGhleSBtb3ZlIGFjY29yZGluZyB0byBmb3JjZXMuIEEgZHluYW1pYyBib2R5IGNhbiBjb2xsaWRlIHdpdGggYWxsIGJvZHkgdHlwZXMuIEEgZHluYW1pYyBib2R5IGFsd2F5cyBoYXMgZmluaXRlLCBub24temVybyBtYXNzLgogICAgICovCgogICAgLyoqCiAgICAgKiBBIHN0YXRpYyBib2R5IGRvZXMgbm90IG1vdmUgZHVyaW5nIHNpbXVsYXRpb24gYW5kIGJlaGF2ZXMgYXMgaWYgaXQgaGFzIGluZmluaXRlIG1hc3MuIFN0YXRpYyBib2RpZXMgY2FuIGJlIG1vdmVkIG1hbnVhbGx5IGJ5IHNldHRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBUaGUgdmVsb2NpdHkgb2YgYSBzdGF0aWMgYm9keSBpcyBhbHdheXMgemVyby4gU3RhdGljIGJvZGllcyBkbyBub3QgY29sbGlkZSB3aXRoIG90aGVyIHN0YXRpYyBvciBraW5lbWF0aWMgYm9kaWVzLgogICAgICovCgogICAgLyoqCiAgICAgKiBBIGtpbmVtYXRpYyBib2R5IG1vdmVzIHVuZGVyIHNpbXVsYXRpb24gYWNjb3JkaW5nIHRvIGl0cyB2ZWxvY2l0eS4gVGhleSBkbyBub3QgcmVzcG9uZCB0byBmb3JjZXMuIFRoZXkgY2FuIGJlIG1vdmVkIG1hbnVhbGx5LCBidXQgbm9ybWFsbHkgYSBraW5lbWF0aWMgYm9keSBpcyBtb3ZlZCBieSBzZXR0aW5nIGl0cyB2ZWxvY2l0eS4gQSBraW5lbWF0aWMgYm9keSBiZWhhdmVzIGFzIGlmIGl0IGhhcyBpbmZpbml0ZSBtYXNzLiBLaW5lbWF0aWMgYm9kaWVzIGRvIG5vdCBjb2xsaWRlIHdpdGggb3RoZXIgc3RhdGljIG9yIGtpbmVtYXRpYyBib2RpZXMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFXQUtFCiAgICAgKi8KCiAgICAvKioKICAgICAqIFNMRUVQWQogICAgICovCgogICAgLyoqCiAgICAgKiBTTEVFUElORwogICAgICovCgogICAgLyoqCiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIGEgc2xlZXBpbmcgYm9keSBoYXMgd29rZW4gdXAuCiAgICAgKiBAZXZlbnQgd2FrZXVwCiAgICAgKi8KCiAgICAvKioKICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBnb25lIGluIHRvIHRoZSBzbGVlcHkgc3RhdGUuCiAgICAgKiBAZXZlbnQgc2xlZXB5CiAgICAgKi8KCiAgICAvKioKICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBmYWxsZW4gYXNsZWVwLgogICAgICogQGV2ZW50IHNsZWVwCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHsKICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgewogICAgICAgIG9wdGlvbnMgPSB7fTsKICAgICAgfQoKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5pZCA9IEJvZHkuaWRDb3VudGVyKys7CiAgICAgIHRoaXMuaW5kZXggPSAtMTsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICAgIHRoaXMudmxhbWJkYSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogMTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrID0gdHlwZW9mIG9wdGlvbnMuY29sbGlzaW9uRmlsdGVyTWFzayA9PT0gJ251bWJlcicgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgOiAtMTsKICAgICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlID09PSAnYm9vbGVhbicgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuaW50ZXJwb2xhdGVkUG9zaXRpb24gPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmluaXRQb3NpdGlvbiA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbikgewogICAgICAgIHRoaXMucG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgICB0aGlzLnByZXZpb3VzUG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uLmNvcHkob3B0aW9ucy5wb3NpdGlvbik7CiAgICAgICAgdGhpcy5pbml0UG9zaXRpb24uY29weShvcHRpb25zLnBvc2l0aW9uKTsKICAgICAgfQoKICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy52ZWxvY2l0eSkgewogICAgICAgIHRoaXMudmVsb2NpdHkuY29weShvcHRpb25zLnZlbG9jaXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0VmVsb2NpdHkgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmZvcmNlID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgbWFzcyA9IHR5cGVvZiBvcHRpb25zLm1hc3MgPT09ICdudW1iZXInID8gb3B0aW9ucy5tYXNzIDogMDsKICAgICAgdGhpcy5tYXNzID0gbWFzczsKICAgICAgdGhpcy5pbnZNYXNzID0gbWFzcyA+IDAgPyAxLjAgLyBtYXNzIDogMDsKICAgICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDsKICAgICAgdGhpcy5saW5lYXJEYW1waW5nID0gdHlwZW9mIG9wdGlvbnMubGluZWFyRGFtcGluZyA9PT0gJ251bWJlcicgPyBvcHRpb25zLmxpbmVhckRhbXBpbmcgOiAwLjAxOwogICAgICB0aGlzLnR5cGUgPSBtYXNzIDw9IDAuMCA/IEJvZHkuU1RBVElDIDogQm9keS5EWU5BTUlDOwoKICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnR5cGUgPT09IHR5cGVvZiBCb2R5LlNUQVRJQykgewogICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTsKICAgICAgfQoKICAgICAgdGhpcy5hbGxvd1NsZWVwID0gdHlwZW9mIG9wdGlvbnMuYWxsb3dTbGVlcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlOwogICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFOwogICAgICB0aGlzLnNsZWVwU3BlZWRMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCA6IDAuMTsKICAgICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IHR5cGVvZiBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxOwogICAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDsKICAgICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CiAgICAgIHRoaXMudG9ycXVlID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5xdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgdGhpcy5pbml0UXVhdGVybmlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgdGhpcy5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgICAgIGlmIChvcHRpb25zLnF1YXRlcm5pb24pIHsKICAgICAgICB0aGlzLnF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICAgIHRoaXMuaW5pdFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkob3B0aW9ucy5xdWF0ZXJuaW9uKTsKICAgICAgICB0aGlzLmludGVycG9sYXRlZFF1YXRlcm5pb24uY29weShvcHRpb25zLnF1YXRlcm5pb24pOwogICAgICB9CgogICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IG5ldyBWZWMzKCk7CgogICAgICBpZiAob3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkpIHsKICAgICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5jb3B5KG9wdGlvbnMuYW5ndWxhclZlbG9jaXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5pbml0QW5ndWxhclZlbG9jaXR5ID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5zaGFwZXMgPSBbXTsKICAgICAgdGhpcy5zaGFwZU9mZnNldHMgPSBbXTsKICAgICAgdGhpcy5zaGFwZU9yaWVudGF0aW9ucyA9IFtdOwogICAgICB0aGlzLmluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWEgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZCA9IG5ldyBNYXQzKCk7CiAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gMDsKICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlID0gbmV3IE1hdDMoKTsKICAgICAgdGhpcy5maXhlZFJvdGF0aW9uID0gdHlwZW9mIG9wdGlvbnMuZml4ZWRSb3RhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmZpeGVkUm90YXRpb24gOiBmYWxzZTsKICAgICAgdGhpcy5hbmd1bGFyRGFtcGluZyA9IHR5cGVvZiBvcHRpb25zLmFuZ3VsYXJEYW1waW5nICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYW5ndWxhckRhbXBpbmcgOiAwLjAxOwogICAgICB0aGlzLmxpbmVhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgICAgaWYgKG9wdGlvbnMubGluZWFyRmFjdG9yKSB7CiAgICAgICAgdGhpcy5saW5lYXJGYWN0b3IuY29weShvcHRpb25zLmxpbmVhckZhY3Rvcik7CiAgICAgIH0KCiAgICAgIHRoaXMuYW5ndWxhckZhY3RvciA9IG5ldyBWZWMzKDEsIDEsIDEpOwoKICAgICAgaWYgKG9wdGlvbnMuYW5ndWxhckZhY3RvcikgewogICAgICAgIHRoaXMuYW5ndWxhckZhY3Rvci5jb3B5KG9wdGlvbnMuYW5ndWxhckZhY3Rvcik7CiAgICAgIH0KCiAgICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7CiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7CiAgICAgIHRoaXMud2xhbWJkYSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuaXNUcmlnZ2VyID0gQm9vbGVhbihvcHRpb25zLmlzVHJpZ2dlcik7CgogICAgICBpZiAob3B0aW9ucy5zaGFwZSkgewogICAgICAgIHRoaXMuYWRkU2hhcGUob3B0aW9ucy5zaGFwZSk7CiAgICAgIH0KCiAgICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTsKICAgIH0KICAgIC8qKgogICAgICogV2FrZSB0aGUgYm9keSB1cC4KICAgICAqLwoKCiAgICB3YWtlVXAoKSB7CiAgICAgIGNvbnN0IHByZXZTdGF0ZSA9IHRoaXMuc2xlZXBTdGF0ZTsKICAgICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5BV0FLRTsKICAgICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CgogICAgICBpZiAocHJldlN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkud2FrZXVwRXZlbnQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEZvcmNlIGJvZHkgc2xlZXAKICAgICAqLwoKCiAgICBzbGVlcCgpIHsKICAgICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5TTEVFUElORzsKICAgICAgdGhpcy52ZWxvY2l0eS5zZXQoMCwgMCwgMCk7CiAgICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnNldCgwLCAwLCAwKTsKICAgICAgdGhpcy53YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIENhbGxlZCBldmVyeSB0aW1lc3RlcCB0byB1cGRhdGUgaW50ZXJuYWwgc2xlZXAgdGltZXIgYW5kIGNoYW5nZSBzbGVlcCBzdGF0ZSBpZiBuZWVkZWQuCiAgICAgKiBAcGFyYW0gdGltZSBUaGUgd29ybGQgdGltZSBpbiBzZWNvbmRzCiAgICAgKi8KCgogICAgc2xlZXBUaWNrKHRpbWUpIHsKICAgICAgaWYgKHRoaXMuYWxsb3dTbGVlcCkgewogICAgICAgIGNvbnN0IHNsZWVwU3RhdGUgPSB0aGlzLnNsZWVwU3RhdGU7CiAgICAgICAgY29uc3Qgc3BlZWRTcXVhcmVkID0gdGhpcy52ZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCkgKyB0aGlzLmFuZ3VsYXJWZWxvY2l0eS5sZW5ndGhTcXVhcmVkKCk7CiAgICAgICAgY29uc3Qgc3BlZWRMaW1pdFNxdWFyZWQgPSB0aGlzLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgICBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5BV0FLRSAmJiBzcGVlZFNxdWFyZWQgPCBzcGVlZExpbWl0U3F1YXJlZCkgewogICAgICAgICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5TTEVFUFk7IC8vIFNsZWVweQoKICAgICAgICAgIHRoaXMudGltZUxhc3RTbGVlcHkgPSB0aW1lOwogICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KEJvZHkuc2xlZXB5RXZlbnQpOwogICAgICAgIH0gZWxzZSBpZiAoc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUFkgJiYgc3BlZWRTcXVhcmVkID4gc3BlZWRMaW1pdFNxdWFyZWQpIHsKICAgICAgICAgIHRoaXMud2FrZVVwKCk7IC8vIFdha2UgdXAKICAgICAgICB9IGVsc2UgaWYgKHNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBZICYmIHRpbWUgLSB0aGlzLnRpbWVMYXN0U2xlZXB5ID4gdGhpcy5zbGVlcFRpbWVMaW1pdCkgewogICAgICAgICAgdGhpcy5zbGVlcCgpOyAvLyBTbGVlcGluZwoKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChCb2R5LnNsZWVwRXZlbnQpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBJZiB0aGUgYm9keSBpcyBzbGVlcGluZywgaXQgc2hvdWxkIGJlIGltbW92YWJsZSAvIGhhdmUgaW5maW5pdGUgbWFzcyBkdXJpbmcgc29sdmUuIFdlIHNvbHZlIGl0IGJ5IGhhdmluZyBhIHNlcGFyYXRlICJzb2x2ZSBtYXNzIi4KICAgICAqLwoKCiAgICB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCkgewogICAgICBpZiAodGhpcy5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HIHx8IHRoaXMudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpIHsKICAgICAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7CiAgICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUuc2V0WmVybygpOwogICAgICAgIHRoaXMuaW52SW5lcnRpYVdvcmxkU29sdmUuc2V0WmVybygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW52TWFzc1NvbHZlID0gdGhpcy5pbnZNYXNzOwogICAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhKTsKICAgICAgICB0aGlzLmludkluZXJ0aWFXb3JsZFNvbHZlLmNvcHkodGhpcy5pbnZJbmVydGlhV29ybGQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnQgYSB3b3JsZCBwb2ludCB0byBsb2NhbCBib2R5IGZyYW1lLgogICAgICovCgoKICAgIHBvaW50VG9Mb2NhbEZyYW1lKHdvcmxkUG9pbnQsIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHsKICAgICAgICByZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB3b3JsZFBvaW50LnZzdWIodGhpcy5wb3NpdGlvbiwgcmVzdWx0KTsKICAgICAgdGhpcy5xdWF0ZXJuaW9uLmNvbmp1Z2F0ZSgpLnZtdWx0KHJlc3VsdCwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydCBhIHdvcmxkIHZlY3RvciB0byBsb2NhbCBib2R5IGZyYW1lLgogICAgICovCgoKICAgIHZlY3RvclRvTG9jYWxGcmFtZSh3b3JsZFZlY3RvciwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgewogICAgICAgIHJlc3VsdCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMucXVhdGVybmlvbi5jb25qdWdhdGUoKS52bXVsdCh3b3JsZFZlY3RvciwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogQ29udmVydCBhIGxvY2FsIGJvZHkgcG9pbnQgdG8gd29ybGQgZnJhbWUuCiAgICAgKi8KCgogICAgcG9pbnRUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgewogICAgICAgIHJlc3VsdCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMucXVhdGVybmlvbi52bXVsdChsb2NhbFBvaW50LCByZXN1bHQpOwogICAgICByZXN1bHQudmFkZCh0aGlzLnBvc2l0aW9uLCByZXN1bHQpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgLyoqCiAgICAgKiBDb252ZXJ0IGEgbG9jYWwgYm9keSBwb2ludCB0byB3b3JsZCBmcmFtZS4KICAgICAqLwoKCiAgICB2ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxWZWN0b3IsIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHsKICAgICAgICByZXN1bHQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB0aGlzLnF1YXRlcm5pb24udm11bHQobG9jYWxWZWN0b3IsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIEFkZCBhIHNoYXBlIHRvIHRoZSBib2R5IHdpdGggYSBsb2NhbCBvZmZzZXQgYW5kIG9yaWVudGF0aW9uLgogICAgICogQHJldHVybiBUaGUgYm9keSBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuCiAgICAgKi8KCgogICAgYWRkU2hhcGUoc2hhcGUsIF9vZmZzZXQsIF9vcmllbnRhdGlvbikgewogICAgICBjb25zdCBvZmZzZXQgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBvcmllbnRhdGlvbiA9IG5ldyBRdWF0ZXJuaW9uKCk7CgogICAgICBpZiAoX29mZnNldCkgewogICAgICAgIG9mZnNldC5jb3B5KF9vZmZzZXQpOwogICAgICB9CgogICAgICBpZiAoX29yaWVudGF0aW9uKSB7CiAgICAgICAgb3JpZW50YXRpb24uY29weShfb3JpZW50YXRpb24pOwogICAgICB9CgogICAgICB0aGlzLnNoYXBlcy5wdXNoKHNoYXBlKTsKICAgICAgdGhpcy5zaGFwZU9mZnNldHMucHVzaChvZmZzZXQpOwogICAgICB0aGlzLnNoYXBlT3JpZW50YXRpb25zLnB1c2gob3JpZW50YXRpb24pOwogICAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7CiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdSYWRpdXMoKTsKICAgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlOwogICAgICBzaGFwZS5ib2R5ID0gdGhpczsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CiAgICAvKioKICAgICAqIFJlbW92ZSBhIHNoYXBlIGZyb20gdGhlIGJvZHkuCiAgICAgKiBAcmV0dXJuIFRoZSBib2R5IG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS4KICAgICAqLwoKCiAgICByZW1vdmVTaGFwZShzaGFwZSkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMuc2hhcGVzLmluZGV4T2Yoc2hhcGUpOwoKICAgICAgaWYgKGluZGV4ID09PSAtMSkgewogICAgICAgIGNvbnNvbGUud2FybignU2hhcGUgZG9lcyBub3QgYmVsb25nIHRvIHRoZSBib2R5Jyk7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHRoaXMuc2hhcGVzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuc2hhcGVPZmZzZXRzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuc2hhcGVPcmllbnRhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpOwogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7CiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgc2hhcGUuYm9keSA9IG51bGw7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgYm9keS4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBzaGFwZXMgYXJlIGNoYW5nZWQuCiAgICAgKi8KCgogICAgdXBkYXRlQm91bmRpbmdSYWRpdXMoKSB7CiAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzOwogICAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgICAgY29uc3QgTiA9IHNoYXBlcy5sZW5ndGg7CiAgICAgIGxldCByYWRpdXMgPSAwOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2ldOwogICAgICAgIHNoYXBlLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc2hhcGVPZmZzZXRzW2ldLmxlbmd0aCgpOwogICAgICAgIGNvbnN0IHIgPSBzaGFwZS5ib3VuZGluZ1NwaGVyZVJhZGl1czsKCiAgICAgICAgaWYgKG9mZnNldCArIHIgPiByYWRpdXMpIHsKICAgICAgICAgIHJhZGl1cyA9IG9mZnNldCArIHI7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGVzIHRoZSAuYWFiYgogICAgICovCgoKICAgIHVwZGF0ZUFBQkIoKSB7CiAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzOwogICAgICBjb25zdCBzaGFwZU9mZnNldHMgPSB0aGlzLnNoYXBlT2Zmc2V0czsKICAgICAgY29uc3Qgc2hhcGVPcmllbnRhdGlvbnMgPSB0aGlzLnNoYXBlT3JpZW50YXRpb25zOwogICAgICBjb25zdCBOID0gc2hhcGVzLmxlbmd0aDsKICAgICAgY29uc3Qgb2Zmc2V0ID0gdG1wVmVjOwogICAgICBjb25zdCBvcmllbnRhdGlvbiA9IHRtcFF1YXQ7CiAgICAgIGNvbnN0IGJvZHlRdWF0ID0gdGhpcy5xdWF0ZXJuaW9uOwogICAgICBjb25zdCBhYWJiID0gdGhpcy5hYWJiOwogICAgICBjb25zdCBzaGFwZUFBQkIgPSB1cGRhdGVBQUJCX3NoYXBlQUFCQjsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBzaGFwZSA9IHNoYXBlc1tpXTsgLy8gR2V0IHNoYXBlIHdvcmxkIHBvc2l0aW9uCgogICAgICAgIGJvZHlRdWF0LnZtdWx0KHNoYXBlT2Zmc2V0c1tpXSwgb2Zmc2V0KTsKICAgICAgICBvZmZzZXQudmFkZCh0aGlzLnBvc2l0aW9uLCBvZmZzZXQpOyAvLyBHZXQgc2hhcGUgd29ybGQgcXVhdGVybmlvbgoKICAgICAgICBib2R5UXVhdC5tdWx0KHNoYXBlT3JpZW50YXRpb25zW2ldLCBvcmllbnRhdGlvbik7IC8vIEdldCBzaGFwZSBBQUJCCgogICAgICAgIHNoYXBlLmNhbGN1bGF0ZVdvcmxkQUFCQihvZmZzZXQsIG9yaWVudGF0aW9uLCBzaGFwZUFBQkIubG93ZXJCb3VuZCwgc2hhcGVBQUJCLnVwcGVyQm91bmQpOwoKICAgICAgICBpZiAoaSA9PT0gMCkgewogICAgICAgICAgYWFiYi5jb3B5KHNoYXBlQUFCQik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFhYmIuZXh0ZW5kKHNoYXBlQUFCQik7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgYC5pbmVydGlhV29ybGRgIGFuZCBgLmludkluZXJ0aWFXb3JsZGAKICAgICAqLwoKCiAgICB1cGRhdGVJbmVydGlhV29ybGQoZm9yY2UpIHsKICAgICAgY29uc3QgSSA9IHRoaXMuaW52SW5lcnRpYTsKCiAgICAgIGlmIChJLnggPT09IEkueSAmJiBJLnkgPT09IEkueiAmJiAhZm9yY2UpIDsgZWxzZSB7CiAgICAgICAgY29uc3QgbTEgPSB1aXdfbTE7CiAgICAgICAgY29uc3QgbTIgPSB1aXdfbTI7CiAgICAgICAgbTEuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pOwogICAgICAgIG0xLnRyYW5zcG9zZShtMik7CiAgICAgICAgbTEuc2NhbGUoSSwgbTEpOwogICAgICAgIG0xLm1tdWx0KG0yLCB0aGlzLmludkluZXJ0aWFXb3JsZCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgZm9yY2UgdG8gYSBwb2ludCBvZiB0aGUgYm9keS4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuCiAgICAgKiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LnRvcnF1ZS4KICAgICAqIEBwYXJhbSBmb3JjZSBUaGUgYW1vdW50IG9mIGZvcmNlIHRvIGFkZC4KICAgICAqIEBwYXJhbSByZWxhdGl2ZVBvaW50IEEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIHRvIGFwcGx5IHRoZSBmb3JjZSBvbi4KICAgICAqLwoKCiAgICBhcHBseUZvcmNlKGZvcmNlLCByZWxhdGl2ZVBvaW50KSB7CiAgICAgIGlmIChyZWxhdGl2ZVBvaW50ID09PSB2b2lkIDApIHsKICAgICAgICByZWxhdGl2ZVBvaW50ID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgLy8gTmVlZGVkPwogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICB0aGlzLndha2VVcCgpOwogICAgICB9IC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBmb3JjZQoKCiAgICAgIGNvbnN0IHJvdEZvcmNlID0gQm9keV9hcHBseUZvcmNlX3JvdEZvcmNlOwogICAgICByZWxhdGl2ZVBvaW50LmNyb3NzKGZvcmNlLCByb3RGb3JjZSk7IC8vIEFkZCBsaW5lYXIgZm9yY2UKCiAgICAgIHRoaXMuZm9yY2UudmFkZChmb3JjZSwgdGhpcy5mb3JjZSk7IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlCgogICAgICB0aGlzLnRvcnF1ZS52YWRkKHJvdEZvcmNlLCB0aGlzLnRvcnF1ZSk7CiAgICB9CiAgICAvKioKICAgICAqIEFwcGx5IGZvcmNlIHRvIGEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkuCiAgICAgKiBAcGFyYW0gZm9yY2UgVGhlIGZvcmNlIHZlY3RvciB0byBhcHBseSwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBib2R5IGZyYW1lLgogICAgICogQHBhcmFtIGxvY2FsUG9pbnQgQSBsb2NhbCBwb2ludCBpbiB0aGUgYm9keSB0byBhcHBseSB0aGUgZm9yY2Ugb24uCiAgICAgKi8KCgogICAgYXBwbHlMb2NhbEZvcmNlKGxvY2FsRm9yY2UsIGxvY2FsUG9pbnQpIHsKICAgICAgaWYgKGxvY2FsUG9pbnQgPT09IHZvaWQgMCkgewogICAgICAgIGxvY2FsUG9pbnQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV93b3JsZEZvcmNlOwogICAgICBjb25zdCByZWxhdGl2ZVBvaW50V29ybGQgPSBCb2R5X2FwcGx5TG9jYWxGb3JjZV9yZWxhdGl2ZVBvaW50V29ybGQ7IC8vIFRyYW5zZm9ybSB0aGUgZm9yY2UgdmVjdG9yIHRvIHdvcmxkIHNwYWNlCgogICAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZShsb2NhbEZvcmNlLCB3b3JsZEZvcmNlKTsKICAgICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICAgICAgdGhpcy5hcHBseUZvcmNlKHdvcmxkRm9yY2UsIHJlbGF0aXZlUG9pbnRXb3JsZCk7CiAgICB9CiAgICAvKioKICAgICAqIEFwcGx5IHRvcnF1ZSB0byB0aGUgYm9keS4KICAgICAqIEBwYXJhbSB0b3JxdWUgVGhlIGFtb3VudCBvZiB0b3JxdWUgdG8gYWRkLgogICAgICovCgoKICAgIGFwcGx5VG9ycXVlKHRvcnF1ZSkgewogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICB0aGlzLndha2VVcCgpOwogICAgICB9IC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlCgoKICAgICAgdGhpcy50b3JxdWUudmFkZCh0b3JxdWUsIHRoaXMudG9ycXVlKTsKICAgIH0KICAgIC8qKgogICAgICogQXBwbHkgaW1wdWxzZSB0byBhIHBvaW50IG9mIHRoZSBib2R5LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4KICAgICAqIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLgogICAgICogSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS4KICAgICAqIEBwYXJhbSBpbXB1bHNlIFRoZSBhbW91bnQgb2YgaW1wdWxzZSB0byBhZGQuCiAgICAgKiBAcGFyYW0gcmVsYXRpdmVQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyB0byBhcHBseSB0aGUgZm9yY2Ugb24uCiAgICAgKi8KCgogICAgYXBwbHlJbXB1bHNlKGltcHVsc2UsIHJlbGF0aXZlUG9pbnQpIHsKICAgICAgaWYgKHJlbGF0aXZlUG9pbnQgPT09IHZvaWQgMCkgewogICAgICAgIHJlbGF0aXZlUG9pbnQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBpZiAodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpIHsKICAgICAgICB0aGlzLndha2VVcCgpOwogICAgICB9IC8vIENvbXB1dGUgcG9pbnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGJvZHkgY2VudGVyCgoKICAgICAgY29uc3QgciA9IHJlbGF0aXZlUG9pbnQ7IC8vIENvbXB1dGUgcHJvZHVjZWQgY2VudHJhbCBpbXB1bHNlIHZlbG9jaXR5CgogICAgICBjb25zdCB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbzsKICAgICAgdmVsby5jb3B5KGltcHVsc2UpOwogICAgICB2ZWxvLnNjYWxlKHRoaXMuaW52TWFzcywgdmVsbyk7IC8vIEFkZCBsaW5lYXIgaW1wdWxzZQoKICAgICAgdGhpcy52ZWxvY2l0eS52YWRkKHZlbG8sIHRoaXMudmVsb2NpdHkpOyAvLyBDb21wdXRlIHByb2R1Y2VkIHJvdGF0aW9uYWwgaW1wdWxzZSB2ZWxvY2l0eQoKICAgICAgY29uc3Qgcm90VmVsbyA9IEJvZHlfYXBwbHlJbXB1bHNlX3JvdFZlbG87CiAgICAgIHIuY3Jvc3MoaW1wdWxzZSwgcm90VmVsbyk7CiAgICAgIC8qCiAgICAgICByb3RWZWxvLnggKj0gdGhpcy5pbnZJbmVydGlhLng7CiAgICAgICByb3RWZWxvLnkgKj0gdGhpcy5pbnZJbmVydGlhLnk7CiAgICAgICByb3RWZWxvLnogKj0gdGhpcy5pbnZJbmVydGlhLno7CiAgICAgICAqLwoKICAgICAgdGhpcy5pbnZJbmVydGlhV29ybGQudm11bHQocm90VmVsbywgcm90VmVsbyk7IC8vIEFkZCByb3RhdGlvbmFsIEltcHVsc2UKCiAgICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5LnZhZGQocm90VmVsbywgdGhpcy5hbmd1bGFyVmVsb2NpdHkpOwogICAgfQogICAgLyoqCiAgICAgKiBBcHBseSBsb2NhbGx5LWRlZmluZWQgaW1wdWxzZSB0byBhIGxvY2FsIHBvaW50IGluIHRoZSBib2R5LgogICAgICogQHBhcmFtIGZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYXBwbHksIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgYm9keSBmcmFtZS4KICAgICAqIEBwYXJhbSBsb2NhbFBvaW50IEEgbG9jYWwgcG9pbnQgaW4gdGhlIGJvZHkgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLgogICAgICovCgoKICAgIGFwcGx5TG9jYWxJbXB1bHNlKGxvY2FsSW1wdWxzZSwgbG9jYWxQb2ludCkgewogICAgICBpZiAobG9jYWxQb2ludCA9PT0gdm9pZCAwKSB7CiAgICAgICAgbG9jYWxQb2ludCA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3Qgd29ybGRJbXB1bHNlID0gQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2U7CiAgICAgIGNvbnN0IHJlbGF0aXZlUG9pbnRXb3JsZCA9IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludDsgLy8gVHJhbnNmb3JtIHRoZSBmb3JjZSB2ZWN0b3IgdG8gd29ybGQgc3BhY2UKCiAgICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGxvY2FsSW1wdWxzZSwgd29ybGRJbXB1bHNlKTsKICAgICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobG9jYWxQb2ludCwgcmVsYXRpdmVQb2ludFdvcmxkKTsKICAgICAgdGhpcy5hcHBseUltcHVsc2Uod29ybGRJbXB1bHNlLCByZWxhdGl2ZVBvaW50V29ybGQpOwogICAgfQogICAgLyoqCiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIGJvZHkgc2hhcGUgb3IgbWFzcy4KICAgICAqLwoKCiAgICB1cGRhdGVNYXNzUHJvcGVydGllcygpIHsKICAgICAgY29uc3QgaGFsZkV4dGVudHMgPSBCb2R5X3VwZGF0ZU1hc3NQcm9wZXJ0aWVzX2hhbGZFeHRlbnRzOwogICAgICB0aGlzLmludk1hc3MgPSB0aGlzLm1hc3MgPiAwID8gMS4wIC8gdGhpcy5tYXNzIDogMDsKICAgICAgY29uc3QgSSA9IHRoaXMuaW5lcnRpYTsKICAgICAgY29uc3QgZml4ZWQgPSB0aGlzLmZpeGVkUm90YXRpb247IC8vIEFwcHJveGltYXRlIHdpdGggQUFCQiBib3gKCiAgICAgIHRoaXMudXBkYXRlQUFCQigpOwogICAgICBoYWxmRXh0ZW50cy5zZXQoKHRoaXMuYWFiYi51cHBlckJvdW5kLnggLSB0aGlzLmFhYmIubG93ZXJCb3VuZC54KSAvIDIsICh0aGlzLmFhYmIudXBwZXJCb3VuZC55IC0gdGhpcy5hYWJiLmxvd2VyQm91bmQueSkgLyAyLCAodGhpcy5hYWJiLnVwcGVyQm91bmQueiAtIHRoaXMuYWFiYi5sb3dlckJvdW5kLnopIC8gMik7CiAgICAgIEJveC5jYWxjdWxhdGVJbmVydGlhKGhhbGZFeHRlbnRzLCB0aGlzLm1hc3MsIEkpOwogICAgICB0aGlzLmludkluZXJ0aWEuc2V0KEkueCA+IDAgJiYgIWZpeGVkID8gMS4wIC8gSS54IDogMCwgSS55ID4gMCAmJiAhZml4ZWQgPyAxLjAgLyBJLnkgOiAwLCBJLnogPiAwICYmICFmaXhlZCA/IDEuMCAvIEkueiA6IDApOwogICAgICB0aGlzLnVwZGF0ZUluZXJ0aWFXb3JsZCh0cnVlKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHdvcmxkIHZlbG9jaXR5IG9mIGEgcG9pbnQgaW4gdGhlIGJvZHkuCiAgICAgKiBAcGFyYW0gd29ybGRQb2ludAogICAgICogQHBhcmFtIHJlc3VsdAogICAgICogQHJldHVybiBUaGUgcmVzdWx0IHZlY3Rvci4KICAgICAqLwoKCiAgICBnZXRWZWxvY2l0eUF0V29ybGRQb2ludCh3b3JsZFBvaW50LCByZXN1bHQpIHsKICAgICAgY29uc3QgciA9IG5ldyBWZWMzKCk7CiAgICAgIHdvcmxkUG9pbnQudnN1Yih0aGlzLnBvc2l0aW9uLCByKTsKICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MociwgcmVzdWx0KTsKICAgICAgdGhpcy52ZWxvY2l0eS52YWRkKHJlc3VsdCwgcmVzdWx0KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogTW92ZSB0aGUgYm9keSBmb3J3YXJkIGluIHRpbWUuCiAgICAgKiBAcGFyYW0gZHQgVGltZSBzdGVwCiAgICAgKiBAcGFyYW0gcXVhdE5vcm1hbGl6ZSBTZXQgdG8gdHJ1ZSB0byBub3JtYWxpemUgdGhlIGJvZHkgcXVhdGVybmlvbgogICAgICogQHBhcmFtIHF1YXROb3JtYWxpemVGYXN0IElmIHRoZSBxdWF0ZXJuaW9uIHNob3VsZCBiZSBub3JtYWxpemVkIHVzaW5nICJmYXN0IiBxdWF0ZXJuaW9uIG5vcm1hbGl6YXRpb24KICAgICAqLwoKCiAgICBpbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KSB7CiAgICAgIC8vIFNhdmUgcHJldmlvdXMgcG9zaXRpb24KICAgICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7CiAgICAgIHRoaXMucHJldmlvdXNRdWF0ZXJuaW9uLmNvcHkodGhpcy5xdWF0ZXJuaW9uKTsKCiAgICAgIGlmICghKHRoaXMudHlwZSA9PT0gQm9keS5EWU5BTUlDIHx8IHRoaXMudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpIHx8IHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORykgewogICAgICAgIC8vIE9ubHkgZm9yIGR5bmFtaWMKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHZlbG8gPSB0aGlzLnZlbG9jaXR5OwogICAgICBjb25zdCBhbmd1bGFyVmVsbyA9IHRoaXMuYW5ndWxhclZlbG9jaXR5OwogICAgICBjb25zdCBwb3MgPSB0aGlzLnBvc2l0aW9uOwogICAgICBjb25zdCBmb3JjZSA9IHRoaXMuZm9yY2U7CiAgICAgIGNvbnN0IHRvcnF1ZSA9IHRoaXMudG9ycXVlOwogICAgICBjb25zdCBxdWF0ID0gdGhpcy5xdWF0ZXJuaW9uOwogICAgICBjb25zdCBpbnZNYXNzID0gdGhpcy5pbnZNYXNzOwogICAgICBjb25zdCBpbnZJbmVydGlhID0gdGhpcy5pbnZJbmVydGlhV29ybGQ7CiAgICAgIGNvbnN0IGxpbmVhckZhY3RvciA9IHRoaXMubGluZWFyRmFjdG9yOwogICAgICBjb25zdCBpTWR0ID0gaW52TWFzcyAqIGR0OwogICAgICB2ZWxvLnggKz0gZm9yY2UueCAqIGlNZHQgKiBsaW5lYXJGYWN0b3IueDsKICAgICAgdmVsby55ICs9IGZvcmNlLnkgKiBpTWR0ICogbGluZWFyRmFjdG9yLnk7CiAgICAgIHZlbG8ueiArPSBmb3JjZS56ICogaU1kdCAqIGxpbmVhckZhY3Rvci56OwogICAgICBjb25zdCBlID0gaW52SW5lcnRpYS5lbGVtZW50czsKICAgICAgY29uc3QgYW5ndWxhckZhY3RvciA9IHRoaXMuYW5ndWxhckZhY3RvcjsKICAgICAgY29uc3QgdHggPSB0b3JxdWUueCAqIGFuZ3VsYXJGYWN0b3IueDsKICAgICAgY29uc3QgdHkgPSB0b3JxdWUueSAqIGFuZ3VsYXJGYWN0b3IueTsKICAgICAgY29uc3QgdHogPSB0b3JxdWUueiAqIGFuZ3VsYXJGYWN0b3IuejsKICAgICAgYW5ndWxhclZlbG8ueCArPSBkdCAqIChlWzBdICogdHggKyBlWzFdICogdHkgKyBlWzJdICogdHopOwogICAgICBhbmd1bGFyVmVsby55ICs9IGR0ICogKGVbM10gKiB0eCArIGVbNF0gKiB0eSArIGVbNV0gKiB0eik7CiAgICAgIGFuZ3VsYXJWZWxvLnogKz0gZHQgKiAoZVs2XSAqIHR4ICsgZVs3XSAqIHR5ICsgZVs4XSAqIHR6KTsgLy8gVXNlIG5ldyB2ZWxvY2l0eSAgLSBsZWFwIGZyb2cKCiAgICAgIHBvcy54ICs9IHZlbG8ueCAqIGR0OwogICAgICBwb3MueSArPSB2ZWxvLnkgKiBkdDsKICAgICAgcG9zLnogKz0gdmVsby56ICogZHQ7CiAgICAgIHF1YXQuaW50ZWdyYXRlKHRoaXMuYW5ndWxhclZlbG9jaXR5LCBkdCwgdGhpcy5hbmd1bGFyRmFjdG9yLCBxdWF0KTsKCiAgICAgIGlmIChxdWF0Tm9ybWFsaXplKSB7CiAgICAgICAgaWYgKHF1YXROb3JtYWxpemVGYXN0KSB7CiAgICAgICAgICBxdWF0Lm5vcm1hbGl6ZUZhc3QoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcXVhdC5ub3JtYWxpemUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTsgLy8gVXBkYXRlIHdvcmxkIGluZXJ0aWEKCiAgICAgIHRoaXMudXBkYXRlSW5lcnRpYVdvcmxkKCk7CiAgICB9CgogIH0KICBCb2R5LmlkQ291bnRlciA9IDA7CiAgQm9keS5DT0xMSURFX0VWRU5UX05BTUUgPSAnY29sbGlkZSc7CiAgQm9keS5EWU5BTUlDID0gQk9EWV9UWVBFUy5EWU5BTUlDOwogIEJvZHkuU1RBVElDID0gQk9EWV9UWVBFUy5TVEFUSUM7CiAgQm9keS5LSU5FTUFUSUMgPSBCT0RZX1RZUEVTLktJTkVNQVRJQzsKICBCb2R5LkFXQUtFID0gQk9EWV9TTEVFUF9TVEFURVMuQVdBS0U7CiAgQm9keS5TTEVFUFkgPSBCT0RZX1NMRUVQX1NUQVRFUy5TTEVFUFk7CiAgQm9keS5TTEVFUElORyA9IEJPRFlfU0xFRVBfU1RBVEVTLlNMRUVQSU5HOwogIEJvZHkud2FrZXVwRXZlbnQgPSB7CiAgICB0eXBlOiAnd2FrZXVwJwogIH07CiAgQm9keS5zbGVlcHlFdmVudCA9IHsKICAgIHR5cGU6ICdzbGVlcHknCiAgfTsKICBCb2R5LnNsZWVwRXZlbnQgPSB7CiAgICB0eXBlOiAnc2xlZXAnCiAgfTsKICBjb25zdCB0bXBWZWMgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFF1YXQgPSBuZXcgUXVhdGVybmlvbigpOwogIGNvbnN0IHVwZGF0ZUFBQkJfc2hhcGVBQUJCID0gbmV3IEFBQkIoKTsKICBjb25zdCB1aXdfbTEgPSBuZXcgTWF0MygpOwogIGNvbnN0IHVpd19tMiA9IG5ldyBNYXQzKCk7CiAgbmV3IE1hdDMoKTsKICBjb25zdCBCb2R5X2FwcGx5Rm9yY2Vfcm90Rm9yY2UgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3dvcmxkRm9yY2UgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlMb2NhbEZvcmNlX3JlbGF0aXZlUG9pbnRXb3JsZCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQm9keV9hcHBseUltcHVsc2VfdmVsbyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQm9keV9hcHBseUltcHVsc2Vfcm90VmVsbyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQm9keV9hcHBseUxvY2FsSW1wdWxzZV93b3JsZEltcHVsc2UgPSBuZXcgVmVjMygpOwogIGNvbnN0IEJvZHlfYXBwbHlMb2NhbEltcHVsc2VfcmVsYXRpdmVQb2ludCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQm9keV91cGRhdGVNYXNzUHJvcGVydGllc19oYWxmRXh0ZW50cyA9IG5ldyBWZWMzKCk7CgogIC8qKgogICAqIEJhc2UgY2xhc3MgZm9yIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb25zCiAgICogQGF1dGhvciBzY2h0ZXBwZQogICAqLwogIGNsYXNzIEJyb2FkcGhhc2UgewogICAgLyoqCiAgICAgKiBUaGUgd29ybGQgdG8gc2VhcmNoIGZvciBjb2xsaXNpb25zIGluLgogICAgICovCgogICAgLyoqCiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGJyb2FkcGhhc2UgdXNlcyBib3VuZGluZyBib3hlcyBmb3IgaW50ZXJzZWN0aW9uIHRlc3RzLCBlbHNlIGl0IHVzZXMgYm91bmRpbmcgc3BoZXJlcy4KICAgICAqLwoKICAgIC8qKgogICAgICogU2V0IHRvIHRydWUgaWYgdGhlIG9iamVjdHMgaW4gdGhlIHdvcmxkIG1vdmVkLgogICAgICovCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICAgIHRoaXMudXNlQm91bmRpbmdCb3hlcyA9IGZhbHNlOwogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBjb2xsaXNpb24gcGFpcnMgZnJvbSB0aGUgd29ybGQKICAgICAqIEBwYXJhbSB3b3JsZCBUaGUgd29ybGQgdG8gc2VhcmNoIGluCiAgICAgKiBAcGFyYW0gcDEgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzCiAgICAgKiBAcGFyYW0gcDIgRW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIHdpdGggYm9keSBvYmplY3RzCiAgICAgKi8KCgogICAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbGxpc2lvblBhaXJzIG5vdCBpbXBsZW1lbnRlZCBmb3IgdGhpcyBCcm9hZFBoYXNlIGNsYXNzIScpOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiBhIGJvZHkgcGFpciBuZWVkcyB0byBiZSBpbnRlcnNlY3Rpb24gdGVzdGVkIGF0IGFsbC4KICAgICAqLwoKCiAgICBuZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihib2R5QSwgYm9keUIpIHsKICAgICAgLy8gQ2hlY2sgY29sbGlzaW9uIGZpbHRlciBtYXNrcwogICAgICBpZiAoKGJvZHlBLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUIuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDAgfHwgKGJvZHlCLmNvbGxpc2lvbkZpbHRlckdyb3VwICYgYm9keUEuY29sbGlzaW9uRmlsdGVyTWFzaykgPT09IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8gQ2hlY2sgdHlwZXMKCgogICAgICBpZiAoKChib2R5QS50eXBlICYgQm9keS5TVEFUSUMpICE9PSAwIHx8IGJvZHlBLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpICYmICgoYm9keUIudHlwZSAmIEJvZHkuU1RBVElDKSAhPT0gMCB8fCBib2R5Qi5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKSkgewogICAgICAgIC8vIEJvdGggYm9kaWVzIGFyZSBzdGF0aWMgb3Igc2xlZXBpbmcuIFNraXAuCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHZvbHVtZXMgb2YgdHdvIGJvZGllcyBpbnRlcnNlY3QuCiAgICAgKi8KCgogICAgaW50ZXJzZWN0aW9uVGVzdChib2R5QSwgYm9keUIsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICAgIGlmICh0aGlzLnVzZUJvdW5kaW5nQm94ZXMpIHsKICAgICAgICB0aGlzLmRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZG9Cb3VuZGluZ1NwaGVyZUJyb2FkcGhhc2UoYm9keUEsIGJvZHlCLCBwYWlyczEsIHBhaXJzMik7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHNwaGVyZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLgogICAgICogQHBhcmFtIHBhaXJzMSBib2R5QSBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbgogICAgICogQHBhcmFtIHBhaXJzMiBib2R5QiBpcyBhcHBlbmRlZCB0byB0aGlzIGFycmF5IGlmIGludGVyc2VjdGlvbgogICAgICovCgoKICAgIGRvQm91bmRpbmdTcGhlcmVCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgICAgY29uc3QgciA9IEJyb2FkcGhhc2VfY29sbGlzaW9uUGFpcnNfcjsKICAgICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgcik7CiAgICAgIGNvbnN0IGJvdW5kaW5nUmFkaXVzU3VtMiA9IChib2R5QS5ib3VuZGluZ1JhZGl1cyArIGJvZHlCLmJvdW5kaW5nUmFkaXVzKSAqKiAyOwogICAgICBjb25zdCBub3JtMiA9IHIubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgaWYgKG5vcm0yIDwgYm91bmRpbmdSYWRpdXNTdW0yKSB7CiAgICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDaGVjayBpZiB0aGUgYm91bmRpbmcgYm94ZXMgb2YgdHdvIGJvZGllcyBhcmUgaW50ZXJzZWN0aW5nLgogICAgICovCgoKICAgIGRvQm91bmRpbmdCb3hCcm9hZHBoYXNlKGJvZHlBLCBib2R5QiwgcGFpcnMxLCBwYWlyczIpIHsKICAgICAgaWYgKGJvZHlBLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGJvZHlBLnVwZGF0ZUFBQkIoKTsKICAgICAgfQoKICAgICAgaWYgKGJvZHlCLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgIGJvZHlCLnVwZGF0ZUFBQkIoKTsKICAgICAgfSAvLyBDaGVjayBBQUJCIC8gQUFCQgoKCiAgICAgIGlmIChib2R5QS5hYWJiLm92ZXJsYXBzKGJvZHlCLmFhYmIpKSB7CiAgICAgICAgcGFpcnMxLnB1c2goYm9keUEpOwogICAgICAgIHBhaXJzMi5wdXNoKGJvZHlCKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmVzIGR1cGxpY2F0ZSBwYWlycyBmcm9tIHRoZSBwYWlyIGFycmF5cy4KICAgICAqLwoKCiAgICBtYWtlUGFpcnNVbmlxdWUocGFpcnMxLCBwYWlyczIpIHsKICAgICAgY29uc3QgdCA9IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3RlbXA7CiAgICAgIGNvbnN0IHAxID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDE7CiAgICAgIGNvbnN0IHAyID0gQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDI7CiAgICAgIGNvbnN0IE4gPSBwYWlyczEubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIHAxW2ldID0gcGFpcnMxW2ldOwogICAgICAgIHAyW2ldID0gcGFpcnMyW2ldOwogICAgICB9CgogICAgICBwYWlyczEubGVuZ3RoID0gMDsKICAgICAgcGFpcnMyLmxlbmd0aCA9IDA7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgaWQxID0gcDFbaV0uaWQ7CiAgICAgICAgY29uc3QgaWQyID0gcDJbaV0uaWQ7CiAgICAgICAgY29uc3Qga2V5ID0gaWQxIDwgaWQyID8gYCR7aWQxfSwke2lkMn1gIDogYCR7aWQyfSwke2lkMX1gOwogICAgICAgIHRba2V5XSA9IGk7CiAgICAgICAgdC5rZXlzLnB1c2goa2V5KTsKICAgICAgfQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IHQua2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGtleSA9IHQua2V5cy5wb3AoKTsKICAgICAgICBjb25zdCBwYWlySW5kZXggPSB0W2tleV07CiAgICAgICAgcGFpcnMxLnB1c2gocDFbcGFpckluZGV4XSk7CiAgICAgICAgcGFpcnMyLnB1c2gocDJbcGFpckluZGV4XSk7CiAgICAgICAgZGVsZXRlIHRba2V5XTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBUbyBiZSBpbXBsZW1lbnRlZCBieSBzdWJjYXNzZXMKICAgICAqLwoKCiAgICBzZXRXb3JsZCh3b3JsZCkge30KICAgIC8qKgogICAgICogQ2hlY2sgaWYgdGhlIGJvdW5kaW5nIHNwaGVyZXMgb2YgdHdvIGJvZGllcyBvdmVybGFwLgogICAgICovCgoKICAgIHN0YXRpYyBib3VuZGluZ1NwaGVyZUNoZWNrKGJvZHlBLCBib2R5QikgewogICAgICBjb25zdCBkaXN0ID0gbmV3IFZlYzMoKTsgLy8gYnNjX2Rpc3Q7CgogICAgICBib2R5QS5wb3NpdGlvbi52c3ViKGJvZHlCLnBvc2l0aW9uLCBkaXN0KTsKICAgICAgY29uc3Qgc2EgPSBib2R5QS5zaGFwZXNbMF07CiAgICAgIGNvbnN0IHNiID0gYm9keUIuc2hhcGVzWzBdOwogICAgICByZXR1cm4gTWF0aC5wb3coc2EuYm91bmRpbmdTcGhlcmVSYWRpdXMgKyBzYi5ib3VuZGluZ1NwaGVyZVJhZGl1cywgMikgPiBkaXN0Lmxlbmd0aFNxdWFyZWQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhbGwgdGhlIGJvZGllcyB3aXRoaW4gdGhlIEFBQkIuCiAgICAgKi8KCgogICAgYWFiYlF1ZXJ5KHdvcmxkLCBhYWJiLCByZXN1bHQpIHsKICAgICAgY29uc29sZS53YXJuKCcuYWFiYlF1ZXJ5IGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIEJyb2FkcGhhc2Ugc3ViY2xhc3MuJyk7CiAgICAgIHJldHVybiBbXTsKICAgIH0KCiAgfSAvLyBUZW1wIG9iamVjdHMKCiAgY29uc3QgQnJvYWRwaGFzZV9jb2xsaXNpb25QYWlyc19yID0gbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwogIG5ldyBRdWF0ZXJuaW9uKCk7CiAgbmV3IFZlYzMoKTsKICBjb25zdCBCcm9hZHBoYXNlX21ha2VQYWlyc1VuaXF1ZV90ZW1wID0gewogICAga2V5czogW10KICB9OwogIGNvbnN0IEJyb2FkcGhhc2VfbWFrZVBhaXJzVW5pcXVlX3AxID0gW107CiAgY29uc3QgQnJvYWRwaGFzZV9tYWtlUGFpcnNVbmlxdWVfcDIgPSBbXTsKICBuZXcgVmVjMygpOwogIG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKCiAgLyoqCiAgICogTmFpdmUgYnJvYWRwaGFzZSBpbXBsZW1lbnRhdGlvbiwgdXNlZCBpbiBsYWNrIG9mIGJldHRlciBvbmVzLgogICAqCiAgICogVGhlIG5haXZlIGJyb2FkcGhhc2UgbG9va3MgYXQgYWxsIHBvc3NpYmxlIHBhaXJzIHdpdGhvdXQgcmVzdHJpY3Rpb24sIHRoZXJlZm9yZSBpdCBoYXMgY29tcGxleGl0eSBOXjIgXyh3aGljaCBpcyBiYWQpXwogICAqLwogIGNsYXNzIE5haXZlQnJvYWRwaGFzZSBleHRlbmRzIEJyb2FkcGhhc2UgewogICAgLyoqCiAgICAgKiBAdG9kbyBSZW1vdmUgdXNlbGVzcyBjb25zdHJ1Y3RvcgogICAgICovCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFsbCB0aGUgY29sbGlzaW9uIHBhaXJzIGluIHRoZSBwaHlzaWNzIHdvcmxkCiAgICAgKi8KCgogICAgY29sbGlzaW9uUGFpcnMod29ybGQsIHBhaXJzMSwgcGFpcnMyKSB7CiAgICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllczsKICAgICAgY29uc3QgbiA9IGJvZGllcy5sZW5ndGg7CiAgICAgIGxldCBiaTsKICAgICAgbGV0IGJqOyAvLyBOYWl2ZSBOXjIgZnR3IQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IG47IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBpOyBqKyspIHsKICAgICAgICAgIGJpID0gYm9kaWVzW2ldOwogICAgICAgICAgYmogPSBib2RpZXNbal07CgogICAgICAgICAgaWYgKCF0aGlzLm5lZWRCcm9hZHBoYXNlQ29sbGlzaW9uKGJpLCBiaikpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcGFpcnMxLCBwYWlyczIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLgogICAgICogQHBhcmFtIHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLgogICAgICovCgoKICAgIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgewogICAgICAgIHJlc3VsdCA9IFtdOwogICAgICB9CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmxkLmJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGIgPSB3b3JsZC5ib2RpZXNbaV07CgogICAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgICAgYi51cGRhdGVBQUJCKCk7CiAgICAgICAgfSAvLyBVZ2x5IGhhY2sgdW50aWwgQm9keSBnZXRzIGFhYmIKCgogICAgICAgIGlmIChiLmFhYmIub3ZlcmxhcHMoYWFiYikpIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKGIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgfQoKICAvKioKICAgKiBTdG9yYWdlIGZvciBSYXkgY2FzdGluZyBkYXRhCiAgICovCiAgY2xhc3MgUmF5Y2FzdFJlc3VsdCB7CiAgICAvKioKICAgICAqIHJheUZyb21Xb3JsZAogICAgICovCgogICAgLyoqCiAgICAgKiByYXlUb1dvcmxkCiAgICAgKi8KCiAgICAvKioKICAgICAqIGhpdE5vcm1hbFdvcmxkCiAgICAgKi8KCiAgICAvKioKICAgICAqIGhpdFBvaW50V29ybGQKICAgICAqLwoKICAgIC8qKgogICAgICogaGFzSGl0CiAgICAgKi8KCiAgICAvKioKICAgICAqIHNoYXBlCiAgICAgKi8KCiAgICAvKioKICAgICAqIGJvZHkKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGluZGV4IG9mIHRoZSBoaXQgdHJpYW5nbGUsIGlmIHRoZSBoaXQgc2hhcGUgd2FzIGEgdHJpbWVzaAogICAgICovCgogICAgLyoqCiAgICAgKiBEaXN0YW5jZSB0byB0aGUgaGl0LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0CiAgICAgKi8KCiAgICAvKioKICAgICAqIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZyB0aGUgYm9kaWVzCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLnJheUZyb21Xb3JsZCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucmF5VG9Xb3JsZCA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmhpdFBvaW50V29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgICB0aGlzLnNoYXBlID0gbnVsbDsKICAgICAgdGhpcy5ib2R5ID0gbnVsbDsKICAgICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTsKICAgICAgdGhpcy5kaXN0YW5jZSA9IC0xOwogICAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogUmVzZXQgYWxsIHJlc3VsdCBkYXRhLgogICAgICovCgoKICAgIHJlc2V0KCkgewogICAgICB0aGlzLnJheUZyb21Xb3JsZC5zZXRaZXJvKCk7CiAgICAgIHRoaXMucmF5VG9Xb3JsZC5zZXRaZXJvKCk7CiAgICAgIHRoaXMuaGl0Tm9ybWFsV29ybGQuc2V0WmVybygpOwogICAgICB0aGlzLmhpdFBvaW50V29ybGQuc2V0WmVybygpOwogICAgICB0aGlzLmhhc0hpdCA9IGZhbHNlOwogICAgICB0aGlzLnNoYXBlID0gbnVsbDsKICAgICAgdGhpcy5ib2R5ID0gbnVsbDsKICAgICAgdGhpcy5oaXRGYWNlSW5kZXggPSAtMTsKICAgICAgdGhpcy5kaXN0YW5jZSA9IC0xOwogICAgICB0aGlzLnNob3VsZFN0b3AgPSBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogYWJvcnQKICAgICAqLwoKCiAgICBhYm9ydCgpIHsKICAgICAgdGhpcy5zaG91bGRTdG9wID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHJlc3VsdCBkYXRhLgogICAgICovCgoKICAgIHNldChyYXlGcm9tV29ybGQsIHJheVRvV29ybGQsIGhpdE5vcm1hbFdvcmxkLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpIHsKICAgICAgdGhpcy5yYXlGcm9tV29ybGQuY29weShyYXlGcm9tV29ybGQpOwogICAgICB0aGlzLnJheVRvV29ybGQuY29weShyYXlUb1dvcmxkKTsKICAgICAgdGhpcy5oaXROb3JtYWxXb3JsZC5jb3B5KGhpdE5vcm1hbFdvcmxkKTsKICAgICAgdGhpcy5oaXRQb2ludFdvcmxkLmNvcHkoaGl0UG9pbnRXb3JsZCk7CiAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZTsKICAgICAgdGhpcy5ib2R5ID0gYm9keTsKICAgICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlOwogICAgfQoKICB9CgogIGxldCBfU2hhcGUkdHlwZXMkU1BIRVJFLCBfU2hhcGUkdHlwZXMkUExBTkUsIF9TaGFwZSR0eXBlcyRCT1gsIF9TaGFwZSR0eXBlcyRDWUxJTkRFUiwgX1NoYXBlJHR5cGVzJENPTlZFWFBPLCBfU2hhcGUkdHlwZXMkSEVJR0hURkksIF9TaGFwZSR0eXBlcyRUUklNRVNIOwoKICAvKioKICAgKiBSQVlfTU9ERVMKICAgKi8KICBjb25zdCBSQVlfTU9ERVMgPSB7CiAgICAvKiogQ0xPU0VTVCAqLwogICAgQ0xPU0VTVDogMSwKCiAgICAvKiogQU5ZICovCiAgICBBTlk6IDIsCgogICAgLyoqIEFMTCAqLwogICAgQUxMOiA0CiAgfTsKICAvKioKICAgKiBSYXlNb2RlCiAgICovCgogIF9TaGFwZSR0eXBlcyRTUEhFUkUgPSBTaGFwZS50eXBlcy5TUEhFUkU7CiAgX1NoYXBlJHR5cGVzJFBMQU5FID0gU2hhcGUudHlwZXMuUExBTkU7CiAgX1NoYXBlJHR5cGVzJEJPWCA9IFNoYXBlLnR5cGVzLkJPWDsKICBfU2hhcGUkdHlwZXMkQ1lMSU5ERVIgPSBTaGFwZS50eXBlcy5DWUxJTkRFUjsKICBfU2hhcGUkdHlwZXMkQ09OVkVYUE8gPSBTaGFwZS50eXBlcy5DT05WRVhQT0xZSEVEUk9OOwogIF9TaGFwZSR0eXBlcyRIRUlHSFRGSSA9IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxEOwogIF9TaGFwZSR0eXBlcyRUUklNRVNIID0gU2hhcGUudHlwZXMuVFJJTUVTSDsKCiAgLyoqCiAgICogQSBsaW5lIGluIDNEIHNwYWNlIHRoYXQgaW50ZXJzZWN0cyBib2RpZXMgYW5kIHJldHVybiBwb2ludHMuCiAgICovCiAgY2xhc3MgUmF5IHsKICAgIC8qKgogICAgICogZnJvbQogICAgICovCgogICAgLyoqCiAgICAgKiB0bwogICAgICovCgogICAgLyoqCiAgICAgKiBkaXJlY3Rpb24KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIHByZWNpc2lvbiBvZiB0aGUgcmF5LiBVc2VkIHdoZW4gY2hlY2tpbmcgcGFyYWxsZWxpdHkgZXRjLgogICAgICogQGRlZmF1bHQgMC4wMDAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIFNldCB0byBgZmFsc2VgIGlmIHlvdSBkb24ndCB3YW50IHRoZSBSYXkgdG8gdGFrZSBgY29sbGlzaW9uUmVzcG9uc2VgIGZsYWdzIGludG8gYWNjb3VudCBvbiBib2RpZXMgYW5kIHNoYXBlcy4KICAgICAqIEBkZWZhdWx0IHRydWUKICAgICAqLwoKICAgIC8qKgogICAgICogSWYgc2V0IHRvIGB0cnVlYCwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuCiAgICAgKiBAZGVmYXVsdCBmYWxzZQogICAgICovCgogICAgLyoqCiAgICAgKiBjb2xsaXNpb25GaWx0ZXJNYXNrCiAgICAgKiBAZGVmYXVsdCAtMQogICAgICovCgogICAgLyoqCiAgICAgKiBjb2xsaXNpb25GaWx0ZXJHcm91cAogICAgICogQGRlZmF1bHQgLTEKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGludGVyc2VjdGlvbiBtb2RlLiBTaG91bGQgYmUgUmF5LkFOWSwgUmF5LkFMTCBvciBSYXkuQ0xPU0VTVC4KICAgICAqIEBkZWZhdWx0IFJBWS5BTlkKICAgICAqLwoKICAgIC8qKgogICAgICogQ3VycmVudCByZXN1bHQgb2JqZWN0LgogICAgICovCgogICAgLyoqCiAgICAgKiBXaWxsIGJlIHNldCB0byBgdHJ1ZWAgZHVyaW5nIGludGVyc2VjdFdvcmxkKCkgaWYgdGhlIHJheSBoaXQgYW55dGhpbmcuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLgogICAgICovCgogICAgLyoqCiAgICAgKiBDTE9TRVNUCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFOWQogICAgICovCgogICAgLyoqCiAgICAgKiBBTEwKICAgICAqLwogICAgZ2V0IFtfU2hhcGUkdHlwZXMkU1BIRVJFXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdFNwaGVyZTsKICAgIH0KCiAgICBnZXQgW19TaGFwZSR0eXBlcyRQTEFORV0oKSB7CiAgICAgIHJldHVybiB0aGlzLl9pbnRlcnNlY3RQbGFuZTsKICAgIH0KCiAgICBnZXQgW19TaGFwZSR0eXBlcyRCT1hdKCkgewogICAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0Qm94OwogICAgfQoKICAgIGdldCBbX1NoYXBlJHR5cGVzJENZTElOREVSXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdENvbnZleDsKICAgIH0KCiAgICBnZXQgW19TaGFwZSR0eXBlcyRDT05WRVhQT10oKSB7CiAgICAgIHJldHVybiB0aGlzLl9pbnRlcnNlY3RDb252ZXg7CiAgICB9CgogICAgZ2V0IFtfU2hhcGUkdHlwZXMkSEVJR0hURkldKCkgewogICAgICByZXR1cm4gdGhpcy5faW50ZXJzZWN0SGVpZ2h0ZmllbGQ7CiAgICB9CgogICAgZ2V0IFtfU2hhcGUkdHlwZXMkVFJJTUVTSF0oKSB7CiAgICAgIHJldHVybiB0aGlzLl9pbnRlcnNlY3RUcmltZXNoOwogICAgfQoKICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvKSB7CiAgICAgIGlmIChmcm9tID09PSB2b2lkIDApIHsKICAgICAgICBmcm9tID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgaWYgKHRvID09PSB2b2lkIDApIHsKICAgICAgICB0byA9IG5ldyBWZWMzKCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZnJvbSA9IGZyb20uY2xvbmUoKTsKICAgICAgdGhpcy50byA9IHRvLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5wcmVjaXNpb24gPSAwLjAwMDE7CiAgICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHRydWU7CiAgICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9IGZhbHNlOwogICAgICB0aGlzLmNvbGxpc2lvbkZpbHRlck1hc2sgPSAtMTsKICAgICAgdGhpcy5jb2xsaXNpb25GaWx0ZXJHcm91cCA9IC0xOwogICAgICB0aGlzLm1vZGUgPSBSYXkuQU5ZOwogICAgICB0aGlzLnJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7CiAgICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CgogICAgICB0aGlzLmNhbGxiYWNrID0gcmVzdWx0ID0+IHt9OwogICAgfQogICAgLyoqCiAgICAgKiBEbyBpdGVyc2VjdGlvbiBhZ2FpbnN0IGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIFdvcmxkLgogICAgICogQHJldHVybiBUcnVlIGlmIHRoZSByYXkgaGl0IGFueXRoaW5nLCBvdGhlcndpc2UgZmFsc2UuCiAgICAgKi8KCgogICAgaW50ZXJzZWN0V29ybGQod29ybGQsIG9wdGlvbnMpIHsKICAgICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IFJheS5BTlk7CiAgICAgIHRoaXMucmVzdWx0ID0gb3B0aW9ucy5yZXN1bHQgfHwgbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgICAgdGhpcy5za2lwQmFja2ZhY2VzID0gISFvcHRpb25zLnNraXBCYWNrZmFjZXM7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyTWFzayA9IHR5cGVvZiBvcHRpb25zLmNvbGxpc2lvbkZpbHRlck1hc2sgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJNYXNrIDogLTE7CiAgICAgIHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgPSB0eXBlb2Ygb3B0aW9ucy5jb2xsaXNpb25GaWx0ZXJHcm91cCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmNvbGxpc2lvbkZpbHRlckdyb3VwIDogLTE7CiAgICAgIHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHR5cGVvZiBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTsKCiAgICAgIGlmIChvcHRpb25zLmZyb20pIHsKICAgICAgICB0aGlzLmZyb20uY29weShvcHRpb25zLmZyb20pOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy50bykgewogICAgICAgIHRoaXMudG8uY29weShvcHRpb25zLnRvKTsKICAgICAgfQoKICAgICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgKCgpID0+IHt9KTsKCiAgICAgIHRoaXMuaGFzSGl0ID0gZmFsc2U7CiAgICAgIHRoaXMucmVzdWx0LnJlc2V0KCk7CiAgICAgIHRoaXMudXBkYXRlRGlyZWN0aW9uKCk7CiAgICAgIHRoaXMuZ2V0QUFCQih0bXBBQUJCJDEpOwogICAgICB0bXBBcnJheS5sZW5ndGggPSAwOwogICAgICB3b3JsZC5icm9hZHBoYXNlLmFhYmJRdWVyeSh3b3JsZCwgdG1wQUFCQiQxLCB0bXBBcnJheSk7CiAgICAgIHRoaXMuaW50ZXJzZWN0Qm9kaWVzKHRtcEFycmF5KTsKICAgICAgcmV0dXJuIHRoaXMuaGFzSGl0OwogICAgfQogICAgLyoqCiAgICAgKiBTaG9vdCBhIHJheSBhdCBhIGJvZHksIGdldCBiYWNrIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoaXQuCiAgICAgKiBAZGVwcmVjYXRlZCBAcGFyYW0gcmVzdWx0IHNldCB0aGUgcmVzdWx0IHByb3BlcnR5IG9mIHRoZSBSYXkgaW5zdGVhZC4KICAgICAqLwoKCiAgICBpbnRlcnNlY3RCb2R5KGJvZHksIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7CiAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgICAgfQoKICAgICAgY29uc3QgY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZTsKCiAgICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFib2R5LmNvbGxpc2lvblJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoKHRoaXMuY29sbGlzaW9uRmlsdGVyR3JvdXAgJiBib2R5LmNvbGxpc2lvbkZpbHRlck1hc2spID09PSAwIHx8IChib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwICYgdGhpcy5jb2xsaXNpb25GaWx0ZXJNYXNrKSA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgeGkgPSBpbnRlcnNlY3RCb2R5X3hpOwogICAgICBjb25zdCBxaSA9IGludGVyc2VjdEJvZHlfcWk7CgogICAgICBmb3IgKGxldCBpID0gMCwgTiA9IGJvZHkuc2hhcGVzLmxlbmd0aDsgaSA8IE47IGkrKykgewogICAgICAgIGNvbnN0IHNoYXBlID0gYm9keS5zaGFwZXNbaV07CgogICAgICAgIGlmIChjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFzaGFwZS5jb2xsaXNpb25SZXNwb25zZSkgewogICAgICAgICAgY29udGludWU7IC8vIFNraXAKICAgICAgICB9CgogICAgICAgIGJvZHkucXVhdGVybmlvbi5tdWx0KGJvZHkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgICBib2R5LnF1YXRlcm5pb24udm11bHQoYm9keS5zaGFwZU9mZnNldHNbaV0sIHhpKTsKICAgICAgICB4aS52YWRkKGJvZHkucG9zaXRpb24sIHhpKTsKICAgICAgICB0aGlzLmludGVyc2VjdFNoYXBlKHNoYXBlLCBxaSwgeGksIGJvZHkpOwoKICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFNob290IGEgcmF5IGF0IGFuIGFycmF5IGJvZGllcywgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC4KICAgICAqIEBwYXJhbSBib2RpZXMgQW4gYXJyYXkgb2YgQm9keSBvYmplY3RzLgogICAgICogQGRlcHJlY2F0ZWQgQHBhcmFtIHJlc3VsdCBzZXQgdGhlIHJlc3VsdCBwcm9wZXJ0eSBvZiB0aGUgUmF5IGluc3RlYWQuCiAgICAgKgogICAgICovCgoKICAgIGludGVyc2VjdEJvZGllcyhib2RpZXMsIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgdGhpcy5yZXN1bHQgPSByZXN1bHQ7CiAgICAgICAgdGhpcy51cGRhdGVEaXJlY3Rpb24oKTsKICAgICAgfQoKICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBib2RpZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpIDwgbDsgaSsrKSB7CiAgICAgICAgdGhpcy5pbnRlcnNlY3RCb2R5KGJvZGllc1tpXSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlcyB0aGUgZGlyZWN0aW9uIHZlY3Rvci4KICAgICAqLwoKCiAgICB1cGRhdGVEaXJlY3Rpb24oKSB7CiAgICAgIHRoaXMudG8udnN1Yih0aGlzLmZyb20sIHRoaXMuZGlyZWN0aW9uKTsKICAgICAgdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7CiAgICB9CgogICAgaW50ZXJzZWN0U2hhcGUoc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5KSB7CiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207IC8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlCgogICAgICBjb25zdCBkaXN0YW5jZSA9IGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCB0aGlzLmRpcmVjdGlvbiwgcG9zaXRpb24pOwoKICAgICAgaWYgKGRpc3RhbmNlID4gc2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGludGVyc2VjdE1ldGhvZCA9IHRoaXNbc2hhcGUudHlwZV07CgogICAgICBpZiAoaW50ZXJzZWN0TWV0aG9kKSB7CiAgICAgICAgaW50ZXJzZWN0TWV0aG9kLmNhbGwodGhpcywgc2hhcGUsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCBzaGFwZSk7CiAgICAgIH0KICAgIH0KCiAgICBfaW50ZXJzZWN0Qm94KGJveCwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgICAgcmV0dXJuIHRoaXMuX2ludGVyc2VjdENvbnZleChib3guY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSk7CiAgICB9CgogICAgX2ludGVyc2VjdFBsYW5lKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkgewogICAgICBjb25zdCBmcm9tID0gdGhpcy5mcm9tOwogICAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuZGlyZWN0aW9uOyAvLyBHZXQgcGxhbmUgbm9ybWFsCgogICAgICBjb25zdCB3b3JsZE5vcm1hbCA9IG5ldyBWZWMzKDAsIDAsIDEpOwogICAgICBxdWF0LnZtdWx0KHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7CiAgICAgIGNvbnN0IGxlbiA9IG5ldyBWZWMzKCk7CiAgICAgIGZyb20udnN1Yihwb3NpdGlvbiwgbGVuKTsKICAgICAgY29uc3QgcGxhbmVUb0Zyb20gPSBsZW4uZG90KHdvcmxkTm9ybWFsKTsKICAgICAgdG8udnN1Yihwb3NpdGlvbiwgbGVuKTsKICAgICAgY29uc3QgcGxhbmVUb1RvID0gbGVuLmRvdCh3b3JsZE5vcm1hbCk7CgogICAgICBpZiAocGxhbmVUb0Zyb20gKiBwbGFuZVRvVG8gPiAwKSB7CiAgICAgICAgLy8gImZyb20iIGFuZCAidG8iIGFyZSBvbiB0aGUgc2FtZSBzaWRlIG9mIHRoZSBwbGFuZS4uLiBiYWlsIG91dAogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGZyb20uZGlzdGFuY2VUbyh0bykgPCBwbGFuZVRvRnJvbSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3Qgbl9kb3RfZGlyID0gd29ybGROb3JtYWwuZG90KGRpcmVjdGlvbik7CgogICAgICBpZiAoTWF0aC5hYnMobl9kb3RfZGlyKSA8IHRoaXMucHJlY2lzaW9uKSB7CiAgICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBwbGFuZVBvaW50VG9Gcm9tID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgZGlyX3NjYWxlZF93aXRoX3QgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBoaXRQb2ludFdvcmxkID0gbmV3IFZlYzMoKTsKICAgICAgZnJvbS52c3ViKHBvc2l0aW9uLCBwbGFuZVBvaW50VG9Gcm9tKTsKICAgICAgY29uc3QgdCA9IC13b3JsZE5vcm1hbC5kb3QocGxhbmVQb2ludFRvRnJvbSkgLyBuX2RvdF9kaXI7CiAgICAgIGRpcmVjdGlvbi5zY2FsZSh0LCBkaXJfc2NhbGVkX3dpdGhfdCk7CiAgICAgIGZyb20udmFkZChkaXJfc2NhbGVkX3dpdGhfdCwgaGl0UG9pbnRXb3JsZCk7CiAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKHdvcmxkTm9ybWFsLCBoaXRQb2ludFdvcmxkLCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgd29ybGQgQUFCQiBvZiB0aGUgcmF5LgogICAgICovCgoKICAgIGdldEFBQkIoYWFiYikgewogICAgICBjb25zdCB7CiAgICAgICAgbG93ZXJCb3VuZCwKICAgICAgICB1cHBlckJvdW5kCiAgICAgIH0gPSBhYWJiOwogICAgICBjb25zdCB0byA9IHRoaXMudG87CiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGxvd2VyQm91bmQueCA9IE1hdGgubWluKHRvLngsIGZyb20ueCk7CiAgICAgIGxvd2VyQm91bmQueSA9IE1hdGgubWluKHRvLnksIGZyb20ueSk7CiAgICAgIGxvd2VyQm91bmQueiA9IE1hdGgubWluKHRvLnosIGZyb20ueik7CiAgICAgIHVwcGVyQm91bmQueCA9IE1hdGgubWF4KHRvLngsIGZyb20ueCk7CiAgICAgIHVwcGVyQm91bmQueSA9IE1hdGgubWF4KHRvLnksIGZyb20ueSk7CiAgICAgIHVwcGVyQm91bmQueiA9IE1hdGgubWF4KHRvLnosIGZyb20ueik7CiAgICB9CgogICAgX2ludGVyc2VjdEhlaWdodGZpZWxkKHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSkgewogICAgICBzaGFwZS5kYXRhOwogICAgICBzaGFwZS5lbGVtZW50U2l6ZTsgLy8gQ29udmVydCB0aGUgcmF5IHRvIGxvY2FsIGhlaWdodGZpZWxkIGNvb3JkaW5hdGVzCgogICAgICBjb25zdCBsb2NhbFJheSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsUmF5OyAvL25ldyBSYXkodGhpcy5mcm9tLCB0aGlzLnRvKTsKCiAgICAgIGxvY2FsUmF5LmZyb20uY29weSh0aGlzLmZyb20pOwogICAgICBsb2NhbFJheS50by5jb3B5KHRoaXMudG8pOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LmZyb20sIGxvY2FsUmF5LmZyb20pOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb0xvY2FsRnJhbWUocG9zaXRpb24sIHF1YXQsIGxvY2FsUmF5LnRvLCBsb2NhbFJheS50byk7CiAgICAgIGxvY2FsUmF5LnVwZGF0ZURpcmVjdGlvbigpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICAgIGNvbnN0IGluZGV4ID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXg7CiAgICAgIGxldCBpTWluWDsKICAgICAgbGV0IGlNaW5ZOwogICAgICBsZXQgaU1heFg7CiAgICAgIGxldCBpTWF4WTsgLy8gU2V0IHRvIG1heAoKICAgICAgaU1pblggPSBpTWluWSA9IDA7CiAgICAgIGlNYXhYID0gaU1heFkgPSBzaGFwZS5kYXRhLmxlbmd0aCAtIDE7CiAgICAgIGNvbnN0IGFhYmIgPSBuZXcgQUFCQigpOwogICAgICBsb2NhbFJheS5nZXRBQUJCKGFhYmIpOwogICAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi5sb3dlckJvdW5kLngsIGFhYmIubG93ZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7CiAgICAgIGlNaW5YID0gTWF0aC5tYXgoaU1pblgsIGluZGV4WzBdKTsKICAgICAgaU1pblkgPSBNYXRoLm1heChpTWluWSwgaW5kZXhbMV0pOwogICAgICBzaGFwZS5nZXRJbmRleE9mUG9zaXRpb24oYWFiYi51cHBlckJvdW5kLngsIGFhYmIudXBwZXJCb3VuZC55LCBpbmRleCwgdHJ1ZSk7CiAgICAgIGlNYXhYID0gTWF0aC5taW4oaU1heFgsIGluZGV4WzBdICsgMSk7CiAgICAgIGlNYXhZID0gTWF0aC5taW4oaU1heFksIGluZGV4WzFdICsgMSk7CgogICAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgICAgaWYgKHRoaXMucmVzdWx0LnNob3VsZFN0b3ApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHNoYXBlLmdldEFhYmJBdEluZGV4KGksIGosIGFhYmIpOwoKICAgICAgICAgIGlmICghYWFiYi5vdmVybGFwc1JheShsb2NhbFJheSkpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9IC8vIExvd2VyIHRyaWFuZ2xlCgoKICAgICAgICAgIHNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShwb3NpdGlvbiwgcXVhdCwgc2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgdGhpcy5faW50ZXJzZWN0Q29udmV4KHNoYXBlLnBpbGxhckNvbnZleCwgcXVhdCwgd29ybGRQaWxsYXJPZmZzZXQsIGJvZHksIHJlcG9ydGVkU2hhcGUsIGludGVyc2VjdENvbnZleE9wdGlvbnMpOwoKICAgICAgICAgIGlmICh0aGlzLnJlc3VsdC5zaG91bGRTdG9wKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGUKCgogICAgICAgICAgc2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgdHJ1ZSk7CiAgICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIHNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICAgIHRoaXMuX2ludGVyc2VjdENvbnZleChzaGFwZS5waWxsYXJDb252ZXgsIHF1YXQsIHdvcmxkUGlsbGFyT2Zmc2V0LCBib2R5LCByZXBvcnRlZFNoYXBlLCBpbnRlcnNlY3RDb252ZXhPcHRpb25zKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBfaW50ZXJzZWN0U3BoZXJlKHNwaGVyZSwgcXVhdCwgcG9zaXRpb24sIGJvZHksIHJlcG9ydGVkU2hhcGUpIHsKICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCByID0gc3BoZXJlLnJhZGl1czsKICAgICAgY29uc3QgYSA9ICh0by54IC0gZnJvbS54KSAqKiAyICsgKHRvLnkgLSBmcm9tLnkpICoqIDIgKyAodG8ueiAtIGZyb20ueikgKiogMjsKICAgICAgY29uc3QgYiA9IDIgKiAoKHRvLnggLSBmcm9tLngpICogKGZyb20ueCAtIHBvc2l0aW9uLngpICsgKHRvLnkgLSBmcm9tLnkpICogKGZyb20ueSAtIHBvc2l0aW9uLnkpICsgKHRvLnogLSBmcm9tLnopICogKGZyb20ueiAtIHBvc2l0aW9uLnopKTsKICAgICAgY29uc3QgYyA9IChmcm9tLnggLSBwb3NpdGlvbi54KSAqKiAyICsgKGZyb20ueSAtIHBvc2l0aW9uLnkpICoqIDIgKyAoZnJvbS56IC0gcG9zaXRpb24ueikgKiogMiAtIHIgKiogMjsKICAgICAgY29uc3QgZGVsdGEgPSBiICoqIDIgLSA0ICogYSAqIGM7CiAgICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50ID0gUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludDsKICAgICAgY29uc3Qgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7CgogICAgICBpZiAoZGVsdGEgPCAwKSB7CiAgICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uCiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKGRlbHRhID09PSAwKSB7CiAgICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludAogICAgICAgIGZyb20ubGVycCh0bywgZGVsdGEsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludC52c3ViKHBvc2l0aW9uLCBub3JtYWwpOwogICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZDEgPSAoLWIgLSBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7CiAgICAgICAgY29uc3QgZDIgPSAoLWIgKyBNYXRoLnNxcnQoZGVsdGEpKSAvICgyICogYSk7CgogICAgICAgIGlmIChkMSA+PSAwICYmIGQxIDw9IDEpIHsKICAgICAgICAgIGZyb20ubGVycCh0bywgZDEsIGludGVyc2VjdGlvblBvaW50KTsKICAgICAgICAgIGludGVyc2VjdGlvblBvaW50LnZzdWIocG9zaXRpb24sIG5vcm1hbCk7CiAgICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCAtMSk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5yZXN1bHQuc2hvdWxkU3RvcCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGQyID49IDAgJiYgZDIgPD0gMSkgewogICAgICAgICAgZnJvbS5sZXJwKHRvLCBkMiwgaW50ZXJzZWN0aW9uUG9pbnQpOwogICAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnQudnN1Yihwb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgICAgIG5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgICAgIHRoaXMucmVwb3J0SW50ZXJzZWN0aW9uKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHJlcG9ydGVkU2hhcGUsIGJvZHksIC0xKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBfaW50ZXJzZWN0Q29udmV4KHNoYXBlLCBxdWF0LCBwb3NpdGlvbiwgYm9keSwgcmVwb3J0ZWRTaGFwZSwgb3B0aW9ucykgewogICAgICBjb25zdCBub3JtYWwgPSBpbnRlcnNlY3RDb252ZXhfbm9ybWFsOwogICAgICBjb25zdCB2ZWN0b3IgPSBpbnRlcnNlY3RDb252ZXhfdmVjdG9yOwogICAgICBjb25zdCBmYWNlTGlzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5mYWNlTGlzdCB8fCBudWxsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgICAgY29uc3QgZmFjZXMgPSBzaGFwZS5mYWNlczsKICAgICAgY29uc3QgdmVydGljZXMgPSBzaGFwZS52ZXJ0aWNlczsKICAgICAgY29uc3Qgbm9ybWFscyA9IHNoYXBlLmZhY2VOb3JtYWxzOwogICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjsKICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCBmcm9tVG9EaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyh0byk7CiAgICAgIGNvbnN0IE5mYWNlcyA9IGZhY2VMaXN0ID8gZmFjZUxpc3QubGVuZ3RoIDogZmFjZXMubGVuZ3RoOwogICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnJlc3VsdDsKCiAgICAgIGZvciAobGV0IGogPSAwOyAhcmVzdWx0LnNob3VsZFN0b3AgJiYgaiA8IE5mYWNlczsgaisrKSB7CiAgICAgICAgY29uc3QgZmkgPSBmYWNlTGlzdCA/IGZhY2VMaXN0W2pdIDogajsKICAgICAgICBjb25zdCBmYWNlID0gZmFjZXNbZmldOwogICAgICAgIGNvbnN0IGZhY2VOb3JtYWwgPSBub3JtYWxzW2ZpXTsKICAgICAgICBjb25zdCBxID0gcXVhdDsKICAgICAgICBjb25zdCB4ID0gcG9zaXRpb247IC8vIGRldGVybWluZSBpZiByYXkgaW50ZXJzZWN0cyB0aGUgcGxhbmUgb2YgdGhlIGZhY2UKICAgICAgICAvLyBub3RlOiB0aGlzIHdvcmtzIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiB0aGUgZmFjZSBub3JtYWwKICAgICAgICAvLyBHZXQgcGxhbmUgcG9pbnQgaW4gd29ybGQgY29vcmRpbmF0ZXMuLi4KCiAgICAgICAgdmVjdG9yLmNvcHkodmVydGljZXNbZmFjZVswXV0pOwogICAgICAgIHEudm11bHQodmVjdG9yLCB2ZWN0b3IpOwogICAgICAgIHZlY3Rvci52YWRkKHgsIHZlY3Rvcik7IC8vIC4uLmJ1dCBtYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSByYXkgZnJvbS4gV2UnbGwgZml4IHRoaXMgbGF0ZXIuCgogICAgICAgIHZlY3Rvci52c3ViKGZyb20sIHZlY3Rvcik7IC8vIEdldCBwbGFuZSBub3JtYWwKCiAgICAgICAgcS52bXVsdChmYWNlTm9ybWFsLCBub3JtYWwpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZwoKICAgICAgICBjb25zdCBkb3QgPSBkaXJlY3Rpb24uZG90KG5vcm1hbCk7IC8vIEJhaWwgb3V0IGlmIHJheSBhbmQgcGxhbmUgYXJlIHBhcmFsbGVsCgogICAgICAgIGlmIChNYXRoLmFicyhkb3QpIDwgdGhpcy5wcmVjaXNpb24pIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKCiAgICAgICAgY29uc3Qgc2NhbGFyID0gbm9ybWFsLmRvdCh2ZWN0b3IpIC8gZG90OyAvLyBpZiBuZWdhdGl2ZSBkaXN0YW5jZSwgdGhlbiBwbGFuZSBpcyBiZWhpbmQgcmF5CgogICAgICAgIGlmIChzY2FsYXIgPCAwKSB7CiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9IC8vIGlmIChkb3QgPCAwKSB7CiAgICAgICAgLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXIKCgogICAgICAgIGRpcmVjdGlvbi5zY2FsZShzY2FsYXIsIGludGVyc2VjdFBvaW50KTsKICAgICAgICBpbnRlcnNlY3RQb2ludC52YWRkKGZyb20sIGludGVyc2VjdFBvaW50KTsgLy8gYSBpcyB0aGUgcG9pbnQgd2UgY29tcGFyZSBwb2ludHMgYiBhbmQgYyB3aXRoLgoKICAgICAgICBhLmNvcHkodmVydGljZXNbZmFjZVswXV0pOwogICAgICAgIHEudm11bHQoYSwgYSk7CiAgICAgICAgeC52YWRkKGEsIGEpOwoKICAgICAgICBmb3IgKGxldCBpID0gMTsgIXJlc3VsdC5zaG91bGRTdG9wICYmIGkgPCBmYWNlLmxlbmd0aCAtIDE7IGkrKykgewogICAgICAgICAgLy8gVHJhbnNmb3JtIDMgdmVydGljZXMgdG8gd29ybGQgY29vcmRzCiAgICAgICAgICBiLmNvcHkodmVydGljZXNbZmFjZVtpXV0pOwogICAgICAgICAgYy5jb3B5KHZlcnRpY2VzW2ZhY2VbaSArIDFdXSk7CiAgICAgICAgICBxLnZtdWx0KGIsIGIpOwogICAgICAgICAgcS52bXVsdChjLCBjKTsKICAgICAgICAgIHgudmFkZChiLCBiKTsKICAgICAgICAgIHgudmFkZChjLCBjKTsKICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gaW50ZXJzZWN0UG9pbnQuZGlzdGFuY2VUbyhmcm9tKTsKCiAgICAgICAgICBpZiAoIShSYXkucG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBhLCBiLCBjKSB8fCBSYXkucG9pbnRJblRyaWFuZ2xlKGludGVyc2VjdFBvaW50LCBiLCBhLCBjKSkgfHwgZGlzdGFuY2UgPiBmcm9tVG9EaXN0YW5jZSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGludGVyc2VjdFBvaW50LCByZXBvcnRlZFNoYXBlLCBib2R5LCBmaSk7CiAgICAgICAgfSAvLyB9CgogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEB0b2RvIE9wdGltaXplIGJ5IHRyYW5zZm9ybWluZyB0aGUgd29ybGQgdG8gbG9jYWwgc3BhY2UgZmlyc3QuCiAgICAgKiBAdG9kbyBVc2UgT2N0cmVlIGxvb2t1cAogICAgICovCgoKICAgIF9pbnRlcnNlY3RUcmltZXNoKG1lc2gsIHF1YXQsIHBvc2l0aW9uLCBib2R5LCByZXBvcnRlZFNoYXBlLCBvcHRpb25zKSB7CiAgICAgIGNvbnN0IG5vcm1hbCA9IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsOwogICAgICBjb25zdCB0cmlhbmdsZXMgPSBpbnRlcnNlY3RUcmltZXNoX3RyaWFuZ2xlczsKICAgICAgY29uc3QgdHJlZVRyYW5zZm9ybSA9IGludGVyc2VjdFRyaW1lc2hfdHJlZVRyYW5zZm9ybTsKICAgICAgY29uc3QgdmVjdG9yID0gaW50ZXJzZWN0Q29udmV4X3ZlY3RvcjsKICAgICAgY29uc3QgbG9jYWxEaXJlY3Rpb24gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uOwogICAgICBjb25zdCBsb2NhbEZyb20gPSBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbTsKICAgICAgY29uc3QgbG9jYWxUbyA9IGludGVyc2VjdFRyaW1lc2hfbG9jYWxUbzsKICAgICAgY29uc3Qgd29ybGRJbnRlcnNlY3RQb2ludCA9IGludGVyc2VjdFRyaW1lc2hfd29ybGRJbnRlcnNlY3RQb2ludDsKICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsOyAvLyBDaGVja2luZyBmYWNlcwoKICAgICAgY29uc3QgaW5kaWNlcyA9IG1lc2guaW5kaWNlczsKICAgICAgbWVzaC52ZXJ0aWNlczsgLy8gY29uc3Qgbm9ybWFscyA9IG1lc2guZmFjZU5vcm1hbHMKCiAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmZyb207CiAgICAgIGNvbnN0IHRvID0gdGhpcy50bzsKICAgICAgY29uc3QgZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247CiAgICAgIHRyZWVUcmFuc2Zvcm0ucG9zaXRpb24uY29weShwb3NpdGlvbik7CiAgICAgIHRyZWVUcmFuc2Zvcm0ucXVhdGVybmlvbi5jb3B5KHF1YXQpOyAvLyBUcmFuc2Zvcm0gcmF5IHRvIGxvY2FsIHNwYWNlIQoKICAgICAgVHJhbnNmb3JtLnZlY3RvclRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZGlyZWN0aW9uLCBsb2NhbERpcmVjdGlvbik7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShwb3NpdGlvbiwgcXVhdCwgZnJvbSwgbG9jYWxGcm9tKTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKHBvc2l0aW9uLCBxdWF0LCB0bywgbG9jYWxUbyk7CiAgICAgIGxvY2FsVG8ueCAqPSBtZXNoLnNjYWxlLng7CiAgICAgIGxvY2FsVG8ueSAqPSBtZXNoLnNjYWxlLnk7CiAgICAgIGxvY2FsVG8ueiAqPSBtZXNoLnNjYWxlLno7CiAgICAgIGxvY2FsRnJvbS54ICo9IG1lc2guc2NhbGUueDsKICAgICAgbG9jYWxGcm9tLnkgKj0gbWVzaC5zY2FsZS55OwogICAgICBsb2NhbEZyb20ueiAqPSBtZXNoLnNjYWxlLno7CiAgICAgIGxvY2FsVG8udnN1Yihsb2NhbEZyb20sIGxvY2FsRGlyZWN0aW9uKTsKICAgICAgbG9jYWxEaXJlY3Rpb24ubm9ybWFsaXplKCk7CiAgICAgIGNvbnN0IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCA9IGxvY2FsRnJvbS5kaXN0YW5jZVNxdWFyZWQobG9jYWxUbyk7CiAgICAgIG1lc2gudHJlZS5yYXlRdWVyeSh0aGlzLCB0cmVlVHJhbnNmb3JtLCB0cmlhbmdsZXMpOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIE4gPSB0cmlhbmdsZXMubGVuZ3RoOyAhdGhpcy5yZXN1bHQuc2hvdWxkU3RvcCAmJiBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCB0cmlhbmdsZXNJbmRleCA9IHRyaWFuZ2xlc1tpXTsKICAgICAgICBtZXNoLmdldE5vcm1hbCh0cmlhbmdsZXNJbmRleCwgbm9ybWFsKTsgLy8gZGV0ZXJtaW5lIGlmIHJheSBpbnRlcnNlY3RzIHRoZSBwbGFuZSBvZiB0aGUgZmFjZQogICAgICAgIC8vIG5vdGU6IHRoaXMgd29ya3MgcmVnYXJkbGVzcyBvZiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBmYWNlIG5vcm1hbAogICAgICAgIC8vIEdldCBwbGFuZSBwb2ludCBpbiB3b3JsZCBjb29yZGluYXRlcy4uLgoKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogM10sIGEpOyAvLyAuLi5idXQgbWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgcmF5IGZyb20uIFdlJ2xsIGZpeCB0aGlzIGxhdGVyLgoKICAgICAgICBhLnZzdWIobG9jYWxGcm9tLCB2ZWN0b3IpOyAvLyBJZiB0aGlzIGRvdCBwcm9kdWN0IGlzIG5lZ2F0aXZlLCB3ZSBoYXZlIHNvbWV0aGluZyBpbnRlcmVzdGluZwoKICAgICAgICBjb25zdCBkb3QgPSBsb2NhbERpcmVjdGlvbi5kb3Qobm9ybWFsKTsgLy8gQmFpbCBvdXQgaWYgcmF5IGFuZCBwbGFuZSBhcmUgcGFyYWxsZWwKICAgICAgICAvLyBpZiAoTWF0aC5hYnMoIGRvdCApIDwgdGhpcy5wcmVjaXNpb24pewogICAgICAgIC8vICAgICBjb250aW51ZTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gY2FsYyBkaXN0YW5jZSB0byBwbGFuZQoKICAgICAgICBjb25zdCBzY2FsYXIgPSBub3JtYWwuZG90KHZlY3RvcikgLyBkb3Q7IC8vIGlmIG5lZ2F0aXZlIGRpc3RhbmNlLCB0aGVuIHBsYW5lIGlzIGJlaGluZCByYXkKCiAgICAgICAgaWYgKHNjYWxhciA8IDApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0gLy8gSW50ZXJzZWN0aW9uIHBvaW50IGlzIGZyb20gKyBkaXJlY3Rpb24gKiBzY2FsYXIKCgogICAgICAgIGxvY2FsRGlyZWN0aW9uLnNjYWxlKHNjYWxhciwgaW50ZXJzZWN0UG9pbnQpOwogICAgICAgIGludGVyc2VjdFBvaW50LnZhZGQobG9jYWxGcm9tLCBpbnRlcnNlY3RQb2ludCk7IC8vIEdldCB0cmlhbmdsZSB2ZXJ0aWNlcwoKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDFdLCBiKTsKICAgICAgICBtZXNoLmdldFZlcnRleChpbmRpY2VzW3RyaWFuZ2xlc0luZGV4ICogMyArIDJdLCBjKTsKICAgICAgICBjb25zdCBzcXVhcmVkRGlzdGFuY2UgPSBpbnRlcnNlY3RQb2ludC5kaXN0YW5jZVNxdWFyZWQobG9jYWxGcm9tKTsKCiAgICAgICAgaWYgKCEoUmF5LnBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYiwgYSwgYykgfHwgUmF5LnBvaW50SW5UcmlhbmdsZShpbnRlcnNlY3RQb2ludCwgYSwgYiwgYykpIHx8IHNxdWFyZWREaXN0YW5jZSA+IGZyb21Ub0Rpc3RhbmNlU3F1YXJlZCkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfSAvLyB0cmFuc2Zvcm0gaW50ZXJzZWN0cG9pbnQgYW5kIG5vcm1hbCB0byB3b3JsZAoKCiAgICAgICAgVHJhbnNmb3JtLnZlY3RvclRvV29ybGRGcmFtZShxdWF0LCBub3JtYWwsIHdvcmxkTm9ybWFsKTsKICAgICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zaXRpb24sIHF1YXQsIGludGVyc2VjdFBvaW50LCB3b3JsZEludGVyc2VjdFBvaW50KTsKICAgICAgICB0aGlzLnJlcG9ydEludGVyc2VjdGlvbih3b3JsZE5vcm1hbCwgd29ybGRJbnRlcnNlY3RQb2ludCwgcmVwb3J0ZWRTaGFwZSwgYm9keSwgdHJpYW5nbGVzSW5kZXgpOwogICAgICB9CgogICAgICB0cmlhbmdsZXMubGVuZ3RoID0gMDsKICAgIH0KICAgIC8qKgogICAgICogQHJldHVybiBUcnVlIGlmIHRoZSBpbnRlcnNlY3Rpb25zIHNob3VsZCBjb250aW51ZQogICAgICovCgoKICAgIHJlcG9ydEludGVyc2VjdGlvbihub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBoaXRGYWNlSW5kZXgpIHsKICAgICAgY29uc3QgZnJvbSA9IHRoaXMuZnJvbTsKICAgICAgY29uc3QgdG8gPSB0aGlzLnRvOwogICAgICBjb25zdCBkaXN0YW5jZSA9IGZyb20uZGlzdGFuY2VUbyhoaXRQb2ludFdvcmxkKTsKICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7IC8vIFNraXAgYmFjayBmYWNlcz8KCiAgICAgIGlmICh0aGlzLnNraXBCYWNrZmFjZXMgJiYgbm9ybWFsLmRvdCh0aGlzLmRpcmVjdGlvbikgPiAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZXN1bHQuaGl0RmFjZUluZGV4ID0gdHlwZW9mIGhpdEZhY2VJbmRleCAhPT0gJ3VuZGVmaW5lZCcgPyBoaXRGYWNlSW5kZXggOiAtMTsKCiAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7CiAgICAgICAgY2FzZSBSYXkuQUxMOgogICAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlOwogICAgICAgICAgcmVzdWx0LnNldChmcm9tLCB0bywgbm9ybWFsLCBoaXRQb2ludFdvcmxkLCBzaGFwZSwgYm9keSwgZGlzdGFuY2UpOwogICAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgICB0aGlzLmNhbGxiYWNrKHJlc3VsdCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBSYXkuQ0xPU0VTVDoKICAgICAgICAgIC8vIFN0b3JlIGlmIGNsb3NlciB0aGFuIGN1cnJlbnQgY2xvc2VzdAogICAgICAgICAgaWYgKGRpc3RhbmNlIDwgcmVzdWx0LmRpc3RhbmNlIHx8ICFyZXN1bHQuaGFzSGl0KSB7CiAgICAgICAgICAgIHRoaXMuaGFzSGl0ID0gdHJ1ZTsKICAgICAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgICAgIHJlc3VsdC5zZXQoZnJvbSwgdG8sIG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgc2hhcGUsIGJvZHksIGRpc3RhbmNlKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSBSYXkuQU5ZOgogICAgICAgICAgLy8gUmVwb3J0IGFuZCBzdG9wLgogICAgICAgICAgdGhpcy5oYXNIaXQgPSB0cnVlOwogICAgICAgICAgcmVzdWx0Lmhhc0hpdCA9IHRydWU7CiAgICAgICAgICByZXN1bHQuc2V0KGZyb20sIHRvLCBub3JtYWwsIGhpdFBvaW50V29ybGQsIHNoYXBlLCBib2R5LCBkaXN0YW5jZSk7CiAgICAgICAgICByZXN1bHQuc2hvdWxkU3RvcCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBBcyBwZXIgIkJhcnljZW50cmljIFRlY2huaXF1ZSIgYXMgbmFtZWQKICAgICAqIHtAbGluayBodHRwczovL3d3dy5ibGFja3Bhd24uY29tL3RleHRzL3BvaW50aW5wb2x5L2RlZmF1bHQuaHRtbCBoZXJlfSBidXQgd2l0aG91dCB0aGUgZGl2aXNpb24KICAgICAqLwoKCiAgICBzdGF0aWMgcG9pbnRJblRyaWFuZ2xlKHAsIGEsIGIsIGMpIHsKICAgICAgYy52c3ViKGEsIHYwKTsKICAgICAgYi52c3ViKGEsIHYxKTsKICAgICAgcC52c3ViKGEsIHYyKTsKICAgICAgY29uc3QgZG90MDAgPSB2MC5kb3QodjApOwogICAgICBjb25zdCBkb3QwMSA9IHYwLmRvdCh2MSk7CiAgICAgIGNvbnN0IGRvdDAyID0gdjAuZG90KHYyKTsKICAgICAgY29uc3QgZG90MTEgPSB2MS5kb3QodjEpOwogICAgICBjb25zdCBkb3QxMiA9IHYxLmRvdCh2Mik7CiAgICAgIGxldCB1OwogICAgICBsZXQgdjsKICAgICAgcmV0dXJuICh1ID0gZG90MTEgKiBkb3QwMiAtIGRvdDAxICogZG90MTIpID49IDAgJiYgKHYgPSBkb3QwMCAqIGRvdDEyIC0gZG90MDEgKiBkb3QwMikgPj0gMCAmJiB1ICsgdiA8IGRvdDAwICogZG90MTEgLSBkb3QwMSAqIGRvdDAxOwogICAgfQoKICB9CiAgUmF5LkNMT1NFU1QgPSBSQVlfTU9ERVMuQ0xPU0VTVDsKICBSYXkuQU5ZID0gUkFZX01PREVTLkFOWTsKICBSYXkuQUxMID0gUkFZX01PREVTLkFMTDsKICBjb25zdCB0bXBBQUJCJDEgPSBuZXcgQUFCQigpOwogIGNvbnN0IHRtcEFycmF5ID0gW107CiAgY29uc3QgdjEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHYyID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3RCb2R5X3hpID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3RCb2R5X3FpID0gbmV3IFF1YXRlcm5pb24oKTsKICBjb25zdCBpbnRlcnNlY3RQb2ludCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYyA9IG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKICBuZXcgUmF5Y2FzdFJlc3VsdCgpOwogIGNvbnN0IGludGVyc2VjdENvbnZleE9wdGlvbnMgPSB7CiAgICBmYWNlTGlzdDogWzBdCiAgfTsKICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxSYXkgPSBuZXcgUmF5KCk7CiAgY29uc3QgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfaW5kZXggPSBbXTsKICBjb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX2ludGVyc2VjdGlvblBvaW50ID0gbmV3IFZlYzMoKTsKICBjb25zdCBSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwogIGNvbnN0IGludGVyc2VjdENvbnZleF92ZWN0b3IgPSBuZXcgVmVjMygpOwogIGNvbnN0IGludGVyc2VjdFRyaW1lc2hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRGlyZWN0aW9uID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX2xvY2FsRnJvbSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF9sb2NhbFRvID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX3dvcmxkSW50ZXJzZWN0UG9pbnQgPSBuZXcgVmVjMygpOwogIG5ldyBBQUJCKCk7CiAgY29uc3QgaW50ZXJzZWN0VHJpbWVzaF90cmlhbmdsZXMgPSBbXTsKICBjb25zdCBpbnRlcnNlY3RUcmltZXNoX3RyZWVUcmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7CiAgY29uc3QgdjAgPSBuZXcgVmVjMygpOwogIGNvbnN0IGludGVyc2VjdCA9IG5ldyBWZWMzKCk7CgogIGZ1bmN0aW9uIGRpc3RhbmNlRnJvbUludGVyc2VjdGlvbihmcm9tLCBkaXJlY3Rpb24sIHBvc2l0aW9uKSB7CiAgICAvLyB2MCBpcyB2ZWN0b3IgZnJvbSBmcm9tIHRvIHBvc2l0aW9uCiAgICBwb3NpdGlvbi52c3ViKGZyb20sIHYwKTsKICAgIGNvbnN0IGRvdCA9IHYwLmRvdChkaXJlY3Rpb24pOyAvLyBpbnRlcnNlY3QgPSBkaXJlY3Rpb24qZG90ICsgZnJvbQoKICAgIGRpcmVjdGlvbi5zY2FsZShkb3QsIGludGVyc2VjdCk7CiAgICBpbnRlcnNlY3QudmFkZChmcm9tLCBpbnRlcnNlY3QpOwogICAgY29uc3QgZGlzdGFuY2UgPSBwb3NpdGlvbi5kaXN0YW5jZVRvKGludGVyc2VjdCk7CiAgICByZXR1cm4gZGlzdGFuY2U7CiAgfQoKICAvKioKICAgKiBTd2VlcCBhbmQgcHJ1bmUgYnJvYWRwaGFzZSBhbG9uZyBvbmUgYXhpcy4KICAgKi8KICBjbGFzcyBTQVBCcm9hZHBoYXNlIGV4dGVuZHMgQnJvYWRwaGFzZSB7CiAgICAvKioKICAgICAqIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS4KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIHdvcmxkIHRvIHNlYXJjaCBpbi4KICAgICAqLwoKICAgIC8qKgogICAgICogQXhpcyB0byBzb3J0IHRoZSBib2RpZXMgYWxvbmcuCiAgICAgKiBTZXQgdG8gMCBmb3IgeCBheGlzLCBhbmQgMSBmb3IgeSBheGlzLgogICAgICogRm9yIGJlc3QgcGVyZm9ybWFuY2UsIHBpY2sgdGhlIGF4aXMgd2hlcmUgYm9kaWVzIGFyZSBtb3N0IGRpc3RyaWJ1dGVkLgogICAgICovCgogICAgLyoqCiAgICAgKiBDaGVjayBpZiB0aGUgYm91bmRzIG9mIHR3byBib2RpZXMgb3ZlcmxhcCwgYWxvbmcgdGhlIGdpdmVuIFNBUCBheGlzLgogICAgICovCiAgICBzdGF0aWMgY2hlY2tCb3VuZHMoYmksIGJqLCBheGlzSW5kZXgpIHsKICAgICAgbGV0IGJpUG9zOwogICAgICBsZXQgYmpQb3M7CgogICAgICBpZiAoYXhpc0luZGV4ID09PSAwKSB7CiAgICAgICAgYmlQb3MgPSBiaS5wb3NpdGlvbi54OwogICAgICAgIGJqUG9zID0gYmoucG9zaXRpb24ueDsKICAgICAgfSBlbHNlIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgICAgICBiaVBvcyA9IGJpLnBvc2l0aW9uLnk7CiAgICAgICAgYmpQb3MgPSBiai5wb3NpdGlvbi55OwogICAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikgewogICAgICAgIGJpUG9zID0gYmkucG9zaXRpb24uejsKICAgICAgICBialBvcyA9IGJqLnBvc2l0aW9uLno7CiAgICAgIH0KCiAgICAgIGNvbnN0IHJpID0gYmkuYm91bmRpbmdSYWRpdXMsCiAgICAgICAgICAgIHJqID0gYmouYm91bmRpbmdSYWRpdXMsCiAgICAgICAgICAgIGJvdW5kQTIgPSBiaVBvcyArIHJpLAogICAgICAgICAgICBib3VuZEIxID0gYmpQb3MgLSByajsKICAgICAgcmV0dXJuIGJvdW5kQjEgPCBib3VuZEEyOwogICAgfSAvLyBOb3RlOiB0aGVzZSBhcmUgaWRlbnRpY2FsLCBzYXZlIGZvciB4L3kveiBsb3dlcmJvdW5kCgogICAgLyoqCiAgICAgKiBpbnNlcnRpb25Tb3J0WAogICAgICovCgoKICAgIHN0YXRpYyBpbnNlcnRpb25Tb3J0WChhKSB7CiAgICAgIGZvciAobGV0IGkgPSAxLCBsID0gYS5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gYVtpXTsKICAgICAgICBsZXQgajsKCiAgICAgICAgZm9yIChqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgICBpZiAoYVtqXS5hYWJiLmxvd2VyQm91bmQueCA8PSB2LmFhYmIubG93ZXJCb3VuZC54KSB7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGFbaiArIDFdID0gYVtqXTsKICAgICAgICB9CgogICAgICAgIGFbaiArIDFdID0gdjsKICAgICAgfQoKICAgICAgcmV0dXJuIGE7CiAgICB9CiAgICAvKioKICAgICAqIGluc2VydGlvblNvcnRZCiAgICAgKi8KCgogICAgc3RhdGljIGluc2VydGlvblNvcnRZKGEpIHsKICAgICAgZm9yIChsZXQgaSA9IDEsIGwgPSBhLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGNvbnN0IHYgPSBhW2ldOwogICAgICAgIGxldCBqOwoKICAgICAgICBmb3IgKGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHsKICAgICAgICAgIGlmIChhW2pdLmFhYmIubG93ZXJCb3VuZC55IDw9IHYuYWFiYi5sb3dlckJvdW5kLnkpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgYVtqICsgMV0gPSBhW2pdOwogICAgICAgIH0KCiAgICAgICAgYVtqICsgMV0gPSB2OwogICAgICB9CgogICAgICByZXR1cm4gYTsKICAgIH0KICAgIC8qKgogICAgICogaW5zZXJ0aW9uU29ydFoKICAgICAqLwoKCiAgICBzdGF0aWMgaW5zZXJ0aW9uU29ydFooYSkgewogICAgICBmb3IgKGxldCBpID0gMSwgbCA9IGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgY29uc3QgdiA9IGFbaV07CiAgICAgICAgbGV0IGo7CgogICAgICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkgewogICAgICAgICAgaWYgKGFbal0uYWFiYi5sb3dlckJvdW5kLnogPD0gdi5hYWJiLmxvd2VyQm91bmQueikgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBhW2ogKyAxXSA9IGFbal07CiAgICAgICAgfQoKICAgICAgICBhW2ogKyAxXSA9IHY7CiAgICAgIH0KCiAgICAgIHJldHVybiBhOwogICAgfQoKICAgIGNvbnN0cnVjdG9yKHdvcmxkKSB7CiAgICAgIHN1cGVyKCk7CiAgICAgIHRoaXMuYXhpc0xpc3QgPSBbXTsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICAgIHRoaXMuYXhpc0luZGV4ID0gMDsKICAgICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwoKICAgICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBldmVudCA9PiB7CiAgICAgICAgYXhpc0xpc3QucHVzaChldmVudC5ib2R5KTsKICAgICAgfTsKCiAgICAgIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyID0gZXZlbnQgPT4gewogICAgICAgIGNvbnN0IGlkeCA9IGF4aXNMaXN0LmluZGV4T2YoZXZlbnQuYm9keSk7CgogICAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgICBheGlzTGlzdC5zcGxpY2UoaWR4LCAxKTsKICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAod29ybGQpIHsKICAgICAgICB0aGlzLnNldFdvcmxkKHdvcmxkKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBDaGFuZ2UgdGhlIHdvcmxkCiAgICAgKi8KCgogICAgc2V0V29ybGQod29ybGQpIHsKICAgICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5CiAgICAgIHRoaXMuYXhpc0xpc3QubGVuZ3RoID0gMDsgLy8gQWRkIGFsbCBib2RpZXMgZnJvbSB0aGUgbmV3IHdvcmxkCgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmxkLmJvZGllcy5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuYXhpc0xpc3QucHVzaCh3b3JsZC5ib2RpZXNbaV0pOwogICAgICB9IC8vIFJlbW92ZSBvbGQgaGFuZGxlcnMsIGlmIGFueQoKCiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZEJvZHknLCB0aGlzLl9hZGRCb2R5SGFuZGxlcik7CiAgICAgIHdvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlbW92ZUJvZHknLCB0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcik7IC8vIEFkZCBoYW5kbGVycyB0byB1cGRhdGUgdGhlIGxpc3Qgb2YgYm9kaWVzLgoKICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcignYWRkQm9keScsIHRoaXMuX2FkZEJvZHlIYW5kbGVyKTsKICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncmVtb3ZlQm9keScsIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTsKICAgICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTsKICAgIH0KICAgIC8qKgogICAgICogQ29sbGVjdCBhbGwgY29sbGlzaW9uIHBhaXJzCiAgICAgKi8KCgogICAgY29sbGlzaW9uUGFpcnMod29ybGQsIHAxLCBwMikgewogICAgICBjb25zdCBib2RpZXMgPSB0aGlzLmF4aXNMaXN0OwogICAgICBjb25zdCBOID0gYm9kaWVzLmxlbmd0aDsKICAgICAgY29uc3QgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7CiAgICAgIGxldCBpOwogICAgICBsZXQgajsKCiAgICAgIGlmICh0aGlzLmRpcnR5KSB7CiAgICAgICAgdGhpcy5zb3J0TGlzdCgpOwogICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTsKICAgICAgfSAvLyBMb29rIHRocm91Z2ggdGhlIGxpc3QKCgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgICAgZm9yIChqID0gaSArIDE7IGogPCBOOyBqKyspIHsKICAgICAgICAgIGNvbnN0IGJqID0gYm9kaWVzW2pdOwoKICAgICAgICAgIGlmICghdGhpcy5uZWVkQnJvYWRwaGFzZUNvbGxpc2lvbihiaSwgYmopKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICghU0FQQnJvYWRwaGFzZS5jaGVja0JvdW5kcyhiaSwgYmosIGF4aXNJbmRleCkpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25UZXN0KGJpLCBiaiwgcDEsIHAyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzb3J0TGlzdCgpIHsKICAgICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwogICAgICBjb25zdCBheGlzSW5kZXggPSB0aGlzLmF4aXNJbmRleDsKICAgICAgY29uc3QgTiA9IGF4aXNMaXN0Lmxlbmd0aDsgLy8gVXBkYXRlIEFBQkJzCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBheGlzTGlzdFtpXTsKCiAgICAgICAgaWYgKGJpLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgICAgYmkudXBkYXRlQUFCQigpOwogICAgICAgIH0KICAgICAgfSAvLyBTb3J0IHRoZSBsaXN0CgoKICAgICAgaWYgKGF4aXNJbmRleCA9PT0gMCkgewogICAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFgoYXhpc0xpc3QpOwogICAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMSkgewogICAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFkoYXhpc0xpc3QpOwogICAgICB9IGVsc2UgaWYgKGF4aXNJbmRleCA9PT0gMikgewogICAgICAgIFNBUEJyb2FkcGhhc2UuaW5zZXJ0aW9uU29ydFooYXhpc0xpc3QpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIHRoZSB2YXJpYW5jZSBvZiB0aGUgYm9keSBwb3NpdGlvbnMgYW5kIGVzdGltYXRlcyB0aGUgYmVzdCBheGlzIHRvIHVzZS4KICAgICAqIFdpbGwgYXV0b21hdGljYWxseSBzZXQgcHJvcGVydHkgYGF4aXNJbmRleGAuCiAgICAgKi8KCgogICAgYXV0b0RldGVjdEF4aXMoKSB7CiAgICAgIGxldCBzdW1YID0gMDsKICAgICAgbGV0IHN1bVgyID0gMDsKICAgICAgbGV0IHN1bVkgPSAwOwogICAgICBsZXQgc3VtWTIgPSAwOwogICAgICBsZXQgc3VtWiA9IDA7CiAgICAgIGxldCBzdW1aMiA9IDA7CiAgICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYXhpc0xpc3Q7CiAgICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBpbnZOID0gMSAvIE47CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYiA9IGJvZGllc1tpXTsKICAgICAgICBjb25zdCBjZW50ZXJYID0gYi5wb3NpdGlvbi54OwogICAgICAgIHN1bVggKz0gY2VudGVyWDsKICAgICAgICBzdW1YMiArPSBjZW50ZXJYICogY2VudGVyWDsKICAgICAgICBjb25zdCBjZW50ZXJZID0gYi5wb3NpdGlvbi55OwogICAgICAgIHN1bVkgKz0gY2VudGVyWTsKICAgICAgICBzdW1ZMiArPSBjZW50ZXJZICogY2VudGVyWTsKICAgICAgICBjb25zdCBjZW50ZXJaID0gYi5wb3NpdGlvbi56OwogICAgICAgIHN1bVogKz0gY2VudGVyWjsKICAgICAgICBzdW1aMiArPSBjZW50ZXJaICogY2VudGVyWjsKICAgICAgfQoKICAgICAgY29uc3QgdmFyaWFuY2VYID0gc3VtWDIgLSBzdW1YICogc3VtWCAqIGludk47CiAgICAgIGNvbnN0IHZhcmlhbmNlWSA9IHN1bVkyIC0gc3VtWSAqIHN1bVkgKiBpbnZOOwogICAgICBjb25zdCB2YXJpYW5jZVogPSBzdW1aMiAtIHN1bVogKiBzdW1aICogaW52TjsKCiAgICAgIGlmICh2YXJpYW5jZVggPiB2YXJpYW5jZVkpIHsKICAgICAgICBpZiAodmFyaWFuY2VYID4gdmFyaWFuY2VaKSB7CiAgICAgICAgICB0aGlzLmF4aXNJbmRleCA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodmFyaWFuY2VZID4gdmFyaWFuY2VaKSB7CiAgICAgICAgdGhpcy5heGlzSW5kZXggPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXhpc0luZGV4ID0gMjsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLgogICAgICogQHBhcmFtIHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSByZXN1bHRpbmcgYm9kaWVzIGluLgogICAgICovCgoKICAgIGFhYmJRdWVyeSh3b3JsZCwgYWFiYiwgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgewogICAgICAgIHJlc3VsdCA9IFtdOwogICAgICB9CgogICAgICBpZiAodGhpcy5kaXJ0eSkgewogICAgICAgIHRoaXMuc29ydExpc3QoKTsKICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNvbnN0IGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4OwogICAgICBsZXQgYXhpcyA9ICd4JzsKCiAgICAgIGlmIChheGlzSW5kZXggPT09IDEpIHsKICAgICAgICBheGlzID0gJ3knOwogICAgICB9CgogICAgICBpZiAoYXhpc0luZGV4ID09PSAyKSB7CiAgICAgICAgYXhpcyA9ICd6JzsKICAgICAgfQoKICAgICAgY29uc3QgYXhpc0xpc3QgPSB0aGlzLmF4aXNMaXN0OwogICAgICBhYWJiLmxvd2VyQm91bmRbYXhpc107CiAgICAgIGFhYmIudXBwZXJCb3VuZFtheGlzXTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXhpc0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBiID0gYXhpc0xpc3RbaV07CgogICAgICAgIGlmIChiLmFhYmJOZWVkc1VwZGF0ZSkgewogICAgICAgICAgYi51cGRhdGVBQUJCKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKSB7CiAgICAgICAgICByZXN1bHQucHVzaChiKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogIH0KCiAgY2xhc3MgVXRpbHMgewogICAgLyoqCiAgICAgKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy4KICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC4gTWF5IGJlIGZhbHN5OiBpbiB0aGlzIGNhc2UsIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkIGFuZCByZXR1cm5lZC4KICAgICAqIEBwYXJhbSBkZWZhdWx0cyBBbiBvYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcy4KICAgICAqIEByZXR1cm4gVGhlIG1vZGlmaWVkIG9wdGlvbnMgb2JqZWN0LgogICAgICovCiAgICBzdGF0aWMgZGVmYXVsdHMob3B0aW9ucywgZGVmYXVsdHMpIHsKICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgewogICAgICAgIG9wdGlvbnMgPSB7fTsKICAgICAgfQoKICAgICAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKSB7CiAgICAgICAgaWYgKCEoa2V5IGluIG9wdGlvbnMpKSB7CiAgICAgICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG9wdGlvbnM7CiAgICB9CgogIH0KCiAgLyoqCiAgICogQ29uc3RyYWludCBiYXNlIGNsYXNzCiAgICovCiAgY2xhc3MgQ29uc3RyYWludCB7CiAgICAvKioKICAgICAqIEVxdWF0aW9ucyB0byBiZSBzb2x2ZWQgaW4gdGhpcyBjb25zdHJhaW50LgogICAgICovCgogICAgLyoqCiAgICAgKiBCb2R5IEEuCiAgICAgKi8KCiAgICAvKioKICAgICAqIEJvZHkgQi4KICAgICAqLwoKICAgIC8qKgogICAgICogU2V0IHRvIGZhbHNlIGlmIHlvdSBkb24ndCB3YW50IHRoZSBib2RpZXMgdG8gY29sbGlkZSB3aGVuIHRoZXkgYXJlIGNvbm5lY3RlZC4KICAgICAqLwogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zKSB7CiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgICAgY29sbGlkZUNvbm5lY3RlZDogdHJ1ZSwKICAgICAgICB3YWtlVXBCb2RpZXM6IHRydWUKICAgICAgfSk7CiAgICAgIHRoaXMuZXF1YXRpb25zID0gW107CiAgICAgIHRoaXMuYm9keUEgPSBib2R5QTsKICAgICAgdGhpcy5ib2R5QiA9IGJvZHlCOwogICAgICB0aGlzLmlkID0gQ29uc3RyYWludC5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkOwoKICAgICAgaWYgKG9wdGlvbnMud2FrZVVwQm9kaWVzKSB7CiAgICAgICAgaWYgKGJvZHlBKSB7CiAgICAgICAgICBib2R5QS53YWtlVXAoKTsKICAgICAgICB9CgogICAgICAgIGlmIChib2R5QikgewogICAgICAgICAgYm9keUIud2FrZVVwKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSBhbGwgdGhlIGVxdWF0aW9ucyB3aXRoIGRhdGEuCiAgICAgKi8KCgogICAgdXBkYXRlKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyEnKTsKICAgIH0KICAgIC8qKgogICAgICogRW5hYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LgogICAgICovCgoKICAgIGVuYWJsZSgpIHsKICAgICAgY29uc3QgZXFzID0gdGhpcy5lcXVhdGlvbnM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVxcy5sZW5ndGg7IGkrKykgewogICAgICAgIGVxc1tpXS5lbmFibGVkID0gdHJ1ZTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBEaXNhYmxlcyBhbGwgZXF1YXRpb25zIGluIHRoZSBjb25zdHJhaW50LgogICAgICovCgoKICAgIGRpc2FibGUoKSB7CiAgICAgIGNvbnN0IGVxcyA9IHRoaXMuZXF1YXRpb25zOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBlcXNbaV0uZW5hYmxlZCA9IGZhbHNlOwogICAgICB9CiAgICB9CgogIH0KICBDb25zdHJhaW50LmlkQ291bnRlciA9IDA7CgogIC8qKgogICAqIEFuIGVsZW1lbnQgY29udGFpbmluZyA2IGVudHJpZXMsIDMgc3BhdGlhbCBhbmQgMyByb3RhdGlvbmFsIGRlZ3JlZXMgb2YgZnJlZWRvbS4KICAgKi8KCiAgY2xhc3MgSmFjb2JpYW5FbGVtZW50IHsKICAgIC8qKgogICAgICogc3BhdGlhbAogICAgICovCgogICAgLyoqCiAgICAgKiByb3RhdGlvbmFsCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKCkgewogICAgICB0aGlzLnNwYXRpYWwgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnJvdGF0aW9uYWwgPSBuZXcgVmVjMygpOwogICAgfQogICAgLyoqCiAgICAgKiBNdWx0aXBseSB3aXRoIG90aGVyIEphY29iaWFuRWxlbWVudAogICAgICovCgoKICAgIG11bHRpcGx5RWxlbWVudChlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50LnNwYXRpYWwuZG90KHRoaXMuc3BhdGlhbCkgKyBlbGVtZW50LnJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7CiAgICB9CiAgICAvKioKICAgICAqIE11bHRpcGx5IHdpdGggdHdvIHZlY3RvcnMKICAgICAqLwoKCiAgICBtdWx0aXBseVZlY3RvcnMoc3BhdGlhbCwgcm90YXRpb25hbCkgewogICAgICByZXR1cm4gc3BhdGlhbC5kb3QodGhpcy5zcGF0aWFsKSArIHJvdGF0aW9uYWwuZG90KHRoaXMucm90YXRpb25hbCk7CiAgICB9CgogIH0KCiAgLyoqCiAgICogRXF1YXRpb24gYmFzZSBjbGFzcy4KICAgKgogICAqIGBhYCwgYGJgIGFuZCBgZXBzYCBhcmUge0BsaW5rIGh0dHBzOi8vd3d3OC5jcy51bXUuc2Uva3Vyc2VyLzVEVjA1OC9WVDE1L2xlY3R1cmVzL1NQT09LbGFibm90ZXMucGRmIFNQT09LfSBwYXJhbWV0ZXJzIHRoYXQgZGVmYXVsdCB0byBgMC4wYC4gU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUvY2Fubm9uLmpzL2lzc3Vlcy8yMzgjaXNzdWVjb21tZW50LTE0NzE3MjMyNyB0aGlzIGV4Y2hhbmdlfSBmb3IgbW9yZSBkZXRhaWxzIG9uIENhbm5vbidzIHBoeXNpY3MgaW1wbGVtZW50YXRpb24uCiAgICovCiAgY2xhc3MgRXF1YXRpb24gewogICAgLyoqCiAgICAgKiBNaW5pbXVtIChyZWFkOiBuZWdhdGl2ZSBtYXgpIGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnQuCiAgICAgKi8KCiAgICAvKioKICAgICAqIE1heGltdW0gKHJlYWQ6IHBvc2l0aXZlIG1heCkgZm9yY2UgdG8gYmUgYXBwbGllZCBieSB0aGUgY29uc3RyYWludC4KICAgICAqLwoKICAgIC8qKgogICAgICogU1BPT0sgcGFyYW1ldGVyCiAgICAgKi8KCiAgICAvKioKICAgICAqIFNQT09LIHBhcmFtZXRlcgogICAgICovCgogICAgLyoqCiAgICAgKiBTUE9PSyBwYXJhbWV0ZXIKICAgICAqLwoKICAgIC8qKgogICAgICogQSBudW1iZXIsIHByb3BvcnRpb25hbCB0byB0aGUgZm9yY2UgYWRkZWQgdG8gdGhlIGJvZGllcy4KICAgICAqLwogICAgY29uc3RydWN0b3IoYmksIGJqLCBtaW5Gb3JjZSwgbWF4Rm9yY2UpIHsKICAgICAgaWYgKG1pbkZvcmNlID09PSB2b2lkIDApIHsKICAgICAgICBtaW5Gb3JjZSA9IC0xZTY7CiAgICAgIH0KCiAgICAgIGlmIChtYXhGb3JjZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgbWF4Rm9yY2UgPSAxZTY7CiAgICAgIH0KCiAgICAgIHRoaXMuaWQgPSBFcXVhdGlvbi5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5taW5Gb3JjZSA9IG1pbkZvcmNlOwogICAgICB0aGlzLm1heEZvcmNlID0gbWF4Rm9yY2U7CiAgICAgIHRoaXMuYmkgPSBiaTsKICAgICAgdGhpcy5iaiA9IGJqOwogICAgICB0aGlzLmEgPSAwLjA7IC8vIFNQT09LIHBhcmFtZXRlcgoKICAgICAgdGhpcy5iID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXIKCiAgICAgIHRoaXMuZXBzID0gMC4wOyAvLyBTUE9PSyBwYXJhbWV0ZXIKCiAgICAgIHRoaXMuamFjb2JpYW5FbGVtZW50QSA9IG5ldyBKYWNvYmlhbkVsZW1lbnQoKTsKICAgICAgdGhpcy5qYWNvYmlhbkVsZW1lbnRCID0gbmV3IEphY29iaWFuRWxlbWVudCgpOwogICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLm11bHRpcGxpZXIgPSAwOwogICAgICB0aGlzLnNldFNwb29rUGFyYW1zKDFlNywgNCwgMSAvIDYwKTsgLy8gU2V0IHR5cGljYWwgc3Bvb2sgcGFyYW1zCiAgICB9CiAgICAvKioKICAgICAqIFJlY2FsY3VsYXRlcyBhLCBiLCBhbmQgZXBzLgogICAgICoKICAgICAqIFRoZSBFcXVhdGlvbiBjb25zdHJ1Y3RvciBzZXRzIHR5cGljYWwgU1BPT0sgcGFyYW1ldGVycyBhcyBzdWNoOgogICAgICogKiBgc3RpZmZuZXNzYCA9IDFlNwogICAgICogKiBgcmVsYXhhdGlvbmAgPSA0CiAgICAgKiAqIGB0aW1lU3RlcGA9IDEgLyA2MCwgX25vdGUgdGhlIGhhcmRjb2RlZCByZWZyZXNoIHJhdGUuXwogICAgICovCgoKICAgIHNldFNwb29rUGFyYW1zKHN0aWZmbmVzcywgcmVsYXhhdGlvbiwgdGltZVN0ZXApIHsKICAgICAgY29uc3QgZCA9IHJlbGF4YXRpb247CiAgICAgIGNvbnN0IGsgPSBzdGlmZm5lc3M7CiAgICAgIGNvbnN0IGggPSB0aW1lU3RlcDsKICAgICAgdGhpcy5hID0gNC4wIC8gKGggKiAoMSArIDQgKiBkKSk7CiAgICAgIHRoaXMuYiA9IDQuMCAqIGQgLyAoMSArIDQgKiBkKTsKICAgICAgdGhpcy5lcHMgPSA0LjAgLyAoaCAqIGggKiBrICogKDEgKyA0ICogZCkpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyB0aGUgcmlnaHQgaGFuZCBzaWRlIG9mIHRoZSBTUE9PSyBlcXVhdGlvbgogICAgICovCgoKICAgIGNvbXB1dGVCKGEsIGIsIGgpIHsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgICBjb25zdCBHcSA9IHRoaXMuY29tcHV0ZUdxKCk7CiAgICAgIGNvbnN0IEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7CiAgICAgIHJldHVybiAtR3EgKiBhIC0gR1cgKiBiIC0gR2lNZiAqIGg7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIEcqcSwgd2hlcmUgcSBhcmUgdGhlIGdlbmVyYWxpemVkIGJvZHkgY29vcmRpbmF0ZXMKICAgICAqLwoKCiAgICBjb21wdXRlR3EoKSB7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgYmkgPSB0aGlzLmJpOwogICAgICBjb25zdCBiaiA9IHRoaXMuYmo7CiAgICAgIGNvbnN0IHhpID0gYmkucG9zaXRpb247CiAgICAgIGNvbnN0IHhqID0gYmoucG9zaXRpb247CiAgICAgIHJldHVybiBHQS5zcGF0aWFsLmRvdCh4aSkgKyBHQi5zcGF0aWFsLmRvdCh4aik7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGVzIEcqVywgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllcwogICAgICovCgoKICAgIGNvbXB1dGVHVygpIHsKICAgICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgICAgY29uc3QgdmkgPSBiaS52ZWxvY2l0eTsKICAgICAgY29uc3QgdmogPSBiai52ZWxvY2l0eTsKICAgICAgY29uc3Qgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHk7CiAgICAgIGNvbnN0IHdqID0gYmouYW5ndWxhclZlbG9jaXR5OwogICAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKHZpLCB3aSkgKyBHQi5tdWx0aXBseVZlY3RvcnModmosIHdqKTsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZXMgRypXbGFtYmRhLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzCiAgICAgKi8KCgogICAgY29tcHV0ZUdXbGFtYmRhKCkgewogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCB2aSA9IGJpLnZsYW1iZGE7CiAgICAgIGNvbnN0IHZqID0gYmoudmxhbWJkYTsKICAgICAgY29uc3Qgd2kgPSBiaS53bGFtYmRhOwogICAgICBjb25zdCB3aiA9IGJqLndsYW1iZGE7CiAgICAgIHJldHVybiBHQS5tdWx0aXBseVZlY3RvcnModmksIHdpKSArIEdCLm11bHRpcGx5VmVjdG9ycyh2aiwgd2opOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyBHKmludihNKSpmLCB3aGVyZSBNIGlzIHRoZSBtYXNzIG1hdHJpeCB3aXRoIGRpYWdvbmFsIGJsb2NrcyBmb3IgZWFjaCBib2R5LCBhbmQgZiBhcmUgdGhlIGZvcmNlcyBvbiB0aGUgYm9kaWVzLgogICAgICovCgoKICAgIGNvbXB1dGVHaU1mKCkgewogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCBmaSA9IGJpLmZvcmNlOwogICAgICBjb25zdCB0aSA9IGJpLnRvcnF1ZTsKICAgICAgY29uc3QgZmogPSBiai5mb3JjZTsKICAgICAgY29uc3QgdGogPSBiai50b3JxdWU7CiAgICAgIGNvbnN0IGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlOwogICAgICBjb25zdCBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZTsKICAgICAgZmkuc2NhbGUoaW52TWFzc2ksIGlNZmkpOwogICAgICBmai5zY2FsZShpbnZNYXNzaiwgaU1maik7CiAgICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KHRpLCBpbnZJaV92bXVsdF90YXVpKTsKICAgICAgYmouaW52SW5lcnRpYVdvcmxkU29sdmUudm11bHQodGosIGludklqX3ZtdWx0X3RhdWopOwogICAgICByZXR1cm4gR0EubXVsdGlwbHlWZWN0b3JzKGlNZmksIGludklpX3ZtdWx0X3RhdWkpICsgR0IubXVsdGlwbHlWZWN0b3JzKGlNZmosIGludklqX3ZtdWx0X3RhdWopOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlcyBHKmludihNKSpHJwogICAgICovCgoKICAgIGNvbXB1dGVHaU1HdCgpIHsKICAgICAgY29uc3QgR0EgPSB0aGlzLmphY29iaWFuRWxlbWVudEE7CiAgICAgIGNvbnN0IEdCID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRCOwogICAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgICAgY29uc3QgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmU7CiAgICAgIGNvbnN0IGludk1hc3NqID0gYmouaW52TWFzc1NvbHZlOwogICAgICBjb25zdCBpbnZJaSA9IGJpLmludkluZXJ0aWFXb3JsZFNvbHZlOwogICAgICBjb25zdCBpbnZJaiA9IGJqLmludkluZXJ0aWFXb3JsZFNvbHZlOwogICAgICBsZXQgcmVzdWx0ID0gaW52TWFzc2kgKyBpbnZNYXNzajsKICAgICAgaW52SWkudm11bHQoR0Eucm90YXRpb25hbCwgdG1wKTsKICAgICAgcmVzdWx0ICs9IHRtcC5kb3QoR0Eucm90YXRpb25hbCk7CiAgICAgIGludklqLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRtcCk7CiAgICAgIHJlc3VsdCArPSB0bXAuZG90KEdCLnJvdGF0aW9uYWwpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgLyoqCiAgICAgKiBBZGQgY29uc3RyYWludCB2ZWxvY2l0eSB0byB0aGUgYm9kaWVzLgogICAgICovCgoKICAgIGFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSkgewogICAgICBjb25zdCBHQSA9IHRoaXMuamFjb2JpYW5FbGVtZW50QTsKICAgICAgY29uc3QgR0IgPSB0aGlzLmphY29iaWFuRWxlbWVudEI7CiAgICAgIGNvbnN0IGJpID0gdGhpcy5iaTsKICAgICAgY29uc3QgYmogPSB0aGlzLmJqOwogICAgICBjb25zdCB0ZW1wID0gYWRkVG9XbGFtYmRhX3RlbXA7IC8vIEFkZCB0byBsaW5lYXIgdmVsb2NpdHkKICAgICAgLy8gdl9sYW1iZGEgKz0gaW52KE0pICogZGVsdGFfbGFtYmEgKiBHCgogICAgICBiaS52bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihiaS5pbnZNYXNzU29sdmUgKiBkZWx0YWxhbWJkYSwgR0Euc3BhdGlhbCwgYmkudmxhbWJkYSk7CiAgICAgIGJqLnZsYW1iZGEuYWRkU2NhbGVkVmVjdG9yKGJqLmludk1hc3NTb2x2ZSAqIGRlbHRhbGFtYmRhLCBHQi5zcGF0aWFsLCBiai52bGFtYmRhKTsgLy8gQWRkIHRvIGFuZ3VsYXIgdmVsb2NpdHkKCiAgICAgIGJpLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdBLnJvdGF0aW9uYWwsIHRlbXApOwogICAgICBiaS53bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihkZWx0YWxhbWJkYSwgdGVtcCwgYmkud2xhbWJkYSk7CiAgICAgIGJqLmludkluZXJ0aWFXb3JsZFNvbHZlLnZtdWx0KEdCLnJvdGF0aW9uYWwsIHRlbXApOwogICAgICBiai53bGFtYmRhLmFkZFNjYWxlZFZlY3RvcihkZWx0YWxhbWJkYSwgdGVtcCwgYmoud2xhbWJkYSk7CiAgICB9CiAgICAvKioKICAgICAqIENvbXB1dGUgdGhlIGRlbm9taW5hdG9yIHBhcnQgb2YgdGhlIFNQT09LIGVxdWF0aW9uOiBDID0gRyppbnYoTSkqRycgKyBlcHMKICAgICAqLwoKCiAgICBjb21wdXRlQygpIHsKICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZUdpTUd0KCkgKyB0aGlzLmVwczsKICAgIH0KCiAgfQogIEVxdWF0aW9uLmlkQ291bnRlciA9IDA7CiAgY29uc3QgaU1maSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaU1maiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW52SWlfdm11bHRfdGF1aSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgaW52SWpfdm11bHRfdGF1aiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wID0gbmV3IFZlYzMoKTsKICBjb25zdCBhZGRUb1dsYW1iZGFfdGVtcCA9IG5ldyBWZWMzKCk7CgogIC8qKgogICAqIENvbnRhY3Qvbm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24KICAgKi8KICBjbGFzcyBDb250YWN0RXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvKioKICAgICAqICJib3VuY2luZXNzIjogdTEgPSAtZSp1MAogICAgICovCgogICAgLyoqCiAgICAgKiBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgdGhhdCBnb2VzIGZyb20gdGhlIGNlbnRlciBvZiBiaSB0byB0aGUgY29udGFjdCBwb2ludC4KICAgICAqLwoKICAgIC8qKgogICAgICogV29ybGQtb3JpZW50ZWQgdmVjdG9yIHRoYXQgc3RhcnRzIGluIGJvZHkgaiBwb3NpdGlvbiBhbmQgZ29lcyB0byB0aGUgY29udGFjdCBwb2ludC4KICAgICAqLwoKICAgIC8qKgogICAgICogQ29udGFjdCBub3JtYWwsIHBvaW50aW5nIG91dCBvZiBib2R5IGkuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UpIHsKICAgICAgaWYgKG1heEZvcmNlID09PSB2b2lkIDApIHsKICAgICAgICBtYXhGb3JjZSA9IDFlNjsKICAgICAgfQoKICAgICAgc3VwZXIoYm9keUEsIGJvZHlCLCAwLCBtYXhGb3JjZSk7CiAgICAgIHRoaXMucmVzdGl0dXRpb24gPSAwLjA7CiAgICAgIHRoaXMucmkgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnJqID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5uaSA9IG5ldyBWZWMzKCk7CiAgICB9CgogICAgY29tcHV0ZUIoaCkgewogICAgICBjb25zdCBhID0gdGhpcy5hOwogICAgICBjb25zdCBiID0gdGhpcy5iOwogICAgICBjb25zdCBiaSA9IHRoaXMuYmk7CiAgICAgIGNvbnN0IGJqID0gdGhpcy5iajsKICAgICAgY29uc3QgcmkgPSB0aGlzLnJpOwogICAgICBjb25zdCByaiA9IHRoaXMucmo7CiAgICAgIGNvbnN0IHJpeG4gPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDE7CiAgICAgIGNvbnN0IHJqeG4gPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDI7CiAgICAgIGNvbnN0IHZpID0gYmkudmVsb2NpdHk7CiAgICAgIGNvbnN0IHdpID0gYmkuYW5ndWxhclZlbG9jaXR5OwogICAgICBiaS5mb3JjZTsKICAgICAgYmkudG9ycXVlOwogICAgICBjb25zdCB2aiA9IGJqLnZlbG9jaXR5OwogICAgICBjb25zdCB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTsKICAgICAgYmouZm9yY2U7CiAgICAgIGJqLnRvcnF1ZTsKICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDM7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgY29uc3QgbiA9IHRoaXMubmk7IC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0cwoKICAgICAgcmkuY3Jvc3Mobiwgcml4bik7CiAgICAgIHJqLmNyb3NzKG4sIHJqeG4pOyAvLyBnID0geGorcmogLSh4aStyaSkKICAgICAgLy8gRyA9IFsgLW5pICAtcml4biAgbmkgIHJqeG4gXQoKICAgICAgbi5uZWdhdGUoR0Euc3BhdGlhbCk7CiAgICAgIHJpeG4ubmVnYXRlKEdBLnJvdGF0aW9uYWwpOwogICAgICBHQi5zcGF0aWFsLmNvcHkobik7CiAgICAgIEdCLnJvdGF0aW9uYWwuY29weShyanhuKTsgLy8gQ2FsY3VsYXRlIHRoZSBwZW5ldHJhdGlvbiB2ZWN0b3IKCiAgICAgIHBlbmV0cmF0aW9uVmVjLmNvcHkoYmoucG9zaXRpb24pOwogICAgICBwZW5ldHJhdGlvblZlYy52YWRkKHJqLCBwZW5ldHJhdGlvblZlYyk7CiAgICAgIHBlbmV0cmF0aW9uVmVjLnZzdWIoYmkucG9zaXRpb24sIHBlbmV0cmF0aW9uVmVjKTsKICAgICAgcGVuZXRyYXRpb25WZWMudnN1YihyaSwgcGVuZXRyYXRpb25WZWMpOwogICAgICBjb25zdCBnID0gbi5kb3QocGVuZXRyYXRpb25WZWMpOyAvLyBDb21wdXRlIGl0ZXJhdGlvbgoKICAgICAgY29uc3QgZVBsdXNPbmUgPSB0aGlzLnJlc3RpdHV0aW9uICsgMTsKICAgICAgY29uc3QgR1cgPSBlUGx1c09uZSAqIHZqLmRvdChuKSAtIGVQbHVzT25lICogdmkuZG90KG4pICsgd2ouZG90KHJqeG4pIC0gd2kuZG90KHJpeG4pOwogICAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICAgIHJldHVybiBCOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgcmVsYXRpdmUgdmVsb2NpdHkgaW4gdGhlIGNvbnRhY3QgcG9pbnQuCiAgICAgKi8KCgogICAgZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbCgpIHsKICAgICAgY29uc3QgdmkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aTsKICAgICAgY29uc3QgdmogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92ajsKICAgICAgY29uc3QgeGkgPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94aTsKICAgICAgY29uc3QgeGogPSBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF94ajsKICAgICAgY29uc3QgcmVsVmVsID0gQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfcmVsVmVsOwogICAgICB0aGlzLmJpLnBvc2l0aW9uLnZhZGQodGhpcy5yaSwgeGkpOwogICAgICB0aGlzLmJqLnBvc2l0aW9uLnZhZGQodGhpcy5yaiwgeGopOwogICAgICB0aGlzLmJpLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHhpLCB2aSk7CiAgICAgIHRoaXMuYmouZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoeGosIHZqKTsKICAgICAgdmkudnN1Yih2aiwgcmVsVmVsKTsKICAgICAgcmV0dXJuIHRoaXMubmkuZG90KHJlbFZlbCk7CiAgICB9CgogIH0KICBjb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnMKCiAgY29uc3QgQ29udGFjdEVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyID0gbmV3IFZlYzMoKTsKICBjb25zdCBDb250YWN0RXF1YXRpb25fY29tcHV0ZUJfdGVtcDMgPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3ZpID0gbmV3IFZlYzMoKTsKICBjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF92aiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgQ29udGFjdEVxdWF0aW9uX2dldEltcGFjdFZlbG9jaXR5QWxvbmdOb3JtYWxfeGkgPSBuZXcgVmVjMygpOwogIGNvbnN0IENvbnRhY3RFcXVhdGlvbl9nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsX3hqID0gbmV3IFZlYzMoKTsKICBjb25zdCBDb250YWN0RXF1YXRpb25fZ2V0SW1wYWN0VmVsb2NpdHlBbG9uZ05vcm1hbF9yZWxWZWwgPSBuZXcgVmVjMygpOwoKICAvKioKICAgKiBDb25uZWN0cyB0d28gYm9kaWVzIGF0IGdpdmVuIG9mZnNldCBwb2ludHMuCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3QgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSkKICAgKiAgICAgY29uc3QgYm9keUIgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSkKICAgKiAgICAgYm9keUEucG9zaXRpb24uc2V0KC0xLCAwLCAwKQogICAqICAgICBib2R5Qi5wb3NpdGlvbi5zZXQoMSwgMCwgMCkKICAgKiAgICAgYm9keUEuYWRkU2hhcGUoc2hhcGVBKQogICAqICAgICBib2R5Qi5hZGRTaGFwZShzaGFwZUIpCiAgICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUEpCiAgICogICAgIHdvcmxkLmFkZEJvZHkoYm9keUIpCiAgICogICAgIGNvbnN0IGxvY2FsUGl2b3RBID0gbmV3IFZlYzMoMSwgMCwgMCkKICAgKiAgICAgY29uc3QgbG9jYWxQaXZvdEIgPSBuZXcgVmVjMygtMSwgMCwgMCkKICAgKiAgICAgY29uc3QgY29uc3RyYWludCA9IG5ldyBQb2ludFRvUG9pbnRDb25zdHJhaW50KGJvZHlBLCBsb2NhbFBpdm90QSwgYm9keUIsIGxvY2FsUGl2b3RCKQogICAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpCiAgICovCiAgY2xhc3MgUG9pbnRUb1BvaW50Q29uc3RyYWludCBleHRlbmRzIENvbnN0cmFpbnQgewogICAgLyoqCiAgICAgKiBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBLgogICAgICovCgogICAgLyoqCiAgICAgKiBQaXZvdCwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCLgogICAgICovCgogICAgLyoqCiAgICAgKiBAcGFyYW0gcGl2b3RBIFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgYm9keUEgd2hpY2ggYm9keUEgaXMgY29uc3RyYWluZWQgdG8uCiAgICAgKiBAcGFyYW0gYm9keUIgQm9keSB0aGF0IHdpbGwgYmUgY29uc3RyYWluZWQgaW4gYSBzaW1pbGFyIHdheSB0byB0aGUgc2FtZSBwb2ludCBhcyBib2R5QS4gV2Ugd2lsbCB0aGVyZWZvcmUgZ2V0IGEgbGluayBiZXR3ZWVuIGJvZHlBIGFuZCBib2R5Qi4gSWYgbm90IHNwZWNpZmllZCwgYm9keUEgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBhIHN0YXRpYyBwb2ludC4KICAgICAqIEBwYXJhbSBwaXZvdEIgVGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIgb2YgbWFzcyBvZiBib2R5QiB3aGljaCBib2R5QiBpcyBjb25zdHJhaW5lZCB0by4KICAgICAqIEBwYXJhbSBtYXhGb3JjZSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLgogICAgICovCiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgcGl2b3RBLCBib2R5QiwgcGl2b3RCLCBtYXhGb3JjZSkgewogICAgICBpZiAocGl2b3RBID09PSB2b2lkIDApIHsKICAgICAgICBwaXZvdEEgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBpZiAocGl2b3RCID09PSB2b2lkIDApIHsKICAgICAgICBwaXZvdEIgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICBpZiAobWF4Rm9yY2UgPT09IHZvaWQgMCkgewogICAgICAgIG1heEZvcmNlID0gMWU2OwogICAgICB9CgogICAgICBzdXBlcihib2R5QSwgYm9keUIpOwogICAgICB0aGlzLnBpdm90QSA9IHBpdm90QS5jbG9uZSgpOwogICAgICB0aGlzLnBpdm90QiA9IHBpdm90Qi5jbG9uZSgpOwogICAgICBjb25zdCB4ID0gdGhpcy5lcXVhdGlvblggPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7CiAgICAgIGNvbnN0IHkgPSB0aGlzLmVxdWF0aW9uWSA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKTsKICAgICAgY29uc3QgeiA9IHRoaXMuZXF1YXRpb25aID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSwgYm9keUIpOyAvLyBFcXVhdGlvbnMgdG8gYmUgZmVkIHRvIHRoZSBzb2x2ZXIKCiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goeCwgeSwgeik7IC8vIE1ha2UgdGhlIGVxdWF0aW9ucyBiaWRpcmVjdGlvbmFsCgogICAgICB4Lm1pbkZvcmNlID0geS5taW5Gb3JjZSA9IHoubWluRm9yY2UgPSAtbWF4Rm9yY2U7CiAgICAgIHgubWF4Rm9yY2UgPSB5Lm1heEZvcmNlID0gei5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgICB4Lm5pLnNldCgxLCAwLCAwKTsKICAgICAgeS5uaS5zZXQoMCwgMSwgMCk7CiAgICAgIHoubmkuc2V0KDAsIDAsIDEpOwogICAgfQoKICAgIHVwZGF0ZSgpIHsKICAgICAgY29uc3QgYm9keUEgPSB0aGlzLmJvZHlBOwogICAgICBjb25zdCBib2R5QiA9IHRoaXMuYm9keUI7CiAgICAgIGNvbnN0IHggPSB0aGlzLmVxdWF0aW9uWDsKICAgICAgY29uc3QgeSA9IHRoaXMuZXF1YXRpb25ZOwogICAgICBjb25zdCB6ID0gdGhpcy5lcXVhdGlvblo7IC8vIFJvdGF0ZSB0aGUgcGl2b3RzIHRvIHdvcmxkIHNwYWNlCgogICAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KHRoaXMucGl2b3RBLCB4LnJpKTsKICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdCh0aGlzLnBpdm90QiwgeC5yaik7CiAgICAgIHkucmkuY29weSh4LnJpKTsKICAgICAgeS5yai5jb3B5KHgucmopOwogICAgICB6LnJpLmNvcHkoeC5yaSk7CiAgICAgIHoucmouY29weSh4LnJqKTsKICAgIH0KCiAgfQoKICAvKioKICAgKiBDb25lIGVxdWF0aW9uLiBXb3JrcyB0byBrZWVwIHRoZSBnaXZlbiBib2R5IHdvcmxkIHZlY3RvcnMgYWxpZ25lZCwgb3IgdGlsdGVkIHdpdGhpbiBhIGdpdmVuIGFuZ2xlIGZyb20gZWFjaCBvdGhlci4KICAgKi8KICBjbGFzcyBDb25lRXF1YXRpb24gZXh0ZW5kcyBFcXVhdGlvbiB7CiAgICAvKioKICAgICAqIExvY2FsIGF4aXMgaW4gQQogICAgICovCgogICAgLyoqCiAgICAgKiBMb2NhbCBheGlzIGluIEIKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlICJjb25lIGFuZ2xlIiB0byBrZWVwCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7CiAgICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7CiAgICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7CiAgICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTsKICAgICAgY29uc3QgbmogPSB0aGlzLmF4aXNCOwogICAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMjsKICAgICAgY29uc3Qgbmp4bmkgPSB0bXBWZWMyJDI7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICBuaS5jcm9zcyhuaiwgbml4bmopOwogICAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBUaGUgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yIGlzOgogICAgICAvLyBjb3ModGhldGEpID0gYSAqIGIgLyAobGVuZ3RoKGEpICogbGVuZ3RoKGIpID0geyBsZW4oYSkgPSBsZW4oYikgPSAxIH0gPSBhICogYgogICAgICAvLyBnID0gYSAqIGIKICAgICAgLy8gZ2RvdCA9IChiIHggYSkgKiB3aSArIChhIHggYikgKiB3agogICAgICAvLyBHID0gWzAgYnhhIDAgYXhiXQogICAgICAvLyBXID0gW3ZpIHdpIHZqIHdqXQoKICAgICAgR0Eucm90YXRpb25hbC5jb3B5KG5qeG5pKTsKICAgICAgR0Iucm90YXRpb25hbC5jb3B5KG5peG5qKTsKICAgICAgY29uc3QgZyA9IE1hdGguY29zKHRoaXMuYW5nbGUpIC0gbmkuZG90KG5qKTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgICBjb25zdCBCID0gLWcgKiBhIC0gR1cgKiBiIC0gaCAqIEdpTWY7CiAgICAgIHJldHVybiBCOwogICAgfQoKICB9CiAgY29uc3QgdG1wVmVjMSQyID0gbmV3IFZlYzMoKTsKICBjb25zdCB0bXBWZWMyJDIgPSBuZXcgVmVjMygpOwoKICAvKioKICAgKiBSb3RhdGlvbmFsIGNvbnN0cmFpbnQuIFdvcmtzIHRvIGtlZXAgdGhlIGxvY2FsIHZlY3RvcnMgb3J0aG9nb25hbCB0byBlYWNoIG90aGVyIGluIHdvcmxkIHNwYWNlLgogICAqLwogIGNsYXNzIFJvdGF0aW9uYWxFcXVhdGlvbiBleHRlbmRzIEVxdWF0aW9uIHsKICAgIC8qKgogICAgICogV29ybGQgb3JpZW50ZWQgcm90YXRpb25hbCBheGlzLgogICAgICovCgogICAgLyoqCiAgICAgKiBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIG1heEFuZ2xlCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7CiAgICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLW1heEZvcmNlLCBtYXhGb3JjZSk7CiAgICAgIHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMCwgMSwgMCk7CiAgICAgIHRoaXMubWF4QW5nbGUgPSBNYXRoLlBJIC8gMjsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIGNvbnN0IGEgPSB0aGlzLmE7CiAgICAgIGNvbnN0IGIgPSB0aGlzLmI7CiAgICAgIGNvbnN0IG5pID0gdGhpcy5heGlzQTsKICAgICAgY29uc3QgbmogPSB0aGlzLmF4aXNCOwogICAgICBjb25zdCBuaXhuaiA9IHRtcFZlYzEkMTsKICAgICAgY29uc3Qgbmp4bmkgPSB0bXBWZWMyJDE7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzCgogICAgICBuaS5jcm9zcyhuaiwgbml4bmopOwogICAgICBuai5jcm9zcyhuaSwgbmp4bmkpOyAvLyBnID0gbmkgKiBuagogICAgICAvLyBnZG90ID0gKG5qIHggbmkpICogd2kgKyAobmkgeCBuaikgKiB3agogICAgICAvLyBHID0gWzAgbmp4bmkgMCBuaXhual0KICAgICAgLy8gVyA9IFt2aSB3aSB2aiB3al0KCiAgICAgIEdBLnJvdGF0aW9uYWwuY29weShuanhuaSk7CiAgICAgIEdCLnJvdGF0aW9uYWwuY29weShuaXhuaik7CiAgICAgIGNvbnN0IGcgPSBNYXRoLmNvcyh0aGlzLm1heEFuZ2xlKSAtIG5pLmRvdChuaik7CiAgICAgIGNvbnN0IEdXID0gdGhpcy5jb21wdXRlR1coKTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgY29uc3QgQiA9IC1nICogYSAtIEdXICogYiAtIGggKiBHaU1mOwogICAgICByZXR1cm4gQjsKICAgIH0KCiAgfQogIGNvbnN0IHRtcFZlYzEkMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjMiQxID0gbmV3IFZlYzMoKTsKCiAgLyoqCiAgICogQSBDb25lIFR3aXN0IGNvbnN0cmFpbnQsIHVzZWZ1bCBmb3IgcmFnZG9sbHMuCiAgICovCiAgY2xhc3MgQ29uZVR3aXN0Q29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogICAgLyoqCiAgICAgKiBUaGUgYXhpcyBkaXJlY3Rpb24gZm9yIHRoZSBjb25zdHJhaW50IG9mIHRoZSBib2R5IEEuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBheGlzIGRpcmVjdGlvbiBmb3IgdGhlIGNvbnN0cmFpbnQgb2YgdGhlIGJvZHkgQi4KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGFwZXJ0dXJlIGFuZ2xlIG9mIHRoZSBjb25lLgogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgdHdpc3QgYW5nbGUgb2YgdGhlIGpvaW50LgogICAgICovCiAgICBjb25zdHJ1Y3Rvcihib2R5QSwgYm9keUIsIG9wdGlvbnMpIHsKICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgewogICAgICAgIG9wdGlvbnMgPSB7fTsKICAgICAgfQoKICAgICAgY29uc3QgbWF4Rm9yY2UgPSB0eXBlb2Ygb3B0aW9ucy5tYXhGb3JjZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLm1heEZvcmNlIDogMWU2OyAvLyBTZXQgcGl2b3QgcG9pbnQgaW4gYmV0d2VlbgoKICAgICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgICB0aGlzLmF4aXNBID0gb3B0aW9ucy5heGlzQSA/IG9wdGlvbnMuYXhpc0EuY2xvbmUoKSA6IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gISFvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ7CiAgICAgIHRoaXMuYW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy5hbmdsZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmFuZ2xlIDogMDsKICAgICAgY29uc3QgYyA9IHRoaXMuY29uZUVxdWF0aW9uID0gbmV3IENvbmVFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCB0ID0gdGhpcy50d2lzdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICB0aGlzLnR3aXN0QW5nbGUgPSB0eXBlb2Ygb3B0aW9ucy50d2lzdEFuZ2xlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMudHdpc3RBbmdsZSA6IDA7IC8vIE1ha2UgdGhlIGNvbmUgZXF1YXRpb24gcHVzaCB0aGUgYm9kaWVzIHRvd2FyZCB0aGUgY29uZSBheGlzLCBub3Qgb3V0d2FyZAoKICAgICAgYy5tYXhGb3JjZSA9IDA7CiAgICAgIGMubWluRm9yY2UgPSAtbWF4Rm9yY2U7IC8vIE1ha2UgdGhlIHR3aXN0IGVxdWF0aW9uIGFkZCB0b3JxdWUgdG93YXJkIHRoZSBpbml0aWFsIHBvc2l0aW9uCgogICAgICB0Lm1heEZvcmNlID0gMDsKICAgICAgdC5taW5Gb3JjZSA9IC1tYXhGb3JjZTsKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChjLCB0KTsKICAgIH0KCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBjb25lID0gdGhpcy5jb25lRXF1YXRpb247CiAgICAgIGNvbnN0IHR3aXN0ID0gdGhpcy50d2lzdEVxdWF0aW9uOwogICAgICBzdXBlci51cGRhdGUoKTsgLy8gVXBkYXRlIHRoZSBheGVzIHRvIHRoZSBjb25lIGNvbnN0cmFpbnQKCiAgICAgIGJvZHlBLnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmF4aXNBLCBjb25lLmF4aXNBKTsKICAgICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuYXhpc0IsIGNvbmUuYXhpc0IpOyAvLyBVcGRhdGUgdGhlIHdvcmxkIGF4ZXMgaW4gdGhlIHR3aXN0IGNvbnN0cmFpbnQKCiAgICAgIHRoaXMuYXhpc0EudGFuZ2VudHModHdpc3QuYXhpc0EsIHR3aXN0LmF4aXNBKTsKICAgICAgYm9keUEudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNBLCB0d2lzdC5heGlzQSk7CiAgICAgIHRoaXMuYXhpc0IudGFuZ2VudHModHdpc3QuYXhpc0IsIHR3aXN0LmF4aXNCKTsKICAgICAgYm9keUIudmVjdG9yVG9Xb3JsZEZyYW1lKHR3aXN0LmF4aXNCLCB0d2lzdC5heGlzQik7CiAgICAgIGNvbmUuYW5nbGUgPSB0aGlzLmFuZ2xlOwogICAgICB0d2lzdC5tYXhBbmdsZSA9IHRoaXMudHdpc3RBbmdsZTsKICAgIH0KCiAgfQogIG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKCiAgLyoqCiAgICogQ29uc3RyYWlucyB0d28gYm9kaWVzIHRvIGJlIGF0IGEgY29uc3RhbnQgZGlzdGFuY2UgZnJvbSBlYWNoIG90aGVycyBjZW50ZXIgb2YgbWFzcy4KICAgKi8KICBjbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnQgZXh0ZW5kcyBDb25zdHJhaW50IHsKICAgIC8qKgogICAgICogVGhlIGRpc3RhbmNlIHRvIGtlZXAuIElmIHVuZGVmaW5lZCwgaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiBib2R5QSBhbmQgYm9keUIKICAgICAqLwoKICAgIC8qKgogICAgICogQHBhcmFtIGRpc3RhbmNlIFRoZSBkaXN0YW5jZSB0byBrZWVwLiBJZiB1bmRlZmluZWQsIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gYm9keUEgYW5kIGJvZHlCLgogICAgICogQHBhcmFtIG1heEZvcmNlIFRoZSBtYXhpbXVtIGZvcmNlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gY29uc3RyYWluIHRoZSBib2RpZXMuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgZGlzdGFuY2UsIG1heEZvcmNlKSB7CiAgICAgIGlmIChtYXhGb3JjZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgbWF4Rm9yY2UgPSAxZTY7CiAgICAgIH0KCiAgICAgIHN1cGVyKGJvZHlBLCBib2R5Qik7CgogICAgICBpZiAodHlwZW9mIGRpc3RhbmNlID09PSAndW5kZWZpbmVkJykgewogICAgICAgIGRpc3RhbmNlID0gYm9keUEucG9zaXRpb24uZGlzdGFuY2VUbyhib2R5Qi5wb3NpdGlvbik7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZTsKICAgICAgY29uc3QgZXEgPSB0aGlzLmRpc3RhbmNlRXF1YXRpb24gPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qik7CiAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpOyAvLyBNYWtlIGl0IGJpZGlyZWN0aW9uYWwKCiAgICAgIGVxLm1pbkZvcmNlID0gLW1heEZvcmNlOwogICAgICBlcS5tYXhGb3JjZSA9IG1heEZvcmNlOwogICAgfQogICAgLyoqCiAgICAgKiB1cGRhdGUKICAgICAqLwoKCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBlcSA9IHRoaXMuZGlzdGFuY2VFcXVhdGlvbjsKICAgICAgY29uc3QgaGFsZkRpc3QgPSB0aGlzLmRpc3RhbmNlICogMC41OwogICAgICBjb25zdCBub3JtYWwgPSBlcS5uaTsKICAgICAgYm9keUIucG9zaXRpb24udnN1Yihib2R5QS5wb3NpdGlvbiwgbm9ybWFsKTsKICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpOwogICAgICBub3JtYWwuc2NhbGUoaGFsZkRpc3QsIGVxLnJpKTsKICAgICAgbm9ybWFsLnNjYWxlKC1oYWxmRGlzdCwgZXEucmopOwogICAgfQoKICB9CgogIC8qKgogICAqIExvY2sgY29uc3RyYWludC4gV2lsbCByZW1vdmUgYWxsIGRlZ3JlZXMgb2YgZnJlZWRvbSBiZXR3ZWVuIHRoZSBib2RpZXMuCiAgICovCiAgY2xhc3MgTG9ja0NvbnN0cmFpbnQgZXh0ZW5kcyBQb2ludFRvUG9pbnRDb25zdHJhaW50IHsKICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBjb25zdCBtYXhGb3JjZSA9IHR5cGVvZiBvcHRpb25zLm1heEZvcmNlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMubWF4Rm9yY2UgOiAxZTY7IC8vIFNldCBwaXZvdCBwb2ludCBpbiBiZXR3ZWVuCgogICAgICBjb25zdCBwaXZvdEEgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBwaXZvdEIgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBoYWxmV2F5ID0gbmV3IFZlYzMoKTsKICAgICAgYm9keUEucG9zaXRpb24udmFkZChib2R5Qi5wb3NpdGlvbiwgaGFsZldheSk7CiAgICAgIGhhbGZXYXkuc2NhbGUoMC41LCBoYWxmV2F5KTsKICAgICAgYm9keUIucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RCKTsKICAgICAgYm9keUEucG9pbnRUb0xvY2FsRnJhbWUoaGFsZldheSwgcGl2b3RBKTsgLy8gVGhlIHBvaW50LXRvLXBvaW50IGNvbnN0cmFpbnQgd2lsbCBrZWVwIGEgcG9pbnQgc2hhcmVkIGJldHdlZW4gdGhlIGJvZGllcwoKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOyAvLyBTdG9yZSBpbml0aWFsIHJvdGF0aW9uIG9mIHRoZSBib2RpZXMgYXMgdW5pdCB2ZWN0b3JzIGluIHRoZSBsb2NhbCBib2R5IHNwYWNlcwoKICAgICAgdGhpcy54QSA9IGJvZHlBLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWCk7CiAgICAgIHRoaXMueEIgPSBib2R5Qi52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1gpOwogICAgICB0aGlzLnlBID0gYm9keUEudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9ZKTsKICAgICAgdGhpcy55QiA9IGJvZHlCLnZlY3RvclRvTG9jYWxGcmFtZShWZWMzLlVOSVRfWSk7CiAgICAgIHRoaXMuekEgPSBib2R5QS52ZWN0b3JUb0xvY2FsRnJhbWUoVmVjMy5VTklUX1opOwogICAgICB0aGlzLnpCID0gYm9keUIudmVjdG9yVG9Mb2NhbEZyYW1lKFZlYzMuVU5JVF9aKTsgLy8gLi4uYW5kIHRoZSBmb2xsb3dpbmcgcm90YXRpb25hbCBlcXVhdGlvbnMgd2lsbCBrZWVwIGFsbCByb3RhdGlvbmFsIERPRidzIGluIHBsYWNlCgogICAgICBjb25zdCByMSA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMSA9IG5ldyBSb3RhdGlvbmFsRXF1YXRpb24oYm9keUEsIGJvZHlCLCBvcHRpb25zKTsKICAgICAgY29uc3QgcjIgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjIgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICAgIGNvbnN0IHIzID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24zID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHIxLCByMiwgcjMpOwogICAgfQogICAgLyoqCiAgICAgKiB1cGRhdGUKICAgICAqLwoKCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICB0aGlzLm1vdG9yRXF1YXRpb247CiAgICAgIGNvbnN0IHIxID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24xOwogICAgICBjb25zdCByMiA9IHRoaXMucm90YXRpb25hbEVxdWF0aW9uMjsKICAgICAgY29uc3QgcjMgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjM7CiAgICAgIHN1cGVyLnVwZGF0ZSgpOyAvLyBUaGVzZSB2ZWN0b3IgcGFpcnMgbXVzdCBiZSBvcnRob2dvbmFsCgogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QSwgcjEuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QiwgcjEuYXhpc0IpOwogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy55QSwgcjIuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QiwgcjIuYXhpc0IpOwogICAgICBib2R5QS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy56QSwgcjMuYXhpc0EpOwogICAgICBib2R5Qi52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy54QiwgcjMuYXhpc0IpOwogICAgfQoKICB9CiAgbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwoKICAvKioKICAgKiBSb3RhdGlvbmFsIG1vdG9yIGNvbnN0cmFpbnQuIFRyaWVzIHRvIGtlZXAgdGhlIHJlbGF0aXZlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZGllcyB0byBhIGdpdmVuIHZhbHVlLgogICAqLwogIGNsYXNzIFJvdGF0aW9uYWxNb3RvckVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogICAgLyoqCiAgICAgKiBXb3JsZCBvcmllbnRlZCByb3RhdGlvbmFsIGF4aXMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFdvcmxkIG9yaWVudGVkIHJvdGF0aW9uYWwgYXhpcy4KICAgICAqLwoKICAgIC8qKgogICAgICogTW90b3IgdmVsb2NpdHkuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5QiwgbWF4Rm9yY2UpIHsKICAgICAgaWYgKG1heEZvcmNlID09PSB2b2lkIDApIHsKICAgICAgICBtYXhGb3JjZSA9IDFlNjsKICAgICAgfQoKICAgICAgc3VwZXIoYm9keUEsIGJvZHlCLCAtbWF4Rm9yY2UsIG1heEZvcmNlKTsKICAgICAgdGhpcy5heGlzQSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMuYXhpc0IgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnRhcmdldFZlbG9jaXR5ID0gMDsKICAgIH0KCiAgICBjb21wdXRlQihoKSB7CiAgICAgIHRoaXMuYTsKICAgICAgY29uc3QgYiA9IHRoaXMuYjsKICAgICAgdGhpcy5iaTsKICAgICAgdGhpcy5iajsKICAgICAgY29uc3QgYXhpc0EgPSB0aGlzLmF4aXNBOwogICAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0I7CiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsgLy8gZyA9IDAKICAgICAgLy8gZ2RvdCA9IGF4aXNBICogd2kgLSBheGlzQiAqIHdqCiAgICAgIC8vIGdkb3QgPSBHICogVyA9IEcgKiBbdmkgd2kgdmogd2pdCiAgICAgIC8vID0+CiAgICAgIC8vIEcgPSBbMCBheGlzQSAwIC1heGlzQl0KCiAgICAgIEdBLnJvdGF0aW9uYWwuY29weShheGlzQSk7CiAgICAgIGF4aXNCLm5lZ2F0ZShHQi5yb3RhdGlvbmFsKTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpIC0gdGhpcy50YXJnZXRWZWxvY2l0eTsKICAgICAgY29uc3QgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTsKICAgICAgY29uc3QgQiA9IC1HVyAqIGIgLSBoICogR2lNZjsKICAgICAgcmV0dXJuIEI7CiAgICB9CgogIH0KCiAgLyoqCiAgICogSGluZ2UgY29uc3RyYWludC4gVGhpbmsgb2YgaXQgYXMgYSBkb29yIGhpbmdlLiBJdCB0cmllcyB0byBrZWVwIHRoZSBkb29yIGluIHRoZSBjb3JyZWN0IHBsYWNlIGFuZCB3aXRoIHRoZSBjb3JyZWN0IG9yaWVudGF0aW9uLgogICAqLwogIGNsYXNzIEhpbmdlQ29uc3RyYWludCBleHRlbmRzIFBvaW50VG9Qb2ludENvbnN0cmFpbnQgewogICAgLyoqCiAgICAgKiBSb3RhdGlvbiBheGlzLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFJvdGF0aW9uIGF4aXMsIGRlZmluZWQgbG9jYWxseSBpbiBib2R5Qi4KICAgICAqLwogICAgY29uc3RydWN0b3IoYm9keUEsIGJvZHlCLCBvcHRpb25zKSB7CiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIGNvbnN0IG1heEZvcmNlID0gdHlwZW9mIG9wdGlvbnMubWF4Rm9yY2UgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhGb3JjZSA6IDFlNjsKICAgICAgY29uc3QgcGl2b3RBID0gb3B0aW9ucy5waXZvdEEgPyBvcHRpb25zLnBpdm90QS5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcGl2b3RCID0gb3B0aW9ucy5waXZvdEIgPyBvcHRpb25zLnBpdm90Qi5jbG9uZSgpIDogbmV3IFZlYzMoKTsKICAgICAgc3VwZXIoYm9keUEsIHBpdm90QSwgYm9keUIsIHBpdm90QiwgbWF4Rm9yY2UpOwogICAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0EgPSBvcHRpb25zLmF4aXNBID8gb3B0aW9ucy5heGlzQS5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIGF4aXNBLm5vcm1hbGl6ZSgpOwogICAgICBjb25zdCBheGlzQiA9IHRoaXMuYXhpc0IgPSBvcHRpb25zLmF4aXNCID8gb3B0aW9ucy5heGlzQi5jbG9uZSgpIDogbmV3IFZlYzMoMSwgMCwgMCk7CiAgICAgIGF4aXNCLm5vcm1hbGl6ZSgpOwogICAgICB0aGlzLmNvbGxpZGVDb25uZWN0ZWQgPSAhIW9wdGlvbnMuY29sbGlkZUNvbm5lY3RlZDsKICAgICAgY29uc3Qgcm90YXRpb25hbDEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjEgPSBuZXcgUm90YXRpb25hbEVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7CiAgICAgIGNvbnN0IHJvdGF0aW9uYWwyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yID0gbmV3IFJvdGF0aW9uYWxFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpOwogICAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsTW90b3JFcXVhdGlvbihib2R5QSwgYm9keUIsIG1heEZvcmNlKTsKICAgICAgbW90b3IuZW5hYmxlZCA9IGZhbHNlOyAvLyBOb3QgZW5hYmxlZCBieSBkZWZhdWx0CiAgICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlcgoKICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChyb3RhdGlvbmFsMSwgcm90YXRpb25hbDIsIG1vdG9yKTsKICAgIH0KICAgIC8qKgogICAgICogZW5hYmxlTW90b3IKICAgICAqLwoKCiAgICBlbmFibGVNb3RvcigpIHsKICAgICAgdGhpcy5tb3RvckVxdWF0aW9uLmVuYWJsZWQgPSB0cnVlOwogICAgfQogICAgLyoqCiAgICAgKiBkaXNhYmxlTW90b3IKICAgICAqLwoKCiAgICBkaXNhYmxlTW90b3IoKSB7CiAgICAgIHRoaXMubW90b3JFcXVhdGlvbi5lbmFibGVkID0gZmFsc2U7CiAgICB9CiAgICAvKioKICAgICAqIHNldE1vdG9yU3BlZWQKICAgICAqLwoKCiAgICBzZXRNb3RvclNwZWVkKHNwZWVkKSB7CiAgICAgIHRoaXMubW90b3JFcXVhdGlvbi50YXJnZXRWZWxvY2l0eSA9IHNwZWVkOwogICAgfQogICAgLyoqCiAgICAgKiBzZXRNb3Rvck1heEZvcmNlCiAgICAgKi8KCgogICAgc2V0TW90b3JNYXhGb3JjZShtYXhGb3JjZSkgewogICAgICB0aGlzLm1vdG9yRXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTsKICAgICAgdGhpcy5tb3RvckVxdWF0aW9uLm1pbkZvcmNlID0gLW1heEZvcmNlOwogICAgfQogICAgLyoqCiAgICAgKiB1cGRhdGUKICAgICAqLwoKCiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5QTsKICAgICAgY29uc3QgYm9keUIgPSB0aGlzLmJvZHlCOwogICAgICBjb25zdCBtb3RvciA9IHRoaXMubW90b3JFcXVhdGlvbjsKICAgICAgY29uc3QgcjEgPSB0aGlzLnJvdGF0aW9uYWxFcXVhdGlvbjE7CiAgICAgIGNvbnN0IHIyID0gdGhpcy5yb3RhdGlvbmFsRXF1YXRpb24yOwogICAgICBjb25zdCB3b3JsZEF4aXNBID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMxOwogICAgICBjb25zdCB3b3JsZEF4aXNCID0gSGluZ2VDb25zdHJhaW50X3VwZGF0ZV90bXBWZWMyOwogICAgICBjb25zdCBheGlzQSA9IHRoaXMuYXhpc0E7CiAgICAgIGNvbnN0IGF4aXNCID0gdGhpcy5heGlzQjsKICAgICAgc3VwZXIudXBkYXRlKCk7IC8vIEdldCB3b3JsZCBheGVzCgogICAgICBib2R5QS5xdWF0ZXJuaW9uLnZtdWx0KGF4aXNBLCB3b3JsZEF4aXNBKTsKICAgICAgYm9keUIucXVhdGVybmlvbi52bXVsdChheGlzQiwgd29ybGRBeGlzQik7CiAgICAgIHdvcmxkQXhpc0EudGFuZ2VudHMocjEuYXhpc0EsIHIyLmF4aXNBKTsKICAgICAgcjEuYXhpc0IuY29weSh3b3JsZEF4aXNCKTsKICAgICAgcjIuYXhpc0IuY29weSh3b3JsZEF4aXNCKTsKCiAgICAgIGlmICh0aGlzLm1vdG9yRXF1YXRpb24uZW5hYmxlZCkgewogICAgICAgIGJvZHlBLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQSwgbW90b3IuYXhpc0EpOwogICAgICAgIGJvZHlCLnF1YXRlcm5pb24udm11bHQodGhpcy5heGlzQiwgbW90b3IuYXhpc0IpOwogICAgICB9CiAgICB9CgogIH0KICBjb25zdCBIaW5nZUNvbnN0cmFpbnRfdXBkYXRlX3RtcFZlYzEgPSBuZXcgVmVjMygpOwogIGNvbnN0IEhpbmdlQ29uc3RyYWludF91cGRhdGVfdG1wVmVjMiA9IG5ldyBWZWMzKCk7CgogIC8qKgogICAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnQKICAgKi8KICBjbGFzcyBGcmljdGlvbkVxdWF0aW9uIGV4dGVuZHMgRXF1YXRpb24gewogICAgLy8gVGFuZ2VudAoKICAgIC8qKgogICAgICogQHBhcmFtIHNsaXBGb3JjZSBzaG91bGQgYmUgKy1GX2ZyaWN0aW9uID0gKy1tdSAqIEZfbm9ybWFsID0gKy1tdSAqIG0gKiBnCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgc2xpcEZvcmNlKSB7CiAgICAgIHN1cGVyKGJvZHlBLCBib2R5QiwgLXNsaXBGb3JjZSwgc2xpcEZvcmNlKTsKICAgICAgdGhpcy5yaSA9IG5ldyBWZWMzKCk7CiAgICAgIHRoaXMucmogPSBuZXcgVmVjMygpOwogICAgICB0aGlzLnQgPSBuZXcgVmVjMygpOwogICAgfQoKICAgIGNvbXB1dGVCKGgpIHsKICAgICAgdGhpcy5hOwogICAgICBjb25zdCBiID0gdGhpcy5iOwogICAgICB0aGlzLmJpOwogICAgICB0aGlzLmJqOwogICAgICBjb25zdCByaSA9IHRoaXMucmk7CiAgICAgIGNvbnN0IHJqID0gdGhpcy5yajsKICAgICAgY29uc3Qgcml4dCA9IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDE7CiAgICAgIGNvbnN0IHJqeHQgPSBGcmljdGlvbkVxdWF0aW9uX2NvbXB1dGVCX3RlbXAyOwogICAgICBjb25zdCB0ID0gdGhpcy50OyAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHMKCiAgICAgIHJpLmNyb3NzKHQsIHJpeHQpOwogICAgICByai5jcm9zcyh0LCByanh0KTsgLy8gRyA9IFstdCAtcml4dCB0IHJqeHRdCiAgICAgIC8vIEFuZCByZW1lbWJlciwgdGhpcyBpcyBhIHB1cmUgdmVsb2NpdHkgY29uc3RyYWludCwgZyBpcyBhbHdheXMgemVybyEKCiAgICAgIGNvbnN0IEdBID0gdGhpcy5qYWNvYmlhbkVsZW1lbnRBOwogICAgICBjb25zdCBHQiA9IHRoaXMuamFjb2JpYW5FbGVtZW50QjsKICAgICAgdC5uZWdhdGUoR0Euc3BhdGlhbCk7CiAgICAgIHJpeHQubmVnYXRlKEdBLnJvdGF0aW9uYWwpOwogICAgICBHQi5zcGF0aWFsLmNvcHkodCk7CiAgICAgIEdCLnJvdGF0aW9uYWwuY29weShyanh0KTsKICAgICAgY29uc3QgR1cgPSB0aGlzLmNvbXB1dGVHVygpOwogICAgICBjb25zdCBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpOwogICAgICBjb25zdCBCID0gLUdXICogYiAtIGggKiBHaU1mOwogICAgICByZXR1cm4gQjsKICAgIH0KCiAgfQogIGNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IEZyaWN0aW9uRXF1YXRpb25fY29tcHV0ZUJfdGVtcDIgPSBuZXcgVmVjMygpOwoKICAvKioKICAgKiBEZWZpbmVzIHdoYXQgaGFwcGVucyB3aGVuIHR3byBtYXRlcmlhbHMgbWVldC4KICAgKiBAdG9kbyBSZWZhY3RvciBtYXRlcmlhbHMgdG8gbWF0ZXJpYWxBIGFuZCBtYXRlcmlhbEIKICAgKi8KICBjbGFzcyBDb250YWN0TWF0ZXJpYWwgewogICAgLyoqCiAgICAgKiBJZGVudGlmaWVyIG9mIHRoaXMgbWF0ZXJpYWwuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFBhcnRpY2lwYXRpbmcgbWF0ZXJpYWxzLgogICAgICovCgogICAgLyoqCiAgICAgKiBGcmljdGlvbiBjb2VmZmljaWVudC4KICAgICAqIEBkZWZhdWx0IDAuMwogICAgICovCgogICAgLyoqCiAgICAgKiBSZXN0aXR1dGlvbiBjb2VmZmljaWVudC4KICAgICAqIEBkZWZhdWx0IDAuMwogICAgICovCgogICAgLyoqCiAgICAgKiBTdGlmZm5lc3Mgb2YgdGhlIHByb2R1Y2VkIGNvbnRhY3QgZXF1YXRpb25zLgogICAgICogQGRlZmF1bHQgMWU3CiAgICAgKi8KCiAgICAvKioKICAgICAqIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgY29udGFjdCBlcXVhdGlvbnMuCiAgICAgKiBAZGVmYXVsdCAzCiAgICAgKi8KCiAgICAvKioKICAgICAqIFN0aWZmbmVzcyBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zLgogICAgICogQGRlZmF1bHQgMWU3CiAgICAgKi8KCiAgICAvKioKICAgICAqIFJlbGF4YXRpb24gdGltZSBvZiB0aGUgcHJvZHVjZWQgZnJpY3Rpb24gZXF1YXRpb25zCiAgICAgKiBAZGVmYXVsdCAzCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKG0xLCBtMiwgb3B0aW9ucykgewogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIGZyaWN0aW9uOiAwLjMsCiAgICAgICAgcmVzdGl0dXRpb246IDAuMywKICAgICAgICBjb250YWN0RXF1YXRpb25TdGlmZm5lc3M6IDFlNywKICAgICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLAogICAgICAgIGZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M6IDFlNywKICAgICAgICBmcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbjogMwogICAgICB9KTsKICAgICAgdGhpcy5pZCA9IENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5tYXRlcmlhbHMgPSBbbTEsIG0yXTsKICAgICAgdGhpcy5mcmljdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb247CiAgICAgIHRoaXMucmVzdGl0dXRpb24gPSBvcHRpb25zLnJlc3RpdHV0aW9uOwogICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzOwogICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24gPSBvcHRpb25zLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb247CiAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcyA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzczsKICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUmVsYXhhdGlvbiA9IG9wdGlvbnMuZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb247CiAgICB9CgogIH0KICBDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDsKCiAgLyoqCiAgICogRGVmaW5lcyBhIHBoeXNpY3MgbWF0ZXJpYWwuCiAgICovCiAgY2xhc3MgTWF0ZXJpYWwgewogICAgLyoqCiAgICAgKiBNYXRlcmlhbCBuYW1lLgogICAgICogSWYgb3B0aW9ucyBpcyBhIHN0cmluZywgbmFtZSB3aWxsIGJlIHNldCB0byB0aGF0IHN0cmluZy4KICAgICAqIEB0b2RvIERlcHJlY2F0ZSB0aGlzCiAgICAgKi8KCiAgICAvKiogTWF0ZXJpYWwgaWQuICovCgogICAgLyoqCiAgICAgKiBGcmljdGlvbiBmb3IgdGhpcyBtYXRlcmlhbC4KICAgICAqIElmIG5vbi1uZWdhdGl2ZSwgaXQgd2lsbCBiZSB1c2VkIGluc3RlYWQgb2YgdGhlIGZyaWN0aW9uIGdpdmVuIGJ5IENvbnRhY3RNYXRlcmlhbHMuIElmIHRoZXJlJ3Mgbm8gbWF0Y2hpbmcgQ29udGFjdE1hdGVyaWFsLCB0aGUgdmFsdWUgZnJvbSBgZGVmYXVsdENvbnRhY3RNYXRlcmlhbGAgaW4gdGhlIFdvcmxkIHdpbGwgYmUgdXNlZC4KICAgICAqLwoKICAgIC8qKgogICAgICogUmVzdGl0dXRpb24gZm9yIHRoaXMgbWF0ZXJpYWwuCiAgICAgKiBJZiBub24tbmVnYXRpdmUsIGl0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSByZXN0aXR1dGlvbiBnaXZlbiBieSBDb250YWN0TWF0ZXJpYWxzLiBJZiB0aGVyZSdzIG5vIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgdGhlIHZhbHVlIGZyb20gYGRlZmF1bHRDb250YWN0TWF0ZXJpYWxgIGluIHRoZSBXb3JsZCB3aWxsIGJlIHVzZWQuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHsKICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgewogICAgICAgIG9wdGlvbnMgPSB7fTsKICAgICAgfQoKICAgICAgbGV0IG5hbWUgPSAnJzsgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZml4CgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgLy9jb25zb2xlLndhcm4oYFBhc3NpbmcgYSBzdHJpbmcgdG8gTWF0ZXJpYWxPcHRpb25zIGlzIGRlcHJlY2F0ZWQsIGFuZCBoYXMgbm8gZWZmZWN0YCkKICAgICAgICBuYW1lID0gb3B0aW9uczsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICAgIHRoaXMuaWQgPSBNYXRlcmlhbC5pZENvdW50ZXIrKzsKICAgICAgdGhpcy5mcmljdGlvbiA9IHR5cGVvZiBvcHRpb25zLmZyaWN0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuZnJpY3Rpb24gOiAtMTsKICAgICAgdGhpcy5yZXN0aXR1dGlvbiA9IHR5cGVvZiBvcHRpb25zLnJlc3RpdHV0aW9uICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMucmVzdGl0dXRpb24gOiAtMTsKICAgIH0KCiAgfQogIE1hdGVyaWFsLmlkQ291bnRlciA9IDA7CgogIC8qKgogICAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3Qgc3ByaW5nID0gbmV3IFNwcmluZyhib3hCb2R5LCBzcGhlcmVCb2R5LCB7CiAgICogICAgICAgcmVzdExlbmd0aDogMCwKICAgKiAgICAgICBzdGlmZm5lc3M6IDUwLAogICAqICAgICAgIGRhbXBpbmc6IDEsCiAgICogICAgIH0pCiAgICoKICAgKiAgICAgLy8gQ29tcHV0ZSB0aGUgZm9yY2UgYWZ0ZXIgZWFjaCBzdGVwCiAgICogICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgKGV2ZW50KSA9PiB7CiAgICogICAgICAgc3ByaW5nLmFwcGx5Rm9yY2UoKQogICAqICAgICB9KQogICAqLwogIGNsYXNzIFNwcmluZyB7CiAgICAvKioKICAgICAqIFJlc3QgbGVuZ3RoIG9mIHRoZSBzcHJpbmcuIEEgbnVtYmVyID4gMC4KICAgICAqIEBkZWZhdWx0IDEKICAgICAqLwoKICAgIC8qKgogICAgICogU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuIEEgbnVtYmVyID49IDAuCiAgICAgKiBAZGVmYXVsdCAxMDAKICAgICAqLwoKICAgIC8qKgogICAgICogRGFtcGluZyBvZiB0aGUgc3ByaW5nLiBBIG51bWJlciA+PSAwLgogICAgICogQGRlZmF1bHQgMQogICAgICovCgogICAgLyoqCiAgICAgKiBGaXJzdCBjb25uZWN0ZWQgYm9keS4KICAgICAqLwoKICAgIC8qKgogICAgICogU2Vjb25kIGNvbm5lY3RlZCBib2R5LgogICAgICovCgogICAgLyoqCiAgICAgKiBBbmNob3IgZm9yIGJvZHlBIGluIGxvY2FsIGJvZHlBIGNvb3JkaW5hdGVzLgogICAgICogV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gbG9jYWwgYm9keSBjb29yZGluYXRlcy4KICAgICAqIEBkZWZhdWx0IG5ldyBWZWMzKCkKICAgICAqLwoKICAgIC8qKgogICAgICogQW5jaG9yIGZvciBib2R5QiBpbiBsb2NhbCBib2R5QiBjb29yZGluYXRlcy4KICAgICAqIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEIsIGluIGxvY2FsIGJvZHkgY29vcmRpbmF0ZXMuCiAgICAgKiBAZGVmYXVsdCBuZXcgVmVjMygpCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKGJvZHlBLCBib2R5Qiwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICB0aGlzLnJlc3RMZW5ndGggPSB0eXBlb2Ygb3B0aW9ucy5yZXN0TGVuZ3RoID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucmVzdExlbmd0aCA6IDE7CiAgICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3MgfHwgMTAwOwogICAgICB0aGlzLmRhbXBpbmcgPSBvcHRpb25zLmRhbXBpbmcgfHwgMTsKICAgICAgdGhpcy5ib2R5QSA9IGJvZHlBOwogICAgICB0aGlzLmJvZHlCID0gYm9keUI7CiAgICAgIHRoaXMubG9jYWxBbmNob3JBID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy5sb2NhbEFuY2hvckIgPSBuZXcgVmVjMygpOwoKICAgICAgaWYgKG9wdGlvbnMubG9jYWxBbmNob3JBKSB7CiAgICAgICAgdGhpcy5sb2NhbEFuY2hvckEuY29weShvcHRpb25zLmxvY2FsQW5jaG9yQSk7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLmxvY2FsQW5jaG9yQikgewogICAgICAgIHRoaXMubG9jYWxBbmNob3JCLmNvcHkob3B0aW9ucy5sb2NhbEFuY2hvckIpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy53b3JsZEFuY2hvckEpIHsKICAgICAgICB0aGlzLnNldFdvcmxkQW5jaG9yQShvcHRpb25zLndvcmxkQW5jaG9yQSk7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLndvcmxkQW5jaG9yQikgewogICAgICAgIHRoaXMuc2V0V29ybGRBbmNob3JCKG9wdGlvbnMud29ybGRBbmNob3JCKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLgogICAgICovCgoKICAgIHNldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpIHsKICAgICAgdGhpcy5ib2R5QS5wb2ludFRvTG9jYWxGcmFtZSh3b3JsZEFuY2hvckEsIHRoaXMubG9jYWxBbmNob3JBKTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBCLCB1c2luZyB3b3JsZCBjb29yZGluYXRlcy4KICAgICAqLwoKCiAgICBzZXRXb3JsZEFuY2hvckIod29ybGRBbmNob3JCKSB7CiAgICAgIHRoaXMuYm9keUIucG9pbnRUb0xvY2FsRnJhbWUod29ybGRBbmNob3JCLCB0aGlzLmxvY2FsQW5jaG9yQik7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICAgKiBAcGFyYW0gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4KICAgICAqLwoKCiAgICBnZXRXb3JsZEFuY2hvckEocmVzdWx0KSB7CiAgICAgIHRoaXMuYm9keUEucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckEsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuCiAgICAgKiBAcGFyYW0gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi4KICAgICAqLwoKCiAgICBnZXRXb3JsZEFuY2hvckIocmVzdWx0KSB7CiAgICAgIHRoaXMuYm9keUIucG9pbnRUb1dvcmxkRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIEFwcGx5IHRoZSBzcHJpbmcgZm9yY2UgdG8gdGhlIGNvbm5lY3RlZCBib2RpZXMuCiAgICAgKi8KCgogICAgYXBwbHlGb3JjZSgpIHsKICAgICAgY29uc3QgayA9IHRoaXMuc3RpZmZuZXNzOwogICAgICBjb25zdCBkID0gdGhpcy5kYW1waW5nOwogICAgICBjb25zdCBsID0gdGhpcy5yZXN0TGVuZ3RoOwogICAgICBjb25zdCBib2R5QSA9IHRoaXMuYm9keUE7CiAgICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5QjsKICAgICAgY29uc3QgciA9IGFwcGx5Rm9yY2VfcjsKICAgICAgY29uc3Qgcl91bml0ID0gYXBwbHlGb3JjZV9yX3VuaXQ7CiAgICAgIGNvbnN0IHUgPSBhcHBseUZvcmNlX3U7CiAgICAgIGNvbnN0IGYgPSBhcHBseUZvcmNlX2Y7CiAgICAgIGNvbnN0IHRtcCA9IGFwcGx5Rm9yY2VfdG1wOwogICAgICBjb25zdCB3b3JsZEFuY2hvckEgPSBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQTsKICAgICAgY29uc3Qgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckI7CiAgICAgIGNvbnN0IHJpID0gYXBwbHlGb3JjZV9yaTsKICAgICAgY29uc3QgcmogPSBhcHBseUZvcmNlX3JqOwogICAgICBjb25zdCByaV94X2YgPSBhcHBseUZvcmNlX3JpX3hfZjsKICAgICAgY29uc3QgcmpfeF9mID0gYXBwbHlGb3JjZV9yal94X2Y7IC8vIEdldCB3b3JsZCBhbmNob3JzCgogICAgICB0aGlzLmdldFdvcmxkQW5jaG9yQSh3b3JsZEFuY2hvckEpOwogICAgICB0aGlzLmdldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpOyAvLyBHZXQgb2Zmc2V0IHBvaW50cwoKICAgICAgd29ybGRBbmNob3JBLnZzdWIoYm9keUEucG9zaXRpb24sIHJpKTsKICAgICAgd29ybGRBbmNob3JCLnZzdWIoYm9keUIucG9zaXRpb24sIHJqKTsgLy8gQ29tcHV0ZSBkaXN0YW5jZSB2ZWN0b3IgYmV0d2VlbiB3b3JsZCBhbmNob3IgcG9pbnRzCgogICAgICB3b3JsZEFuY2hvckIudnN1Yih3b3JsZEFuY2hvckEsIHIpOwogICAgICBjb25zdCBybGVuID0gci5sZW5ndGgoKTsKICAgICAgcl91bml0LmNvcHkocik7CiAgICAgIHJfdW5pdC5ub3JtYWxpemUoKTsgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdQoKICAgICAgYm9keUIudmVsb2NpdHkudnN1Yihib2R5QS52ZWxvY2l0eSwgdSk7IC8vIEFkZCByb3RhdGlvbmFsIHZlbG9jaXR5CgogICAgICBib2R5Qi5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MocmosIHRtcCk7CiAgICAgIHUudmFkZCh0bXAsIHUpOwogICAgICBib2R5QS5hbmd1bGFyVmVsb2NpdHkuY3Jvc3MocmksIHRtcCk7CiAgICAgIHUudnN1Yih0bXAsIHUpOyAvLyBGID0gLSBrICogKCB4IC0gTCApIC0gRCAqICggdSApCgogICAgICByX3VuaXQuc2NhbGUoLWsgKiAocmxlbiAtIGwpIC0gZCAqIHUuZG90KHJfdW5pdCksIGYpOyAvLyBBZGQgZm9yY2VzIHRvIGJvZGllcwoKICAgICAgYm9keUEuZm9yY2UudnN1YihmLCBib2R5QS5mb3JjZSk7CiAgICAgIGJvZHlCLmZvcmNlLnZhZGQoZiwgYm9keUIuZm9yY2UpOyAvLyBBbmd1bGFyIGZvcmNlCgogICAgICByaS5jcm9zcyhmLCByaV94X2YpOwogICAgICByai5jcm9zcyhmLCByal94X2YpOwogICAgICBib2R5QS50b3JxdWUudnN1YihyaV94X2YsIGJvZHlBLnRvcnF1ZSk7CiAgICAgIGJvZHlCLnRvcnF1ZS52YWRkKHJqX3hfZiwgYm9keUIudG9ycXVlKTsKICAgIH0KCiAgfQogIGNvbnN0IGFwcGx5Rm9yY2VfciA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV9yX3VuaXQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfdSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV9mID0gbmV3IFZlYzMoKTsKICBjb25zdCBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmkgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmogPSBuZXcgVmVjMygpOwogIGNvbnN0IGFwcGx5Rm9yY2VfcmlfeF9mID0gbmV3IFZlYzMoKTsKICBjb25zdCBhcHBseUZvcmNlX3JqX3hfZiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgYXBwbHlGb3JjZV90bXAgPSBuZXcgVmVjMygpOwoKICAvKioKICAgKiBXaGVlbEluZm8KICAgKi8KICBjbGFzcyBXaGVlbEluZm8gewogICAgLyoqCiAgICAgKiBNYXggdHJhdmVsIGRpc3RhbmNlIG9mIHRoZSBzdXNwZW5zaW9uLCBpbiBtZXRlcnMuCiAgICAgKiBAZGVmYXVsdCAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIFNwZWVkIHRvIGFwcGx5IHRvIHRoZSB3aGVlbCByb3RhdGlvbiB3aGVuIHRoZSB3aGVlbCBpcyBzbGlkaW5nLgogICAgICogQGRlZmF1bHQgLTAuMQogICAgICovCgogICAgLyoqCiAgICAgKiBJZiB0aGUgY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCBzaG91bGQgYmUgdXNlZC4KICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIHNsaWRpbmcKICAgICAqLwoKICAgIC8qKgogICAgICogQ29ubmVjdGlvbiBwb2ludCwgZGVmaW5lZCBsb2NhbGx5IGluIHRoZSBjaGFzc2lzIGJvZHkgZnJhbWUuCiAgICAgKi8KCiAgICAvKioKICAgICAqIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZAogICAgICovCgogICAgLyoqCiAgICAgKiBkaXJlY3Rpb25Mb2NhbAogICAgICovCgogICAgLyoqCiAgICAgKiBkaXJlY3Rpb25Xb3JsZAogICAgICovCgogICAgLyoqCiAgICAgKiBheGxlTG9jYWwKICAgICAqLwoKICAgIC8qKgogICAgICogYXhsZVdvcmxkCiAgICAgKi8KCiAgICAvKioKICAgICAqIHN1c3BlbnNpb25SZXN0TGVuZ3RoCiAgICAgKiBAZGVmYXVsdCAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIHN1c3BlbnNpb25NYXhMZW5ndGgKICAgICAqIEBkZWZhdWx0IDIKICAgICAqLwoKICAgIC8qKgogICAgICogcmFkaXVzCiAgICAgKiBAZGVmYXVsdCAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIHN1c3BlbnNpb25TdGlmZm5lc3MKICAgICAqIEBkZWZhdWx0IDEwMAogICAgICovCgogICAgLyoqCiAgICAgKiBkYW1waW5nQ29tcHJlc3Npb24KICAgICAqIEBkZWZhdWx0IDEwCiAgICAgKi8KCiAgICAvKioKICAgICAqIGRhbXBpbmdSZWxheGF0aW9uCiAgICAgKiBAZGVmYXVsdCAxMAogICAgICovCgogICAgLyoqCiAgICAgKiBmcmljdGlvblNsaXAKICAgICAqIEBkZWZhdWx0IDEwLjUKICAgICAqLwoKICAgIC8qKiBmb3J3YXJkQWNjZWxlcmF0aW9uICovCgogICAgLyoqIHNpZGVBY2NlbGVyYXRpb24gKi8KCiAgICAvKioKICAgICAqIHN0ZWVyaW5nCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIFJvdGF0aW9uIHZhbHVlLCBpbiByYWRpYW5zLgogICAgICogQGRlZmF1bHQgMAogICAgICovCgogICAgLyoqCiAgICAgKiBkZWx0YVJvdGF0aW9uCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIHJvbGxJbmZsdWVuY2UKICAgICAqIEBkZWZhdWx0IDAuMDEKICAgICAqLwoKICAgIC8qKgogICAgICogbWF4U3VzcGVuc2lvbkZvcmNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIGVuZ2luZUZvcmNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIGJyYWtlCiAgICAgKi8KCiAgICAvKioKICAgICAqIGlzRnJvbnRXaGVlbAogICAgICogQGRlZmF1bHQgdHJ1ZQogICAgICovCgogICAgLyoqCiAgICAgKiBjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24KICAgICAqIEBkZWZhdWx0IDEKICAgICAqLwoKICAgIC8qKgogICAgICogc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkKICAgICAqIEBkZWZhdWx0IDAKICAgICAqLwoKICAgIC8qKgogICAgICogc3VzcGVuc2lvbkZvcmNlCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIHNsaXBJbmZvCiAgICAgKi8KCiAgICAvKioKICAgICAqIHNraWRJbmZvCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIHN1c3BlbnNpb25MZW5ndGgKICAgICAqIEBkZWZhdWx0IDAKICAgICAqLwoKICAgIC8qKgogICAgICogc2lkZUltcHVsc2UKICAgICAqLwoKICAgIC8qKgogICAgICogZm9yd2FyZEltcHVsc2UKICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIHJlc3VsdCBmcm9tIHJheWNhc3RpbmcuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFdoZWVsIHdvcmxkIHRyYW5zZm9ybS4KICAgICAqLwoKICAgIC8qKgogICAgICogaXNJbkNvbnRhY3QKICAgICAqLwogICAgY29uc3RydWN0b3Iob3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucywgewogICAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbDogbmV3IFZlYzMoKSwKICAgICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQ6IG5ldyBWZWMzKCksCiAgICAgICAgZGlyZWN0aW9uTG9jYWw6IG5ldyBWZWMzKCksCiAgICAgICAgZGlyZWN0aW9uV29ybGQ6IG5ldyBWZWMzKCksCiAgICAgICAgYXhsZUxvY2FsOiBuZXcgVmVjMygpLAogICAgICAgIGF4bGVXb3JsZDogbmV3IFZlYzMoKSwKICAgICAgICBzdXNwZW5zaW9uUmVzdExlbmd0aDogMSwKICAgICAgICBzdXNwZW5zaW9uTWF4TGVuZ3RoOiAyLAogICAgICAgIHJhZGl1czogMSwKICAgICAgICBzdXNwZW5zaW9uU3RpZmZuZXNzOiAxMDAsCiAgICAgICAgZGFtcGluZ0NvbXByZXNzaW9uOiAxMCwKICAgICAgICBkYW1waW5nUmVsYXhhdGlvbjogMTAsCiAgICAgICAgZnJpY3Rpb25TbGlwOiAxMC41LAogICAgICAgIGZvcndhcmRBY2NlbGVyYXRpb246IDEsCiAgICAgICAgc2lkZUFjY2VsZXJhdGlvbjogMSwKICAgICAgICBzdGVlcmluZzogMCwKICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICBkZWx0YVJvdGF0aW9uOiAwLAogICAgICAgIHJvbGxJbmZsdWVuY2U6IDAuMDEsCiAgICAgICAgbWF4U3VzcGVuc2lvbkZvcmNlOiBOdW1iZXIuTUFYX1ZBTFVFLAogICAgICAgIGlzRnJvbnRXaGVlbDogdHJ1ZSwKICAgICAgICBjbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb246IDEsCiAgICAgICAgc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHk6IDAsCiAgICAgICAgc3VzcGVuc2lvbkZvcmNlOiAwLAogICAgICAgIHNsaXBJbmZvOiAwLAogICAgICAgIHNraWRJbmZvOiAwLAogICAgICAgIHN1c3BlbnNpb25MZW5ndGg6IDAsCiAgICAgICAgbWF4U3VzcGVuc2lvblRyYXZlbDogMSwKICAgICAgICB1c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiBmYWxzZSwKICAgICAgICBjdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOiAtMC4xCiAgICAgIH0pOwogICAgICB0aGlzLm1heFN1c3BlbnNpb25UcmF2ZWwgPSBvcHRpb25zLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgIHRoaXMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZCA9IG9wdGlvbnMuY3VzdG9tU2xpZGluZ1JvdGF0aW9uYWxTcGVlZDsKICAgICAgdGhpcy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkID0gb3B0aW9ucy51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkOwogICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5jaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWwgPSBvcHRpb25zLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbC5jbG9uZSgpOwogICAgICB0aGlzLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZCA9IG9wdGlvbnMuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uTG9jYWwgPSBvcHRpb25zLmRpcmVjdGlvbkxvY2FsLmNsb25lKCk7CiAgICAgIHRoaXMuZGlyZWN0aW9uV29ybGQgPSBvcHRpb25zLmRpcmVjdGlvbldvcmxkLmNsb25lKCk7CiAgICAgIHRoaXMuYXhsZUxvY2FsID0gb3B0aW9ucy5heGxlTG9jYWwuY2xvbmUoKTsKICAgICAgdGhpcy5heGxlV29ybGQgPSBvcHRpb25zLmF4bGVXb3JsZC5jbG9uZSgpOwogICAgICB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgICAgdGhpcy5zdXNwZW5zaW9uTWF4TGVuZ3RoID0gb3B0aW9ucy5zdXNwZW5zaW9uTWF4TGVuZ3RoOwogICAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzOwogICAgICB0aGlzLnN1c3BlbnNpb25TdGlmZm5lc3MgPSBvcHRpb25zLnN1c3BlbnNpb25TdGlmZm5lc3M7CiAgICAgIHRoaXMuZGFtcGluZ0NvbXByZXNzaW9uID0gb3B0aW9ucy5kYW1waW5nQ29tcHJlc3Npb247CiAgICAgIHRoaXMuZGFtcGluZ1JlbGF4YXRpb24gPSBvcHRpb25zLmRhbXBpbmdSZWxheGF0aW9uOwogICAgICB0aGlzLmZyaWN0aW9uU2xpcCA9IG9wdGlvbnMuZnJpY3Rpb25TbGlwOwogICAgICB0aGlzLmZvcndhcmRBY2NlbGVyYXRpb24gPSBvcHRpb25zLmZvcndhcmRBY2NlbGVyYXRpb247CiAgICAgIHRoaXMuc2lkZUFjY2VsZXJhdGlvbiA9IG9wdGlvbnMuc2lkZUFjY2VsZXJhdGlvbjsKICAgICAgdGhpcy5zdGVlcmluZyA9IDA7CiAgICAgIHRoaXMucm90YXRpb24gPSAwOwogICAgICB0aGlzLmRlbHRhUm90YXRpb24gPSAwOwogICAgICB0aGlzLnJvbGxJbmZsdWVuY2UgPSBvcHRpb25zLnJvbGxJbmZsdWVuY2U7CiAgICAgIHRoaXMubWF4U3VzcGVuc2lvbkZvcmNlID0gb3B0aW9ucy5tYXhTdXNwZW5zaW9uRm9yY2U7CiAgICAgIHRoaXMuZW5naW5lRm9yY2UgPSAwOwogICAgICB0aGlzLmJyYWtlID0gMDsKICAgICAgdGhpcy5pc0Zyb250V2hlZWwgPSBvcHRpb25zLmlzRnJvbnRXaGVlbDsKICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxOwogICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgdGhpcy5zdXNwZW5zaW9uRm9yY2UgPSAwOwogICAgICB0aGlzLnNsaXBJbmZvID0gMDsKICAgICAgdGhpcy5za2lkSW5mbyA9IDA7CiAgICAgIHRoaXMuc3VzcGVuc2lvbkxlbmd0aCA9IDA7CiAgICAgIHRoaXMuc2lkZUltcHVsc2UgPSAwOwogICAgICB0aGlzLmZvcndhcmRJbXB1bHNlID0gMDsKICAgICAgdGhpcy5yYXljYXN0UmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTsKICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTsKICAgICAgdGhpcy5pc0luQ29udGFjdCA9IGZhbHNlOwogICAgfQoKICAgIHVwZGF0ZVdoZWVsKGNoYXNzaXMpIHsKICAgICAgY29uc3QgcmF5Y2FzdFJlc3VsdCA9IHRoaXMucmF5Y2FzdFJlc3VsdDsKCiAgICAgIGlmICh0aGlzLmlzSW5Db250YWN0KSB7CiAgICAgICAgY29uc3QgcHJvamVjdCA9IHJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHJheWNhc3RSZXN1bHQuZGlyZWN0aW9uV29ybGQpOwogICAgICAgIHJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXMucG9zaXRpb24sIHJlbHBvcyk7CiAgICAgICAgY2hhc3Npcy5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChyZWxwb3MsIGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKICAgICAgICBjb25zdCBwcm9qVmVsID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZC5kb3QoY2hhc3Npc192ZWxvY2l0eV9hdF9jb250YWN0UG9pbnQpOwoKICAgICAgICBpZiAocHJvamVjdCA+PSAtMC4xKSB7CiAgICAgICAgICB0aGlzLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjAgLyAwLjE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGludiA9IC0xIC8gcHJvamVjdDsKICAgICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSBwcm9qVmVsICogaW52OwogICAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIE5vdCBpbiBjb250YWN0IDogcG9zaXRpb24gd2hlZWwgaW4gYSBuaWNlIChyZXN0IGxlbmd0aCkgcG9zaXRpb24KICAgICAgICByYXljYXN0UmVzdWx0LnN1c3BlbnNpb25MZW5ndGggPSB0aGlzLnN1c3BlbnNpb25SZXN0TGVuZ3RoOwogICAgICAgIHRoaXMuc3VzcGVuc2lvblJlbGF0aXZlVmVsb2NpdHkgPSAwLjA7CiAgICAgICAgcmF5Y2FzdFJlc3VsdC5kaXJlY3Rpb25Xb3JsZC5zY2FsZSgtMSwgcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZCk7CiAgICAgICAgdGhpcy5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICAgIH0KICAgIH0KCiAgfQogIGNvbnN0IGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50ID0gbmV3IFZlYzMoKTsKICBjb25zdCByZWxwb3MgPSBuZXcgVmVjMygpOwoKICAvKioKICAgKiBWZWhpY2xlIGhlbHBlciBjbGFzcyB0aGF0IGNhc3RzIHJheXMgZnJvbSB0aGUgd2hlZWwgcG9zaXRpb25zIHRvd2FyZHMgdGhlIGdyb3VuZCBhbmQgYXBwbGllcyBmb3JjZXMuCiAgICovCiAgY2xhc3MgUmF5Y2FzdFZlaGljbGUgewogICAgLyoqIFRoZSBjYXIgY2hhc3NpcyBib2R5LiAqLwoKICAgIC8qKiBUaGUgd2hlZWxzLiAqLwoKICAgIC8qKiBXaWxsIGJlIHNldCB0byB0cnVlIGlmIHRoZSBjYXIgaXMgc2xpZGluZy4gKi8KCiAgICAvKiogSW5kZXggb2YgdGhlIHJpZ2h0IGF4aXMuIHg9MCwgeT0xLCB6PTIgKi8KCiAgICAvKiogSW5kZXggb2YgdGhlIGZvcndhcmQgYXhpcy4geD0wLCB5PTEsIHo9MiAqLwoKICAgIC8qKiBJbmRleCBvZiB0aGUgdXAgYXhpcy4geD0wLCB5PTEsIHo9MiAqLwoKICAgIC8qKiBUaGUgY29uc3RyYWludHMuICovCgogICAgLyoqIE9wdGlvbmFsIHByZS1zdGVwIGNhbGxiYWNrLiAqLwoKICAgIC8qKiBOdW1iZXIgb2Ygd2hlZWxzIG9uIHRoZSBncm91bmQuICovCiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7CiAgICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBvcHRpb25zLmNoYXNzaXNCb2R5OwogICAgICB0aGlzLndoZWVsSW5mb3MgPSBbXTsKICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMud29ybGQgPSBudWxsOwogICAgICB0aGlzLmluZGV4UmlnaHRBeGlzID0gdHlwZW9mIG9wdGlvbnMuaW5kZXhSaWdodEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleFJpZ2h0QXhpcyA6IDI7CiAgICAgIHRoaXMuaW5kZXhGb3J3YXJkQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4Rm9yd2FyZEF4aXMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5pbmRleEZvcndhcmRBeGlzIDogMDsKICAgICAgdGhpcy5pbmRleFVwQXhpcyA9IHR5cGVvZiBvcHRpb25zLmluZGV4VXBBeGlzICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuaW5kZXhVcEF4aXMgOiAxOwogICAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107CgogICAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHt9OwoKICAgICAgdGhpcy5jdXJyZW50VmVoaWNsZVNwZWVkS21Ib3VyID0gMDsKICAgICAgdGhpcy5udW1XaGVlbHNPbkdyb3VuZCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIEFkZCBhIHdoZWVsLiBGb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9wdGlvbnMsIHNlZSBgV2hlZWxJbmZvYC4KICAgICAqLwoKCiAgICBhZGRXaGVlbChvcHRpb25zKSB7CiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIGNvbnN0IGluZm8gPSBuZXcgV2hlZWxJbmZvKG9wdGlvbnMpOwogICAgICBjb25zdCBpbmRleCA9IHRoaXMud2hlZWxJbmZvcy5sZW5ndGg7CiAgICAgIHRoaXMud2hlZWxJbmZvcy5wdXNoKGluZm8pOwogICAgICByZXR1cm4gaW5kZXg7CiAgICB9CiAgICAvKioKICAgICAqIFNldCB0aGUgc3RlZXJpbmcgdmFsdWUgb2YgYSB3aGVlbC4KICAgICAqLwoKCiAgICBzZXRTdGVlcmluZ1ZhbHVlKHZhbHVlLCB3aGVlbEluZGV4KSB7CiAgICAgIGNvbnN0IHdoZWVsID0gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdOwogICAgICB3aGVlbC5zdGVlcmluZyA9IHZhbHVlOwogICAgfQogICAgLyoqCiAgICAgKiBTZXQgdGhlIHdoZWVsIGZvcmNlIHRvIGFwcGx5IG9uIG9uZSBvZiB0aGUgd2hlZWxzIGVhY2ggdGltZSBzdGVwCiAgICAgKi8KCgogICAgYXBwbHlFbmdpbmVGb3JjZSh2YWx1ZSwgd2hlZWxJbmRleCkgewogICAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uZW5naW5lRm9yY2UgPSB2YWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBicmFraW5nIGZvcmNlIG9mIGEgd2hlZWwKICAgICAqLwoKCiAgICBzZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCkgewogICAgICB0aGlzLndoZWVsSW5mb3Nbd2hlZWxJbmRleF0uYnJha2UgPSBicmFrZTsKICAgIH0KICAgIC8qKgogICAgICogQWRkIHRoZSB2ZWhpY2xlIGluY2x1ZGluZyBpdHMgY29uc3RyYWludHMgdG8gdGhlIHdvcmxkLgogICAgICovCgoKICAgIGFkZFRvV29ybGQod29ybGQpIHsKICAgICAgd29ybGQuYWRkQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgICAgY29uc3QgdGhhdCA9IHRoaXM7CgogICAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9ICgpID0+IHsKICAgICAgICB0aGF0LnVwZGF0ZVZlaGljbGUod29ybGQuZHQpOwogICAgICB9OwoKICAgICAgd29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgICAgdGhpcy53b3JsZCA9IHdvcmxkOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgb25lIG9mIHRoZSB3aGVlbCBheGxlcywgd29ybGQtb3JpZW50ZWQuCiAgICAgKi8KCgogICAgZ2V0VmVoaWNsZUF4aXNXb3JsZChheGlzSW5kZXgsIHJlc3VsdCkgewogICAgICByZXN1bHQuc2V0KGF4aXNJbmRleCA9PT0gMCA/IDEgOiAwLCBheGlzSW5kZXggPT09IDEgPyAxIDogMCwgYXhpc0luZGV4ID09PSAyID8gMSA6IDApOwogICAgICB0aGlzLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZXN1bHQsIHJlc3VsdCk7CiAgICB9CgogICAgdXBkYXRlVmVoaWNsZSh0aW1lU3RlcCkgewogICAgICBjb25zdCB3aGVlbEluZm9zID0gdGhpcy53aGVlbEluZm9zOwogICAgICBjb25zdCBudW1XaGVlbHMgPSB3aGVlbEluZm9zLmxlbmd0aDsKICAgICAgY29uc3QgY2hhc3Npc0JvZHkgPSB0aGlzLmNoYXNzaXNCb2R5OwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIHRoaXMudXBkYXRlV2hlZWxUcmFuc2Zvcm0oaSk7CiAgICAgIH0KCiAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciA9IDMuNiAqIGNoYXNzaXNCb2R5LnZlbG9jaXR5Lmxlbmd0aCgpOwogICAgICBjb25zdCBmb3J3YXJkV29ybGQgPSBuZXcgVmVjMygpOwogICAgICB0aGlzLmdldFZlaGljbGVBeGlzV29ybGQodGhpcy5pbmRleEZvcndhcmRBeGlzLCBmb3J3YXJkV29ybGQpOwoKICAgICAgaWYgKGZvcndhcmRXb3JsZC5kb3QoY2hhc3Npc0JvZHkudmVsb2NpdHkpIDwgMCkgewogICAgICAgIHRoaXMuY3VycmVudFZlaGljbGVTcGVlZEttSG91ciAqPSAtMTsKICAgICAgfSAvLyBzaW11bGF0ZSBzdXNwZW5zaW9uCgoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIHRoaXMuY2FzdFJheSh3aGVlbEluZm9zW2ldKTsKICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVTdXNwZW5zaW9uKHRpbWVTdGVwKTsKICAgICAgY29uc3QgaW1wdWxzZSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgLy9hcHBseSBzdXNwZW5zaW9uIGZvcmNlCiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOwogICAgICAgIGxldCBzdXNwZW5zaW9uRm9yY2UgPSB3aGVlbC5zdXNwZW5zaW9uRm9yY2U7CgogICAgICAgIGlmIChzdXNwZW5zaW9uRm9yY2UgPiB3aGVlbC5tYXhTdXNwZW5zaW9uRm9yY2UpIHsKICAgICAgICAgIHN1c3BlbnNpb25Gb3JjZSA9IHdoZWVsLm1heFN1c3BlbnNpb25Gb3JjZTsKICAgICAgICB9CgogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUoc3VzcGVuc2lvbkZvcmNlICogdGltZVN0ZXAsIGltcHVsc2UpOwogICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGNoYXNzaXNCb2R5LnBvc2l0aW9uLCByZWxwb3MpOwogICAgICAgIGNoYXNzaXNCb2R5LmFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxwb3MpOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZUZyaWN0aW9uKHRpbWVTdGVwKTsKICAgICAgY29uc3QgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaiA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGZ3ZCA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IHZlbCA9IG5ldyBWZWMzKCk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVdoZWVsczsgaSsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW2ldOyAvL2NvbnN0IHJlbHBvcyA9IG5ldyBWZWMzKCk7CiAgICAgICAgLy93aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQudnN1YihjaGFzc2lzQm9keS5wb3NpdGlvbiwgcmVscG9zKTsKCiAgICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCB2ZWwpOyAvLyBIYWNrIHRvIGdldCB0aGUgcm90YXRpb24gaW4gdGhlIGNvcnJlY3QgZGlyZWN0aW9uCgogICAgICAgIGxldCBtID0gMTsKCiAgICAgICAgc3dpdGNoICh0aGlzLmluZGV4VXBBeGlzKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIG0gPSAtMTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHsKICAgICAgICAgIHRoaXMuZ2V0VmVoaWNsZUF4aXNXb3JsZCh0aGlzLmluZGV4Rm9yd2FyZEF4aXMsIGZ3ZCk7CiAgICAgICAgICBjb25zdCBwcm9qID0gZndkLmRvdCh3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTsKICAgICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuc2NhbGUocHJvaiwgaGl0Tm9ybWFsV29ybGRTY2FsZWRXaXRoUHJvaik7CiAgICAgICAgICBmd2QudnN1YihoaXROb3JtYWxXb3JsZFNjYWxlZFdpdGhQcm9qLCBmd2QpOwogICAgICAgICAgY29uc3QgcHJvajIgPSBmd2QuZG90KHZlbCk7CiAgICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gbSAqIHByb2oyICogdGltZVN0ZXAgLyB3aGVlbC5yYWRpdXM7CiAgICAgICAgfQoKICAgICAgICBpZiAoKHdoZWVsLnNsaWRpbmcgfHwgIXdoZWVsLmlzSW5Db250YWN0KSAmJiB3aGVlbC5lbmdpbmVGb3JjZSAhPT0gMCAmJiB3aGVlbC51c2VDdXN0b21TbGlkaW5nUm90YXRpb25hbFNwZWVkKSB7CiAgICAgICAgICAvLyBBcHBseSBjdXN0b20gcm90YXRpb24gd2hlbiBhY2NlbGVyYXRpbmcgYW5kIHNsaWRpbmcKICAgICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gPSAod2hlZWwuZW5naW5lRm9yY2UgPiAwID8gMSA6IC0xKSAqIHdoZWVsLmN1c3RvbVNsaWRpbmdSb3RhdGlvbmFsU3BlZWQgKiB0aW1lU3RlcDsKICAgICAgICB9IC8vIExvY2sgd2hlZWxzCgoKICAgICAgICBpZiAoTWF0aC5hYnMod2hlZWwuYnJha2UpID4gTWF0aC5hYnMod2hlZWwuZW5naW5lRm9yY2UpKSB7CiAgICAgICAgICB3aGVlbC5kZWx0YVJvdGF0aW9uID0gMDsKICAgICAgICB9CgogICAgICAgIHdoZWVsLnJvdGF0aW9uICs9IHdoZWVsLmRlbHRhUm90YXRpb247IC8vIFVzZSB0aGUgb2xkIHZhbHVlCgogICAgICAgIHdoZWVsLmRlbHRhUm90YXRpb24gKj0gMC45OTsgLy8gZGFtcGluZyBvZiByb3RhdGlvbiB3aGVuIG5vdCBpbiBjb250YWN0CiAgICAgIH0KICAgIH0KCiAgICB1cGRhdGVTdXNwZW5zaW9uKGRlbHRhVGltZSkgewogICAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CiAgICAgIGNvbnN0IGNoYXNzaXNNYXNzID0gY2hhc3Npc0JvZHkubWFzczsKICAgICAgY29uc3Qgd2hlZWxJbmZvcyA9IHRoaXMud2hlZWxJbmZvczsKICAgICAgY29uc3QgbnVtV2hlZWxzID0gd2hlZWxJbmZvcy5sZW5ndGg7CgogICAgICBmb3IgKGxldCB3X2l0ID0gMDsgd19pdCA8IG51bVdoZWVsczsgd19pdCsrKSB7CiAgICAgICAgY29uc3Qgd2hlZWwgPSB3aGVlbEluZm9zW3dfaXRdOwoKICAgICAgICBpZiAod2hlZWwuaXNJbkNvbnRhY3QpIHsKICAgICAgICAgIGxldCBmb3JjZTsgLy8gU3ByaW5nCgogICAgICAgICAgY29uc3Qgc3VzcF9sZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aDsKICAgICAgICAgIGNvbnN0IGN1cnJlbnRfbGVuZ3RoID0gd2hlZWwuc3VzcGVuc2lvbkxlbmd0aDsKICAgICAgICAgIGNvbnN0IGxlbmd0aF9kaWZmID0gc3VzcF9sZW5ndGggLSBjdXJyZW50X2xlbmd0aDsKICAgICAgICAgIGZvcmNlID0gd2hlZWwuc3VzcGVuc2lvblN0aWZmbmVzcyAqIGxlbmd0aF9kaWZmICogd2hlZWwuY2xpcHBlZEludkNvbnRhY3REb3RTdXNwZW5zaW9uOyAvLyBEYW1wZXIKCiAgICAgICAgICBjb25zdCBwcm9qZWN0ZWRfcmVsX3ZlbCA9IHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5OwogICAgICAgICAgbGV0IHN1c3BfZGFtcGluZzsKCiAgICAgICAgICBpZiAocHJvamVjdGVkX3JlbF92ZWwgPCAwKSB7CiAgICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdDb21wcmVzc2lvbjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN1c3BfZGFtcGluZyA9IHdoZWVsLmRhbXBpbmdSZWxheGF0aW9uOwogICAgICAgICAgfQoKICAgICAgICAgIGZvcmNlIC09IHN1c3BfZGFtcGluZyAqIHByb2plY3RlZF9yZWxfdmVsOwogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkZvcmNlID0gZm9yY2UgKiBjaGFzc2lzTWFzczsKCiAgICAgICAgICBpZiAod2hlZWwuc3VzcGVuc2lvbkZvcmNlIDwgMCkgewogICAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPSAwOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uRm9yY2UgPSAwOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmUgdGhlIHZlaGljbGUgaW5jbHVkaW5nIGl0cyBjb25zdHJhaW50cyBmcm9tIHRoZSB3b3JsZC4KICAgICAqLwoKCiAgICByZW1vdmVGcm9tV29ybGQod29ybGQpIHsKICAgICAgdGhpcy5jb25zdHJhaW50czsKICAgICAgd29ybGQucmVtb3ZlQm9keSh0aGlzLmNoYXNzaXNCb2R5KTsKICAgICAgd29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTsKICAgICAgdGhpcy53b3JsZCA9IG51bGw7CiAgICB9CgogICAgY2FzdFJheSh3aGVlbCkgewogICAgICBjb25zdCByYXl2ZWN0b3IgPSBjYXN0UmF5X3JheXZlY3RvcjsKICAgICAgY29uc3QgdGFyZ2V0ID0gY2FzdFJheV90YXJnZXQ7CiAgICAgIHRoaXMudXBkYXRlV2hlZWxUcmFuc2Zvcm1Xb3JsZCh3aGVlbCk7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgICAgbGV0IGRlcHRoID0gLTE7CiAgICAgIGNvbnN0IHJheWxlbiA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwucmFkaXVzOwogICAgICB3aGVlbC5kaXJlY3Rpb25Xb3JsZC5zY2FsZShyYXlsZW4sIHJheXZlY3Rvcik7CiAgICAgIGNvbnN0IHNvdXJjZSA9IHdoZWVsLmNoYXNzaXNDb25uZWN0aW9uUG9pbnRXb3JsZDsKICAgICAgc291cmNlLnZhZGQocmF5dmVjdG9yLCB0YXJnZXQpOwogICAgICBjb25zdCByYXljYXN0UmVzdWx0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdDsKICAgICAgcmF5Y2FzdFJlc3VsdC5yZXNldCgpOyAvLyBUdXJuIG9mZiByYXkgY29sbGlzaW9uIHdpdGggdGhlIGNoYXNzaXMgdGVtcG9yYXJpbHkKCiAgICAgIGNvbnN0IG9sZFN0YXRlID0gY2hhc3Npc0JvZHkuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gZmFsc2U7IC8vIENhc3QgcmF5IGFnYWluc3Qgd29ybGQKCiAgICAgIHRoaXMud29ybGQucmF5VGVzdChzb3VyY2UsIHRhcmdldCwgcmF5Y2FzdFJlc3VsdCk7CiAgICAgIGNoYXNzaXNCb2R5LmNvbGxpc2lvblJlc3BvbnNlID0gb2xkU3RhdGU7CiAgICAgIGNvbnN0IG9iamVjdCA9IHJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5ncm91bmRPYmplY3QgPSAwOwoKICAgICAgaWYgKG9iamVjdCkgewogICAgICAgIGRlcHRoID0gcmF5Y2FzdFJlc3VsdC5kaXN0YW5jZTsKICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkID0gcmF5Y2FzdFJlc3VsdC5oaXROb3JtYWxXb3JsZDsKICAgICAgICB3aGVlbC5pc0luQ29udGFjdCA9IHRydWU7CiAgICAgICAgY29uc3QgaGl0RGlzdGFuY2UgPSByYXljYXN0UmVzdWx0LmRpc3RhbmNlOwogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSBoaXREaXN0YW5jZSAtIHdoZWVsLnJhZGl1czsgLy8gY2xhbXAgb24gbWF4IHN1c3BlbnNpb24gdHJhdmVsCgogICAgICAgIGNvbnN0IG1pblN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCAtIHdoZWVsLm1heFN1c3BlbnNpb25UcmF2ZWw7CiAgICAgICAgY29uc3QgbWF4U3VzcGVuc2lvbkxlbmd0aCA9IHdoZWVsLnN1c3BlbnNpb25SZXN0TGVuZ3RoICsgd2hlZWwubWF4U3VzcGVuc2lvblRyYXZlbDsKCiAgICAgICAgaWYgKHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPCBtaW5TdXNwZW5zaW9uTGVuZ3RoKSB7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID0gbWluU3VzcGVuc2lvbkxlbmd0aDsKICAgICAgICB9CgogICAgICAgIGlmICh3aGVlbC5zdXNwZW5zaW9uTGVuZ3RoID4gbWF4U3VzcGVuc2lvbkxlbmd0aCkgewogICAgICAgICAgd2hlZWwuc3VzcGVuc2lvbkxlbmd0aCA9IG1heFN1c3BlbnNpb25MZW5ndGg7CiAgICAgICAgICB3aGVlbC5yYXljYXN0UmVzdWx0LnJlc2V0KCk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBkZW5vbWluYXRvciA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgICBjb25zdCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCA9IG5ldyBWZWMzKCk7CiAgICAgICAgY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBjaGFzc2lzX3ZlbG9jaXR5X2F0X2NvbnRhY3RQb2ludCk7CiAgICAgICAgY29uc3QgcHJvalZlbCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQuZG90KGNoYXNzaXNfdmVsb2NpdHlfYXRfY29udGFjdFBvaW50KTsKCiAgICAgICAgaWYgKGRlbm9taW5hdG9yID49IC0wLjEpIHsKICAgICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMDsKICAgICAgICAgIHdoZWVsLmNsaXBwZWRJbnZDb250YWN0RG90U3VzcGVuc2lvbiA9IDEgLyAwLjE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IGludiA9IC0xIC8gZGVub21pbmF0b3I7CiAgICAgICAgICB3aGVlbC5zdXNwZW5zaW9uUmVsYXRpdmVWZWxvY2l0eSA9IHByb2pWZWwgKiBpbnY7CiAgICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSBpbnY7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vcHV0IHdoZWVsIGluZm8gYXMgaW4gcmVzdCBwb3NpdGlvbgogICAgICAgIHdoZWVsLnN1c3BlbnNpb25MZW5ndGggPSB3aGVlbC5zdXNwZW5zaW9uUmVzdExlbmd0aCArIDAgKiB3aGVlbC5tYXhTdXNwZW5zaW9uVHJhdmVsOwogICAgICAgIHdoZWVsLnN1c3BlbnNpb25SZWxhdGl2ZVZlbG9jaXR5ID0gMC4wOwogICAgICAgIHdoZWVsLmRpcmVjdGlvbldvcmxkLnNjYWxlKC0xLCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdE5vcm1hbFdvcmxkKTsKICAgICAgICB3aGVlbC5jbGlwcGVkSW52Q29udGFjdERvdFN1c3BlbnNpb24gPSAxLjA7CiAgICAgIH0KCiAgICAgIHJldHVybiBkZXB0aDsKICAgIH0KCiAgICB1cGRhdGVXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsKSB7CiAgICAgIHdoZWVsLmlzSW5Db250YWN0ID0gZmFsc2U7CiAgICAgIGNvbnN0IGNoYXNzaXNCb2R5ID0gdGhpcy5jaGFzc2lzQm9keTsKICAgICAgY2hhc3Npc0JvZHkucG9pbnRUb1dvcmxkRnJhbWUod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsLCB3aGVlbC5jaGFzc2lzQ29ubmVjdGlvblBvaW50V29ybGQpOwogICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUod2hlZWwuZGlyZWN0aW9uTG9jYWwsIHdoZWVsLmRpcmVjdGlvbldvcmxkKTsKICAgICAgY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHdoZWVsLmF4bGVMb2NhbCwgd2hlZWwuYXhsZVdvcmxkKTsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIG9uZSBvZiB0aGUgd2hlZWwgdHJhbnNmb3JtLgogICAgICogTm90ZSB3aGVuIHJlbmRlcmluZyB3aGVlbHM6IGR1cmluZyBlYWNoIHN0ZXAsIHdoZWVsIHRyYW5zZm9ybXMgYXJlIHVwZGF0ZWQgQkVGT1JFIHRoZSBjaGFzc2lzOyBpZS4gdGhlaXIgcG9zaXRpb24gYmVjb21lcyBpbnZhbGlkIGFmdGVyIHRoZSBzdGVwLiBUaHVzIHdoZW4geW91IHJlbmRlciB3aGVlbHMsIHlvdSBtdXN0IHVwZGF0ZSB3aGVlbCB0cmFuc2Zvcm1zIGJlZm9yZSByZW5kZXJpbmcgdGhlbS4gU2VlIHJheWNhc3RWZWhpY2xlIGRlbW8gZm9yIGFuIGV4YW1wbGUuCiAgICAgKiBAcGFyYW0gd2hlZWxJbmRleCBUaGUgd2hlZWwgaW5kZXggdG8gdXBkYXRlLgogICAgICovCgoKICAgIHVwZGF0ZVdoZWVsVHJhbnNmb3JtKHdoZWVsSW5kZXgpIHsKICAgICAgY29uc3QgdXAgPSB0bXBWZWM0OwogICAgICBjb25zdCByaWdodCA9IHRtcFZlYzU7CiAgICAgIGNvbnN0IGZ3ZCA9IHRtcFZlYzY7CiAgICAgIGNvbnN0IHdoZWVsID0gdGhpcy53aGVlbEluZm9zW3doZWVsSW5kZXhdOwogICAgICB0aGlzLnVwZGF0ZVdoZWVsVHJhbnNmb3JtV29ybGQod2hlZWwpOwogICAgICB3aGVlbC5kaXJlY3Rpb25Mb2NhbC5zY2FsZSgtMSwgdXApOwogICAgICByaWdodC5jb3B5KHdoZWVsLmF4bGVMb2NhbCk7CiAgICAgIHVwLmNyb3NzKHJpZ2h0LCBmd2QpOwogICAgICBmd2Qubm9ybWFsaXplKCk7CiAgICAgIHJpZ2h0Lm5vcm1hbGl6ZSgpOyAvLyBSb3RhdGUgYXJvdW5kIHN0ZWVyaW5nIG92ZXIgdGhlIHdoZWVsQXhsZQoKICAgICAgY29uc3Qgc3RlZXJpbmcgPSB3aGVlbC5zdGVlcmluZzsKICAgICAgY29uc3Qgc3RlZXJpbmdPcm4gPSBuZXcgUXVhdGVybmlvbigpOwogICAgICBzdGVlcmluZ09ybi5zZXRGcm9tQXhpc0FuZ2xlKHVwLCBzdGVlcmluZyk7CiAgICAgIGNvbnN0IHJvdGF0aW5nT3JuID0gbmV3IFF1YXRlcm5pb24oKTsKICAgICAgcm90YXRpbmdPcm4uc2V0RnJvbUF4aXNBbmdsZShyaWdodCwgd2hlZWwucm90YXRpb24pOyAvLyBXb3JsZCByb3RhdGlvbiBvZiB0aGUgd2hlZWwKCiAgICAgIGNvbnN0IHEgPSB3aGVlbC53b3JsZFRyYW5zZm9ybS5xdWF0ZXJuaW9uOwogICAgICB0aGlzLmNoYXNzaXNCb2R5LnF1YXRlcm5pb24ubXVsdChzdGVlcmluZ09ybiwgcSk7CiAgICAgIHEubXVsdChyb3RhdGluZ09ybiwgcSk7CiAgICAgIHEubm9ybWFsaXplKCk7IC8vIHdvcmxkIHBvc2l0aW9uIG9mIHRoZSB3aGVlbAoKICAgICAgY29uc3QgcCA9IHdoZWVsLndvcmxkVHJhbnNmb3JtLnBvc2l0aW9uOwogICAgICBwLmNvcHkod2hlZWwuZGlyZWN0aW9uV29ybGQpOwogICAgICBwLnNjYWxlKHdoZWVsLnN1c3BlbnNpb25MZW5ndGgsIHApOwogICAgICBwLnZhZGQod2hlZWwuY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludFdvcmxkLCBwKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSB3b3JsZCB0cmFuc2Zvcm0gb2Ygb25lIG9mIHRoZSB3aGVlbHMKICAgICAqLwoKCiAgICBnZXRXaGVlbFRyYW5zZm9ybVdvcmxkKHdoZWVsSW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMud2hlZWxJbmZvc1t3aGVlbEluZGV4XS53b3JsZFRyYW5zZm9ybTsKICAgIH0KCiAgICB1cGRhdGVGcmljdGlvbih0aW1lU3RlcCkgewogICAgICBjb25zdCBzdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2o7IC8vY2FsY3VsYXRlIHRoZSBpbXB1bHNlLCBzbyB0aGF0IHRoZSB3aGVlbHMgZG9uJ3QgbW92ZSBzaWRld2FyZHMKCiAgICAgIGNvbnN0IHdoZWVsSW5mb3MgPSB0aGlzLndoZWVsSW5mb3M7CiAgICAgIGNvbnN0IG51bVdoZWVscyA9IHdoZWVsSW5mb3MubGVuZ3RoOwogICAgICBjb25zdCBjaGFzc2lzQm9keSA9IHRoaXMuY2hhc3Npc0JvZHk7CiAgICAgIGNvbnN0IGZvcndhcmRXUyA9IHVwZGF0ZUZyaWN0aW9uX2ZvcndhcmRXUzsKICAgICAgY29uc3QgYXhsZSA9IHVwZGF0ZUZyaWN0aW9uX2F4bGU7CiAgICAgIHRoaXMubnVtV2hlZWxzT25Hcm91bmQgPSAwOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7CgogICAgICAgIGlmIChncm91bmRPYmplY3QpIHsKICAgICAgICAgIHRoaXMubnVtV2hlZWxzT25Hcm91bmQrKzsKICAgICAgICB9CgogICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gMDsKICAgICAgICB3aGVlbC5mb3J3YXJkSW1wdWxzZSA9IDA7CgogICAgICAgIGlmICghZm9yd2FyZFdTW2ldKSB7CiAgICAgICAgICBmb3J3YXJkV1NbaV0gPSBuZXcgVmVjMygpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFheGxlW2ldKSB7CiAgICAgICAgICBheGxlW2ldID0gbmV3IFZlYzMoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgICAgY29uc3QgZ3JvdW5kT2JqZWN0ID0gd2hlZWwucmF5Y2FzdFJlc3VsdC5ib2R5OwoKICAgICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7CiAgICAgICAgICBjb25zdCBheGxlaSA9IGF4bGVbaV07CiAgICAgICAgICBjb25zdCB3aGVlbFRyYW5zID0gdGhpcy5nZXRXaGVlbFRyYW5zZm9ybVdvcmxkKGkpOyAvLyBHZXQgd29ybGQgYXhsZQoKICAgICAgICAgIHdoZWVsVHJhbnMudmVjdG9yVG9Xb3JsZEZyYW1lKGRpcmVjdGlvbnNbdGhpcy5pbmRleFJpZ2h0QXhpc10sIGF4bGVpKTsKICAgICAgICAgIGNvbnN0IHN1cmZOb3JtYWxXUyA9IHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0Tm9ybWFsV29ybGQ7CiAgICAgICAgICBjb25zdCBwcm9qID0gYXhsZWkuZG90KHN1cmZOb3JtYWxXUyk7CiAgICAgICAgICBzdXJmTm9ybWFsV1Muc2NhbGUocHJvaiwgc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qKTsKICAgICAgICAgIGF4bGVpLnZzdWIoc3VyZk5vcm1hbFdTX3NjYWxlZF9wcm9qLCBheGxlaSk7CiAgICAgICAgICBheGxlaS5ub3JtYWxpemUoKTsKICAgICAgICAgIHN1cmZOb3JtYWxXUy5jcm9zcyhheGxlaSwgZm9yd2FyZFdTW2ldKTsKICAgICAgICAgIGZvcndhcmRXU1tpXS5ub3JtYWxpemUoKTsKICAgICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlID0gcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbChjaGFzc2lzQm9keSwgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLCBncm91bmRPYmplY3QsIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZCwgYXhsZWkpOwogICAgICAgICAgd2hlZWwuc2lkZUltcHVsc2UgKj0gc2lkZUZyaWN0aW9uU3RpZmZuZXNzMjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IHNpZGVGYWN0b3IgPSAxOwogICAgICBjb25zdCBmd2RGYWN0b3IgPSAwLjU7CiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1XaGVlbHM7IGkrKykgewogICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKICAgICAgICBjb25zdCBncm91bmRPYmplY3QgPSB3aGVlbC5yYXljYXN0UmVzdWx0LmJvZHk7CiAgICAgICAgbGV0IHJvbGxpbmdGcmljdGlvbiA9IDA7CiAgICAgICAgd2hlZWwuc2xpcEluZm8gPSAxOwoKICAgICAgICBpZiAoZ3JvdW5kT2JqZWN0KSB7CiAgICAgICAgICBjb25zdCBkZWZhdWx0Um9sbGluZ0ZyaWN0aW9uSW1wdWxzZSA9IDA7CiAgICAgICAgICBjb25zdCBtYXhJbXB1bHNlID0gd2hlZWwuYnJha2UgPyB3aGVlbC5icmFrZSA6IGRlZmF1bHRSb2xsaW5nRnJpY3Rpb25JbXB1bHNlOyAvLyBidFdoZWVsQ29udGFjdFBvaW50IGNvbnRhY3RQdChjaGFzc2lzQm9keSxncm91bmRPYmplY3Qsd2hlZWxJbmZyYXljYXN0SW5mby5oaXRQb2ludFdvcmxkLGZvcndhcmRXU1t3aGVlbF0sbWF4SW1wdWxzZSk7CiAgICAgICAgICAvLyByb2xsaW5nRnJpY3Rpb24gPSBjYWxjUm9sbGluZ0ZyaWN0aW9uKGNvbnRhY3RQdCk7CgogICAgICAgICAgcm9sbGluZ0ZyaWN0aW9uID0gY2FsY1JvbGxpbmdGcmljdGlvbihjaGFzc2lzQm9keSwgZ3JvdW5kT2JqZWN0LCB3aGVlbC5yYXljYXN0UmVzdWx0LmhpdFBvaW50V29ybGQsIGZvcndhcmRXU1tpXSwgbWF4SW1wdWxzZSk7CiAgICAgICAgICByb2xsaW5nRnJpY3Rpb24gKz0gd2hlZWwuZW5naW5lRm9yY2UgKiB0aW1lU3RlcDsgLy8gcm9sbGluZ0ZyaWN0aW9uID0gMDsKCiAgICAgICAgICBjb25zdCBmYWN0b3IgPSBtYXhJbXB1bHNlIC8gcm9sbGluZ0ZyaWN0aW9uOwogICAgICAgICAgd2hlZWwuc2xpcEluZm8gKj0gZmFjdG9yOwogICAgICAgIH0gLy9zd2l0Y2ggYmV0d2VlbiBhY3RpdmUgcm9sbGluZyAodGhyb3R0bGUpLCBicmFraW5nIGFuZCBub24tYWN0aXZlIHJvbGxpbmcgZnJpY3Rpb24gKG50aHJvdHRsZS9icmVhaykKCgogICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlID0gMDsKICAgICAgICB3aGVlbC5za2lkSW5mbyA9IDE7CgogICAgICAgIGlmIChncm91bmRPYmplY3QpIHsKICAgICAgICAgIHdoZWVsLnNraWRJbmZvID0gMTsKICAgICAgICAgIGNvbnN0IG1heGltcCA9IHdoZWVsLnN1c3BlbnNpb25Gb3JjZSAqIHRpbWVTdGVwICogd2hlZWwuZnJpY3Rpb25TbGlwOwogICAgICAgICAgY29uc3QgbWF4aW1wU2lkZSA9IG1heGltcDsKICAgICAgICAgIGNvbnN0IG1heGltcFNxdWFyZWQgPSBtYXhpbXAgKiBtYXhpbXBTaWRlOwogICAgICAgICAgd2hlZWwuZm9yd2FyZEltcHVsc2UgPSByb2xsaW5nRnJpY3Rpb247IC8vd2hlZWxJbmZvLmVuZ2luZUZvcmNlKiB0aW1lU3RlcDsKCiAgICAgICAgICBjb25zdCB4ID0gd2hlZWwuZm9yd2FyZEltcHVsc2UgKiBmd2RGYWN0b3IgLyB3aGVlbC5mb3J3YXJkQWNjZWxlcmF0aW9uOwogICAgICAgICAgY29uc3QgeSA9IHdoZWVsLnNpZGVJbXB1bHNlICogc2lkZUZhY3RvciAvIHdoZWVsLnNpZGVBY2NlbGVyYXRpb247CiAgICAgICAgICBjb25zdCBpbXB1bHNlU3F1YXJlZCA9IHggKiB4ICsgeSAqIHk7CiAgICAgICAgICB3aGVlbC5zbGlkaW5nID0gZmFsc2U7CgogICAgICAgICAgaWYgKGltcHVsc2VTcXVhcmVkID4gbWF4aW1wU3F1YXJlZCkgewogICAgICAgICAgICB0aGlzLnNsaWRpbmcgPSB0cnVlOwogICAgICAgICAgICB3aGVlbC5zbGlkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gbWF4aW1wIC8gTWF0aC5zcXJ0KGltcHVsc2VTcXVhcmVkKTsKICAgICAgICAgICAgd2hlZWwuc2tpZEluZm8gKj0gZmFjdG9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2xpZGluZykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICAgIGNvbnN0IHdoZWVsID0gd2hlZWxJbmZvc1tpXTsKCiAgICAgICAgICBpZiAod2hlZWwuc2lkZUltcHVsc2UgIT09IDApIHsKICAgICAgICAgICAgaWYgKHdoZWVsLnNraWRJbmZvIDwgMSkgewogICAgICAgICAgICAgIHdoZWVsLmZvcndhcmRJbXB1bHNlICo9IHdoZWVsLnNraWRJbmZvOwogICAgICAgICAgICAgIHdoZWVsLnNpZGVJbXB1bHNlICo9IHdoZWVsLnNraWRJbmZvOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIGFwcGx5IHRoZSBpbXB1bHNlcwoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtV2hlZWxzOyBpKyspIHsKICAgICAgICBjb25zdCB3aGVlbCA9IHdoZWVsSW5mb3NbaV07CiAgICAgICAgY29uc3QgcmVsX3BvcyA9IG5ldyBWZWMzKCk7CiAgICAgICAgd2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkLnZzdWIoY2hhc3Npc0JvZHkucG9zaXRpb24sIHJlbF9wb3MpOyAvLyBjYW5ub25zIGFwcGx5aW1wdWxzZSBpcyB1c2luZyB3b3JsZCBjb29yZCBmb3IgdGhlIHBvc2l0aW9uCiAgICAgICAgLy9yZWxfcG9zLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTsKCiAgICAgICAgaWYgKHdoZWVsLmZvcndhcmRJbXB1bHNlICE9PSAwKSB7CiAgICAgICAgICBjb25zdCBpbXB1bHNlID0gbmV3IFZlYzMoKTsKICAgICAgICAgIGZvcndhcmRXU1tpXS5zY2FsZSh3aGVlbC5mb3J3YXJkSW1wdWxzZSwgaW1wdWxzZSk7CiAgICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2UoaW1wdWxzZSwgcmVsX3Bvcyk7CiAgICAgICAgfQoKICAgICAgICBpZiAod2hlZWwuc2lkZUltcHVsc2UgIT09IDApIHsKICAgICAgICAgIGNvbnN0IGdyb3VuZE9iamVjdCA9IHdoZWVsLnJheWNhc3RSZXN1bHQuYm9keTsKICAgICAgICAgIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTsKICAgICAgICAgIHdoZWVsLnJheWNhc3RSZXN1bHQuaGl0UG9pbnRXb3JsZC52c3ViKGdyb3VuZE9iamVjdC5wb3NpdGlvbiwgcmVsX3BvczIpOyAvL3JlbF9wb3MyLmNvcHkod2hlZWwucmF5Y2FzdFJlc3VsdC5oaXRQb2ludFdvcmxkKTsKCiAgICAgICAgICBjb25zdCBzaWRlSW1wID0gbmV3IFZlYzMoKTsKICAgICAgICAgIGF4bGVbaV0uc2NhbGUod2hlZWwuc2lkZUltcHVsc2UsIHNpZGVJbXApOyAvLyBTY2FsZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gaW4gdGhlIHVwIGRpcmVjdGlvbiB3aXRoIHJvbGxJbmZsdWVuY2UuCiAgICAgICAgICAvLyBJZiByb2xsSW5mbHVlbmNlIGlzIDEsIHRoZSBpbXB1bHNlIHdpbGwgYmUgYXBwbGllZCBvbiB0aGUgaGl0UG9pbnQgKGVhc3kgdG8gcm9sbCBvdmVyKSwgaWYgaXQgaXMgemVybyBpdCB3aWxsIGJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgcGxhbmUgYXMgdGhlIGNlbnRlciBvZiBtYXNzIChub3QgZWFzeSB0byByb2xsIG92ZXIpLgoKICAgICAgICAgIGNoYXNzaXNCb2R5LnZlY3RvclRvTG9jYWxGcmFtZShyZWxfcG9zLCByZWxfcG9zKTsKICAgICAgICAgIHJlbF9wb3NbJ3h5eidbdGhpcy5pbmRleFVwQXhpc11dICo9IHdoZWVsLnJvbGxJbmZsdWVuY2U7CiAgICAgICAgICBjaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUocmVsX3BvcywgcmVsX3Bvcyk7CiAgICAgICAgICBjaGFzc2lzQm9keS5hcHBseUltcHVsc2Uoc2lkZUltcCwgcmVsX3Bvcyk7IC8vYXBwbHkgZnJpY3Rpb24gaW1wdWxzZSBvbiB0aGUgZ3JvdW5kCgogICAgICAgICAgc2lkZUltcC5zY2FsZSgtMSwgc2lkZUltcCk7CiAgICAgICAgICBncm91bmRPYmplY3QuYXBwbHlJbXB1bHNlKHNpZGVJbXAsIHJlbF9wb3MyKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfQogIG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzQgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzUgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcFZlYzYgPSBuZXcgVmVjMygpOwogIG5ldyBSYXkoKTsKICBuZXcgVmVjMygpOwogIGNvbnN0IGNhc3RSYXlfcmF5dmVjdG9yID0gbmV3IFZlYzMoKTsKICBjb25zdCBjYXN0UmF5X3RhcmdldCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZGlyZWN0aW9ucyA9IFtuZXcgVmVjMygxLCAwLCAwKSwgbmV3IFZlYzMoMCwgMSwgMCksIG5ldyBWZWMzKDAsIDAsIDEpXTsKICBjb25zdCB1cGRhdGVGcmljdGlvbl9zdXJmTm9ybWFsV1Nfc2NhbGVkX3Byb2ogPSBuZXcgVmVjMygpOwogIGNvbnN0IHVwZGF0ZUZyaWN0aW9uX2F4bGUgPSBbXTsKICBjb25zdCB1cGRhdGVGcmljdGlvbl9mb3J3YXJkV1MgPSBbXTsKICBjb25zdCBzaWRlRnJpY3Rpb25TdGlmZm5lc3MyID0gMTsKICBjb25zdCBjYWxjUm9sbGluZ0ZyaWN0aW9uX3ZlbDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBjYWxjUm9sbGluZ0ZyaWN0aW9uKGJvZHkwLCBib2R5MSwgZnJpY3Rpb25Qb3NXb3JsZCwgZnJpY3Rpb25EaXJlY3Rpb25Xb3JsZCwgbWF4SW1wdWxzZSkgewogICAgbGV0IGoxID0gMDsKICAgIGNvbnN0IGNvbnRhY3RQb3NXb3JsZCA9IGZyaWN0aW9uUG9zV29ybGQ7IC8vIGNvbnN0IHJlbF9wb3MxID0gbmV3IFZlYzMoKTsKICAgIC8vIGNvbnN0IHJlbF9wb3MyID0gbmV3IFZlYzMoKTsKCiAgICBjb25zdCB2ZWwxID0gY2FsY1JvbGxpbmdGcmljdGlvbl92ZWwxOwogICAgY29uc3QgdmVsMiA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsMjsKICAgIGNvbnN0IHZlbCA9IGNhbGNSb2xsaW5nRnJpY3Rpb25fdmVsOyAvLyBjb250YWN0UG9zV29ybGQudnN1Yihib2R5MC5wb3NpdGlvbiwgcmVsX3BvczEpOwogICAgLy8gY29udGFjdFBvc1dvcmxkLnZzdWIoYm9keTEucG9zaXRpb24sIHJlbF9wb3MyKTsKCiAgICBib2R5MC5nZXRWZWxvY2l0eUF0V29ybGRQb2ludChjb250YWN0UG9zV29ybGQsIHZlbDEpOwogICAgYm9keTEuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQoY29udGFjdFBvc1dvcmxkLCB2ZWwyKTsKICAgIHZlbDEudnN1Yih2ZWwyLCB2ZWwpOwogICAgY29uc3QgdnJlbCA9IGZyaWN0aW9uRGlyZWN0aW9uV29ybGQuZG90KHZlbCk7CiAgICBjb25zdCBkZW5vbTAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yKGJvZHkwLCBmcmljdGlvblBvc1dvcmxkLCBmcmljdGlvbkRpcmVjdGlvbldvcmxkKTsKICAgIGNvbnN0IGRlbm9tMSA9IGNvbXB1dGVJbXB1bHNlRGVub21pbmF0b3IoYm9keTEsIGZyaWN0aW9uUG9zV29ybGQsIGZyaWN0aW9uRGlyZWN0aW9uV29ybGQpOwogICAgY29uc3QgcmVsYXhhdGlvbiA9IDE7CiAgICBjb25zdCBqYWNEaWFnQUJJbnYgPSByZWxheGF0aW9uIC8gKGRlbm9tMCArIGRlbm9tMSk7IC8vIGNhbGN1bGF0ZSBqIHRoYXQgbW92ZXMgdXMgdG8gemVybyByZWxhdGl2ZSB2ZWxvY2l0eQoKICAgIGoxID0gLXZyZWwgKiBqYWNEaWFnQUJJbnY7CgogICAgaWYgKG1heEltcHVsc2UgPCBqMSkgewogICAgICBqMSA9IG1heEltcHVsc2U7CiAgICB9CgogICAgaWYgKGoxIDwgLW1heEltcHVsc2UpIHsKICAgICAgajEgPSAtbWF4SW1wdWxzZTsKICAgIH0KCiAgICByZXR1cm4gajE7CiAgfQoKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3ZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tID0gbmV3IFZlYzMoKTsKCiAgZnVuY3Rpb24gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcihib2R5LCBwb3MsIG5vcm1hbCkgewogICAgY29uc3QgcjAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX3IwOwogICAgY29uc3QgYzAgPSBjb21wdXRlSW1wdWxzZURlbm9taW5hdG9yX2MwOwogICAgY29uc3QgdmVjID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl92ZWM7CiAgICBjb25zdCBtID0gY29tcHV0ZUltcHVsc2VEZW5vbWluYXRvcl9tOwogICAgcG9zLnZzdWIoYm9keS5wb3NpdGlvbiwgcjApOwogICAgcjAuY3Jvc3Mobm9ybWFsLCBjMCk7CiAgICBib2R5LmludkluZXJ0aWFXb3JsZC52bXVsdChjMCwgbSk7CiAgICBtLmNyb3NzKHIwLCB2ZWMpOwogICAgcmV0dXJuIGJvZHkuaW52TWFzcyArIG5vcm1hbC5kb3QodmVjKTsKICB9CgogIGNvbnN0IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcmVzb2x2ZVNpbmdsZUJpbGF0ZXJhbF92ZWwyID0gbmV3IFZlYzMoKTsKICBjb25zdCByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbCA9IG5ldyBWZWMzKCk7IC8vIGJpbGF0ZXJhbCBjb25zdHJhaW50IGJldHdlZW4gdHdvIGR5bmFtaWMgb2JqZWN0cwoKICBmdW5jdGlvbiByZXNvbHZlU2luZ2xlQmlsYXRlcmFsKGJvZHkxLCBwb3MxLCBib2R5MiwgcG9zMiwgbm9ybWFsKSB7CiAgICBjb25zdCBub3JtYWxMZW5TcXIgPSBub3JtYWwubGVuZ3RoU3F1YXJlZCgpOwoKICAgIGlmIChub3JtYWxMZW5TcXIgPiAxLjEpIHsKICAgICAgcmV0dXJuIDA7IC8vIG5vIGltcHVsc2UKICAgIH0gLy8gY29uc3QgcmVsX3BvczEgPSBuZXcgVmVjMygpOwogICAgLy8gY29uc3QgcmVsX3BvczIgPSBuZXcgVmVjMygpOwogICAgLy8gcG9zMS52c3ViKGJvZHkxLnBvc2l0aW9uLCByZWxfcG9zMSk7CiAgICAvLyBwb3MyLnZzdWIoYm9keTIucG9zaXRpb24sIHJlbF9wb3MyKTsKCgogICAgY29uc3QgdmVsMSA9IHJlc29sdmVTaW5nbGVCaWxhdGVyYWxfdmVsMTsKICAgIGNvbnN0IHZlbDIgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDI7CiAgICBjb25zdCB2ZWwgPSByZXNvbHZlU2luZ2xlQmlsYXRlcmFsX3ZlbDsKICAgIGJvZHkxLmdldFZlbG9jaXR5QXRXb3JsZFBvaW50KHBvczEsIHZlbDEpOwogICAgYm9keTIuZ2V0VmVsb2NpdHlBdFdvcmxkUG9pbnQocG9zMiwgdmVsMik7CiAgICB2ZWwxLnZzdWIodmVsMiwgdmVsKTsKICAgIGNvbnN0IHJlbF92ZWwgPSBub3JtYWwuZG90KHZlbCk7CiAgICBjb25zdCBjb250YWN0RGFtcGluZyA9IDAuMjsKICAgIGNvbnN0IG1hc3NUZXJtID0gMSAvIChib2R5MS5pbnZNYXNzICsgYm9keTIuaW52TWFzcyk7CiAgICBjb25zdCBpbXB1bHNlID0gLWNvbnRhY3REYW1waW5nICogcmVsX3ZlbCAqIG1hc3NUZXJtOwogICAgcmV0dXJuIGltcHVsc2U7CiAgfQoKICAvKioKICAgKiBTcGhlcmljYWwgc2hhcGUKICAgKiBAZXhhbXBsZQogICAqICAgICBjb25zdCByYWRpdXMgPSAxCiAgICogICAgIGNvbnN0IHNwaGVyZVNoYXBlID0gbmV3IENBTk5PTi5TcGhlcmUocmFkaXVzKQogICAqICAgICBjb25zdCBzcGhlcmVCb2R5ID0gbmV3IENBTk5PTi5Cb2R5KHsgbWFzczogMSwgc2hhcGU6IHNwaGVyZVNoYXBlIH0pCiAgICogICAgIHdvcmxkLmFkZEJvZHkoc3BoZXJlQm9keSkKICAgKi8KICBjbGFzcyBTcGhlcmUgZXh0ZW5kcyBTaGFwZSB7CiAgICAvKioKICAgICAqIFRoZSByYWRpdXMgb2YgdGhlIHNwaGVyZS4KICAgICAqLwoKICAgIC8qKgogICAgICoKICAgICAqIEBwYXJhbSByYWRpdXMgVGhlIHJhZGl1cyBvZiB0aGUgc3BoZXJlLCBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuCiAgICAgKi8KICAgIGNvbnN0cnVjdG9yKHJhZGl1cykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuU1BIRVJFCiAgICAgIH0pOwogICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cyAhPT0gdW5kZWZpbmVkID8gcmFkaXVzIDogMS4wOwoKICAgICAgaWYgKHRoaXMucmFkaXVzIDwgMCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHNwaGVyZSByYWRpdXMgY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgICB9CgogICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICB9CiAgICAvKiogY2FsY3VsYXRlTG9jYWxJbmVydGlhICovCgoKICAgIGNhbGN1bGF0ZUxvY2FsSW5lcnRpYShtYXNzLCB0YXJnZXQpIHsKICAgICAgaWYgKHRhcmdldCA9PT0gdm9pZCAwKSB7CiAgICAgICAgdGFyZ2V0ID0gbmV3IFZlYzMoKTsKICAgICAgfQoKICAgICAgY29uc3QgSSA9IDIuMCAqIG1hc3MgKiB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzIC8gNS4wOwogICAgICB0YXJnZXQueCA9IEk7CiAgICAgIHRhcmdldC55ID0gSTsKICAgICAgdGFyZ2V0LnogPSBJOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQogICAgLyoqIHZvbHVtZSAqLwoKCiAgICB2b2x1bWUoKSB7CiAgICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogTWF0aC5wb3codGhpcy5yYWRpdXMsIDMpIC8gMy4wOwogICAgfQoKICAgIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gdGhpcy5yYWRpdXM7CiAgICB9CgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgY29uc3QgciA9IHRoaXMucmFkaXVzOwogICAgICBjb25zdCBheGVzID0gWyd4JywgJ3knLCAneiddOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgYXggPSBheGVzW2ldOwogICAgICAgIG1pbltheF0gPSBwb3NbYXhdIC0gcjsKICAgICAgICBtYXhbYXhdID0gcG9zW2F4XSArIHI7CiAgICAgIH0KICAgIH0KCiAgfQogIG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOyAvLyBUZW1wIHZlY3RvcnMgZm9yIGNhbGN1bGF0aW9uCgogIG5ldyBWZWMzKCk7IC8vIFJlbGF0aXZlIHZlbG9jaXR5CgogIG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwogIG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKCiAgLyoqCiAgICogQ3lsaW5kZXIgY2xhc3MuCiAgICogQGV4YW1wbGUKICAgKiAgICAgY29uc3QgcmFkaXVzVG9wID0gMC41CiAgICogICAgIGNvbnN0IHJhZGl1c0JvdHRvbSA9IDAuNQogICAqICAgICBjb25zdCBoZWlnaHQgPSAyCiAgICogICAgIGNvbnN0IG51bVNlZ21lbnRzID0gMTIKICAgKiAgICAgY29uc3QgY3lsaW5kZXJTaGFwZSA9IG5ldyBDQU5OT04uQ3lsaW5kZXIocmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMpCiAgICogICAgIGNvbnN0IGN5bGluZGVyQm9keSA9IG5ldyBDQU5OT04uQm9keSh7IG1hc3M6IDEsIHNoYXBlOiBjeWxpbmRlclNoYXBlIH0pCiAgICogICAgIHdvcmxkLmFkZEJvZHkoY3lsaW5kZXJCb2R5KQogICAqLwoKICBjbGFzcyBDeWxpbmRlciBleHRlbmRzIENvbnZleFBvbHloZWRyb24gewogICAgLyoqIFRoZSByYWRpdXMgb2YgdGhlIHRvcCBvZiB0aGUgQ3lsaW5kZXIuICovCgogICAgLyoqIFRoZSByYWRpdXMgb2YgdGhlIGJvdHRvbSBvZiB0aGUgQ3lsaW5kZXIuICovCgogICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIEN5bGluZGVyLiAqLwoKICAgIC8qKiBUaGUgbnVtYmVyIG9mIHNlZ21lbnRzIHRvIGJ1aWxkIHRoZSBjeWxpbmRlciBvdXQgb2YuICovCgogICAgLyoqCiAgICAgKiBAcGFyYW0gcmFkaXVzVG9wIFRoZSByYWRpdXMgb2YgdGhlIHRvcCBvZiB0aGUgQ3lsaW5kZXIuCiAgICAgKiBAcGFyYW0gcmFkaXVzQm90dG9tIFRoZSByYWRpdXMgb2YgdGhlIGJvdHRvbSBvZiB0aGUgQ3lsaW5kZXIuCiAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIEN5bGluZGVyLgogICAgICogQHBhcmFtIG51bVNlZ21lbnRzIFRoZSBudW1iZXIgb2Ygc2VnbWVudHMgdG8gYnVpbGQgdGhlIGN5bGluZGVyIG91dCBvZi4KICAgICAqLwogICAgY29uc3RydWN0b3IocmFkaXVzVG9wLCByYWRpdXNCb3R0b20sIGhlaWdodCwgbnVtU2VnbWVudHMpIHsKICAgICAgaWYgKHJhZGl1c1RvcCA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmFkaXVzVG9wID0gMTsKICAgICAgfQoKICAgICAgaWYgKHJhZGl1c0JvdHRvbSA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmFkaXVzQm90dG9tID0gMTsKICAgICAgfQoKICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7CiAgICAgICAgaGVpZ2h0ID0gMTsKICAgICAgfQoKICAgICAgaWYgKG51bVNlZ21lbnRzID09PSB2b2lkIDApIHsKICAgICAgICBudW1TZWdtZW50cyA9IDg7CiAgICAgIH0KCiAgICAgIGlmIChyYWRpdXNUb3AgPCAwKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY3lsaW5kZXIgcmFkaXVzVG9wIGNhbm5vdCBiZSBuZWdhdGl2ZS4nKTsKICAgICAgfQoKICAgICAgaWYgKHJhZGl1c0JvdHRvbSA8IDApIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBjeWxpbmRlciByYWRpdXNCb3R0b20gY2Fubm90IGJlIG5lZ2F0aXZlLicpOwogICAgICB9CgogICAgICBjb25zdCBOID0gbnVtU2VnbWVudHM7CiAgICAgIGNvbnN0IHZlcnRpY2VzID0gW107CiAgICAgIGNvbnN0IGF4ZXMgPSBbXTsKICAgICAgY29uc3QgZmFjZXMgPSBbXTsKICAgICAgY29uc3QgYm90dG9tZmFjZSA9IFtdOwogICAgICBjb25zdCB0b3BmYWNlID0gW107CiAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zOwogICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbjsgLy8gRmlyc3QgYm90dG9tIHBvaW50CgogICAgICB2ZXJ0aWNlcy5wdXNoKG5ldyBWZWMzKC1yYWRpdXNCb3R0b20gKiBzaW4oMCksIC1oZWlnaHQgKiAwLjUsIHJhZGl1c0JvdHRvbSAqIGNvcygwKSkpOwogICAgICBib3R0b21mYWNlLnB1c2goMCk7IC8vIEZpcnN0IHRvcCBwb2ludAoKICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzVG9wICogc2luKDApLCBoZWlnaHQgKiAwLjUsIHJhZGl1c1RvcCAqIGNvcygwKSkpOwogICAgICB0b3BmYWNlLnB1c2goMSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE47IGkrKykgewogICAgICAgIGNvbnN0IHRoZXRhID0gMiAqIE1hdGguUEkgLyBOICogKGkgKyAxKTsKICAgICAgICBjb25zdCB0aGV0YU4gPSAyICogTWF0aC5QSSAvIE4gKiAoaSArIDAuNSk7CgogICAgICAgIGlmIChpIDwgTiAtIDEpIHsKICAgICAgICAgIC8vIEJvdHRvbQogICAgICAgICAgdmVydGljZXMucHVzaChuZXcgVmVjMygtcmFkaXVzQm90dG9tICogc2luKHRoZXRhKSwgLWhlaWdodCAqIDAuNSwgcmFkaXVzQm90dG9tICogY29zKHRoZXRhKSkpOwogICAgICAgICAgYm90dG9tZmFjZS5wdXNoKDIgKiBpICsgMik7IC8vIFRvcAoKICAgICAgICAgIHZlcnRpY2VzLnB1c2gobmV3IFZlYzMoLXJhZGl1c1RvcCAqIHNpbih0aGV0YSksIGhlaWdodCAqIDAuNSwgcmFkaXVzVG9wICogY29zKHRoZXRhKSkpOwogICAgICAgICAgdG9wZmFjZS5wdXNoKDIgKiBpICsgMyk7IC8vIEZhY2UKCiAgICAgICAgICBmYWNlcy5wdXNoKFsyICogaSwgMiAqIGkgKyAxLCAyICogaSArIDMsIDIgKiBpICsgMl0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmYWNlcy5wdXNoKFsyICogaSwgMiAqIGkgKyAxLCAxLCAwXSk7IC8vIENvbm5lY3QKICAgICAgICB9IC8vIEF4aXM6IHdlIGNhbiBjdXQgb2ZmIGhhbGYgb2YgdGhlbSBpZiB3ZSBoYXZlIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzCgoKICAgICAgICBpZiAoTiAlIDIgPT09IDEgfHwgaSA8IE4gLyAyKSB7CiAgICAgICAgICBheGVzLnB1c2gobmV3IFZlYzMoLXNpbih0aGV0YU4pLCAwLCBjb3ModGhldGFOKSkpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZmFjZXMucHVzaChib3R0b21mYWNlKTsKICAgICAgYXhlcy5wdXNoKG5ldyBWZWMzKDAsIDEsIDApKTsgLy8gUmVvcmRlciB0b3AgZmFjZQoKICAgICAgY29uc3QgdGVtcCA9IFtdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3BmYWNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGVtcC5wdXNoKHRvcGZhY2VbdG9wZmFjZS5sZW5ndGggLSBpIC0gMV0pOwogICAgICB9CgogICAgICBmYWNlcy5wdXNoKHRlbXApOwogICAgICBzdXBlcih7CiAgICAgICAgdmVydGljZXMsCiAgICAgICAgZmFjZXMsCiAgICAgICAgYXhlcwogICAgICB9KTsKICAgICAgdGhpcy50eXBlID0gU2hhcGUudHlwZXMuQ1lMSU5ERVI7CiAgICAgIHRoaXMucmFkaXVzVG9wID0gcmFkaXVzVG9wOwogICAgICB0aGlzLnJhZGl1c0JvdHRvbSA9IHJhZGl1c0JvdHRvbTsKICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIHRoaXMubnVtU2VnbWVudHMgPSBudW1TZWdtZW50czsKICAgIH0KCiAgfQoKICAvKioKICAgKiBQYXJ0aWNsZSBzaGFwZS4KICAgKiBAZXhhbXBsZQogICAqICAgICBjb25zdCBwYXJ0aWNsZVNoYXBlID0gbmV3IENBTk5PTi5QYXJ0aWNsZSgpCiAgICogICAgIGNvbnN0IHBhcnRpY2xlQm9keSA9IG5ldyBDQU5OT04uQm9keSh7IG1hc3M6IDEsIHNoYXBlOiBwYXJ0aWNsZVNoYXBlIH0pCiAgICogICAgIHdvcmxkLmFkZEJvZHkocGFydGljbGVCb2R5KQogICAqLwogIGNsYXNzIFBhcnRpY2xlIGV4dGVuZHMgU2hhcGUgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKHsKICAgICAgICB0eXBlOiBTaGFwZS50eXBlcy5QQVJUSUNMRQogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogY2FsY3VsYXRlTG9jYWxJbmVydGlhCiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmVSYWRpdXMgPSAwOwogICAgfQoKICAgIGNhbGN1bGF0ZVdvcmxkQUFCQihwb3MsIHF1YXQsIG1pbiwgbWF4KSB7CiAgICAgIC8vIEdldCBlYWNoIGF4aXMgbWF4CiAgICAgIG1pbi5jb3B5KHBvcyk7CiAgICAgIG1heC5jb3B5KHBvcyk7CiAgICB9CgogIH0KCiAgLyoqCiAgICogQSBwbGFuZSwgZmFjaW5nIGluIHRoZSBaIGRpcmVjdGlvbi4gVGhlIHBsYW5lIGhhcyBpdHMgc3VyZmFjZSBhdCB6PTAgYW5kIGV2ZXJ5dGhpbmcgYmVsb3cgej0wIGlzIGFzc3VtZWQgdG8gYmUgc29saWQgcGxhbmUuIFRvIG1ha2UgdGhlIHBsYW5lIGZhY2UgaW4gc29tZSBvdGhlciBkaXJlY3Rpb24gdGhhbiB6LCB5b3UgbXVzdCBwdXQgaXQgaW5zaWRlIGEgQm9keSBhbmQgcm90YXRlIHRoYXQgYm9keS4gU2VlIHRoZSBkZW1vcy4KICAgKiBAZXhhbXBsZQogICAqICAgICBjb25zdCBwbGFuZVNoYXBlID0gbmV3IENBTk5PTi5QbGFuZSgpCiAgICogICAgIGNvbnN0IHBsYW5lQm9keSA9IG5ldyBDQU5OT04uQm9keSh7IG1hc3M6IDAsIHNoYXBlOiAgcGxhbmVTaGFwZSB9KQogICAqICAgICBwbGFuZUJvZHkucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoLU1hdGguUEkgLyAyLCAwLCAwKSAvLyBtYWtlIGl0IGZhY2UgdXAKICAgKiAgICAgd29ybGQuYWRkQm9keShwbGFuZUJvZHkpCiAgICovCiAgY2xhc3MgUGxhbmUgZXh0ZW5kcyBTaGFwZSB7CiAgICAvKiogd29ybGROb3JtYWwgKi8KCiAgICAvKiogd29ybGROb3JtYWxOZWVkc1VwZGF0ZSAqLwogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHN1cGVyKHsKICAgICAgICB0eXBlOiBTaGFwZS50eXBlcy5QTEFORQogICAgICB9KTsgLy8gV29ybGQgb3JpZW50ZWQgbm9ybWFsCgogICAgICB0aGlzLndvcmxkTm9ybWFsID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gdHJ1ZTsKICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7CiAgICB9CiAgICAvKiogY29tcHV0ZVdvcmxkTm9ybWFsICovCgoKICAgIGNvbXB1dGVXb3JsZE5vcm1hbChxdWF0KSB7CiAgICAgIGNvbnN0IG4gPSB0aGlzLndvcmxkTm9ybWFsOwogICAgICBuLnNldCgwLCAwLCAxKTsKICAgICAgcXVhdC52bXVsdChuLCBuKTsKICAgICAgdGhpcy53b3JsZE5vcm1hbE5lZWRzVXBkYXRlID0gZmFsc2U7CiAgICB9CgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuICgvLyBUaGUgcGxhbmUgaXMgaW5maW5pdGUuLi4KICAgICAgICBOdW1iZXIuTUFYX1ZBTFVFCiAgICAgICk7CiAgICB9CgogICAgY2FsY3VsYXRlV29ybGRBQUJCKHBvcywgcXVhdCwgbWluLCBtYXgpIHsKICAgICAgLy8gVGhlIHBsYW5lIEFBQkIgaXMgaW5maW5pdGUsIGV4Y2VwdCBpZiB0aGUgbm9ybWFsIGlzIHBvaW50aW5nIGFsb25nIGFueSBheGlzCiAgICAgIHRlbXBOb3JtYWwuc2V0KDAsIDAsIDEpOyAvLyBEZWZhdWx0IHBsYW5lIG5vcm1hbCBpcyB6CgogICAgICBxdWF0LnZtdWx0KHRlbXBOb3JtYWwsIHRlbXBOb3JtYWwpOwogICAgICBjb25zdCBtYXhWYWwgPSBOdW1iZXIuTUFYX1ZBTFVFOwogICAgICBtaW4uc2V0KC1tYXhWYWwsIC1tYXhWYWwsIC1tYXhWYWwpOwogICAgICBtYXguc2V0KG1heFZhbCwgbWF4VmFsLCBtYXhWYWwpOwoKICAgICAgaWYgKHRlbXBOb3JtYWwueCA9PT0gMSkgewogICAgICAgIG1heC54ID0gcG9zLng7CiAgICAgIH0gZWxzZSBpZiAodGVtcE5vcm1hbC54ID09PSAtMSkgewogICAgICAgIG1pbi54ID0gcG9zLng7CiAgICAgIH0KCiAgICAgIGlmICh0ZW1wTm9ybWFsLnkgPT09IDEpIHsKICAgICAgICBtYXgueSA9IHBvcy55OwogICAgICB9IGVsc2UgaWYgKHRlbXBOb3JtYWwueSA9PT0gLTEpIHsKICAgICAgICBtaW4ueSA9IHBvcy55OwogICAgICB9CgogICAgICBpZiAodGVtcE5vcm1hbC56ID09PSAxKSB7CiAgICAgICAgbWF4LnogPSBwb3MuejsKICAgICAgfSBlbHNlIGlmICh0ZW1wTm9ybWFsLnogPT09IC0xKSB7CiAgICAgICAgbWluLnogPSBwb3MuejsKICAgICAgfQogICAgfQoKICAgIHVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCkgewogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTsKICAgIH0KCiAgfQogIGNvbnN0IHRlbXBOb3JtYWwgPSBuZXcgVmVjMygpOwoKICAvKioKICAgKiBIZWlnaHRmaWVsZCBzaGFwZSBjbGFzcy4gSGVpZ2h0IGRhdGEgaXMgZ2l2ZW4gYXMgYW4gYXJyYXkuIFRoZXNlIGRhdGEgcG9pbnRzIGFyZSBzcHJlYWQgb3V0IGV2ZW5seSB3aXRoIGEgZ2l2ZW4gZGlzdGFuY2UuCiAgICogQHRvZG8gU2hvdWxkIGJlIHBvc3NpYmxlIHRvIHVzZSBhbG9uZyBhbGwgYXhlcywgbm90IGp1c3QgeQogICAqIEB0b2RvIHNob3VsZCBiZSBwb3NzaWJsZSB0byBzY2FsZSBhbG9uZyBhbGwgYXhlcwogICAqIEB0b2RvIFJlZmFjdG9yIGVsZW1lbnRTaXplIHRvIGVsZW1lbnRTaXplWCBhbmQgZWxlbWVudFNpemVZCiAgICoKICAgKiBAZXhhbXBsZQogICAqICAgICAvLyBHZW5lcmF0ZSBzb21lIGhlaWdodCBkYXRhICh5LXZhbHVlcykuCiAgICogICAgIGNvbnN0IGRhdGEgPSBbXQogICAqICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKykgewogICAqICAgICAgICAgY29uc3QgeSA9IDAuNSAqIE1hdGguY29zKDAuMiAqIGkpCiAgICogICAgICAgICBkYXRhLnB1c2goeSkKICAgKiAgICAgfQogICAqCiAgICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGUKICAgKiAgICAgY29uc3QgaGVpZ2h0ZmllbGRTaGFwZSA9IG5ldyBDQU5OT04uSGVpZ2h0ZmllbGQoZGF0YSwgewogICAqICAgICAgICAgZWxlbWVudFNpemU6IDEgLy8gRGlzdGFuY2UgYmV0d2VlbiB0aGUgZGF0YSBwb2ludHMgaW4gWCBhbmQgWSBkaXJlY3Rpb25zCiAgICogICAgIH0pCiAgICogICAgIGNvbnN0IGhlaWdodGZpZWxkQm9keSA9IG5ldyBDQU5OT04uQm9keSh7IHNoYXBlOiBoZWlnaHRmaWVsZFNoYXBlIH0pCiAgICogICAgIHdvcmxkLmFkZEJvZHkoaGVpZ2h0ZmllbGRCb2R5KQogICAqLwogIGNsYXNzIEhlaWdodGZpZWxkIGV4dGVuZHMgU2hhcGUgewogICAgLyoqCiAgICAgKiBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIE1heCB2YWx1ZSBvZiB0aGUgZGF0YSBwb2ludHMgaW4gdGhlIGRhdGEgYXJyYXkuCiAgICAgKi8KCiAgICAvKioKICAgICAqIE1pbmltdW0gdmFsdWUgb2YgdGhlIGRhdGEgcG9pbnRzIGluIHRoZSBkYXRhIGFycmF5LgogICAgICovCgogICAgLyoqCiAgICAgKiBXb3JsZCBzcGFjaW5nIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggYW5kIFkgZGlyZWN0aW9uLgogICAgICogQHRvZG8gZWxlbWVudFNpemVYIGFuZCBZCiAgICAgKiBAZGVmYXVsdCAxCiAgICAgKi8KCiAgICAvKioKICAgICAqIEBkZWZhdWx0IHRydWUKICAgICAqLwoKICAgIC8qKgogICAgICogQHBhcmFtIGRhdGEgQW4gYXJyYXkgb2YgbnVtYmVycywgb3IgaGVpZ2h0IHZhbHVlcywgdGhhdCBhcmUgc3ByZWFkIG91dCBhbG9uZyB0aGUgeCBheGlzLgogICAgICovCiAgICBjb25zdHJ1Y3RvcihkYXRhLCBvcHRpb25zKSB7CiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLCB7CiAgICAgICAgbWF4VmFsdWU6IG51bGwsCiAgICAgICAgbWluVmFsdWU6IG51bGwsCiAgICAgICAgZWxlbWVudFNpemU6IDEKICAgICAgfSk7CiAgICAgIHN1cGVyKHsKICAgICAgICB0eXBlOiBTaGFwZS50eXBlcy5IRUlHSFRGSUVMRAogICAgICB9KTsKICAgICAgdGhpcy5kYXRhID0gZGF0YTsKICAgICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWU7CiAgICAgIHRoaXMubWluVmFsdWUgPSBvcHRpb25zLm1pblZhbHVlOwogICAgICB0aGlzLmVsZW1lbnRTaXplID0gb3B0aW9ucy5lbGVtZW50U2l6ZTsKCiAgICAgIGlmIChvcHRpb25zLm1pblZhbHVlID09PSBudWxsKSB7CiAgICAgICAgdGhpcy51cGRhdGVNaW5WYWx1ZSgpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5tYXhWYWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHRoaXMudXBkYXRlTWF4VmFsdWUoKTsKICAgICAgfQoKICAgICAgdGhpcy5jYWNoZUVuYWJsZWQgPSB0cnVlOwogICAgICB0aGlzLnBpbGxhckNvbnZleCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgICAgIHRoaXMucGlsbGFyT2Zmc2V0ID0gbmV3IFZlYzMoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOyAvLyAiaV9qX2lzVXBwZXIiID0+IHsgY29udmV4OiAuLi4sIG9mZnNldDogLi4uIH0KICAgICAgLy8gZm9yIGV4YW1wbGU6CiAgICAgIC8vIF9jYWNoZWRQaWxsYXJzWyIwXzJfMSJdCgogICAgICB0aGlzLl9jYWNoZWRQaWxsYXJzID0ge307CiAgICB9CiAgICAvKioKICAgICAqIENhbGwgd2hlbmV2ZXIgeW91IGNoYW5nZSB0aGUgZGF0YSBhcnJheS4KICAgICAqLwoKCiAgICB1cGRhdGUoKSB7CiAgICAgIHRoaXMuX2NhY2hlZFBpbGxhcnMgPSB7fTsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIHRoZSBgbWluVmFsdWVgIHByb3BlcnR5CiAgICAgKi8KCgogICAgdXBkYXRlTWluVmFsdWUoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGxldCBtaW5WYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgICBpZiAodiA8IG1pblZhbHVlKSB7CiAgICAgICAgICAgIG1pblZhbHVlID0gdjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogVXBkYXRlIHRoZSBgbWF4VmFsdWVgIHByb3BlcnR5CiAgICAgKi8KCgogICAgdXBkYXRlTWF4VmFsdWUoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGxldCBtYXhWYWx1ZSA9IGRhdGFbMF1bMF07CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBkYXRhW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCB2ID0gZGF0YVtpXVtqXTsKCiAgICAgICAgICBpZiAodiA+IG1heFZhbHVlKSB7CiAgICAgICAgICAgIG1heFZhbHVlID0gdjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTsKICAgIH0KICAgIC8qKgogICAgICogU2V0IHRoZSBoZWlnaHQgdmFsdWUgYXQgYW4gaW5kZXguIERvbid0IGZvcmdldCB0byB1cGRhdGUgbWF4VmFsdWUgYW5kIG1pblZhbHVlIGFmdGVyIHlvdSdyZSBkb25lLgogICAgICovCgoKICAgIHNldEhlaWdodFZhbHVlQXRJbmRleCh4aSwgeWksIHZhbHVlKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGRhdGFbeGldW3lpXSA9IHZhbHVlOyAvLyBJbnZhbGlkYXRlIGNhY2hlCgogICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBmYWxzZSk7CgogICAgICBpZiAoeGkgPiAwKSB7CiAgICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpIC0gMSwgeWksIHRydWUpOwogICAgICAgIHRoaXMuY2xlYXJDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSAtIDEsIHlpLCBmYWxzZSk7CiAgICAgIH0KCiAgICAgIGlmICh5aSA+IDApIHsKICAgICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpIC0gMSwgdHJ1ZSk7CiAgICAgICAgdGhpcy5jbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSAtIDEsIGZhbHNlKTsKICAgICAgfQoKICAgICAgaWYgKHlpID4gMCAmJiB4aSA+IDApIHsKICAgICAgICB0aGlzLmNsZWFyQ2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGkgLSAxLCB5aSAtIDEsIHRydWUpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBtYXgvbWluIGluIGEgcmVjdGFuZ2xlIGluIHRoZSBtYXRyaXggZGF0YQogICAgICogQHBhcmFtIHJlc3VsdCBBbiBhcnJheSB0byBzdG9yZSB0aGUgcmVzdWx0cyBpbi4KICAgICAqIEByZXR1cm4gVGhlIHJlc3VsdCBhcnJheSwgaWYgaXQgd2FzIHBhc3NlZCBpbi4gTWluaW11bSB3aWxsIGJlIGF0IHBvc2l0aW9uIDAgYW5kIG1heCBhdCAxLgogICAgICovCgoKICAgIGdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIHJlc3VsdCkgewogICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHsKICAgICAgICByZXN1bHQgPSBbXTsKICAgICAgfQoKICAgICAgLy8gR2V0IG1heCBhbmQgbWluIG9mIHRoZSBkYXRhCiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7IC8vIFNldCBmaXJzdCB2YWx1ZQoKICAgICAgbGV0IG1heCA9IHRoaXMubWluVmFsdWU7CgogICAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPD0gaU1heFg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8PSBpTWF4WTsgaisrKSB7CiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBkYXRhW2ldW2pdOwoKICAgICAgICAgIGlmIChoZWlnaHQgPiBtYXgpIHsKICAgICAgICAgICAgbWF4ID0gaGVpZ2h0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmVzdWx0WzBdID0gdGhpcy5taW5WYWx1ZTsKICAgICAgcmVzdWx0WzFdID0gbWF4OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGluZGV4IG9mIGEgbG9jYWwgcG9zaXRpb24gb24gdGhlIGhlaWdodGZpZWxkLiBUaGUgaW5kZXhlcyBpbmRpY2F0ZSB0aGUgcmVjdGFuZ2xlcywgc28gaWYgeW91ciB0ZXJyYWluIGlzIG1hZGUgb2YgTiB4IE4gaGVpZ2h0IGRhdGEgcG9pbnRzLCB5b3Ugd2lsbCBoYXZlIHJlY3RhbmdsZSBpbmRleGVzIHJhbmdpbmcgZnJvbSAwIHRvIE4tMS4KICAgICAqIEBwYXJhbSByZXN1bHQgVHdvLWVsZW1lbnQgYXJyYXkKICAgICAqIEBwYXJhbSBjbGFtcCBJZiB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGNsYW1wZWQgdG8gdGhlIGhlaWdodGZpZWxkIGVkZ2UuCiAgICAgKi8KCgogICAgZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIHJlc3VsdCwgY2xhbXApIHsKICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CiAgICAgIGNvbnN0IHcgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBsZXQgeGkgPSBNYXRoLmZsb29yKHggLyB3KTsKICAgICAgbGV0IHlpID0gTWF0aC5mbG9vcih5IC8gdyk7CiAgICAgIHJlc3VsdFswXSA9IHhpOwogICAgICByZXN1bHRbMV0gPSB5aTsKCiAgICAgIGlmIChjbGFtcCkgewogICAgICAgIC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCiAgICAgICAgaWYgKHhpIDwgMCkgewogICAgICAgICAgeGkgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHlpIDwgMCkgewogICAgICAgICAgeWkgPSAwOwogICAgICAgIH0KCiAgICAgICAgaWYgKHhpID49IGRhdGEubGVuZ3RoIC0gMSkgewogICAgICAgICAgeGkgPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgICAgfQoKICAgICAgICBpZiAoeWkgPj0gZGF0YVswXS5sZW5ndGggLSAxKSB7CiAgICAgICAgICB5aSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgICB9CiAgICAgIH0gLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKCiAgICAgIGlmICh4aSA8IDAgfHwgeWkgPCAwIHx8IHhpID49IGRhdGEubGVuZ3RoIC0gMSB8fCB5aSA+PSBkYXRhWzBdLmxlbmd0aCAtIDEpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGdldFRyaWFuZ2xlQXQoeCwgeSwgZWRnZUNsYW1wLCBhLCBiLCBjKSB7CiAgICAgIGNvbnN0IGlkeCA9IGdldEhlaWdodEF0X2lkeDsKICAgICAgdGhpcy5nZXRJbmRleE9mUG9zaXRpb24oeCwgeSwgaWR4LCBlZGdlQ2xhbXApOwogICAgICBsZXQgeGkgPSBpZHhbMF07CiAgICAgIGxldCB5aSA9IGlkeFsxXTsKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKCiAgICAgIGlmIChlZGdlQ2xhbXApIHsKICAgICAgICB4aSA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeGkpKTsKICAgICAgICB5aSA9IE1hdGgubWluKGRhdGFbMF0ubGVuZ3RoIC0gMiwgTWF0aC5tYXgoMCwgeWkpKTsKICAgICAgfQoKICAgICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgICBjb25zdCBsb3dlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtIHhpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtIHlpKSAqKiAyOwogICAgICBjb25zdCB1cHBlckRpc3QyID0gKHggLyBlbGVtZW50U2l6ZSAtICh4aSArIDEpKSAqKiAyICsgKHkgLyBlbGVtZW50U2l6ZSAtICh5aSArIDEpKSAqKiAyOwogICAgICBjb25zdCB1cHBlciA9IGxvd2VyRGlzdDIgPiB1cHBlckRpc3QyOwogICAgICB0aGlzLmdldFRyaWFuZ2xlKHhpLCB5aSwgdXBwZXIsIGEsIGIsIGMpOwogICAgICByZXR1cm4gdXBwZXI7CiAgICB9CgogICAgZ2V0Tm9ybWFsQXQoeCwgeSwgZWRnZUNsYW1wLCByZXN1bHQpIHsKICAgICAgY29uc3QgYSA9IGdldE5vcm1hbEF0X2E7CiAgICAgIGNvbnN0IGIgPSBnZXROb3JtYWxBdF9iOwogICAgICBjb25zdCBjID0gZ2V0Tm9ybWFsQXRfYzsKICAgICAgY29uc3QgZTAgPSBnZXROb3JtYWxBdF9lMDsKICAgICAgY29uc3QgZTEgPSBnZXROb3JtYWxBdF9lMTsKICAgICAgdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7CiAgICAgIGIudnN1YihhLCBlMCk7CiAgICAgIGMudnN1YihhLCBlMSk7CiAgICAgIGUwLmNyb3NzKGUxLCByZXN1bHQpOwogICAgICByZXN1bHQubm9ybWFsaXplKCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbiBBQUJCIG9mIGEgc3F1YXJlIGluIHRoZSBoZWlnaHRmaWVsZAogICAgICogQHBhcmFtIHhpCiAgICAgKiBAcGFyYW0geWkKICAgICAqIEBwYXJhbSByZXN1bHQKICAgICAqLwoKCiAgICBnZXRBYWJiQXRJbmRleCh4aSwgeWksIF9yZWYpIHsKICAgICAgbGV0IHsKICAgICAgICBsb3dlckJvdW5kLAogICAgICAgIHVwcGVyQm91bmQKICAgICAgfSA9IF9yZWY7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gdGhpcy5lbGVtZW50U2l6ZTsKICAgICAgbG93ZXJCb3VuZC5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgICAgdXBwZXJCb3VuZC5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpICsgMV0pOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdGhlIGhlaWdodCBpbiB0aGUgaGVpZ2h0ZmllbGQgYXQgYSBnaXZlbiBwb3NpdGlvbgogICAgICovCgoKICAgIGdldEhlaWdodEF0KHgsIHksIGVkZ2VDbGFtcCkgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBjb25zdCBhID0gZ2V0SGVpZ2h0QXRfYTsKICAgICAgY29uc3QgYiA9IGdldEhlaWdodEF0X2I7CiAgICAgIGNvbnN0IGMgPSBnZXRIZWlnaHRBdF9jOwogICAgICBjb25zdCBpZHggPSBnZXRIZWlnaHRBdF9pZHg7CiAgICAgIHRoaXMuZ2V0SW5kZXhPZlBvc2l0aW9uKHgsIHksIGlkeCwgZWRnZUNsYW1wKTsKICAgICAgbGV0IHhpID0gaWR4WzBdOwogICAgICBsZXQgeWkgPSBpZHhbMV07CgogICAgICBpZiAoZWRnZUNsYW1wKSB7CiAgICAgICAgeGkgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHhpKSk7CiAgICAgICAgeWkgPSBNYXRoLm1pbihkYXRhWzBdLmxlbmd0aCAtIDIsIE1hdGgubWF4KDAsIHlpKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHVwcGVyID0gdGhpcy5nZXRUcmlhbmdsZUF0KHgsIHksIGVkZ2VDbGFtcCwgYSwgYiwgYyk7CiAgICAgIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBnZXRIZWlnaHRBdF93ZWlnaHRzKTsKICAgICAgY29uc3QgdyA9IGdldEhlaWdodEF0X3dlaWdodHM7CgogICAgICBpZiAodXBwZXIpIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICByZXR1cm4gZGF0YVt4aSArIDFdW3lpICsgMV0gKiB3LnggKyBkYXRhW3hpXVt5aSArIDFdICogdy55ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcuejsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICByZXR1cm4gZGF0YVt4aV1beWldICogdy54ICsgZGF0YVt4aSArIDFdW3lpXSAqIHcueSArIGRhdGFbeGldW3lpICsgMV0gKiB3Lno7CiAgICAgIH0KICAgIH0KCiAgICBnZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICByZXR1cm4gYCR7eGl9XyR7eWl9XyR7Z2V0VXBwZXJUcmlhbmdsZSA/IDEgOiAwfWA7CiAgICB9CgogICAgZ2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQaWxsYXJzW3RoaXMuZ2V0Q2FjaGVDb252ZXhUcmlhbmdsZVBpbGxhcktleSh4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUpXTsKICAgIH0KCiAgICBzZXRDYWNoZWRDb252ZXhUcmlhbmdsZVBpbGxhcih4aSwgeWksIGdldFVwcGVyVHJpYW5nbGUsIGNvbnZleCwgb2Zmc2V0KSB7CiAgICAgIHRoaXMuX2NhY2hlZFBpbGxhcnNbdGhpcy5nZXRDYWNoZUNvbnZleFRyaWFuZ2xlUGlsbGFyS2V5KHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSldID0gewogICAgICAgIGNvbnZleCwKICAgICAgICBvZmZzZXQKICAgICAgfTsKICAgIH0KCiAgICBjbGVhckNhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICBkZWxldGUgdGhpcy5fY2FjaGVkUGlsbGFyc1t0aGlzLmdldENhY2hlQ29udmV4VHJpYW5nbGVQaWxsYXJLZXkoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlKV07CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIHRyaWFuZ2xlIGZyb20gdGhlIGhlaWdodGZpZWxkCiAgICAgKi8KCgogICAgZ2V0VHJpYW5nbGUoeGksIHlpLCB1cHBlciwgYSwgYiwgYykgewogICAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhOwogICAgICBjb25zdCBlbGVtZW50U2l6ZSA9IHRoaXMuZWxlbWVudFNpemU7CgogICAgICBpZiAodXBwZXIpIHsKICAgICAgICAvLyBUb3AgdHJpYW5nbGUgdmVydHMKICAgICAgICBhLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWkgKyAxXSk7CiAgICAgICAgYi5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgKHlpICsgMSkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSk7CiAgICAgICAgYy5zZXQoKHhpICsgMSkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aSArIDFdW3lpXSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVG9wIHRyaWFuZ2xlIHZlcnRzCiAgICAgICAgYS5zZXQoeGkgKiBlbGVtZW50U2l6ZSwgeWkgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWldKTsKICAgICAgICBiLnNldCgoeGkgKyAxKSAqIGVsZW1lbnRTaXplLCB5aSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpICsgMV1beWldKTsKICAgICAgICBjLnNldCh4aSAqIGVsZW1lbnRTaXplLCAoeWkgKyAxKSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYSB0cmlhbmdsZSBpbiB0aGUgdGVycmFpbiBpbiB0aGUgZm9ybSBvZiBhIHRyaWFuZ3VsYXIgY29udmV4IHNoYXBlLgogICAgICovCgoKICAgIGdldENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSkgewogICAgICBsZXQgcmVzdWx0ID0gdGhpcy5waWxsYXJDb252ZXg7CiAgICAgIGxldCBvZmZzZXRSZXN1bHQgPSB0aGlzLnBpbGxhck9mZnNldDsKCiAgICAgIGlmICh0aGlzLmNhY2hlRW5hYmxlZCkgewogICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldENhY2hlZENvbnZleFRyaWFuZ2xlUGlsbGFyKHhpLCB5aSwgZ2V0VXBwZXJUcmlhbmdsZSk7CgogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICB0aGlzLnBpbGxhckNvbnZleCA9IGRhdGEuY29udmV4OwogICAgICAgICAgdGhpcy5waWxsYXJPZmZzZXQgPSBkYXRhLm9mZnNldDsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHJlc3VsdCA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgICAgICAgb2Zmc2V0UmVzdWx0ID0gbmV3IFZlYzMoKTsKICAgICAgICB0aGlzLnBpbGxhckNvbnZleCA9IHJlc3VsdDsKICAgICAgICB0aGlzLnBpbGxhck9mZnNldCA9IG9mZnNldFJlc3VsdDsKICAgICAgfQoKICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YTsKICAgICAgY29uc3QgZWxlbWVudFNpemUgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgICBjb25zdCBmYWNlcyA9IHJlc3VsdC5mYWNlczsgLy8gUmV1c2UgdmVydHMgaWYgcG9zc2libGUKCiAgICAgIHJlc3VsdC52ZXJ0aWNlcy5sZW5ndGggPSA2OwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICBpZiAoIXJlc3VsdC52ZXJ0aWNlc1tpXSkgewogICAgICAgICAgcmVzdWx0LnZlcnRpY2VzW2ldID0gbmV3IFZlYzMoKTsKICAgICAgICB9CiAgICAgIH0gLy8gUmV1c2UgZmFjZXMgaWYgcG9zc2libGUKCgogICAgICBmYWNlcy5sZW5ndGggPSA1OwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsKICAgICAgICBpZiAoIWZhY2VzW2ldKSB7CiAgICAgICAgICBmYWNlc1tpXSA9IFtdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgdmVydHMgPSByZXN1bHQudmVydGljZXM7CiAgICAgIGNvbnN0IGggPSAoTWF0aC5taW4oZGF0YVt4aV1beWldLCBkYXRhW3hpICsgMV1beWldLCBkYXRhW3hpXVt5aSArIDFdLCBkYXRhW3hpICsgMV1beWkgKyAxXSkgLSB0aGlzLm1pblZhbHVlKSAvIDIgKyB0aGlzLm1pblZhbHVlOwoKICAgICAgaWYgKCFnZXRVcHBlclRyaWFuZ2xlKSB7CiAgICAgICAgLy8gQ2VudGVyIG9mIHRoZSB0cmlhbmdsZSBwaWxsYXIgLSBhbGwgcG9seWdvbnMgYXJlIGdpdmVuIHJlbGF0aXZlIHRvIHRoaXMgb25lCiAgICAgICAgb2Zmc2V0UmVzdWx0LnNldCgoeGkgKyAwLjI1KSAqIGVsZW1lbnRTaXplLCAvLyBzb3J0IG9mIGNlbnRlciBvZiBhIHRyaWFuZ2xlCiAgICAgICAgKHlpICsgMC4yNSkgKiBlbGVtZW50U2l6ZSwgaCAvLyB2ZXJ0aWNhbCBjZW50ZXIKICAgICAgICApOyAvLyBUb3AgdHJpYW5nbGUgdmVydHMKCiAgICAgICAgdmVydHNbMF0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGldW3lpXSAtIGgpOwogICAgICAgIHZlcnRzWzFdLnNldCgwLjc1ICogZWxlbWVudFNpemUsIC0wLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsKICAgICAgICB2ZXJ0c1syXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgMC43NSAqIGVsZW1lbnRTaXplLCBkYXRhW3hpXVt5aSArIDFdIC0gaCk7IC8vIGJvdHRvbSB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgICB2ZXJ0c1szXS5zZXQoLTAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7CiAgICAgICAgdmVydHNbNF0uc2V0KDAuNzUgKiBlbGVtZW50U2l6ZSwgLTAuMjUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7CiAgICAgICAgdmVydHNbNV0uc2V0KC0wLjI1ICogZWxlbWVudFNpemUsIDAuNzUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7IC8vIHRvcCB0cmlhbmdsZQoKICAgICAgICBmYWNlc1swXVswXSA9IDA7CiAgICAgICAgZmFjZXNbMF1bMV0gPSAxOwogICAgICAgIGZhY2VzWzBdWzJdID0gMjsgLy8gYm90dG9tIHRyaWFuZ2xlCgogICAgICAgIGZhY2VzWzFdWzBdID0gNTsKICAgICAgICBmYWNlc1sxXVsxXSA9IDQ7CiAgICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAteCBmYWNpbmcgcXVhZAoKICAgICAgICBmYWNlc1syXVswXSA9IDA7CiAgICAgICAgZmFjZXNbMl1bMV0gPSAyOwogICAgICAgIGZhY2VzWzJdWzJdID0gNTsKICAgICAgICBmYWNlc1syXVszXSA9IDM7IC8vIC15IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzNdWzBdID0gMTsKICAgICAgICBmYWNlc1szXVsxXSA9IDA7CiAgICAgICAgZmFjZXNbM11bMl0gPSAzOwogICAgICAgIGZhY2VzWzNdWzNdID0gNDsgLy8gK3h5IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzRdWzBdID0gNDsKICAgICAgICBmYWNlc1s0XVsxXSA9IDU7CiAgICAgICAgZmFjZXNbNF1bMl0gPSAyOwogICAgICAgIGZhY2VzWzRdWzNdID0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBDZW50ZXIgb2YgdGhlIHRyaWFuZ2xlIHBpbGxhciAtIGFsbCBwb2x5Z29ucyBhcmUgZ2l2ZW4gcmVsYXRpdmUgdG8gdGhpcyBvbmUKICAgICAgICBvZmZzZXRSZXN1bHQuc2V0KCh4aSArIDAuNzUpICogZWxlbWVudFNpemUsIC8vIHNvcnQgb2YgY2VudGVyIG9mIGEgdHJpYW5nbGUKICAgICAgICAoeWkgKyAwLjc1KSAqIGVsZW1lbnRTaXplLCBoIC8vIHZlcnRpY2FsIGNlbnRlcgogICAgICAgICk7IC8vIFRvcCB0cmlhbmdsZSB2ZXJ0cwoKICAgICAgICB2ZXJ0c1swXS5zZXQoMC4yNSAqIGVsZW1lbnRTaXplLCAwLjI1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aSArIDFdIC0gaCk7CiAgICAgICAgdmVydHNbMV0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgZGF0YVt4aV1beWkgKyAxXSAtIGgpOwogICAgICAgIHZlcnRzWzJdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIC0wLjc1ICogZWxlbWVudFNpemUsIGRhdGFbeGkgKyAxXVt5aV0gLSBoKTsgLy8gYm90dG9tIHRyaWFuZ2xlIHZlcnRzCgogICAgICAgIHZlcnRzWzNdLnNldCgwLjI1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7CiAgICAgICAgdmVydHNbNF0uc2V0KC0wLjc1ICogZWxlbWVudFNpemUsIDAuMjUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7CiAgICAgICAgdmVydHNbNV0uc2V0KDAuMjUgKiBlbGVtZW50U2l6ZSwgLTAuNzUgKiBlbGVtZW50U2l6ZSwgLU1hdGguYWJzKGgpIC0gMSk7IC8vIFRvcCB0cmlhbmdsZQoKICAgICAgICBmYWNlc1swXVswXSA9IDA7CiAgICAgICAgZmFjZXNbMF1bMV0gPSAxOwogICAgICAgIGZhY2VzWzBdWzJdID0gMjsgLy8gYm90dG9tIHRyaWFuZ2xlCgogICAgICAgIGZhY2VzWzFdWzBdID0gNTsKICAgICAgICBmYWNlc1sxXVsxXSA9IDQ7CiAgICAgICAgZmFjZXNbMV1bMl0gPSAzOyAvLyAreCBmYWNpbmcgcXVhZAoKICAgICAgICBmYWNlc1syXVswXSA9IDI7CiAgICAgICAgZmFjZXNbMl1bMV0gPSA1OwogICAgICAgIGZhY2VzWzJdWzJdID0gMzsKICAgICAgICBmYWNlc1syXVszXSA9IDA7IC8vICt5IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzNdWzBdID0gMzsKICAgICAgICBmYWNlc1szXVsxXSA9IDQ7CiAgICAgICAgZmFjZXNbM11bMl0gPSAxOwogICAgICAgIGZhY2VzWzNdWzNdID0gMDsgLy8gLXh5IGZhY2luZyBxdWFkCgogICAgICAgIGZhY2VzWzRdWzBdID0gMTsKICAgICAgICBmYWNlc1s0XVsxXSA9IDQ7CiAgICAgICAgZmFjZXNbNF1bMl0gPSA1OwogICAgICAgIGZhY2VzWzRdWzNdID0gMjsKICAgICAgfQoKICAgICAgcmVzdWx0LmNvbXB1dGVOb3JtYWxzKCk7CiAgICAgIHJlc3VsdC5jb21wdXRlRWRnZXMoKTsKICAgICAgcmVzdWx0LnVwZGF0ZUJvdW5kaW5nU3BoZXJlUmFkaXVzKCk7CiAgICAgIHRoaXMuc2V0Q2FjaGVkQ29udmV4VHJpYW5nbGVQaWxsYXIoeGksIHlpLCBnZXRVcHBlclRyaWFuZ2xlLCByZXN1bHQsIG9mZnNldFJlc3VsdCk7CiAgICB9CgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICBpZiAodGFyZ2V0ID09PSB2b2lkIDApIHsKICAgICAgICB0YXJnZXQgPSBuZXcgVmVjMygpOwogICAgICB9CgogICAgICB0YXJnZXQuc2V0KDAsIDAsIDApOwogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIHZvbHVtZSgpIHsKICAgICAgcmV0dXJuICgvLyBUaGUgdGVycmFpbiBpcyBpbmZpbml0ZQogICAgICAgIE51bWJlci5NQVhfVkFMVUUKICAgICAgKTsKICAgIH0KCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICAvKiogQFRPRE8gZG8gaXQgcHJvcGVybHkgKi8KICAgICAgbWluLnNldCgtTnVtYmVyLk1BWF9WQUxVRSwgLU51bWJlci5NQVhfVkFMVUUsIC1OdW1iZXIuTUFYX1ZBTFVFKTsKICAgICAgbWF4LnNldChOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTsKICAgIH0KCiAgICB1cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpIHsKICAgICAgLy8gVXNlIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG1pbi9tYXggdmFsdWVzCiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IHMgPSB0aGlzLmVsZW1lbnRTaXplOwogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gbmV3IFZlYzMoZGF0YS5sZW5ndGggKiBzLCBkYXRhWzBdLmxlbmd0aCAqIHMsIE1hdGgubWF4KE1hdGguYWJzKHRoaXMubWF4VmFsdWUpLCBNYXRoLmFicyh0aGlzLm1pblZhbHVlKSkpLmxlbmd0aCgpOwogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBoZWlnaHQgdmFsdWVzIGZyb20gYW4gaW1hZ2UuIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBpbiBicm93c2VyLgogICAgICovCgoKICAgIHNldEhlaWdodHNGcm9tSW1hZ2UoaW1hZ2UsIHNjYWxlKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICB4LAogICAgICAgIHosCiAgICAgICAgeQogICAgICB9ID0gc2NhbGU7CiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICBjYW52YXMud2lkdGggPSBpbWFnZS53aWR0aDsKICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDsKICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7CiAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpOwogICAgICBjb25zdCBtYXRyaXggPSB0aGlzLmRhdGE7CiAgICAgIG1hdHJpeC5sZW5ndGggPSAwOwogICAgICB0aGlzLmVsZW1lbnRTaXplID0gTWF0aC5hYnMoeCkgLyBpbWFnZURhdGEud2lkdGg7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5oZWlnaHQ7IGkrKykgewogICAgICAgIGNvbnN0IHJvdyA9IFtdOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGltYWdlRGF0YS53aWR0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCBhID0gaW1hZ2VEYXRhLmRhdGFbKGkgKiBpbWFnZURhdGEuaGVpZ2h0ICsgaikgKiA0XTsKICAgICAgICAgIGNvbnN0IGIgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAxXTsKICAgICAgICAgIGNvbnN0IGMgPSBpbWFnZURhdGEuZGF0YVsoaSAqIGltYWdlRGF0YS5oZWlnaHQgKyBqKSAqIDQgKyAyXTsKICAgICAgICAgIGNvbnN0IGhlaWdodCA9IChhICsgYiArIGMpIC8gNCAvIDI1NSAqIHo7CgogICAgICAgICAgaWYgKHggPCAwKSB7CiAgICAgICAgICAgIHJvdy5wdXNoKGhlaWdodCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByb3cudW5zaGlmdChoZWlnaHQpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHkgPCAwKSB7CiAgICAgICAgICBtYXRyaXgudW5zaGlmdChyb3cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtYXRyaXgucHVzaChyb3cpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy51cGRhdGVNYXhWYWx1ZSgpOwogICAgICB0aGlzLnVwZGF0ZU1pblZhbHVlKCk7CiAgICAgIHRoaXMudXBkYXRlKCk7CiAgICB9CgogIH0KICBjb25zdCBnZXRIZWlnaHRBdF9pZHggPSBbXTsKICBjb25zdCBnZXRIZWlnaHRBdF93ZWlnaHRzID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9hID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9iID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXRIZWlnaHRBdF9jID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9hID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9iID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9jID0gbmV3IFZlYzMoKTsKICBjb25zdCBnZXROb3JtYWxBdF9lMCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZ2V0Tm9ybWFsQXRfZTEgPSBuZXcgVmVjMygpOyAvLyBmcm9tIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50cmljX2Nvb3JkaW5hdGVfc3lzdGVtCgogIGZ1bmN0aW9uIGJhcnljZW50cmljV2VpZ2h0cyh4LCB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5LCByZXN1bHQpIHsKICAgIHJlc3VsdC54ID0gKChieSAtIGN5KSAqICh4IC0gY3gpICsgKGN4IC0gYngpICogKHkgLSBjeSkpIC8gKChieSAtIGN5KSAqIChheCAtIGN4KSArIChjeCAtIGJ4KSAqIChheSAtIGN5KSk7CiAgICByZXN1bHQueSA9ICgoY3kgLSBheSkgKiAoeCAtIGN4KSArIChheCAtIGN4KSAqICh5IC0gY3kpKSAvICgoYnkgLSBjeSkgKiAoYXggLSBjeCkgKyAoY3ggLSBieCkgKiAoYXkgLSBjeSkpOwogICAgcmVzdWx0LnogPSAxIC0gcmVzdWx0LnggLSByZXN1bHQueTsKICB9CgogIC8qKgogICAqIE9jdHJlZU5vZGUKICAgKi8KICBjbGFzcyBPY3RyZWVOb2RlIHsKICAgIC8qKiBUaGUgcm9vdCBub2RlICovCgogICAgLyoqIEJvdW5kYXJ5IG9mIHRoaXMgbm9kZSAqLwoKICAgIC8qKiBDb250YWluZWQgZGF0YSBhdCB0aGUgY3VycmVudCBub2RlIGxldmVsICovCgogICAgLyoqIENoaWxkcmVuIHRvIHRoaXMgbm9kZSAqLwogICAgY29uc3RydWN0b3Iob3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICB0aGlzLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgbnVsbDsKICAgICAgdGhpcy5hYWJiID0gb3B0aW9ucy5hYWJiID8gb3B0aW9ucy5hYWJiLmNsb25lKCkgOiBuZXcgQUFCQigpOwogICAgICB0aGlzLmRhdGEgPSBbXTsKICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdOwogICAgfQogICAgLyoqCiAgICAgKiByZXNldAogICAgICovCgoKICAgIHJlc2V0KCkgewogICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IHRoaXMuZGF0YS5sZW5ndGggPSAwOwogICAgfQogICAgLyoqCiAgICAgKiBJbnNlcnQgZGF0YSBpbnRvIHRoaXMgbm9kZQogICAgICogQHJldHVybiBUcnVlIGlmIHN1Y2Nlc3NmdWwsIG90aGVyd2lzZSBmYWxzZQogICAgICovCgoKICAgIGluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwpIHsKICAgICAgaWYgKGxldmVsID09PSB2b2lkIDApIHsKICAgICAgICBsZXZlbCA9IDA7CiAgICAgIH0KCiAgICAgIGNvbnN0IG5vZGVEYXRhID0gdGhpcy5kYXRhOyAvLyBJZ25vcmUgb2JqZWN0cyB0aGF0IGRvIG5vdCBiZWxvbmcgaW4gdGhpcyBub2RlCgogICAgICBpZiAoIXRoaXMuYWFiYi5jb250YWlucyhhYWJiKSkgewogICAgICAgIHJldHVybiBmYWxzZTsgLy8gb2JqZWN0IGNhbm5vdCBiZSBhZGRlZAogICAgICB9CgogICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47CiAgICAgIGNvbnN0IG1heERlcHRoID0gdGhpcy5tYXhEZXB0aCB8fCB0aGlzLnJvb3QubWF4RGVwdGg7CgogICAgICBpZiAobGV2ZWwgPCBtYXhEZXB0aCkgewogICAgICAgIC8vIFN1YmRpdmlkZSBpZiB0aGVyZSBhcmUgbm8gY2hpbGRyZW4geWV0CiAgICAgICAgbGV0IHN1YmRpdmlkZWQgPSBmYWxzZTsKCiAgICAgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuc3ViZGl2aWRlKCk7CiAgICAgICAgICBzdWJkaXZpZGVkID0gdHJ1ZTsKICAgICAgICB9IC8vIGFkZCB0byB3aGljaGV2ZXIgbm9kZSB3aWxsIGFjY2VwdCBpdAoKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IDg7IGkrKykgewogICAgICAgICAgaWYgKGNoaWxkcmVuW2ldLmluc2VydChhYWJiLCBlbGVtZW50RGF0YSwgbGV2ZWwgKyAxKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChzdWJkaXZpZGVkKSB7CiAgICAgICAgICAvLyBObyBjaGlsZHJlbiBhY2NlcHRlZCEgTWlnaHQgYXMgd2VsbCBqdXN0IHJlbW92ZSBlbSBzaW5jZSB0aGV5IGNvbnRhaW4gbm9uZQogICAgICAgICAgY2hpbGRyZW4ubGVuZ3RoID0gMDsKICAgICAgICB9CiAgICAgIH0gLy8gVG9vIGRlZXAsIG9yIGNoaWxkcmVuIGRpZG50IHdhbnQgaXQuIGFkZCBpdCBpbiBjdXJyZW50IG5vZGUKCgogICAgICBub2RlRGF0YS5wdXNoKGVsZW1lbnREYXRhKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAvKioKICAgICAqIENyZWF0ZSA4IGVxdWFsbHkgc2l6ZWQgY2hpbGRyZW4gbm9kZXMgYW5kIHB1dCB0aGVtIGluIHRoZSBgY2hpbGRyZW5gIGFycmF5LgogICAgICovCgoKICAgIHN1YmRpdmlkZSgpIHsKICAgICAgY29uc3QgYWFiYiA9IHRoaXMuYWFiYjsKICAgICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDsKICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuOwogICAgICBjaGlsZHJlbi5wdXNoKG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygwLCAwLCAwKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMSwgMCwgMCkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDEsIDEsIDApCiAgICAgICAgfSkKICAgICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAxLCAxKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMSkKICAgICAgICB9KQogICAgICB9KSwgbmV3IE9jdHJlZU5vZGUoewogICAgICAgIGFhYmI6IG5ldyBBQUJCKHsKICAgICAgICAgIGxvd2VyQm91bmQ6IG5ldyBWZWMzKDAsIDAsIDEpCiAgICAgICAgfSkKICAgICAgfSksIG5ldyBPY3RyZWVOb2RlKHsKICAgICAgICBhYWJiOiBuZXcgQUFCQih7CiAgICAgICAgICBsb3dlckJvdW5kOiBuZXcgVmVjMygxLCAwLCAxKQogICAgICAgIH0pCiAgICAgIH0pLCBuZXcgT2N0cmVlTm9kZSh7CiAgICAgICAgYWFiYjogbmV3IEFBQkIoewogICAgICAgICAgbG93ZXJCb3VuZDogbmV3IFZlYzMoMCwgMSwgMCkKICAgICAgICB9KQogICAgICB9KSk7CiAgICAgIHUudnN1YihsLCBoYWxmRGlhZ29uYWwpOwogICAgICBoYWxmRGlhZ29uYWwuc2NhbGUoMC41LCBoYWxmRGlhZ29uYWwpOwogICAgICBjb25zdCByb290ID0gdGhpcy5yb290IHx8IHRoaXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gODsgaSsrKSB7CiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTsgLy8gU2V0IGN1cnJlbnQgbm9kZSBhcyByb290CgogICAgICAgIGNoaWxkLnJvb3QgPSByb290OyAvLyBDb21wdXRlIGJvdW5kcwoKICAgICAgICBjb25zdCBsb3dlckJvdW5kID0gY2hpbGQuYWFiYi5sb3dlckJvdW5kOwogICAgICAgIGxvd2VyQm91bmQueCAqPSBoYWxmRGlhZ29uYWwueDsKICAgICAgICBsb3dlckJvdW5kLnkgKj0gaGFsZkRpYWdvbmFsLnk7CiAgICAgICAgbG93ZXJCb3VuZC56ICo9IGhhbGZEaWFnb25hbC56OwogICAgICAgIGxvd2VyQm91bmQudmFkZChsLCBsb3dlckJvdW5kKTsgLy8gVXBwZXIgYm91bmQgaXMgYWx3YXlzIGxvd2VyIGJvdW5kICsgaGFsZkRpYWdvbmFsCgogICAgICAgIGxvd2VyQm91bmQudmFkZChoYWxmRGlhZ29uYWwsIGNoaWxkLmFhYmIudXBwZXJCb3VuZCk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogR2V0IGFsbCBkYXRhLCBwb3RlbnRpYWxseSB3aXRoaW4gYW4gQUFCQgogICAgICogQHJldHVybiBUaGUgInJlc3VsdCIgb2JqZWN0CiAgICAgKi8KCgogICAgYWFiYlF1ZXJ5KGFhYmIsIHJlc3VsdCkgewogICAgICB0aGlzLmRhdGE7IC8vIGFib3J0IGlmIHRoZSByYW5nZSBkb2VzIG5vdCBpbnRlcnNlY3QgdGhpcyBub2RlCiAgICAgIC8vIGlmICghdGhpcy5hYWJiLm92ZXJsYXBzKGFhYmIpKXsKICAgICAgLy8gICAgIHJldHVybiByZXN1bHQ7CiAgICAgIC8vIH0KICAgICAgLy8gQWRkIG9iamVjdHMgYXQgdGhpcyBsZXZlbAogICAgICAvLyBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyZXN1bHQsIG5vZGVEYXRhKTsKICAgICAgLy8gQWRkIGNoaWxkIGRhdGEKICAgICAgLy8gQHRvZG8gdW53cmFwIHJlY3Vyc2lvbiBpbnRvIGEgcXVldWUgLyBsb29wLCB0aGF0J3MgZmFzdGVyIGluIEpTCgogICAgICB0aGlzLmNoaWxkcmVuOyAvLyBmb3IgKGxldCBpID0gMCwgTiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICE9PSBOOyBpKyspIHsKICAgICAgLy8gICAgIGNoaWxkcmVuW2ldLmFhYmJRdWVyeShhYWJiLCByZXN1bHQpOwogICAgICAvLyB9CgogICAgICBjb25zdCBxdWV1ZSA9IFt0aGlzXTsKCiAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHsKICAgICAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7CgogICAgICAgIGlmIChub2RlLmFhYmIub3ZlcmxhcHMoYWFiYikpIHsKICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHJlc3VsdCwgbm9kZS5kYXRhKTsKICAgICAgICB9CgogICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHF1ZXVlLCBub2RlLmNoaWxkcmVuKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFsbCBkYXRhLCBwb3RlbnRpYWxseSBpbnRlcnNlY3RlZCBieSBhIHJheS4KICAgICAqIEByZXR1cm4gVGhlICJyZXN1bHQiIG9iamVjdAogICAgICovCgoKICAgIHJheVF1ZXJ5KHJheSwgdHJlZVRyYW5zZm9ybSwgcmVzdWx0KSB7CiAgICAgIC8vIFVzZSBhYWJiIHF1ZXJ5IGZvciBub3cuCgogICAgICAvKiogQHRvZG8gaW1wbGVtZW50IHJlYWwgcmF5IHF1ZXJ5IHdoaWNoIG5lZWRzIGxlc3MgbG9va3VwcyAqLwogICAgICByYXkuZ2V0QUFCQih0bXBBQUJCKTsKICAgICAgdG1wQUFCQi50b0xvY2FsRnJhbWUodHJlZVRyYW5zZm9ybSwgdG1wQUFCQik7CiAgICAgIHRoaXMuYWFiYlF1ZXJ5KHRtcEFBQkIsIHJlc3VsdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioKICAgICAqIHJlbW92ZUVtcHR5Tm9kZXMKICAgICAqLwoKCiAgICByZW1vdmVFbXB0eU5vZGVzKCkgewogICAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVtb3ZlRW1wdHlOb2RlcygpOwoKICAgICAgICBpZiAoIXRoaXMuY2hpbGRyZW5baV0uY2hpbGRyZW4ubGVuZ3RoICYmICF0aGlzLmNoaWxkcmVuW2ldLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfQogIC8qKgogICAqIE9jdHJlZQogICAqLwoKCiAgY2xhc3MgT2N0cmVlIGV4dGVuZHMgT2N0cmVlTm9kZSB7CiAgICAvKioKICAgICAqIE1heGltdW0gc3ViZGl2aXNpb24gZGVwdGgKICAgICAqIEBkZWZhdWx0IDgKICAgICAqLwoKICAgIC8qKgogICAgICogQHBhcmFtIGFhYmIgVGhlIHRvdGFsIEFBQkIgb2YgdGhlIHRyZWUKICAgICAqLwogICAgY29uc3RydWN0b3IoYWFiYiwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBzdXBlcih7CiAgICAgICAgcm9vdDogbnVsbCwKICAgICAgICBhYWJiCiAgICAgIH0pOwogICAgICB0aGlzLm1heERlcHRoID0gdHlwZW9mIG9wdGlvbnMubWF4RGVwdGggIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5tYXhEZXB0aCA6IDg7CiAgICB9CgogIH0KICBjb25zdCBoYWxmRGlhZ29uYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IHRtcEFBQkIgPSBuZXcgQUFCQigpOwoKICAvKioKICAgKiBUcmltZXNoLgogICAqIEBleGFtcGxlCiAgICogICAgIC8vIEhvdyB0byBtYWtlIGEgbWVzaCB3aXRoIGEgc2luZ2xlIHRyaWFuZ2xlCiAgICogICAgIGNvbnN0IHZlcnRpY2VzID0gWwogICAqICAgICAgICAgMCwgMCwgMCwgLy8gdmVydGV4IDAKICAgKiAgICAgICAgIDEsIDAsIDAsIC8vIHZlcnRleCAxCiAgICogICAgICAgICAwLCAxLCAwICAvLyB2ZXJ0ZXggMgogICAqICAgICBdCiAgICogICAgIGNvbnN0IGluZGljZXMgPSBbCiAgICogICAgICAgICAwLCAxLCAyICAvLyB0cmlhbmdsZSAwCiAgICogICAgIF0KICAgKiAgICAgY29uc3QgdHJpbWVzaFNoYXBlID0gbmV3IENBTk5PTi5UcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKQogICAqLwogIGNsYXNzIFRyaW1lc2ggZXh0ZW5kcyBTaGFwZSB7CiAgICAvKioKICAgICAqIHZlcnRpY2VzCiAgICAgKi8KCiAgICAvKioKICAgICAqIEFycmF5IG9mIGludGVnZXJzLCBpbmRpY2F0aW5nIHdoaWNoIHZlcnRpY2VzIGVhY2ggdHJpYW5nbGUgY29uc2lzdHMgb2YuIFRoZSBsZW5ndGggb2YgdGhpcyBhcnJheSBpcyB0aHVzIDMgdGltZXMgdGhlIG51bWJlciBvZiB0cmlhbmdsZXMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBub3JtYWxzIGRhdGEuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBsb2NhbCBBQUJCIG9mIHRoZSBtZXNoLgogICAgICovCgogICAgLyoqCiAgICAgKiBSZWZlcmVuY2VzIHRvIHZlcnRleCBwYWlycywgbWFraW5nIHVwIGFsbCB1bmlxdWUgZWRnZXMgaW4gdGhlIHRyaW1lc2guCiAgICAgKi8KCiAgICAvKioKICAgICAqIExvY2FsIHNjYWxpbmcgb2YgdGhlIG1lc2guIFVzZSAuc2V0U2NhbGUoKSB0byBzZXQgaXQuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBpbmRleGVkIHRyaWFuZ2xlcy4gVXNlIC51cGRhdGVUcmVlKCkgdG8gdXBkYXRlIGl0LgogICAgICovCiAgICBjb25zdHJ1Y3Rvcih2ZXJ0aWNlcywgaW5kaWNlcykgewogICAgICBzdXBlcih7CiAgICAgICAgdHlwZTogU2hhcGUudHlwZXMuVFJJTUVTSAogICAgICB9KTsKICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpOwogICAgICB0aGlzLmluZGljZXMgPSBuZXcgSW50MTZBcnJheShpbmRpY2VzKTsKICAgICAgdGhpcy5ub3JtYWxzID0gbmV3IEZsb2F0MzJBcnJheShpbmRpY2VzLmxlbmd0aCk7CiAgICAgIHRoaXMuYWFiYiA9IG5ldyBBQUJCKCk7CiAgICAgIHRoaXMuZWRnZXMgPSBudWxsOwogICAgICB0aGlzLnNjYWxlID0gbmV3IFZlYzMoMSwgMSwgMSk7CiAgICAgIHRoaXMudHJlZSA9IG5ldyBPY3RyZWUoKTsKICAgICAgdGhpcy51cGRhdGVFZGdlcygpOwogICAgICB0aGlzLnVwZGF0ZU5vcm1hbHMoKTsKICAgICAgdGhpcy51cGRhdGVBQUJCKCk7CiAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKTsKICAgICAgdGhpcy51cGRhdGVUcmVlKCk7CiAgICB9CiAgICAvKioKICAgICAqIHVwZGF0ZVRyZWUKICAgICAqLwoKCiAgICB1cGRhdGVUcmVlKCkgewogICAgICBjb25zdCB0cmVlID0gdGhpcy50cmVlOwogICAgICB0cmVlLnJlc2V0KCk7CiAgICAgIHRyZWUuYWFiYi5jb3B5KHRoaXMuYWFiYik7CiAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsgLy8gVGhlIGxvY2FsIG1lc2ggQUFCQiBpcyBzY2FsZWQsIGJ1dCB0aGUgb2N0cmVlIEFBQkIgc2hvdWxkIGJlIHVuc2NhbGVkCgogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgICB0cmVlLmFhYmIubG93ZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC54ICo9IDEgLyBzY2FsZS54OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC55ICo9IDEgLyBzY2FsZS55OwogICAgICB0cmVlLmFhYmIudXBwZXJCb3VuZC56ICo9IDEgLyBzY2FsZS56OyAvLyBJbnNlcnQgYWxsIHRyaWFuZ2xlcwoKICAgICAgY29uc3QgdHJpYW5nbGVBQUJCID0gbmV3IEFBQkIoKTsKICAgICAgY29uc3QgYSA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IGIgPSBuZXcgVmVjMygpOwogICAgICBjb25zdCBjID0gbmV3IFZlYzMoKTsKICAgICAgY29uc3QgcG9pbnRzID0gW2EsIGIsIGNdOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgLy90aGlzLmdldFRyaWFuZ2xlVmVydGljZXMoaSwgYSwgYiwgYyk7CiAgICAgICAgLy8gR2V0IHVuc2NhbGVkIHRyaWFuZ2xlIHZlcnRzCiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKCiAgICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzXSwgYSk7CgogICAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDFdLCBiKTsKCiAgICAgICAgdGhpcy5fZ2V0VW5zY2FsZWRWZXJ0ZXgodGhpcy5pbmRpY2VzW2kzICsgMl0sIGMpOwoKICAgICAgICB0cmlhbmdsZUFBQkIuc2V0RnJvbVBvaW50cyhwb2ludHMpOwogICAgICAgIHRyZWUuaW5zZXJ0KHRyaWFuZ2xlQUFCQiwgaSk7CiAgICAgIH0KCiAgICAgIHRyZWUucmVtb3ZlRW1wdHlOb2RlcygpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgdHJpYW5nbGVzIGluIGEgbG9jYWwgQUFCQiBmcm9tIHRoZSB0cmltZXNoLgogICAgICogQHBhcmFtIHJlc3VsdCBBbiBhcnJheSBvZiBpbnRlZ2VycywgcmVmZXJlbmNpbmcgdGhlIHF1ZXJpZWQgdHJpYW5nbGVzLgogICAgICovCgoKICAgIGdldFRyaWFuZ2xlc0luQUFCQihhYWJiLCByZXN1bHQpIHsKICAgICAgdW5zY2FsZWRBQUJCLmNvcHkoYWFiYik7IC8vIFNjYWxlIGl0IHRvIGxvY2FsCgogICAgICBjb25zdCBzY2FsZSA9IHRoaXMuc2NhbGU7CiAgICAgIGNvbnN0IGlzeCA9IHNjYWxlLng7CiAgICAgIGNvbnN0IGlzeSA9IHNjYWxlLnk7CiAgICAgIGNvbnN0IGlzeiA9IHNjYWxlLno7CiAgICAgIGNvbnN0IGwgPSB1bnNjYWxlZEFBQkIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdSA9IHVuc2NhbGVkQUFCQi51cHBlckJvdW5kOwogICAgICBsLnggLz0gaXN4OwogICAgICBsLnkgLz0gaXN5OwogICAgICBsLnogLz0gaXN6OwogICAgICB1LnggLz0gaXN4OwogICAgICB1LnkgLz0gaXN5OwogICAgICB1LnogLz0gaXN6OwogICAgICByZXR1cm4gdGhpcy50cmVlLmFhYmJRdWVyeSh1bnNjYWxlZEFBQkIsIHJlc3VsdCk7CiAgICB9CiAgICAvKioKICAgICAqIHNldFNjYWxlCiAgICAgKi8KCgogICAgc2V0U2NhbGUoc2NhbGUpIHsKICAgICAgY29uc3Qgd2FzVW5pZm9ybSA9IHRoaXMuc2NhbGUueCA9PT0gdGhpcy5zY2FsZS55ICYmIHRoaXMuc2NhbGUueSA9PT0gdGhpcy5zY2FsZS56OwogICAgICBjb25zdCBpc1VuaWZvcm0gPSBzY2FsZS54ID09PSBzY2FsZS55ICYmIHNjYWxlLnkgPT09IHNjYWxlLno7CgogICAgICBpZiAoISh3YXNVbmlmb3JtICYmIGlzVW5pZm9ybSkpIHsKICAgICAgICAvLyBOb24tdW5pZm9ybSBzY2FsaW5nLiBOZWVkIHRvIHVwZGF0ZSBub3JtYWxzLgogICAgICAgIHRoaXMudXBkYXRlTm9ybWFscygpOwogICAgICB9CgogICAgICB0aGlzLnNjYWxlLmNvcHkoc2NhbGUpOwogICAgICB0aGlzLnVwZGF0ZUFBQkIoKTsKICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1NwaGVyZVJhZGl1cygpOwogICAgfQogICAgLyoqCiAgICAgKiBDb21wdXRlIHRoZSBub3JtYWxzIG9mIHRoZSBmYWNlcy4gV2lsbCBzYXZlIGluIHRoZSBgLm5vcm1hbHNgIGFycmF5LgogICAgICovCgoKICAgIHVwZGF0ZU5vcm1hbHMoKSB7CiAgICAgIGNvbnN0IG4gPSBjb21wdXRlTm9ybWFsc19uOyAvLyBHZW5lcmF0ZSBub3JtYWxzCgogICAgICBjb25zdCBub3JtYWxzID0gdGhpcy5ub3JtYWxzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdOwogICAgICAgIHRoaXMuZ2V0VmVydGV4KGEsIHZhKTsKICAgICAgICB0aGlzLmdldFZlcnRleChiLCB2Yik7CiAgICAgICAgdGhpcy5nZXRWZXJ0ZXgoYywgdmMpOwogICAgICAgIFRyaW1lc2guY29tcHV0ZU5vcm1hbCh2YiwgdmEsIHZjLCBuKTsKICAgICAgICBub3JtYWxzW2kzXSA9IG4ueDsKICAgICAgICBub3JtYWxzW2kzICsgMV0gPSBuLnk7CiAgICAgICAgbm9ybWFsc1tpMyArIDJdID0gbi56OwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVwZGF0ZSB0aGUgYC5lZGdlc2AgcHJvcGVydHkKICAgICAqLwoKCiAgICB1cGRhdGVFZGdlcygpIHsKICAgICAgY29uc3QgZWRnZXMgPSB7fTsKCiAgICAgIGNvbnN0IGFkZCA9IChhLCBiKSA9PiB7CiAgICAgICAgY29uc3Qga2V5ID0gYSA8IGIgPyBgJHthfV8ke2J9YCA6IGAke2J9XyR7YX1gOwogICAgICAgIGVkZ2VzW2tleV0gPSB0cnVlOwogICAgICB9OwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgY29uc3QgaTMgPSBpICogMzsKICAgICAgICBjb25zdCBhID0gdGhpcy5pbmRpY2VzW2kzXTsKICAgICAgICBjb25zdCBiID0gdGhpcy5pbmRpY2VzW2kzICsgMV07CiAgICAgICAgY29uc3QgYyA9IHRoaXMuaW5kaWNlc1tpMyArIDJdOwogICAgICAgIGFkZChhLCBiKTsKICAgICAgICBhZGQoYiwgYyk7CiAgICAgICAgYWRkKGMsIGEpOwogICAgICB9CgogICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZWRnZXMpOwogICAgICB0aGlzLmVkZ2VzID0gbmV3IEludDE2QXJyYXkoa2V5cy5sZW5ndGggKiAyKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGluZGljZXMgPSBrZXlzW2ldLnNwbGl0KCdfJyk7CiAgICAgICAgdGhpcy5lZGdlc1syICogaV0gPSBwYXJzZUludChpbmRpY2VzWzBdLCAxMCk7CiAgICAgICAgdGhpcy5lZGdlc1syICogaSArIDFdID0gcGFyc2VJbnQoaW5kaWNlc1sxXSwgMTApOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbiBlZGdlIHZlcnRleAogICAgICogQHBhcmFtIGZpcnN0T3JTZWNvbmQgMCBvciAxLCBkZXBlbmRpbmcgb24gd2hpY2ggb25lIG9mIHRoZSB2ZXJ0aWNlcyB5b3UgbmVlZC4KICAgICAqIEBwYXJhbSB2ZXJ0ZXhTdG9yZSBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0CiAgICAgKi8KCgogICAgZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIGZpcnN0T3JTZWNvbmQsIHZlcnRleFN0b3JlKSB7CiAgICAgIGNvbnN0IHZlcnRleEluZGV4ID0gdGhpcy5lZGdlc1tlZGdlSW5kZXggKiAyICsgKGZpcnN0T3JTZWNvbmQgPyAxIDogMCldOwogICAgICB0aGlzLmdldFZlcnRleCh2ZXJ0ZXhJbmRleCwgdmVydGV4U3RvcmUpOwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgYSB2ZWN0b3IgYWxvbmcgYW4gZWRnZS4KICAgICAqLwoKCiAgICBnZXRFZGdlVmVjdG9yKGVkZ2VJbmRleCwgdmVjdG9yU3RvcmUpIHsKICAgICAgY29uc3QgdmEgPSBnZXRFZGdlVmVjdG9yX3ZhOwogICAgICBjb25zdCB2YiA9IGdldEVkZ2VWZWN0b3JfdmI7CiAgICAgIHRoaXMuZ2V0RWRnZVZlcnRleChlZGdlSW5kZXgsIDAsIHZhKTsKICAgICAgdGhpcy5nZXRFZGdlVmVydGV4KGVkZ2VJbmRleCwgMSwgdmIpOwogICAgICB2Yi52c3ViKHZhLCB2ZWN0b3JTdG9yZSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBmYWNlIG5vcm1hbCBnaXZlbiAzIHZlcnRpY2VzCiAgICAgKi8KCgogICAgc3RhdGljIGNvbXB1dGVOb3JtYWwodmEsIHZiLCB2YywgdGFyZ2V0KSB7CiAgICAgIHZiLnZzdWIodmEsIGFiKTsKICAgICAgdmMudnN1Yih2YiwgY2IpOwogICAgICBjYi5jcm9zcyhhYiwgdGFyZ2V0KTsKCiAgICAgIGlmICghdGFyZ2V0LmlzWmVybygpKSB7CiAgICAgICAgdGFyZ2V0Lm5vcm1hbGl6ZSgpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIEdldCB2ZXJ0ZXggaS4KICAgICAqIEByZXR1cm4gVGhlICJvdXQiIHZlY3RvciBvYmplY3QKICAgICAqLwoKCiAgICBnZXRWZXJ0ZXgoaSwgb3V0KSB7CiAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5zY2FsZTsKCiAgICAgIHRoaXMuX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCk7CgogICAgICBvdXQueCAqPSBzY2FsZS54OwogICAgICBvdXQueSAqPSBzY2FsZS55OwogICAgICBvdXQueiAqPSBzY2FsZS56OwogICAgICByZXR1cm4gb3V0OwogICAgfQogICAgLyoqCiAgICAgKiBHZXQgcmF3IHZlcnRleCBpCiAgICAgKiBAcmV0dXJuIFRoZSAib3V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgX2dldFVuc2NhbGVkVmVydGV4KGksIG91dCkgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICAgIHJldHVybiBvdXQuc2V0KHZlcnRpY2VzW2kzXSwgdmVydGljZXNbaTMgKyAxXSwgdmVydGljZXNbaTMgKyAyXSk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhIHZlcnRleCBmcm9tIHRoZSB0cmltZXNoLHRyYW5zZm9ybWVkIGJ5IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgcXVhdGVybmlvbi4KICAgICAqIEByZXR1cm4gVGhlICJvdXQiIHZlY3RvciBvYmplY3QKICAgICAqLwoKCiAgICBnZXRXb3JsZFZlcnRleChpLCBwb3MsIHF1YXQsIG91dCkgewogICAgICB0aGlzLmdldFZlcnRleChpLCBvdXQpOwogICAgICBUcmFuc2Zvcm0ucG9pbnRUb1dvcmxkRnJhbWUocG9zLCBxdWF0LCBvdXQsIG91dCk7CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgdGhyZWUgdmVydGljZXMgZm9yIHRyaWFuZ2xlIGkuCiAgICAgKi8KCgogICAgZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCBhLCBiLCBjKSB7CiAgICAgIGNvbnN0IGkzID0gaSAqIDM7CiAgICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpM10sIGEpOwogICAgICB0aGlzLmdldFZlcnRleCh0aGlzLmluZGljZXNbaTMgKyAxXSwgYik7CiAgICAgIHRoaXMuZ2V0VmVydGV4KHRoaXMuaW5kaWNlc1tpMyArIDJdLCBjKTsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZSB0aGUgbm9ybWFsIG9mIHRyaWFuZ2xlIGkuCiAgICAgKiBAcmV0dXJuIFRoZSAidGFyZ2V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgZ2V0Tm9ybWFsKGksIHRhcmdldCkgewogICAgICBjb25zdCBpMyA9IGkgKiAzOwogICAgICByZXR1cm4gdGFyZ2V0LnNldCh0aGlzLm5vcm1hbHNbaTNdLCB0aGlzLm5vcm1hbHNbaTMgKyAxXSwgdGhpcy5ub3JtYWxzW2kzICsgMl0pOwogICAgfQogICAgLyoqCiAgICAgKiBAcmV0dXJuIFRoZSAidGFyZ2V0IiB2ZWN0b3Igb2JqZWN0CiAgICAgKi8KCgogICAgY2FsY3VsYXRlTG9jYWxJbmVydGlhKG1hc3MsIHRhcmdldCkgewogICAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIGJveCBpbmVydGlhCiAgICAgIC8vIEV4YWN0IGluZXJ0aWEgY2FsY3VsYXRpb24gaXMgb3ZlcmtpbGwsIGJ1dCBzZWUgaHR0cDovL2dlb21ldHJpY3Rvb2xzLmNvbS9Eb2N1bWVudGF0aW9uL1BvbHloZWRyYWxNYXNzUHJvcGVydGllcy5wZGYgZm9yIHRoZSBjb3JyZWN0IHdheSB0byBkbyBpdAogICAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIoY2xpX2FhYmIpOwogICAgICBjb25zdCB4ID0gY2xpX2FhYmIudXBwZXJCb3VuZC54IC0gY2xpX2FhYmIubG93ZXJCb3VuZC54OwogICAgICBjb25zdCB5ID0gY2xpX2FhYmIudXBwZXJCb3VuZC55IC0gY2xpX2FhYmIubG93ZXJCb3VuZC55OwogICAgICBjb25zdCB6ID0gY2xpX2FhYmIudXBwZXJCb3VuZC56IC0gY2xpX2FhYmIubG93ZXJCb3VuZC56OwogICAgICByZXR1cm4gdGFyZ2V0LnNldCgxLjAgLyAxMi4wICogbWFzcyAqICgyICogeSAqIDIgKiB5ICsgMiAqIHogKiAyICogeiksIDEuMCAvIDEyLjAgKiBtYXNzICogKDIgKiB4ICogMiAqIHggKyAyICogeiAqIDIgKiB6KSwgMS4wIC8gMTIuMCAqIG1hc3MgKiAoMiAqIHkgKiAyICogeSArIDIgKiB4ICogMiAqIHgpKTsKICAgIH0KICAgIC8qKgogICAgICogQ29tcHV0ZSB0aGUgbG9jYWwgQUFCQiBmb3IgdGhlIHRyaW1lc2gKICAgICAqLwoKCiAgICBjb21wdXRlTG9jYWxBQUJCKGFhYmIpIHsKICAgICAgY29uc3QgbCA9IGFhYmIubG93ZXJCb3VuZDsKICAgICAgY29uc3QgdSA9IGFhYmIudXBwZXJCb3VuZDsKICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoOwogICAgICB0aGlzLnZlcnRpY2VzOwogICAgICBjb25zdCB2ID0gY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQ7CiAgICAgIHRoaXMuZ2V0VmVydGV4KDAsIHYpOwogICAgICBsLmNvcHkodik7CiAgICAgIHUuY29weSh2KTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBuOyBpKyspIHsKICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKCiAgICAgICAgaWYgKHYueCA8IGwueCkgewogICAgICAgICAgbC54ID0gdi54OwogICAgICAgIH0gZWxzZSBpZiAodi54ID4gdS54KSB7CiAgICAgICAgICB1LnggPSB2Lng7CiAgICAgICAgfQoKICAgICAgICBpZiAodi55IDwgbC55KSB7CiAgICAgICAgICBsLnkgPSB2Lnk7CiAgICAgICAgfSBlbHNlIGlmICh2LnkgPiB1LnkpIHsKICAgICAgICAgIHUueSA9IHYueTsKICAgICAgICB9CgogICAgICAgIGlmICh2LnogPCBsLnopIHsKICAgICAgICAgIGwueiA9IHYuejsKICAgICAgICB9IGVsc2UgaWYgKHYueiA+IHUueikgewogICAgICAgICAgdS56ID0gdi56OwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBVcGRhdGUgdGhlIGAuYWFiYmAgcHJvcGVydHkKICAgICAqLwoKCiAgICB1cGRhdGVBQUJCKCkgewogICAgICB0aGlzLmNvbXB1dGVMb2NhbEFBQkIodGhpcy5hYWJiKTsKICAgIH0KICAgIC8qKgogICAgICogV2lsbCB1cGRhdGUgdGhlIGAuYm91bmRpbmdTcGhlcmVSYWRpdXNgIHByb3BlcnR5CiAgICAgKi8KCgogICAgdXBkYXRlQm91bmRpbmdTcGhlcmVSYWRpdXMoKSB7CiAgICAgIC8vIEFzc3VtZSBwb2ludHMgYXJlIGRpc3RyaWJ1dGVkIHdpdGggbG9jYWwgKDAsMCwwKSBhcyBjZW50ZXIKICAgICAgbGV0IG1heDIgPSAwOwogICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7CiAgICAgIGNvbnN0IHYgPSBuZXcgVmVjMygpOwoKICAgICAgZm9yIChsZXQgaSA9IDAsIE4gPSB2ZXJ0aWNlcy5sZW5ndGggLyAzOyBpICE9PSBOOyBpKyspIHsKICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKICAgICAgICBjb25zdCBub3JtMiA9IHYubGVuZ3RoU3F1YXJlZCgpOwoKICAgICAgICBpZiAobm9ybTIgPiBtYXgyKSB7CiAgICAgICAgICBtYXgyID0gbm9ybTI7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlUmFkaXVzID0gTWF0aC5zcXJ0KG1heDIpOwogICAgfQogICAgLyoqCiAgICAgKiBjYWxjdWxhdGVXb3JsZEFBQkIKICAgICAqLwoKCiAgICBjYWxjdWxhdGVXb3JsZEFBQkIocG9zLCBxdWF0LCBtaW4sIG1heCkgewogICAgICAvKgogICAgICAgICAgY29uc3QgbiA9IHRoaXMudmVydGljZXMubGVuZ3RoIC8gMywKICAgICAgICAgICAgICB2ZXJ0cyA9IHRoaXMudmVydGljZXM7CiAgICAgICAgICBjb25zdCBtaW54LG1pbnksbWlueixtYXh4LG1heHksbWF4ejsKICAgICAgICAgICBjb25zdCB2ID0gdGVtcFdvcmxkVmVydGV4OwogICAgICAgICAgZm9yKGxldCBpPTA7IGk8bjsgaSsrKXsKICAgICAgICAgICAgICB0aGlzLmdldFZlcnRleChpLCB2KTsKICAgICAgICAgICAgICBxdWF0LnZtdWx0KHYsIHYpOwogICAgICAgICAgICAgIHBvcy52YWRkKHYsIHYpOwogICAgICAgICAgICAgIGlmICh2LnggPCBtaW54IHx8IG1pbng9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICBtaW54ID0gdi54OwogICAgICAgICAgICAgIH0gZWxzZSBpZih2LnggPiBtYXh4IHx8IG1heHg9PT11bmRlZmluZWQpewogICAgICAgICAgICAgICAgICBtYXh4ID0gdi54OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgaWYgKHYueSA8IG1pbnkgfHwgbWlueT09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgIG1pbnkgPSB2Lnk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmKHYueSA+IG1heHkgfHwgbWF4eT09PXVuZGVmaW5lZCl7CiAgICAgICAgICAgICAgICAgIG1heHkgPSB2Lnk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBpZiAodi56IDwgbWlueiB8fCBtaW56PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgbWlueiA9IHYuejsKICAgICAgICAgICAgICB9IGVsc2UgaWYodi56ID4gbWF4eiB8fCBtYXh6PT09dW5kZWZpbmVkKXsKICAgICAgICAgICAgICAgICAgbWF4eiA9IHYuejsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBtaW4uc2V0KG1pbngsbWlueSxtaW56KTsKICAgICAgICAgIG1heC5zZXQobWF4eCxtYXh5LG1heHopOwogICAgICAgICAgKi8KICAgICAgLy8gRmFzdGVyIGFwcHJveGltYXRpb24gdXNpbmcgbG9jYWwgQUFCQgogICAgICBjb25zdCBmcmFtZSA9IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZTsKICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlV29ybGRBQUJCX2FhYmI7CiAgICAgIGZyYW1lLnBvc2l0aW9uID0gcG9zOwogICAgICBmcmFtZS5xdWF0ZXJuaW9uID0gcXVhdDsKICAgICAgdGhpcy5hYWJiLnRvV29ybGRGcmFtZShmcmFtZSwgcmVzdWx0KTsKICAgICAgbWluLmNvcHkocmVzdWx0Lmxvd2VyQm91bmQpOwogICAgICBtYXguY29weShyZXN1bHQudXBwZXJCb3VuZCk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhcHByb3hpbWF0ZSB2b2x1bWUKICAgICAqLwoKCiAgICB2b2x1bWUoKSB7CiAgICAgIHJldHVybiA0LjAgKiBNYXRoLlBJICogdGhpcy5ib3VuZGluZ1NwaGVyZVJhZGl1cyAvIDMuMDsKICAgIH0KICAgIC8qKgogICAgICogQ3JlYXRlIGEgVHJpbWVzaCBpbnN0YW5jZSwgc2hhcGVkIGFzIGEgdG9ydXMuCiAgICAgKi8KCgogICAgc3RhdGljIGNyZWF0ZVRvcnVzKHJhZGl1cywgdHViZSwgcmFkaWFsU2VnbWVudHMsIHR1YnVsYXJTZWdtZW50cywgYXJjKSB7CiAgICAgIGlmIChyYWRpdXMgPT09IHZvaWQgMCkgewogICAgICAgIHJhZGl1cyA9IDE7CiAgICAgIH0KCiAgICAgIGlmICh0dWJlID09PSB2b2lkIDApIHsKICAgICAgICB0dWJlID0gMC41OwogICAgICB9CgogICAgICBpZiAocmFkaWFsU2VnbWVudHMgPT09IHZvaWQgMCkgewogICAgICAgIHJhZGlhbFNlZ21lbnRzID0gODsKICAgICAgfQoKICAgICAgaWYgKHR1YnVsYXJTZWdtZW50cyA9PT0gdm9pZCAwKSB7CiAgICAgICAgdHVidWxhclNlZ21lbnRzID0gNjsKICAgICAgfQoKICAgICAgaWYgKGFyYyA9PT0gdm9pZCAwKSB7CiAgICAgICAgYXJjID0gTWF0aC5QSSAqIDI7CiAgICAgIH0KCiAgICAgIGNvbnN0IHZlcnRpY2VzID0gW107CiAgICAgIGNvbnN0IGluZGljZXMgPSBbXTsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IHJhZGlhbFNlZ21lbnRzOyBqKyspIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0dWJ1bGFyU2VnbWVudHM7IGkrKykgewogICAgICAgICAgY29uc3QgdSA9IGkgLyB0dWJ1bGFyU2VnbWVudHMgKiBhcmM7CiAgICAgICAgICBjb25zdCB2ID0gaiAvIHJhZGlhbFNlZ21lbnRzICogTWF0aC5QSSAqIDI7CiAgICAgICAgICBjb25zdCB4ID0gKHJhZGl1cyArIHR1YmUgKiBNYXRoLmNvcyh2KSkgKiBNYXRoLmNvcyh1KTsKICAgICAgICAgIGNvbnN0IHkgPSAocmFkaXVzICsgdHViZSAqIE1hdGguY29zKHYpKSAqIE1hdGguc2luKHUpOwogICAgICAgICAgY29uc3QgeiA9IHR1YmUgKiBNYXRoLnNpbih2KTsKICAgICAgICAgIHZlcnRpY2VzLnB1c2goeCwgeSwgeik7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSByYWRpYWxTZWdtZW50czsgaisrKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdHVidWxhclNlZ21lbnRzOyBpKyspIHsKICAgICAgICAgIGNvbnN0IGEgPSAodHVidWxhclNlZ21lbnRzICsgMSkgKiBqICsgaSAtIDE7CiAgICAgICAgICBjb25zdCBiID0gKHR1YnVsYXJTZWdtZW50cyArIDEpICogKGogLSAxKSArIGkgLSAxOwogICAgICAgICAgY29uc3QgYyA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIChqIC0gMSkgKyBpOwogICAgICAgICAgY29uc3QgZCA9ICh0dWJ1bGFyU2VnbWVudHMgKyAxKSAqIGogKyBpOwogICAgICAgICAgaW5kaWNlcy5wdXNoKGEsIGIsIGQpOwogICAgICAgICAgaW5kaWNlcy5wdXNoKGIsIGMsIGQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKHZlcnRpY2VzLCBpbmRpY2VzKTsKICAgIH0KCiAgfQogIGNvbnN0IGNvbXB1dGVOb3JtYWxzX24gPSBuZXcgVmVjMygpOwogIGNvbnN0IHVuc2NhbGVkQUFCQiA9IG5ldyBBQUJCKCk7CiAgY29uc3QgZ2V0RWRnZVZlY3Rvcl92YSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgZ2V0RWRnZVZlY3Rvcl92YiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY2IgPSBuZXcgVmVjMygpOwogIGNvbnN0IGFiID0gbmV3IFZlYzMoKTsKICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdmIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHZjID0gbmV3IFZlYzMoKTsKICBjb25zdCBjbGlfYWFiYiA9IG5ldyBBQUJCKCk7CiAgY29uc3QgY29tcHV0ZUxvY2FsQUFCQl93b3JsZFZlcnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNhbGN1bGF0ZVdvcmxkQUFCQl9mcmFtZSA9IG5ldyBUcmFuc2Zvcm0oKTsKICBjb25zdCBjYWxjdWxhdGVXb3JsZEFBQkJfYWFiYiA9IG5ldyBBQUJCKCk7CgogIC8qKgogICAqIENvbnN0cmFpbnQgZXF1YXRpb24gc29sdmVyIGJhc2UgY2xhc3MuCiAgICovCiAgY2xhc3MgU29sdmVyIHsKICAgIC8qKgogICAgICogQWxsIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWQKICAgICAqLwoKICAgIC8qKgogICAgICogQHRvZG8gcmVtb3ZlIHVzZWxlc3MgY29uc3RydWN0b3IKICAgICAqLwogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuZXF1YXRpb25zID0gW107CiAgICB9CiAgICAvKioKICAgICAqIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzc2VzIQogICAgICogQHRvZG8gdXNlIGFic3RyYWN0CiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZAogICAgICovCgoKICAgIHNvbHZlKGR0LCB3b3JsZCkgewogICAgICByZXR1cm4gKC8vIFNob3VsZCByZXR1cm4gdGhlIG51bWJlciBvZiBpdGVyYXRpb25zIGRvbmUhCiAgICAgICAgMAogICAgICApOwogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYW4gZXF1YXRpb24KICAgICAqLwoKCiAgICBhZGRFcXVhdGlvbihlcSkgewogICAgICBpZiAoZXEuZW5hYmxlZCAmJiAhZXEuYmkuaXNUcmlnZ2VyICYmICFlcS5iai5pc1RyaWdnZXIpIHsKICAgICAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKGVxKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmUgYW4gZXF1YXRpb24KICAgICAqLwoKCiAgICByZW1vdmVFcXVhdGlvbihlcSkgewogICAgICBjb25zdCBlcXMgPSB0aGlzLmVxdWF0aW9uczsKICAgICAgY29uc3QgaSA9IGVxcy5pbmRleE9mKGVxKTsKCiAgICAgIGlmIChpICE9PSAtMSkgewogICAgICAgIGVxcy5zcGxpY2UoaSwgMSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogQWRkIGFsbCBlcXVhdGlvbnMKICAgICAqLwoKCiAgICByZW1vdmVBbGxFcXVhdGlvbnMoKSB7CiAgICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICB9CgogIH0KCiAgLyoqCiAgICogQ29uc3RyYWludCBlcXVhdGlvbiBHYXVzcy1TZWlkZWwgc29sdmVyLgogICAqIEB0b2RvIFRoZSBzcG9vayBwYXJhbWV0ZXJzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIGVhY2ggY29uc3RyYWludCwgbm90IGdsb2JhbGx5LgogICAqIEBzZWUgaHR0cHM6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGYKICAgKi8KICBjbGFzcyBHU1NvbHZlciBleHRlbmRzIFNvbHZlciB7CiAgICAvKioKICAgICAqIFRoZSBudW1iZXIgb2Ygc29sdmVyIGl0ZXJhdGlvbnMgZGV0ZXJtaW5lcyBxdWFsaXR5IG9mIHRoZSBjb25zdHJhaW50cyBpbiB0aGUgd29ybGQuCiAgICAgKiBUaGUgbW9yZSBpdGVyYXRpb25zLCB0aGUgbW9yZSBjb3JyZWN0IHNpbXVsYXRpb24uIE1vcmUgaXRlcmF0aW9ucyBuZWVkIG1vcmUgY29tcHV0YXRpb25zIHRob3VnaC4gSWYgeW91IGhhdmUgYSBsYXJnZSBncmF2aXR5IGZvcmNlIGluIHlvdXIgd29ybGQsIHlvdSB3aWxsIG5lZWQgbW9yZSBpdGVyYXRpb25zLgogICAgICovCgogICAgLyoqCiAgICAgKiBXaGVuIHRvbGVyYW5jZSBpcyByZWFjaGVkLCB0aGUgc3lzdGVtIGlzIGFzc3VtZWQgdG8gYmUgY29udmVyZ2VkLgogICAgICovCgogICAgLyoqCiAgICAgKiBAdG9kbyByZW1vdmUgdXNlbGVzcyBjb25zdHJ1Y3RvcgogICAgICovCiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5pdGVyYXRpb25zID0gMTA7CiAgICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNzsKICAgIH0KICAgIC8qKgogICAgICogU29sdmUKICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIGl0ZXJhdGlvbnMgcGVyZm9ybWVkCiAgICAgKi8KCgogICAgc29sdmUoZHQsIHdvcmxkKSB7CiAgICAgIGxldCBpdGVyID0gMDsKICAgICAgY29uc3QgbWF4SXRlciA9IHRoaXMuaXRlcmF0aW9uczsKICAgICAgY29uc3QgdG9sU3F1YXJlZCA9IHRoaXMudG9sZXJhbmNlICogdGhpcy50b2xlcmFuY2U7CiAgICAgIGNvbnN0IGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zOwogICAgICBjb25zdCBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICBjb25zdCBib2RpZXMgPSB3b3JsZC5ib2RpZXM7CiAgICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBoID0gZHQ7CiAgICAgIGxldCBCOwogICAgICBsZXQgaW52QzsKICAgICAgbGV0IGRlbHRhbGFtYmRhOwogICAgICBsZXQgZGVsdGFsYW1iZGFUb3Q7CiAgICAgIGxldCBHV2xhbWJkYTsKICAgICAgbGV0IGxhbWJkYWo7IC8vIFVwZGF0ZSBzb2x2ZSBtYXNzCgogICAgICBpZiAoTmVxICE9PSAwKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5ib2RpZXM7IGkrKykgewogICAgICAgICAgYm9kaWVzW2ldLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTsKICAgICAgICB9CiAgICAgIH0gLy8gVGhpbmdzIHRoYXQgZG8gbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlCgoKICAgICAgY29uc3QgaW52Q3MgPSBHU1NvbHZlcl9zb2x2ZV9pbnZDczsKICAgICAgY29uc3QgQnMgPSBHU1NvbHZlcl9zb2x2ZV9CczsKICAgICAgY29uc3QgbGFtYmRhID0gR1NTb2x2ZXJfc29sdmVfbGFtYmRhOwogICAgICBpbnZDcy5sZW5ndGggPSBOZXE7CiAgICAgIEJzLmxlbmd0aCA9IE5lcTsKICAgICAgbGFtYmRhLmxlbmd0aCA9IE5lcTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBOZXE7IGkrKykgewogICAgICAgIGNvbnN0IGMgPSBlcXVhdGlvbnNbaV07CiAgICAgICAgbGFtYmRhW2ldID0gMC4wOwogICAgICAgIEJzW2ldID0gYy5jb21wdXRlQihoKTsKICAgICAgICBpbnZDc1tpXSA9IDEuMCAvIGMuY29tcHV0ZUMoKTsKICAgICAgfQoKICAgICAgaWYgKE5lcSAhPT0gMCkgewogICAgICAgIC8vIFJlc2V0IHZsYW1iZGEKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldOwogICAgICAgICAgY29uc3QgdmxhbWJkYSA9IGIudmxhbWJkYTsKICAgICAgICAgIGNvbnN0IHdsYW1iZGEgPSBiLndsYW1iZGE7CiAgICAgICAgICB2bGFtYmRhLnNldCgwLCAwLCAwKTsKICAgICAgICAgIHdsYW1iZGEuc2V0KDAsIDAsIDApOwogICAgICAgIH0gLy8gSXRlcmF0ZSBvdmVyIGVxdWF0aW9ucwoKCiAgICAgICAgZm9yIChpdGVyID0gMDsgaXRlciAhPT0gbWF4SXRlcjsgaXRlcisrKSB7CiAgICAgICAgICAvLyBBY2N1bXVsYXRlIHRoZSB0b3RhbCBlcnJvciBmb3IgZWFjaCBpdGVyYXRpb24uCiAgICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDsKCiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gTmVxOyBqKyspIHsKICAgICAgICAgICAgY29uc3QgYyA9IGVxdWF0aW9uc1tqXTsgLy8gQ29tcHV0ZSBpdGVyYXRpb24KCiAgICAgICAgICAgIEIgPSBCc1tqXTsKICAgICAgICAgICAgaW52QyA9IGludkNzW2pdOwogICAgICAgICAgICBsYW1iZGFqID0gbGFtYmRhW2pdOwogICAgICAgICAgICBHV2xhbWJkYSA9IGMuY29tcHV0ZUdXbGFtYmRhKCk7CiAgICAgICAgICAgIGRlbHRhbGFtYmRhID0gaW52QyAqIChCIC0gR1dsYW1iZGEgLSBjLmVwcyAqIGxhbWJkYWopOyAvLyBDbGFtcCBpZiB3ZSBhcmUgbm90IHdpdGhpbiB0aGUgbWluL21heCBpbnRlcnZhbAoKICAgICAgICAgICAgaWYgKGxhbWJkYWogKyBkZWx0YWxhbWJkYSA8IGMubWluRm9yY2UpIHsKICAgICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWluRm9yY2UgLSBsYW1iZGFqOwogICAgICAgICAgICB9IGVsc2UgaWYgKGxhbWJkYWogKyBkZWx0YWxhbWJkYSA+IGMubWF4Rm9yY2UpIHsKICAgICAgICAgICAgICBkZWx0YWxhbWJkYSA9IGMubWF4Rm9yY2UgLSBsYW1iZGFqOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7CiAgICAgICAgICAgIGRlbHRhbGFtYmRhVG90ICs9IGRlbHRhbGFtYmRhID4gMC4wID8gZGVsdGFsYW1iZGEgOiAtZGVsdGFsYW1iZGE7IC8vIGFicyhkZWx0YWxhbWJkYSkKCiAgICAgICAgICAgIGMuYWRkVG9XbGFtYmRhKGRlbHRhbGFtYmRhKTsKICAgICAgICAgIH0gLy8gSWYgdGhlIHRvdGFsIGVycm9yIGlzIHNtYWxsIGVub3VnaCAtIHN0b3AgaXRlcmF0ZQoKCiAgICAgICAgICBpZiAoZGVsdGFsYW1iZGFUb3QgKiBkZWx0YWxhbWJkYVRvdCA8IHRvbFNxdWFyZWQpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBBZGQgcmVzdWx0IHRvIHZlbG9jaXR5CgoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgICBjb25zdCBiID0gYm9kaWVzW2ldOwogICAgICAgICAgY29uc3QgdiA9IGIudmVsb2NpdHk7CiAgICAgICAgICBjb25zdCB3ID0gYi5hbmd1bGFyVmVsb2NpdHk7CiAgICAgICAgICBiLnZsYW1iZGEudm11bChiLmxpbmVhckZhY3RvciwgYi52bGFtYmRhKTsKICAgICAgICAgIHYudmFkZChiLnZsYW1iZGEsIHYpOwogICAgICAgICAgYi53bGFtYmRhLnZtdWwoYi5hbmd1bGFyRmFjdG9yLCBiLndsYW1iZGEpOwogICAgICAgICAgdy52YWRkKGIud2xhbWJkYSwgdyk7CiAgICAgICAgfSAvLyBTZXQgdGhlIGAubXVsdGlwbGllcmAgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvbgoKCiAgICAgICAgbGV0IGwgPSBlcXVhdGlvbnMubGVuZ3RoOwogICAgICAgIGNvbnN0IGludkR0ID0gMSAvIGg7CgogICAgICAgIHdoaWxlIChsLS0pIHsKICAgICAgICAgIGVxdWF0aW9uc1tsXS5tdWx0aXBsaWVyID0gbGFtYmRhW2xdICogaW52RHQ7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaXRlcjsKICAgIH0KCiAgfSAvLyBKdXN0IHRlbXBvcmFyeSBudW1iZXIgaG9sZGVycyB0aGF0IHdlIHdhbnQgdG8gcmV1c2UgZWFjaCBpdGVyYXRpb24uCgogIGNvbnN0IEdTU29sdmVyX3NvbHZlX2xhbWJkYSA9IFtdOwogIGNvbnN0IEdTU29sdmVyX3NvbHZlX2ludkNzID0gW107CiAgY29uc3QgR1NTb2x2ZXJfc29sdmVfQnMgPSBbXTsKCiAgLyoqCiAgICogU3BsaXRzIHRoZSBlcXVhdGlvbnMgaW50byBpc2xhbmRzIGFuZCBzb2x2ZXMgdGhlbSBpbmRlcGVuZGVudGx5LiBDYW4gaW1wcm92ZSBwZXJmb3JtYW5jZS4KICAgKi8KICBjbGFzcyBTcGxpdFNvbHZlciBleHRlbmRzIFNvbHZlciB7CiAgICAvKioKICAgICAqIFRoZSBudW1iZXIgb2Ygc29sdmVyIGl0ZXJhdGlvbnMgZGV0ZXJtaW5lcyBxdWFsaXR5IG9mIHRoZSBjb25zdHJhaW50cyBpbiB0aGUgd29ybGQuIFRoZSBtb3JlIGl0ZXJhdGlvbnMsIHRoZSBtb3JlIGNvcnJlY3Qgc2ltdWxhdGlvbi4gTW9yZSBpdGVyYXRpb25zIG5lZWQgbW9yZSBjb21wdXRhdGlvbnMgdGhvdWdoLiBJZiB5b3UgaGF2ZSBhIGxhcmdlIGdyYXZpdHkgZm9yY2UgaW4geW91ciB3b3JsZCwgeW91IHdpbGwgbmVlZCBtb3JlIGl0ZXJhdGlvbnMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFdoZW4gdG9sZXJhbmNlIGlzIHJlYWNoZWQsIHRoZSBzeXN0ZW0gaXMgYXNzdW1lZCB0byBiZSBjb252ZXJnZWQuCiAgICAgKi8KCiAgICAvKiogc3Vic29sdmVyICovCiAgICBjb25zdHJ1Y3RvcihzdWJzb2x2ZXIpIHsKICAgICAgc3VwZXIoKTsKICAgICAgdGhpcy5pdGVyYXRpb25zID0gMTA7CiAgICAgIHRoaXMudG9sZXJhbmNlID0gMWUtNzsKICAgICAgdGhpcy5zdWJzb2x2ZXIgPSBzdWJzb2x2ZXI7CiAgICAgIHRoaXMubm9kZXMgPSBbXTsKICAgICAgdGhpcy5ub2RlUG9vbCA9IFtdOyAvLyBDcmVhdGUgbmVlZGVkIG5vZGVzLCByZXVzZSBpZiBwb3NzaWJsZQoKICAgICAgd2hpbGUgKHRoaXMubm9kZVBvb2wubGVuZ3RoIDwgMTI4KSB7CiAgICAgICAgdGhpcy5ub2RlUG9vbC5wdXNoKHRoaXMuY3JlYXRlTm9kZSgpKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBjcmVhdGVOb2RlCiAgICAgKi8KCgogICAgY3JlYXRlTm9kZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBib2R5OiBudWxsLAogICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICBlcXM6IFtdLAogICAgICAgIHZpc2l0ZWQ6IGZhbHNlCiAgICAgIH07CiAgICB9CiAgICAvKioKICAgICAqIFNvbHZlIHRoZSBzdWJzeXN0ZW1zCiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiBpdGVyYXRpb25zIHBlcmZvcm1lZAogICAgICovCgoKICAgIHNvbHZlKGR0LCB3b3JsZCkgewogICAgICBjb25zdCBub2RlcyA9IFNwbGl0U29sdmVyX3NvbHZlX25vZGVzOwogICAgICBjb25zdCBub2RlUG9vbCA9IHRoaXMubm9kZVBvb2w7CiAgICAgIGNvbnN0IGJvZGllcyA9IHdvcmxkLmJvZGllczsKICAgICAgY29uc3QgZXF1YXRpb25zID0gdGhpcy5lcXVhdGlvbnM7CiAgICAgIGNvbnN0IE5lcSA9IGVxdWF0aW9ucy5sZW5ndGg7CiAgICAgIGNvbnN0IE5ib2RpZXMgPSBib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBzdWJzb2x2ZXIgPSB0aGlzLnN1YnNvbHZlcjsgLy8gQ3JlYXRlIG5lZWRlZCBub2RlcywgcmV1c2UgaWYgcG9zc2libGUKCiAgICAgIHdoaWxlIChub2RlUG9vbC5sZW5ndGggPCBOYm9kaWVzKSB7CiAgICAgICAgbm9kZVBvb2wucHVzaCh0aGlzLmNyZWF0ZU5vZGUoKSk7CiAgICAgIH0KCiAgICAgIG5vZGVzLmxlbmd0aCA9IE5ib2RpZXM7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IE5ib2RpZXM7IGkrKykgewogICAgICAgIG5vZGVzW2ldID0gbm9kZVBvb2xbaV07CiAgICAgIH0gLy8gUmVzZXQgbm9kZSB2YWx1ZXMKCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmJvZGllczsgaSsrKSB7CiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldOwogICAgICAgIG5vZGUuYm9keSA9IGJvZGllc1tpXTsKICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7CiAgICAgICAgbm9kZS5lcXMubGVuZ3RoID0gMDsKICAgICAgICBub2RlLnZpc2l0ZWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgZm9yIChsZXQgayA9IDA7IGsgIT09IE5lcTsgaysrKSB7CiAgICAgICAgY29uc3QgZXEgPSBlcXVhdGlvbnNba107CiAgICAgICAgY29uc3QgaSA9IGJvZGllcy5pbmRleE9mKGVxLmJpKTsKICAgICAgICBjb25zdCBqID0gYm9kaWVzLmluZGV4T2YoZXEuYmopOwogICAgICAgIGNvbnN0IG5pID0gbm9kZXNbaV07CiAgICAgICAgY29uc3QgbmogPSBub2Rlc1tqXTsKICAgICAgICBuaS5jaGlsZHJlbi5wdXNoKG5qKTsKICAgICAgICBuaS5lcXMucHVzaChlcSk7CiAgICAgICAgbmouY2hpbGRyZW4ucHVzaChuaSk7CiAgICAgICAgbmouZXFzLnB1c2goZXEpOwogICAgICB9CgogICAgICBsZXQgY2hpbGQ7CiAgICAgIGxldCBuID0gMDsKICAgICAgbGV0IGVxcyA9IFNwbGl0U29sdmVyX3NvbHZlX2VxczsKICAgICAgc3Vic29sdmVyLnRvbGVyYW5jZSA9IHRoaXMudG9sZXJhbmNlOwogICAgICBzdWJzb2x2ZXIuaXRlcmF0aW9ucyA9IHRoaXMuaXRlcmF0aW9uczsKICAgICAgY29uc3QgZHVtbXlXb3JsZCA9IFNwbGl0U29sdmVyX3NvbHZlX2R1bW15V29ybGQ7CgogICAgICB3aGlsZSAoY2hpbGQgPSBnZXRVbnZpc2l0ZWROb2RlKG5vZGVzKSkgewogICAgICAgIGVxcy5sZW5ndGggPSAwOwogICAgICAgIGR1bW15V29ybGQuYm9kaWVzLmxlbmd0aCA9IDA7CiAgICAgICAgYmZzKGNoaWxkLCB2aXNpdEZ1bmMsIGR1bW15V29ybGQuYm9kaWVzLCBlcXMpOwogICAgICAgIGNvbnN0IE5lcXMgPSBlcXMubGVuZ3RoOwogICAgICAgIGVxcyA9IGVxcy5zb3J0KHNvcnRCeUlkKTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5lcXM7IGkrKykgewogICAgICAgICAgc3Vic29sdmVyLmFkZEVxdWF0aW9uKGVxc1tpXSk7CiAgICAgICAgfQoKICAgICAgICBzdWJzb2x2ZXIuc29sdmUoZHQsIGR1bW15V29ybGQpOwogICAgICAgIHN1YnNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTsKICAgICAgICBuKys7CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfQoKICB9IC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBzdWJzeXN0ZW1zCgogIGNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX25vZGVzID0gW107IC8vIEFsbCBhbGxvY2F0ZWQgbm9kZSBvYmplY3RzCgogIGNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2VxcyA9IFtdOyAvLyBUZW1wIGFycmF5CgogIGNvbnN0IFNwbGl0U29sdmVyX3NvbHZlX2R1bW15V29ybGQgPSB7CiAgICBib2RpZXM6IFtdCiAgfTsgLy8gVGVtcCBvYmplY3QKCiAgY29uc3QgU1RBVElDID0gQm9keS5TVEFUSUM7CgogIGZ1bmN0aW9uIGdldFVudmlzaXRlZE5vZGUobm9kZXMpIHsKICAgIGNvbnN0IE5ub2RlcyA9IG5vZGVzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTm5vZGVzOyBpKyspIHsKICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldOwoKICAgICAgaWYgKCFub2RlLnZpc2l0ZWQgJiYgIShub2RlLmJvZHkudHlwZSAmIFNUQVRJQykpIHsKICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGNvbnN0IHF1ZXVlID0gW107CgogIGZ1bmN0aW9uIGJmcyhyb290LCB2aXNpdEZ1bmMsIGJkcywgZXFzKSB7CiAgICBxdWV1ZS5wdXNoKHJvb3QpOwogICAgcm9vdC52aXNpdGVkID0gdHJ1ZTsKICAgIHZpc2l0RnVuYyhyb290LCBiZHMsIGVxcyk7CgogICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCkgewogICAgICBjb25zdCBub2RlID0gcXVldWUucG9wKCk7IC8vIExvb3Agb3ZlciB1bnZpc2l0ZWQgY2hpbGQgbm9kZXMKCiAgICAgIGxldCBjaGlsZDsKCiAgICAgIHdoaWxlIChjaGlsZCA9IGdldFVudmlzaXRlZE5vZGUobm9kZS5jaGlsZHJlbikpIHsKICAgICAgICBjaGlsZC52aXNpdGVkID0gdHJ1ZTsKICAgICAgICB2aXNpdEZ1bmMoY2hpbGQsIGJkcywgZXFzKTsKICAgICAgICBxdWV1ZS5wdXNoKGNoaWxkKTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gdmlzaXRGdW5jKG5vZGUsIGJkcywgZXFzKSB7CiAgICBiZHMucHVzaChub2RlLmJvZHkpOwogICAgY29uc3QgTmVxcyA9IG5vZGUuZXFzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTmVxczsgaSsrKSB7CiAgICAgIGNvbnN0IGVxID0gbm9kZS5lcXNbaV07CgogICAgICBpZiAoIWVxcy5pbmNsdWRlcyhlcSkpIHsKICAgICAgICBlcXMucHVzaChlcSk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHNvcnRCeUlkKGEsIGIpIHsKICAgIHJldHVybiBiLmlkIC0gYS5pZDsKICB9CgogIC8qKgogICAqIEZvciBwb29saW5nIG9iamVjdHMgdGhhdCBjYW4gYmUgcmV1c2VkLgogICAqLwogIGNsYXNzIFBvb2wgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMub2JqZWN0cyA9IFtdOwogICAgICB0aGlzLnR5cGUgPSBPYmplY3Q7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZWxlYXNlIGFuIG9iamVjdCBhZnRlciB1c2UKICAgICAqLwogICAgcmVsZWFzZSgpIHsKICAgICAgY29uc3QgTmFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE5hcmdzOyBpKyspIHsKICAgICAgICB0aGlzLm9iamVjdHMucHVzaChpIDwgMCB8fCBhcmd1bWVudHMubGVuZ3RoIDw9IGkgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbaV0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0KICAgIC8qKgogICAgICogR2V0IGFuIG9iamVjdAogICAgICovCgoKICAgIGdldCgpIHsKICAgICAgaWYgKHRoaXMub2JqZWN0cy5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RPYmplY3QoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5vYmplY3RzLnBvcCgpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhbiBvYmplY3QuIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBpbiBlYWNoIHN1YmNsYXNzLgogICAgICovCgoKICAgIGNvbnN0cnVjdE9iamVjdCgpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb25zdHJ1Y3RPYmplY3QoKSBub3QgaW1wbGVtZW50ZWQgaW4gdGhpcyBQb29sIHN1YmNsYXNzIHlldCEnKTsKICAgIH0KICAgIC8qKgogICAgICogQHJldHVybiBTZWxmLCBmb3IgY2hhaW5pbmcKICAgICAqLwoKCiAgICByZXNpemUoc2l6ZSkgewogICAgICBjb25zdCBvYmplY3RzID0gdGhpcy5vYmplY3RzOwoKICAgICAgd2hpbGUgKG9iamVjdHMubGVuZ3RoID4gc2l6ZSkgewogICAgICAgIG9iamVjdHMucG9wKCk7CiAgICAgIH0KCiAgICAgIHdoaWxlIChvYmplY3RzLmxlbmd0aCA8IHNpemUpIHsKICAgICAgICBvYmplY3RzLnB1c2godGhpcy5jb25zdHJ1Y3RPYmplY3QoKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICB9CgogIC8qKgogICAqIFZlYzNQb29sCiAgICovCgogIGNsYXNzIFZlYzNQb29sIGV4dGVuZHMgUG9vbCB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKICAgICAgdGhpcy50eXBlID0gVmVjMzsKICAgIH0KCiAgICAvKioKICAgICAqIENvbnN0cnVjdCBhIHZlY3RvcgogICAgICovCiAgICBjb25zdHJ1Y3RPYmplY3QoKSB7CiAgICAgIHJldHVybiBuZXcgVmVjMygpOwogICAgfQoKICB9CgogIC8vIE5hbWluZyBydWxlOiBiYXNlZCBvZiB0aGUgb3JkZXIgaW4gU0hBUEVfVFlQRVMsCiAgLy8gdGhlIGZpcnN0IHBhcnQgb2YgdGhlIG1ldGhvZCBpcyBmb3JtZWQgYnkgdGhlCiAgLy8gc2hhcGUgdHlwZSB0aGF0IGNvbWVzIGJlZm9yZSwgaW4gdGhlIHNlY29uZCBwYXJ0CiAgLy8gdGhlcmUgaXMgdGhlIHNoYXBlIHR5cGUgdGhhdCBjb21lcyBhZnRlciBpbiB0aGUgU0hBUEVfVFlQRVMgbGlzdAogIGNvbnN0IENPTExJU0lPTl9UWVBFUyA9IHsKICAgIHNwaGVyZVNwaGVyZTogU2hhcGUudHlwZXMuU1BIRVJFLAogICAgc3BoZXJlUGxhbmU6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLlBMQU5FLAogICAgYm94Qm94OiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5CT1gsCiAgICBzcGhlcmVCb3g6IFNoYXBlLnR5cGVzLlNQSEVSRSB8IFNoYXBlLnR5cGVzLkJPWCwKICAgIHBsYW5lQm94OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkJPWCwKICAgIGNvbnZleENvbnZleDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICAgIHNwaGVyZUNvbnZleDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiwKICAgIHBsYW5lQ29udmV4OiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBib3hDb252ZXg6IFNoYXBlLnR5cGVzLkJPWCB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBzcGhlcmVIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuU1BIRVJFIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgICBib3hIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuSEVJR0hURklFTEQsCiAgICBjb252ZXhIZWlnaHRmaWVsZDogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkhFSUdIVEZJRUxELAogICAgc3BoZXJlUGFydGljbGU6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuU1BIRVJFLAogICAgcGxhbmVQYXJ0aWNsZTogU2hhcGUudHlwZXMuUExBTkUgfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICAgIGJveFBhcnRpY2xlOiBTaGFwZS50eXBlcy5CT1ggfCBTaGFwZS50eXBlcy5QQVJUSUNMRSwKICAgIGNvbnZleFBhcnRpY2xlOiBTaGFwZS50eXBlcy5QQVJUSUNMRSB8IFNoYXBlLnR5cGVzLkNPTlZFWFBPTFlIRURST04sCiAgICBjeWxpbmRlckN5bGluZGVyOiBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHNwaGVyZUN5bGluZGVyOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHBsYW5lQ3lsaW5kZXI6IFNoYXBlLnR5cGVzLlBMQU5FIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBib3hDeWxpbmRlcjogU2hhcGUudHlwZXMuQk9YIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBjb252ZXhDeWxpbmRlcjogU2hhcGUudHlwZXMuQ09OVkVYUE9MWUhFRFJPTiB8IFNoYXBlLnR5cGVzLkNZTElOREVSLAogICAgaGVpZ2h0ZmllbGRDeWxpbmRlcjogU2hhcGUudHlwZXMuSEVJR0hURklFTEQgfCBTaGFwZS50eXBlcy5DWUxJTkRFUiwKICAgIHBhcnRpY2xlQ3lsaW5kZXI6IFNoYXBlLnR5cGVzLlBBUlRJQ0xFIHwgU2hhcGUudHlwZXMuQ1lMSU5ERVIsCiAgICBzcGhlcmVUcmltZXNoOiBTaGFwZS50eXBlcy5TUEhFUkUgfCBTaGFwZS50eXBlcy5UUklNRVNILAogICAgcGxhbmVUcmltZXNoOiBTaGFwZS50eXBlcy5QTEFORSB8IFNoYXBlLnR5cGVzLlRSSU1FU0gKICB9OwoKICAvKioKICAgKiBIZWxwZXIgY2xhc3MgZm9yIHRoZSBXb3JsZC4gR2VuZXJhdGVzIENvbnRhY3RFcXVhdGlvbnMuCiAgICogQHRvZG8gU3BoZXJlLUNvbnZleFBvbHloZWRyb24gY29udGFjdHMKICAgKiBAdG9kbyBDb250YWN0IHJlZHVjdGlvbgogICAqIEB0b2RvIHNob3VsZCBtb3ZlIG1ldGhvZHMgdG8gcHJvdG90eXBlCiAgICovCiAgY2xhc3MgTmFycm93cGhhc2UgewogICAgLyoqCiAgICAgKiBJbnRlcm5hbCBzdG9yYWdlIG9mIHBvb2xlZCBjb250YWN0IHBvaW50cy4KICAgICAqLwoKICAgIC8qKgogICAgICogUG9vbGVkIHZlY3RvcnMuCiAgICAgKi8KICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVNwaGVyZV0oKSB7CiAgICAgIHJldHVybiB0aGlzLnNwaGVyZVNwaGVyZTsKICAgIH0KCiAgICBnZXQgW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVQbGFuZV0oKSB7CiAgICAgIHJldHVybiB0aGlzLnNwaGVyZVBsYW5lOwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLmJveEJveF0oKSB7CiAgICAgIHJldHVybiB0aGlzLmJveEJveDsKICAgIH0KCiAgICBnZXQgW0NPTExJU0lPTl9UWVBFUy5zcGhlcmVCb3hdKCkgewogICAgICByZXR1cm4gdGhpcy5zcGhlcmVCb3g7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMucGxhbmVCb3hdKCkgewogICAgICByZXR1cm4gdGhpcy5wbGFuZUJveDsKICAgIH0KCiAgICBnZXQgW0NPTExJU0lPTl9UWVBFUy5jb252ZXhDb252ZXhdKCkgewogICAgICByZXR1cm4gdGhpcy5jb252ZXhDb252ZXg7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ29udmV4XSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3BoZXJlQ29udmV4OwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnBsYW5lQ29udmV4XSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGxhbmVDb252ZXg7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMuYm94Q29udmV4XSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYm94Q29udmV4OwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnNwaGVyZUhlaWdodGZpZWxkXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3BoZXJlSGVpZ2h0ZmllbGQ7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMuYm94SGVpZ2h0ZmllbGRdKCkgewogICAgICByZXR1cm4gdGhpcy5ib3hIZWlnaHRmaWVsZDsKICAgIH0KCiAgICBnZXQgW0NPTExJU0lPTl9UWVBFUy5jb252ZXhIZWlnaHRmaWVsZF0oKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleEhlaWdodGZpZWxkOwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVBhcnRpY2xlXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3BoZXJlUGFydGljbGU7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMucGxhbmVQYXJ0aWNsZV0oKSB7CiAgICAgIHJldHVybiB0aGlzLnBsYW5lUGFydGljbGU7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMuYm94UGFydGljbGVdKCkgewogICAgICByZXR1cm4gdGhpcy5ib3hQYXJ0aWNsZTsKICAgIH0KCiAgICBnZXQgW0NPTExJU0lPTl9UWVBFUy5jb252ZXhQYXJ0aWNsZV0oKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleFBhcnRpY2xlOwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLmN5bGluZGVyQ3lsaW5kZXJdKCkgewogICAgICByZXR1cm4gdGhpcy5jb252ZXhDb252ZXg7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMuc3BoZXJlQ3lsaW5kZXJdKCkgewogICAgICByZXR1cm4gdGhpcy5zcGhlcmVDb252ZXg7CiAgICB9CgogICAgZ2V0IFtDT0xMSVNJT05fVFlQRVMucGxhbmVDeWxpbmRlcl0oKSB7CiAgICAgIHJldHVybiB0aGlzLnBsYW5lQ29udmV4OwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLmJveEN5bGluZGVyXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYm94Q29udmV4OwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLmNvbnZleEN5bGluZGVyXSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udmV4Q29udmV4OwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLmhlaWdodGZpZWxkQ3lsaW5kZXJdKCkgewogICAgICByZXR1cm4gdGhpcy5oZWlnaHRmaWVsZEN5bGluZGVyOwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnBhcnRpY2xlQ3lsaW5kZXJdKCkgewogICAgICByZXR1cm4gdGhpcy5wYXJ0aWNsZUN5bGluZGVyOwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnNwaGVyZVRyaW1lc2hdKCkgewogICAgICByZXR1cm4gdGhpcy5zcGhlcmVUcmltZXNoOwogICAgfQoKICAgIGdldCBbQ09MTElTSU9OX1RZUEVTLnBsYW5lVHJpbWVzaF0oKSB7CiAgICAgIHJldHVybiB0aGlzLnBsYW5lVHJpbWVzaDsKICAgIH0gLy8gZ2V0IFtDT0xMSVNJT05fVFlQRVMuY29udmV4VHJpbWVzaF0oKSB7CiAgICAvLyAgIHJldHVybiB0aGlzLmNvbnZleFRyaW1lc2gKICAgIC8vIH0KCgogICAgY29uc3RydWN0b3Iod29ybGQpIHsKICAgICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gW107CiAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsKICAgICAgdGhpcy5yZXN1bHQgPSBbXTsKICAgICAgdGhpcy5mcmljdGlvblJlc3VsdCA9IFtdOwogICAgICB0aGlzLnYzcG9vbCA9IG5ldyBWZWMzUG9vbCgpOwogICAgICB0aGlzLndvcmxkID0gd29ybGQ7CiAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7CiAgICAgIHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24gPSBmYWxzZTsKICAgIH0KICAgIC8qKgogICAgICogTWFrZSBhIGNvbnRhY3Qgb2JqZWN0LCBieSB1c2luZyB0aGUgaW50ZXJuYWwgcG9vbCBvciBjcmVhdGluZyBhIG5ldyBvbmUuCiAgICAgKi8KCgogICAgY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCBvdmVycmlkZVNoYXBlQSwgb3ZlcnJpZGVTaGFwZUIpIHsKICAgICAgbGV0IGM7CgogICAgICBpZiAodGhpcy5jb250YWN0UG9pbnRQb29sLmxlbmd0aCkgewogICAgICAgIGMgPSB0aGlzLmNvbnRhY3RQb2ludFBvb2wucG9wKCk7CiAgICAgICAgYy5iaSA9IGJpOwogICAgICAgIGMuYmogPSBiajsKICAgICAgfSBlbHNlIHsKICAgICAgICBjID0gbmV3IENvbnRhY3RFcXVhdGlvbihiaSwgYmopOwogICAgICB9CgogICAgICBjLmVuYWJsZWQgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgY29uc3QgY20gPSB0aGlzLmN1cnJlbnRDb250YWN0TWF0ZXJpYWw7CiAgICAgIGMucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjsKICAgICAgYy5zZXRTcG9va1BhcmFtcyhjbS5jb250YWN0RXF1YXRpb25TdGlmZm5lc3MsIGNtLmNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24sIHRoaXMud29ybGQuZHQpOwogICAgICBjb25zdCBtYXRBID0gc2kubWF0ZXJpYWwgfHwgYmkubWF0ZXJpYWw7CiAgICAgIGNvbnN0IG1hdEIgPSBzai5tYXRlcmlhbCB8fCBiai5tYXRlcmlhbDsKCiAgICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5yZXN0aXR1dGlvbiA+PSAwICYmIG1hdEIucmVzdGl0dXRpb24gPj0gMCkgewogICAgICAgIGMucmVzdGl0dXRpb24gPSBtYXRBLnJlc3RpdHV0aW9uICogbWF0Qi5yZXN0aXR1dGlvbjsKICAgICAgfQoKICAgICAgYy5zaSA9IG92ZXJyaWRlU2hhcGVBIHx8IHNpOwogICAgICBjLnNqID0gb3ZlcnJpZGVTaGFwZUIgfHwgc2o7CiAgICAgIHJldHVybiBjOwogICAgfQoKICAgIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoY29udGFjdEVxdWF0aW9uLCBvdXRBcnJheSkgewogICAgICBjb25zdCBib2R5QSA9IGNvbnRhY3RFcXVhdGlvbi5iaTsKICAgICAgY29uc3QgYm9keUIgPSBjb250YWN0RXF1YXRpb24uYmo7CiAgICAgIGNvbnN0IHNoYXBlQSA9IGNvbnRhY3RFcXVhdGlvbi5zaTsKICAgICAgY29uc3Qgc2hhcGVCID0gY29udGFjdEVxdWF0aW9uLnNqOwogICAgICBjb25zdCB3b3JsZCA9IHRoaXMud29ybGQ7CiAgICAgIGNvbnN0IGNtID0gdGhpcy5jdXJyZW50Q29udGFjdE1hdGVyaWFsOyAvLyBJZiBmcmljdGlvbiBvciByZXN0aXR1dGlvbiB3ZXJlIHNwZWNpZmllZCBpbiB0aGUgbWF0ZXJpYWwsIHVzZSB0aGVtCgogICAgICBsZXQgZnJpY3Rpb24gPSBjbS5mcmljdGlvbjsKICAgICAgY29uc3QgbWF0QSA9IHNoYXBlQS5tYXRlcmlhbCB8fCBib2R5QS5tYXRlcmlhbDsKICAgICAgY29uc3QgbWF0QiA9IHNoYXBlQi5tYXRlcmlhbCB8fCBib2R5Qi5tYXRlcmlhbDsKCiAgICAgIGlmIChtYXRBICYmIG1hdEIgJiYgbWF0QS5mcmljdGlvbiA+PSAwICYmIG1hdEIuZnJpY3Rpb24gPj0gMCkgewogICAgICAgIGZyaWN0aW9uID0gbWF0QS5mcmljdGlvbiAqIG1hdEIuZnJpY3Rpb247CiAgICAgIH0KCiAgICAgIGlmIChmcmljdGlvbiA+IDApIHsKICAgICAgICAvLyBDcmVhdGUgMiB0YW5nZW50IGVxdWF0aW9ucwogICAgICAgIC8vIFVzZXJzIG1heSBwcm92aWRlIGEgZm9yY2UgZGlmZmVyZW50IGZyb20gZ2xvYmFsIGdyYXZpdHkgdG8gdXNlIHdoZW4gY29tcHV0aW5nIGNvbnRhY3QgZnJpY3Rpb24uCiAgICAgICAgY29uc3QgbXVnID0gZnJpY3Rpb24gKiAod29ybGQuZnJpY3Rpb25HcmF2aXR5IHx8IHdvcmxkLmdyYXZpdHkpLmxlbmd0aCgpOwogICAgICAgIGxldCByZWR1Y2VkTWFzcyA9IGJvZHlBLmludk1hc3MgKyBib2R5Qi5pbnZNYXNzOwoKICAgICAgICBpZiAocmVkdWNlZE1hc3MgPiAwKSB7CiAgICAgICAgICByZWR1Y2VkTWFzcyA9IDEgLyByZWR1Y2VkTWFzczsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHBvb2wgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sOwogICAgICAgIGNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtdWcgKiByZWR1Y2VkTWFzcyk7CiAgICAgICAgY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihib2R5QSwgYm9keUIsIG11ZyAqIHJlZHVjZWRNYXNzKTsKICAgICAgICBjMS5iaSA9IGMyLmJpID0gYm9keUE7CiAgICAgICAgYzEuYmogPSBjMi5iaiA9IGJvZHlCOwogICAgICAgIGMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnICogcmVkdWNlZE1hc3M7CiAgICAgICAgYzEubWF4Rm9yY2UgPSBjMi5tYXhGb3JjZSA9IG11ZyAqIHJlZHVjZWRNYXNzOyAvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnMKCiAgICAgICAgYzEucmkuY29weShjb250YWN0RXF1YXRpb24ucmkpOwogICAgICAgIGMxLnJqLmNvcHkoY29udGFjdEVxdWF0aW9uLnJqKTsKICAgICAgICBjMi5yaS5jb3B5KGNvbnRhY3RFcXVhdGlvbi5yaSk7CiAgICAgICAgYzIucmouY29weShjb250YWN0RXF1YXRpb24ucmopOyAvLyBDb25zdHJ1Y3QgdGFuZ2VudHMKCiAgICAgICAgY29udGFjdEVxdWF0aW9uLm5pLnRhbmdlbnRzKGMxLnQsIGMyLnQpOyAvLyBTZXQgc3Bvb2sgcGFyYW1zCgogICAgICAgIGMxLnNldFNwb29rUGFyYW1zKGNtLmZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3MsIGNtLmZyaWN0aW9uRXF1YXRpb25SZWxheGF0aW9uLCB3b3JsZC5kdCk7CiAgICAgICAgYzIuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIHdvcmxkLmR0KTsKICAgICAgICBjMS5lbmFibGVkID0gYzIuZW5hYmxlZCA9IGNvbnRhY3RFcXVhdGlvbi5lbmFibGVkOwogICAgICAgIG91dEFycmF5LnB1c2goYzEsIGMyKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgLyoqCiAgICAgKiBUYWtlIHRoZSBhdmVyYWdlIE4gbGF0ZXN0IGNvbnRhY3QgcG9pbnQgb24gdGhlIHBsYW5lLgogICAgICovCgoKICAgIGNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpIHsKICAgICAgLy8gVGhlIGxhc3QgY29udGFjdEVxdWF0aW9uCiAgICAgIGxldCBjID0gdGhpcy5yZXN1bHRbdGhpcy5yZXN1bHQubGVuZ3RoIC0gMV07IC8vIENyZWF0ZSB0aGUgcmVzdWx0OiB0d28gImF2ZXJhZ2UiIGZyaWN0aW9uIGVxdWF0aW9ucwoKICAgICAgaWYgKCF0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QoYywgdGhpcy5mcmljdGlvblJlc3VsdCkgfHwgbnVtQ29udGFjdHMgPT09IDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGYxID0gdGhpcy5mcmljdGlvblJlc3VsdFt0aGlzLmZyaWN0aW9uUmVzdWx0Lmxlbmd0aCAtIDJdOwogICAgICBjb25zdCBmMiA9IHRoaXMuZnJpY3Rpb25SZXN1bHRbdGhpcy5mcmljdGlvblJlc3VsdC5sZW5ndGggLSAxXTsKICAgICAgYXZlcmFnZU5vcm1hbC5zZXRaZXJvKCk7CiAgICAgIGF2ZXJhZ2VDb250YWN0UG9pbnRBLnNldFplcm8oKTsKICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEIuc2V0WmVybygpOwogICAgICBjb25zdCBib2R5QSA9IGMuYmk7CiAgICAgIGMuYmo7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gbnVtQ29udGFjdHM7IGkrKykgewogICAgICAgIGMgPSB0aGlzLnJlc3VsdFt0aGlzLnJlc3VsdC5sZW5ndGggLSAxIC0gaV07CgogICAgICAgIGlmIChjLmJpICE9PSBib2R5QSkgewogICAgICAgICAgYXZlcmFnZU5vcm1hbC52YWRkKGMubmksIGF2ZXJhZ2VOb3JtYWwpOwogICAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJpLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7CiAgICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmosIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXZlcmFnZU5vcm1hbC52c3ViKGMubmksIGF2ZXJhZ2VOb3JtYWwpOwogICAgICAgICAgYXZlcmFnZUNvbnRhY3RQb2ludEEudmFkZChjLnJqLCBhdmVyYWdlQ29udGFjdFBvaW50QSk7CiAgICAgICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi52YWRkKGMucmksIGF2ZXJhZ2VDb250YWN0UG9pbnRCKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnN0IGludk51bUNvbnRhY3RzID0gMSAvIG51bUNvbnRhY3RzOwogICAgICBhdmVyYWdlQ29udGFjdFBvaW50QS5zY2FsZShpbnZOdW1Db250YWN0cywgZjEucmkpOwogICAgICBhdmVyYWdlQ29udGFjdFBvaW50Qi5zY2FsZShpbnZOdW1Db250YWN0cywgZjEucmopOwogICAgICBmMi5yaS5jb3B5KGYxLnJpKTsgLy8gU2hvdWxkIGJlIHRoZSBzYW1lCgogICAgICBmMi5yai5jb3B5KGYxLnJqKTsKICAgICAgYXZlcmFnZU5vcm1hbC5ub3JtYWxpemUoKTsKICAgICAgYXZlcmFnZU5vcm1hbC50YW5nZW50cyhmMS50LCBmMi50KTsgLy8gcmV0dXJuIGVxOwogICAgfQogICAgLyoqCiAgICAgKiBHZW5lcmF0ZSBhbGwgY29udGFjdHMgYmV0d2VlbiBhIGxpc3Qgb2YgYm9keSBwYWlycwogICAgICogQHBhcmFtIHAxIEFycmF5IG9mIGJvZHkgaW5kaWNlcwogICAgICogQHBhcmFtIHAyIEFycmF5IG9mIGJvZHkgaW5kaWNlcwogICAgICogQHBhcmFtIHJlc3VsdCBBcnJheSB0byBzdG9yZSBnZW5lcmF0ZWQgY29udGFjdHMKICAgICAqIEBwYXJhbSBvbGRjb250YWN0cyBPcHRpb25hbC4gQXJyYXkgb2YgcmV1c2FibGUgY29udGFjdCBvYmplY3RzCiAgICAgKi8KCgogICAgZ2V0Q29udGFjdHMocDEsIHAyLCB3b3JsZCwgcmVzdWx0LCBvbGRjb250YWN0cywgZnJpY3Rpb25SZXN1bHQsIGZyaWN0aW9uUG9vbCkgewogICAgICAvLyBTYXZlIG9sZCBjb250YWN0IG9iamVjdHMKICAgICAgdGhpcy5jb250YWN0UG9pbnRQb29sID0gb2xkY29udGFjdHM7CiAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBmcmljdGlvblBvb2w7CiAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwogICAgICB0aGlzLmZyaWN0aW9uUmVzdWx0ID0gZnJpY3Rpb25SZXN1bHQ7CiAgICAgIGNvbnN0IHFpID0gdG1wUXVhdDE7CiAgICAgIGNvbnN0IHFqID0gdG1wUXVhdDI7CiAgICAgIGNvbnN0IHhpID0gdG1wVmVjMTsKICAgICAgY29uc3QgeGogPSB0bXBWZWMyOwoKICAgICAgZm9yIChsZXQgayA9IDAsIE4gPSBwMS5sZW5ndGg7IGsgIT09IE47IGsrKykgewogICAgICAgIC8vIEdldCBjdXJyZW50IGNvbGxpc2lvbiBib2RpZXMKICAgICAgICBjb25zdCBiaSA9IHAxW2tdOwogICAgICAgIGNvbnN0IGJqID0gcDJba107IC8vIEdldCBjb250YWN0IG1hdGVyaWFsCgogICAgICAgIGxldCBib2R5Q29udGFjdE1hdGVyaWFsID0gbnVsbDsKCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgICBib2R5Q29udGFjdE1hdGVyaWFsID0gd29ybGQuZ2V0Q29udGFjdE1hdGVyaWFsKGJpLm1hdGVyaWFsLCBiai5tYXRlcmlhbCkgfHwgbnVsbDsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGp1c3RUZXN0ID0gYmkudHlwZSAmIEJvZHkuS0lORU1BVElDICYmIGJqLnR5cGUgJiBCb2R5LlNUQVRJQyB8fCBiaS50eXBlICYgQm9keS5TVEFUSUMgJiYgYmoudHlwZSAmIEJvZHkuS0lORU1BVElDIHx8IGJpLnR5cGUgJiBCb2R5LktJTkVNQVRJQyAmJiBiai50eXBlICYgQm9keS5LSU5FTUFUSUM7CgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmkuc2hhcGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBiaS5xdWF0ZXJuaW9uLm11bHQoYmkuc2hhcGVPcmllbnRhdGlvbnNbaV0sIHFpKTsKICAgICAgICAgIGJpLnF1YXRlcm5pb24udm11bHQoYmkuc2hhcGVPZmZzZXRzW2ldLCB4aSk7CiAgICAgICAgICB4aS52YWRkKGJpLnBvc2l0aW9uLCB4aSk7CiAgICAgICAgICBjb25zdCBzaSA9IGJpLnNoYXBlc1tpXTsKCiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJqLnNoYXBlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICAvLyBDb21wdXRlIHdvcmxkIHRyYW5zZm9ybSBvZiBzaGFwZXMKICAgICAgICAgICAgYmoucXVhdGVybmlvbi5tdWx0KGJqLnNoYXBlT3JpZW50YXRpb25zW2pdLCBxaik7CiAgICAgICAgICAgIGJqLnF1YXRlcm5pb24udm11bHQoYmouc2hhcGVPZmZzZXRzW2pdLCB4aik7CiAgICAgICAgICAgIHhqLnZhZGQoYmoucG9zaXRpb24sIHhqKTsKICAgICAgICAgICAgY29uc3Qgc2ogPSBiai5zaGFwZXNbal07CgogICAgICAgICAgICBpZiAoIShzaS5jb2xsaXNpb25GaWx0ZXJNYXNrICYgc2ouY29sbGlzaW9uRmlsdGVyR3JvdXAgJiYgc2ouY29sbGlzaW9uRmlsdGVyTWFzayAmIHNpLmNvbGxpc2lvbkZpbHRlckdyb3VwKSkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0gLy8gR2V0IGNvbGxpc2lvbiBtYXRlcmlhbAoKCiAgICAgICAgICAgIGxldCBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IG51bGw7CgogICAgICAgICAgICBpZiAoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpIHsKICAgICAgICAgICAgICBzaGFwZUNvbnRhY3RNYXRlcmlhbCA9IHdvcmxkLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCwgc2oubWF0ZXJpYWwpIHx8IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuY3VycmVudENvbnRhY3RNYXRlcmlhbCA9IHNoYXBlQ29udGFjdE1hdGVyaWFsIHx8IGJvZHlDb250YWN0TWF0ZXJpYWwgfHwgd29ybGQuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDsgLy8gR2V0IGNvbnRhY3RzCgogICAgICAgICAgICBjb25zdCByZXNvbHZlckluZGV4ID0gc2kudHlwZSB8IHNqLnR5cGU7CiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpc1tyZXNvbHZlckluZGV4XTsKCiAgICAgICAgICAgIGlmIChyZXNvbHZlcikgewogICAgICAgICAgICAgIGxldCByZXR2YWwgPSBmYWxzZTsgLy8gVE8gRE86IGludmVzdGlnYXRlIHdoeSBzcGhlcmVQYXJ0aWNsZSBhbmQgY29udmV4UGFydGljbGUKICAgICAgICAgICAgICAvLyByZXNvbHZlcnMgZXhwZWN0IHNpIGFuZCBzaiBzaGFwZXMgdG8gYmUgaW4gcmV2ZXJzZSBvcmRlcgogICAgICAgICAgICAgIC8vIChpLmUuIGxhcmdlciBpbnRlZ2VyIHZhbHVlIHR5cGUgZmlyc3QgaW5zdGVhZCBvZiBzbWFsbGVyIGZpcnN0KQoKICAgICAgICAgICAgICBpZiAoc2kudHlwZSA8IHNqLnR5cGUpIHsKICAgICAgICAgICAgICAgIHJldHZhbCA9IHJlc29sdmVyLmNhbGwodGhpcywgc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dmFsID0gcmVzb2x2ZXIuY2FsbCh0aGlzLCBzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHNpLCBzaiwganVzdFRlc3QpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHJldHZhbCAmJiBqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3ZlcmxhcAogICAgICAgICAgICAgICAgd29ybGQuc2hhcGVPdmVybGFwS2VlcGVyLnNldChzaS5pZCwgc2ouaWQpOwogICAgICAgICAgICAgICAgd29ybGQuYm9keU92ZXJsYXBLZWVwZXIuc2V0KGJpLmlkLCBiai5pZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgc3BoZXJlU3BoZXJlKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgIHJldHVybiB4aS5kaXN0YW5jZVNxdWFyZWQoeGopIDwgKHNpLnJhZGl1cyArIHNqLnJhZGl1cykgKiogMjsKICAgICAgfSAvLyBXZSB3aWxsIGhhdmUgb25seSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKCgogICAgICBjb25zdCBjb250YWN0RXEgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgeGoudnN1Yih4aSwgY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLm5pLm5vcm1hbGl6ZSgpOyAvLyBDb250YWN0IHBvaW50IGxvY2F0aW9ucwoKICAgICAgY29udGFjdEVxLnJpLmNvcHkoY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLnJqLmNvcHkoY29udGFjdEVxLm5pKTsKICAgICAgY29udGFjdEVxLnJpLnNjYWxlKHNpLnJhZGl1cywgY29udGFjdEVxLnJpKTsKICAgICAgY29udGFjdEVxLnJqLnNjYWxlKC1zai5yYWRpdXMsIGNvbnRhY3RFcS5yaik7CiAgICAgIGNvbnRhY3RFcS5yaS52YWRkKHhpLCBjb250YWN0RXEucmkpOwogICAgICBjb250YWN0RXEucmkudnN1YihiaS5wb3NpdGlvbiwgY29udGFjdEVxLnJpKTsKICAgICAgY29udGFjdEVxLnJqLnZhZGQoeGosIGNvbnRhY3RFcS5yaik7CiAgICAgIGNvbnRhY3RFcS5yai52c3ViKGJqLnBvc2l0aW9uLCBjb250YWN0RXEucmopOwogICAgICB0aGlzLnJlc3VsdC5wdXNoKGNvbnRhY3RFcSk7CiAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChjb250YWN0RXEsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgfQoKICAgIHNwaGVyZVBsYW5lKHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIFdlIHdpbGwgaGF2ZSBvbmUgY29udGFjdCBpbiB0aGlzIGNhc2UKICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7IC8vIENvbnRhY3Qgbm9ybWFsCgogICAgICByLm5pLnNldCgwLCAwLCAxKTsKICAgICAgcWoudm11bHQoci5uaSwgci5uaSk7CiAgICAgIHIubmkubmVnYXRlKHIubmkpOyAvLyBib2R5IGkgaXMgdGhlIHNwaGVyZSwgZmxpcCBub3JtYWwKCiAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIE5lZWRlZD8KICAgICAgLy8gVmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBjb250YWN0IHBvaW50CgogICAgICByLm5pLnNjYWxlKHNpLnJhZGl1cywgci5yaSk7IC8vIFByb2plY3QgZG93biBzcGhlcmUgb24gcGxhbmUKCiAgICAgIHhpLnZzdWIoeGosIHBvaW50X29uX3BsYW5lX3RvX3NwaGVyZSk7CiAgICAgIHIubmkuc2NhbGUoci5uaS5kb3QocG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlKSwgcGxhbmVfdG9fc3BoZXJlX29ydGhvKTsKICAgICAgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLnZzdWIocGxhbmVfdG9fc3BoZXJlX29ydGhvLCByLnJqKTsgLy8gVGhlIHNwaGVyZSBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gcGxhbmUKCiAgICAgIGlmICgtcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlLmRvdChyLm5pKSA8PSBzaS5yYWRpdXMpIHsKICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gLy8gTWFrZSBpdCByZWxhdGl2ZSB0byB0aGUgYm9keQoKCiAgICAgICAgY29uc3QgcmkgPSByLnJpOwogICAgICAgIGNvbnN0IHJqID0gci5yajsKICAgICAgICByaS52YWRkKHhpLCByaSk7CiAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICByai52c3ViKGJqLnBvc2l0aW9uLCByaik7CiAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgIH0KICAgIH0KCiAgICBib3hCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5tYXRlcmlhbCA9IHNqLm1hdGVyaWFsOwogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uY29sbGlzaW9uUmVzcG9uc2UgPSBzaS5jb2xsaXNpb25SZXNwb25zZTsKICAgICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2ouY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgICB9CgogICAgc3BoZXJlQm94KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IHYzcG9vbCA9IHRoaXMudjNwb29sOyAvLyB3ZSByZWZlciB0byB0aGUgYm94IGFzIGJvZHkgagoKICAgICAgY29uc3Qgc2lkZXMgPSBzcGhlcmVCb3hfc2lkZXM7CiAgICAgIHhpLnZzdWIoeGosIGJveF90b19zcGhlcmUpOwogICAgICBzai5nZXRTaWRlTm9ybWFscyhzaWRlcywgcWopOwogICAgICBjb25zdCBSID0gc2kucmFkaXVzOwoKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7IC8vIFN0b3JlIHRoZSByZXN1bHRpbmcgc2lkZSBwZW5ldHJhdGlvbiBpbmZvCgogICAgICBjb25zdCBzaWRlX25zID0gc3BoZXJlQm94X3NpZGVfbnM7CiAgICAgIGNvbnN0IHNpZGVfbnMxID0gc3BoZXJlQm94X3NpZGVfbnMxOwogICAgICBjb25zdCBzaWRlX25zMiA9IHNwaGVyZUJveF9zaWRlX25zMjsKICAgICAgbGV0IHNpZGVfaCA9IG51bGw7CiAgICAgIGxldCBzaWRlX3BlbmV0cmF0aW9ucyA9IDA7CiAgICAgIGxldCBzaWRlX2RvdDEgPSAwOwogICAgICBsZXQgc2lkZV9kb3QyID0gMDsKICAgICAgbGV0IHNpZGVfZGlzdGFuY2UgPSBudWxsOwoKICAgICAgZm9yIChsZXQgaWR4ID0gMCwgbnNpZGVzID0gc2lkZXMubGVuZ3RoOyBpZHggIT09IG5zaWRlcyAmJiBmb3VuZCA9PT0gZmFsc2U7IGlkeCsrKSB7CiAgICAgICAgLy8gR2V0IHRoZSBwbGFuZSBzaWRlIG5vcm1hbCAobnMpCiAgICAgICAgY29uc3QgbnMgPSBzcGhlcmVCb3hfbnM7CiAgICAgICAgbnMuY29weShzaWRlc1tpZHhdKTsKICAgICAgICBjb25zdCBoID0gbnMubGVuZ3RoKCk7CiAgICAgICAgbnMubm9ybWFsaXplKCk7IC8vIFRoZSBub3JtYWwvZGlzdGFuY2UgZG90IHByb2R1Y3QgdGVsbHMgd2hpY2ggc2lkZSBvZiB0aGUgcGxhbmUgd2UgYXJlCgogICAgICAgIGNvbnN0IGRvdCA9IGJveF90b19zcGhlcmUuZG90KG5zKTsKCiAgICAgICAgaWYgKGRvdCA8IGggKyBSICYmIGRvdCA+IDApIHsKICAgICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayB0aGUgb3RoZXIgdHdvIGRpbWVuc2lvbnMKICAgICAgICAgIGNvbnN0IG5zMSA9IHNwaGVyZUJveF9uczE7CiAgICAgICAgICBjb25zdCBuczIgPSBzcGhlcmVCb3hfbnMyOwogICAgICAgICAgbnMxLmNvcHkoc2lkZXNbKGlkeCArIDEpICUgM10pOwogICAgICAgICAgbnMyLmNvcHkoc2lkZXNbKGlkeCArIDIpICUgM10pOwogICAgICAgICAgY29uc3QgaDEgPSBuczEubGVuZ3RoKCk7CiAgICAgICAgICBjb25zdCBoMiA9IG5zMi5sZW5ndGgoKTsKICAgICAgICAgIG5zMS5ub3JtYWxpemUoKTsKICAgICAgICAgIG5zMi5ub3JtYWxpemUoKTsKICAgICAgICAgIGNvbnN0IGRvdDEgPSBib3hfdG9fc3BoZXJlLmRvdChuczEpOwogICAgICAgICAgY29uc3QgZG90MiA9IGJveF90b19zcGhlcmUuZG90KG5zMik7CgogICAgICAgICAgaWYgKGRvdDEgPCBoMSAmJiBkb3QxID4gLWgxICYmIGRvdDIgPCBoMiAmJiBkb3QyID4gLWgyKSB7CiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLmFicyhkb3QgLSBoIC0gUik7CgogICAgICAgICAgICBpZiAoc2lkZV9kaXN0YW5jZSA9PT0gbnVsbCB8fCBkaXN0IDwgc2lkZV9kaXN0YW5jZSkgewogICAgICAgICAgICAgIHNpZGVfZGlzdGFuY2UgPSBkaXN0OwogICAgICAgICAgICAgIHNpZGVfZG90MSA9IGRvdDE7CiAgICAgICAgICAgICAgc2lkZV9kb3QyID0gZG90MjsKICAgICAgICAgICAgICBzaWRlX2ggPSBoOwogICAgICAgICAgICAgIHNpZGVfbnMuY29weShucyk7CiAgICAgICAgICAgICAgc2lkZV9uczEuY29weShuczEpOwogICAgICAgICAgICAgIHNpZGVfbnMyLmNvcHkobnMyKTsKICAgICAgICAgICAgICBzaWRlX3BlbmV0cmF0aW9ucysrOwoKICAgICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHNpZGVfcGVuZXRyYXRpb25zKSB7CiAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIHNpZGVfbnMuc2NhbGUoLVIsIHIucmkpOyAvLyBTcGhlcmUgcgoKICAgICAgICByLm5pLmNvcHkoc2lkZV9ucyk7CiAgICAgICAgci5uaS5uZWdhdGUoci5uaSk7IC8vIE5vcm1hbCBzaG91bGQgYmUgb3V0IG9mIHNwaGVyZQoKICAgICAgICBzaWRlX25zLnNjYWxlKHNpZGVfaCwgc2lkZV9ucyk7CiAgICAgICAgc2lkZV9uczEuc2NhbGUoc2lkZV9kb3QxLCBzaWRlX25zMSk7CiAgICAgICAgc2lkZV9ucy52YWRkKHNpZGVfbnMxLCBzaWRlX25zKTsKICAgICAgICBzaWRlX25zMi5zY2FsZShzaWRlX2RvdDIsIHNpZGVfbnMyKTsKICAgICAgICBzaWRlX25zLnZhZGQoc2lkZV9uczIsIHIucmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICByLnJpLnZhZGQoeGksIHIucmkpOwogICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgci5yai52YWRkKHhqLCByLnJqKTsKICAgICAgICByLnJqLnZzdWIoYmoucG9zaXRpb24sIHIucmopOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9IC8vIENoZWNrIGNvcm5lcnMKCgogICAgICBsZXQgcmogPSB2M3Bvb2wuZ2V0KCk7CiAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVCb3hfc3BoZXJlX3RvX2Nvcm5lcjsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSAyICYmICFmb3VuZDsgaisrKSB7CiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgIT09IDIgJiYgIWZvdW5kOyBrKyspIHsKICAgICAgICAgIGZvciAobGV0IGwgPSAwOyBsICE9PSAyICYmICFmb3VuZDsgbCsrKSB7CiAgICAgICAgICAgIHJqLnNldCgwLCAwLCAwKTsKCiAgICAgICAgICAgIGlmIChqKSB7CiAgICAgICAgICAgICAgcmoudmFkZChzaWRlc1swXSwgcmopOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJqLnZzdWIoc2lkZXNbMF0sIHJqKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGspIHsKICAgICAgICAgICAgICByai52YWRkKHNpZGVzWzFdLCByaik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmoudnN1YihzaWRlc1sxXSwgcmopOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobCkgewogICAgICAgICAgICAgIHJqLnZhZGQoc2lkZXNbMl0sIHJqKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByai52c3ViKHNpZGVzWzJdLCByaik7CiAgICAgICAgICAgIH0gLy8gV29ybGQgcG9zaXRpb24gb2YgY29ybmVyCgoKICAgICAgICAgICAgeGoudmFkZChyaiwgc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgICAgIHNwaGVyZV90b19jb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7CgogICAgICAgICAgICBpZiAoc3BoZXJlX3RvX2Nvcm5lci5sZW5ndGhTcXVhcmVkKCkgPCBSICogUikgewogICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICAgICAgci5yaS5jb3B5KHNwaGVyZV90b19jb3JuZXIpOwogICAgICAgICAgICAgIHIucmkubm9ybWFsaXplKCk7CiAgICAgICAgICAgICAgci5uaS5jb3B5KHIucmkpOwogICAgICAgICAgICAgIHIucmkuc2NhbGUoUiwgci5yaSk7CiAgICAgICAgICAgICAgci5yai5jb3B5KHJqKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdjNwb29sLnJlbGVhc2UocmopOwogICAgICByaiA9IG51bGw7IC8vIENoZWNrIGVkZ2VzCgogICAgICBjb25zdCBlZGdlVGFuZ2VudCA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3QgZWRnZUNlbnRlciA9IHYzcG9vbC5nZXQoKTsKICAgICAgY29uc3QgciA9IHYzcG9vbC5nZXQoKTsgLy8gciA9IGVkZ2UgY2VudGVyIHRvIHNwaGVyZSBjZW50ZXIKCiAgICAgIGNvbnN0IG9ydGhvZ29uYWwgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgIGNvbnN0IGRpc3QgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgIGNvbnN0IE5zaWRlcyA9IHNpZGVzLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBOc2lkZXMgJiYgIWZvdW5kOyBqKyspIHsKICAgICAgICBmb3IgKGxldCBrID0gMDsgayAhPT0gTnNpZGVzICYmICFmb3VuZDsgaysrKSB7CiAgICAgICAgICBpZiAoaiAlIDMgIT09IGsgJSAzKSB7CiAgICAgICAgICAgIC8vIEdldCBlZGdlIHRhbmdlbnQKICAgICAgICAgICAgc2lkZXNba10uY3Jvc3Moc2lkZXNbal0sIGVkZ2VUYW5nZW50KTsKICAgICAgICAgICAgZWRnZVRhbmdlbnQubm9ybWFsaXplKCk7CiAgICAgICAgICAgIHNpZGVzW2pdLnZhZGQoc2lkZXNba10sIGVkZ2VDZW50ZXIpOwogICAgICAgICAgICByLmNvcHkoeGkpOwogICAgICAgICAgICByLnZzdWIoZWRnZUNlbnRlciwgcik7CiAgICAgICAgICAgIHIudnN1Yih4aiwgcik7CiAgICAgICAgICAgIGNvbnN0IG9ydGhvbm9ybSA9IHIuZG90KGVkZ2VUYW5nZW50KTsgLy8gZGlzdGFuY2UgZnJvbSBlZGdlIGNlbnRlciB0byBzcGhlcmUgY2VudGVyIGluIHRoZSB0YW5nZW50IGRpcmVjdGlvbgoKICAgICAgICAgICAgZWRnZVRhbmdlbnQuc2NhbGUob3J0aG9ub3JtLCBvcnRob2dvbmFsKTsgLy8gVmVjdG9yIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIGNlbnRlciBpbiB0aGUgdGFuZ2VudCBkaXJlY3Rpb24KICAgICAgICAgICAgLy8gRmluZCB0aGUgdGhpcmQgc2lkZSBvcnRob2dvbmFsIHRvIHRoaXMgb25lCgogICAgICAgICAgICBsZXQgbCA9IDA7CgogICAgICAgICAgICB3aGlsZSAobCA9PT0gaiAlIDMgfHwgbCA9PT0gayAlIDMpIHsKICAgICAgICAgICAgICBsKys7CiAgICAgICAgICAgIH0gLy8gdmVjIGZyb20gZWRnZSBjZW50ZXIgdG8gc3BoZXJlIHByb2plY3RlZCB0byB0aGUgcGxhbmUgb3J0aG9nb25hbCB0byB0aGUgZWRnZSB0YW5nZW50CgoKICAgICAgICAgICAgZGlzdC5jb3B5KHhpKTsKICAgICAgICAgICAgZGlzdC52c3ViKG9ydGhvZ29uYWwsIGRpc3QpOwogICAgICAgICAgICBkaXN0LnZzdWIoZWRnZUNlbnRlciwgZGlzdCk7CiAgICAgICAgICAgIGRpc3QudnN1Yih4aiwgZGlzdCk7IC8vIERpc3RhbmNlcyBpbiB0YW5nZW50IGRpcmVjdGlvbiBhbmQgZGlzdGFuY2UgaW4gdGhlIHBsYW5lIG9ydGhvZ29uYWwgdG8gaXQKCiAgICAgICAgICAgIGNvbnN0IHRkaXN0ID0gTWF0aC5hYnMob3J0aG9ub3JtKTsKICAgICAgICAgICAgY29uc3QgbmRpc3QgPSBkaXN0Lmxlbmd0aCgpOwoKICAgICAgICAgICAgaWYgKHRkaXN0IDwgc2lkZXNbbF0ubGVuZ3RoKCkgJiYgbmRpc3QgPCBSKSB7CiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICBjb25zdCByZXMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgICAgIGVkZ2VDZW50ZXIudmFkZChvcnRob2dvbmFsLCByZXMucmopOyAvLyBib3ggcmoKCiAgICAgICAgICAgICAgcmVzLnJqLmNvcHkocmVzLnJqKTsKICAgICAgICAgICAgICBkaXN0Lm5lZ2F0ZShyZXMubmkpOwogICAgICAgICAgICAgIHJlcy5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByZXMucmkuY29weShyZXMucmopOwogICAgICAgICAgICAgIHJlcy5yaS52YWRkKHhqLCByZXMucmkpOwogICAgICAgICAgICAgIHJlcy5yaS52c3ViKHhpLCByZXMucmkpOwogICAgICAgICAgICAgIHJlcy5yaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICByZXMucmkuc2NhbGUoUiwgcmVzLnJpKTsgLy8gTWFrZSByZWxhdGl2ZSB0byBib2RpZXMKCiAgICAgICAgICAgICAgcmVzLnJpLnZhZGQoeGksIHJlcy5yaSk7CiAgICAgICAgICAgICAgcmVzLnJpLnZzdWIoYmkucG9zaXRpb24sIHJlcy5yaSk7CiAgICAgICAgICAgICAgcmVzLnJqLnZhZGQoeGosIHJlcy5yaik7CiAgICAgICAgICAgICAgcmVzLnJqLnZzdWIoYmoucG9zaXRpb24sIHJlcy5yaik7CiAgICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyZXMpOwogICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyZXMsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB2M3Bvb2wucmVsZWFzZShlZGdlVGFuZ2VudCwgZWRnZUNlbnRlciwgciwgb3J0aG9nb25hbCwgZGlzdCk7CiAgICB9CgogICAgcGxhbmVCb3goc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgc2ouY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2oubWF0ZXJpYWw7CiAgICAgIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNqLmNvbGxpc2lvblJlc3BvbnNlOwogICAgICBzai5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24uaWQgPSBzai5pZDsKICAgICAgcmV0dXJuIHRoaXMucGxhbmVDb252ZXgoc2ksIHNqLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgc2ksIHNqLCBqdXN0VGVzdCk7CiAgICB9CgogICAgY29udmV4Q29udmV4KHNpLCBzaiwgeGksIHhqLCBxaSwgcWosIGJpLCBiaiwgcnNpLCByc2osIGp1c3RUZXN0LCBmYWNlTGlzdEEsIGZhY2VMaXN0QikgewogICAgICBjb25zdCBzZXBBeGlzID0gY29udmV4Q29udmV4X3NlcEF4aXM7CgogICAgICBpZiAoeGkuZGlzdGFuY2VUbyh4aikgPiBzaS5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNqLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoc2kuZmluZFNlcGFyYXRpbmdBeGlzKHNqLCB4aSwgcWksIHhqLCBxaiwgc2VwQXhpcywgZmFjZUxpc3RBLCBmYWNlTGlzdEIpKSB7CiAgICAgICAgY29uc3QgcmVzID0gW107CiAgICAgICAgY29uc3QgcSA9IGNvbnZleENvbnZleF9xOwogICAgICAgIHNpLmNsaXBBZ2FpbnN0SHVsbCh4aSwgcWksIHNqLCB4aiwgcWosIHNlcEF4aXMsIC0xMDAsIDEwMCwgcmVzKTsKICAgICAgICBsZXQgbnVtQ29udGFjdHMgPSAwOwoKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiAhPT0gcmVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgICAgICBjb25zdCByaiA9IHIucmo7CiAgICAgICAgICBzZXBBeGlzLm5lZ2F0ZShyLm5pKTsKICAgICAgICAgIHJlc1tqXS5ub3JtYWwubmVnYXRlKHEpOwogICAgICAgICAgcS5zY2FsZShyZXNbal0uZGVwdGgsIHEpOwogICAgICAgICAgcmVzW2pdLnBvaW50LnZhZGQocSwgcmkpOwogICAgICAgICAgcmouY29weShyZXNbal0ucG9pbnQpOyAvLyBDb250YWN0IHBvaW50cyBhcmUgaW4gd29ybGQgY29vcmRpbmF0ZXMuIFRyYW5zZm9ybSBiYWNrIHRvIHJlbGF0aXZlCgogICAgICAgICAgcmkudnN1Yih4aSwgcmkpOwogICAgICAgICAgcmoudnN1Yih4aiwgcmopOyAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwoKICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgICAgICAgIHJpLnZzdWIoYmkucG9zaXRpb24sIHJpKTsKICAgICAgICAgIHJqLnZhZGQoeGosIHJqKTsKICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICBudW1Db250YWN0cysrOwoKICAgICAgICAgIGlmICghdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbikgewogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiAmJiBudW1Db250YWN0cykgewogICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzcGhlcmVDb252ZXgoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgY29uc3QgdjNwb29sID0gdGhpcy52M3Bvb2w7CiAgICAgIHhpLnZzdWIoeGosIGNvbnZleF90b19zcGhlcmUpOwogICAgICBjb25zdCBub3JtYWxzID0gc2ouZmFjZU5vcm1hbHM7CiAgICAgIGNvbnN0IGZhY2VzID0gc2ouZmFjZXM7CiAgICAgIGNvbnN0IHZlcnRzID0gc2oudmVydGljZXM7CiAgICAgIGNvbnN0IFIgPSBzaS5yYWRpdXM7CiAgICAgIC8vICAgICByZXR1cm47CiAgICAgIC8vIH0KCiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOyAvLyBDaGVjayBjb3JuZXJzCgogICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gdmVydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCB2ID0gdmVydHNbaV07IC8vIFdvcmxkIHBvc2l0aW9uIG9mIGNvcm5lcgoKICAgICAgICBjb25zdCB3b3JsZENvcm5lciA9IHNwaGVyZUNvbnZleF93b3JsZENvcm5lcjsKICAgICAgICBxai52bXVsdCh2LCB3b3JsZENvcm5lcik7CiAgICAgICAgeGoudmFkZCh3b3JsZENvcm5lciwgd29ybGRDb3JuZXIpOwogICAgICAgIGNvbnN0IHNwaGVyZV90b19jb3JuZXIgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Db3JuZXI7CiAgICAgICAgd29ybGRDb3JuZXIudnN1Yih4aSwgc3BoZXJlX3RvX2Nvcm5lcik7CgogICAgICAgIGlmIChzcGhlcmVfdG9fY29ybmVyLmxlbmd0aFNxdWFyZWQoKSA8IFIgKiBSKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGJpLCBiaiwgc2ksIHNqLCByc2ksIHJzaik7CiAgICAgICAgICByLnJpLmNvcHkoc3BoZXJlX3RvX2Nvcm5lcik7CiAgICAgICAgICByLnJpLm5vcm1hbGl6ZSgpOwogICAgICAgICAgci5uaS5jb3B5KHIucmkpOwogICAgICAgICAgci5yaS5zY2FsZShSLCByLnJpKTsKICAgICAgICAgIHdvcmxkQ29ybmVyLnZzdWIoeGosIHIucmopOyAvLyBTaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJvZHkuCgogICAgICAgICAgci5yaS52YWRkKHhpLCByLnJpKTsKICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsKICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9IC8vIENoZWNrIHNpZGUgKHBsYW5lKSBpbnRlcnNlY3Rpb25zCgoKICAgICAgZm9yIChsZXQgaSA9IDAsIG5mYWNlcyA9IGZhY2VzLmxlbmd0aDsgaSAhPT0gbmZhY2VzICYmIGZvdW5kID09PSBmYWxzZTsgaSsrKSB7CiAgICAgICAgY29uc3Qgbm9ybWFsID0gbm9ybWFsc1tpXTsKICAgICAgICBjb25zdCBmYWNlID0gZmFjZXNbaV07IC8vIEdldCB3b3JsZC10cmFuc2Zvcm1lZCBub3JtYWwgb2YgdGhlIGZhY2UKCiAgICAgICAgY29uc3Qgd29ybGROb3JtYWwgPSBzcGhlcmVDb252ZXhfd29ybGROb3JtYWw7CiAgICAgICAgcWoudm11bHQobm9ybWFsLCB3b3JsZE5vcm1hbCk7IC8vIEdldCBhIHdvcmxkIHZlcnRleCBmcm9tIHRoZSBmYWNlCgogICAgICAgIGNvbnN0IHdvcmxkUG9pbnQgPSBzcGhlcmVDb252ZXhfd29ybGRQb2ludDsKICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWzBdXSwgd29ybGRQb2ludCk7CiAgICAgICAgd29ybGRQb2ludC52YWRkKHhqLCB3b3JsZFBvaW50KTsgLy8gR2V0IGEgcG9pbnQgb24gdGhlIHNwaGVyZSwgY2xvc2VzdCB0byB0aGUgZmFjZSBub3JtYWwKCiAgICAgICAgY29uc3Qgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lID0gc3BoZXJlQ29udmV4X3dvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZTsKICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lKTsKICAgICAgICB4aS52YWRkKHdvcmxkU3BoZXJlUG9pbnRDbG9zZXN0VG9QbGFuZSwgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lKTsgLy8gVmVjdG9yIGZyb20gYSBmYWNlIHBvaW50IHRvIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzcGhlcmUKCiAgICAgICAgY29uc3QgcGVuZXRyYXRpb25WZWMgPSBzcGhlcmVDb252ZXhfcGVuZXRyYXRpb25WZWM7CiAgICAgICAgd29ybGRTcGhlcmVQb2ludENsb3Nlc3RUb1BsYW5lLnZzdWIod29ybGRQb2ludCwgcGVuZXRyYXRpb25WZWMpOyAvLyBUaGUgcGVuZXRyYXRpb24uIE5lZ2F0aXZlIHZhbHVlIG1lYW5zIG92ZXJsYXAuCgogICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb25WZWMuZG90KHdvcmxkTm9ybWFsKTsKICAgICAgICBjb25zdCB3b3JsZFBvaW50VG9TcGhlcmUgPSBzcGhlcmVDb252ZXhfc3BoZXJlVG9Xb3JsZFBvaW50OwogICAgICAgIHhpLnZzdWIod29ybGRQb2ludCwgd29ybGRQb2ludFRvU3BoZXJlKTsKCiAgICAgICAgaWYgKHBlbmV0cmF0aW9uIDwgMCAmJiB3b3JsZFBvaW50VG9TcGhlcmUuZG90KHdvcmxkTm9ybWFsKSA+IDApIHsKICAgICAgICAgIC8vIEludGVyc2VjdHMgcGxhbmUuIE5vdyBjaGVjayBpZiB0aGUgc3BoZXJlIGlzIGluc2lkZSB0aGUgZmFjZSBwb2x5Z29uCiAgICAgICAgICBjb25zdCBmYWNlVmVydHMgPSBbXTsgLy8gRmFjZSB2ZXJ0aWNlcywgaW4gd29ybGQgY29vcmRzCgogICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE52ZXJ0cyA9IGZhY2UubGVuZ3RoOyBqICE9PSBOdmVydHM7IGorKykgewogICAgICAgICAgICBjb25zdCB3b3JsZFZlcnRleCA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgcWoudm11bHQodmVydHNbZmFjZVtqXV0sIHdvcmxkVmVydGV4KTsKICAgICAgICAgICAgeGoudmFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICAgICAgICBmYWNlVmVydHMucHVzaCh3b3JsZFZlcnRleCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHBvaW50SW5Qb2x5Z29uKGZhY2VWZXJ0cywgd29ybGROb3JtYWwsIHhpKSkgewogICAgICAgICAgICAvLyBJcyB0aGUgc3BoZXJlIGNlbnRlciBpbiB0aGUgZmFjZSBwb2x5Z29uPwogICAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLVIsIHIucmkpOyAvLyBDb250YWN0IG9mZnNldCwgZnJvbSBzcGhlcmUgY2VudGVyIHRvIGNvbnRhY3QKCiAgICAgICAgICAgIHdvcmxkTm9ybWFsLm5lZ2F0ZShyLm5pKTsgLy8gTm9ybWFsIHBvaW50aW5nIG91dCBvZiBzcGhlcmUKCiAgICAgICAgICAgIGNvbnN0IHBlbmV0cmF0aW9uVmVjMiA9IHYzcG9vbC5nZXQoKTsKICAgICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUoLXBlbmV0cmF0aW9uLCBwZW5ldHJhdGlvblZlYzIpOwogICAgICAgICAgICBjb25zdCBwZW5ldHJhdGlvblNwaGVyZVBvaW50ID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICB3b3JsZE5vcm1hbC5zY2FsZSgtUiwgcGVuZXRyYXRpb25TcGhlcmVQb2ludCk7IC8veGkudnN1Yih4aikudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50KS52YWRkKHBlbmV0cmF0aW9uVmVjMiAsIHIucmopOwoKICAgICAgICAgICAgeGkudnN1Yih4aiwgci5yaik7CiAgICAgICAgICAgIHIucmoudmFkZChwZW5ldHJhdGlvblNwaGVyZVBvaW50LCByLnJqKTsKICAgICAgICAgICAgci5yai52YWRkKHBlbmV0cmF0aW9uVmVjMiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICAgIHIucmoudmFkZCh4aiwgci5yaik7CiAgICAgICAgICAgIHIucmoudnN1Yihiai5wb3NpdGlvbiwgci5yaik7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgICAgIHIucmkudnN1YihiaS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uVmVjMik7CiAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHBlbmV0cmF0aW9uU3BoZXJlUG9pbnQpOwogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7IC8vIFJlbGVhc2Ugd29ybGQgdmVydGljZXMKCiAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuOyAvLyBXZSBvbmx5IGV4cGVjdCAqb25lKiBmYWNlIGNvbnRhY3QKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIEVkZ2U/CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICE9PSBmYWNlLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgLy8gR2V0IHR3byB3b3JsZCB0cmFuc2Zvcm1lZCB2ZXJ0aWNlcwogICAgICAgICAgICAgIGNvbnN0IHYxID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICAgIGNvbnN0IHYyID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICAgIHFqLnZtdWx0KHZlcnRzW2ZhY2VbKGogKyAxKSAlIGZhY2UubGVuZ3RoXV0sIHYxKTsKICAgICAgICAgICAgICBxai52bXVsdCh2ZXJ0c1tmYWNlWyhqICsgMikgJSBmYWNlLmxlbmd0aF1dLCB2Mik7CiAgICAgICAgICAgICAgeGoudmFkZCh2MSwgdjEpOwogICAgICAgICAgICAgIHhqLnZhZGQodjIsIHYyKTsgLy8gQ29uc3RydWN0IGVkZ2UgdmVjdG9yCgogICAgICAgICAgICAgIGNvbnN0IGVkZ2UgPSBzcGhlcmVDb252ZXhfZWRnZTsKICAgICAgICAgICAgICB2Mi52c3ViKHYxLCBlZGdlKTsgLy8gQ29uc3RydWN0IHRoZSBzYW1lIHZlY3RvciwgYnV0IG5vcm1hbGl6ZWQKCiAgICAgICAgICAgICAgY29uc3QgZWRnZVVuaXQgPSBzcGhlcmVDb252ZXhfZWRnZVVuaXQ7CiAgICAgICAgICAgICAgZWRnZS51bml0KGVkZ2VVbml0KTsgLy8gcCBpcyB4aSBwcm9qZWN0ZWQgb250byB0aGUgZWRnZQoKICAgICAgICAgICAgICBjb25zdCBwID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICAgIGNvbnN0IHYxX3RvX3hpID0gdjNwb29sLmdldCgpOwogICAgICAgICAgICAgIHhpLnZzdWIodjEsIHYxX3RvX3hpKTsKICAgICAgICAgICAgICBjb25zdCBkb3QgPSB2MV90b194aS5kb3QoZWRnZVVuaXQpOwogICAgICAgICAgICAgIGVkZ2VVbml0LnNjYWxlKGRvdCwgcCk7CiAgICAgICAgICAgICAgcC52YWRkKHYxLCBwKTsgLy8gQ29tcHV0ZSBhIHZlY3RvciBmcm9tIHAgdG8gdGhlIGNlbnRlciBvZiB0aGUgc3BoZXJlCgogICAgICAgICAgICAgIGNvbnN0IHhpX3RvX3AgPSB2M3Bvb2wuZ2V0KCk7CiAgICAgICAgICAgICAgcC52c3ViKHhpLCB4aV90b19wKTsgLy8gQ29sbGlzaW9uIGlmIHRoZSBlZGdlLXNwaGVyZSBkaXN0YW5jZSBpcyBsZXNzIHRoYW4gdGhlIHJhZGl1cwogICAgICAgICAgICAgIC8vIEFORCBpZiBwIGlzIGluIGJldHdlZW4gdjEgYW5kIHYyCgogICAgICAgICAgICAgIGlmIChkb3QgPiAwICYmIGRvdCAqIGRvdCA8IGVkZ2UubGVuZ3RoU3F1YXJlZCgpICYmIHhpX3RvX3AubGVuZ3RoU3F1YXJlZCgpIDwgUiAqIFIpIHsKICAgICAgICAgICAgICAgIC8vIENvbGxpc2lvbiBpZiB0aGUgZWRnZS1zcGhlcmUgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIHRoZSByYWRpdXMKICAgICAgICAgICAgICAgIC8vIEVkZ2UgY29udGFjdCEKICAgICAgICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICAgICAgICAgIHAudnN1Yih4aiwgci5yaik7CiAgICAgICAgICAgICAgICBwLnZzdWIoeGksIHIubmkpOwogICAgICAgICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgICAgICAgIHIubmkuc2NhbGUoUiwgci5yaSk7IC8vIFNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYm9keS4KCiAgICAgICAgICAgICAgICByLnJqLnZhZGQoeGosIHIucmopOwogICAgICAgICAgICAgICAgci5yai52c3ViKGJqLnBvc2l0aW9uLCByLnJqKTsgLy8gU2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBib2R5LgoKICAgICAgICAgICAgICAgIHIucmkudmFkZCh4aSwgci5yaSk7CiAgICAgICAgICAgICAgICByLnJpLnZzdWIoYmkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsgLy8gUmVsZWFzZSB3b3JsZCB2ZXJ0aWNlcwoKICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwLCBOZmFjZXZlcnRzID0gZmFjZVZlcnRzLmxlbmd0aDsgaiAhPT0gTmZhY2V2ZXJ0czsgaisrKSB7CiAgICAgICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKGZhY2VWZXJ0c1tqXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjEpOwogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjIpOwogICAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7CiAgICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh4aV90b19wKTsKICAgICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxX3RvX3hpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHYzcG9vbC5yZWxlYXNlKHYxKTsKICAgICAgICAgICAgICB2M3Bvb2wucmVsZWFzZSh2Mik7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UocCk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoeGlfdG9fcCk7CiAgICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UodjFfdG9feGkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIFJlbGVhc2Ugd29ybGQgdmVydGljZXMKCgogICAgICAgICAgZm9yIChsZXQgaiA9IDAsIE5mYWNldmVydHMgPSBmYWNlVmVydHMubGVuZ3RoOyBqICE9PSBOZmFjZXZlcnRzOyBqKyspIHsKICAgICAgICAgICAgdjNwb29sLnJlbGVhc2UoZmFjZVZlcnRzW2pdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBwbGFuZUNvbnZleChwbGFuZVNoYXBlLCBjb252ZXhTaGFwZSwgcGxhbmVQb3NpdGlvbiwgY29udmV4UG9zaXRpb24sIHBsYW5lUXVhdCwgY29udmV4UXVhdCwgcGxhbmVCb2R5LCBjb252ZXhCb2R5LCBzaSwgc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIFNpbXBseSByZXR1cm4gdGhlIHBvaW50cyBiZWhpbmQgdGhlIHBsYW5lLgogICAgICBjb25zdCB3b3JsZFZlcnRleCA9IHBsYW5lQ29udmV4X3Y7CiAgICAgIGNvbnN0IHdvcmxkTm9ybWFsID0gcGxhbmVDb252ZXhfbm9ybWFsOwogICAgICB3b3JsZE5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICAgIHBsYW5lUXVhdC52bXVsdCh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpOyAvLyBUdXJuIG5vcm1hbCBhY2NvcmRpbmcgdG8gcGxhbmUgb3JpZW50YXRpb24KCiAgICAgIGxldCBudW1Db250YWN0cyA9IDA7CiAgICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lQ29udmV4X3JlbHBvczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpICE9PSBjb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKykgewogICAgICAgIC8vIEdldCB3b3JsZCBjb252ZXggdmVydGV4CiAgICAgICAgd29ybGRWZXJ0ZXguY29weShjb252ZXhTaGFwZS52ZXJ0aWNlc1tpXSk7CiAgICAgICAgY29udmV4UXVhdC52bXVsdCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgpOwogICAgICAgIGNvbnZleFBvc2l0aW9uLnZhZGQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4KTsKICAgICAgICB3b3JsZFZlcnRleC52c3ViKHBsYW5lUG9zaXRpb24sIHJlbHBvcyk7CiAgICAgICAgY29uc3QgZG90ID0gd29ybGROb3JtYWwuZG90KHJlbHBvcyk7CgogICAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgciA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSwgY29udmV4Qm9keSwgcGxhbmVTaGFwZSwgY29udmV4U2hhcGUsIHNpLCBzaik7IC8vIEdldCB2ZXJ0ZXggcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgICAgY29uc3QgcHJvamVjdGVkID0gcGxhbmVDb252ZXhfcHJvamVjdGVkOwogICAgICAgICAgd29ybGROb3JtYWwuc2NhbGUod29ybGROb3JtYWwuZG90KHJlbHBvcyksIHByb2plY3RlZCk7CiAgICAgICAgICB3b3JsZFZlcnRleC52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsKICAgICAgICAgIHByb2plY3RlZC52c3ViKHBsYW5lUG9zaXRpb24sIHIucmkpOyAvLyBGcm9tIHBsYW5lIHRvIHZlcnRleCBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgICByLm5pLmNvcHkod29ybGROb3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsIG91dCBmcm9tIHBsYW5lCiAgICAgICAgICAvLyByaiBpcyBub3cganVzdCB0aGUgdmVjdG9yIGZyb20gdGhlIGNvbnZleCBjZW50ZXIgdG8gdGhlIHZlcnRleAoKICAgICAgICAgIHdvcmxkVmVydGV4LnZzdWIoY29udmV4UG9zaXRpb24sIHIucmopOyAvLyBNYWtlIGl0IHJlbGF0aXZlIHRvIHRoZSBib2R5CgogICAgICAgICAgci5yaS52YWRkKHBsYW5lUG9zaXRpb24sIHIucmkpOwogICAgICAgICAgci5yaS52c3ViKHBsYW5lQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICByLnJqLnZhZGQoY29udmV4UG9zaXRpb24sIHIucmopOwogICAgICAgICAgci5yai52c3ViKGNvbnZleEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIG51bUNvbnRhY3RzKys7CgogICAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKSB7CiAgICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uICYmIG51bUNvbnRhY3RzKSB7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKTsKICAgICAgfQogICAgfQoKICAgIGJveENvbnZleChzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24ubWF0ZXJpYWwgPSBzaS5tYXRlcmlhbDsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLmNvbGxpc2lvblJlc3BvbnNlID0gc2kuY29sbGlzaW9uUmVzcG9uc2U7CiAgICAgIHJldHVybiB0aGlzLmNvbnZleENvbnZleChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgIH0KCiAgICBzcGhlcmVIZWlnaHRmaWVsZChzcGhlcmVTaGFwZSwgaGZTaGFwZSwgc3BoZXJlUG9zLCBoZlBvcywgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhOwogICAgICBjb25zdCByYWRpdXMgPSBzcGhlcmVTaGFwZS5yYWRpdXM7CiAgICAgIGNvbnN0IHcgPSBoZlNoYXBlLmVsZW1lbnRTaXplOwogICAgICBjb25zdCB3b3JsZFBpbGxhck9mZnNldCA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDI7IC8vIEdldCBzcGhlcmUgcG9zaXRpb24gdG8gaGVpZ2h0ZmllbGQgbG9jYWwhCgogICAgICBjb25zdCBsb2NhbFNwaGVyZVBvcyA9IHNwaGVyZUhlaWdodGZpZWxkX3RtcDE7CiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZShoZlBvcywgaGZRdWF0LCBzcGhlcmVQb3MsIGxvY2FsU3BoZXJlUG9zKTsgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgZGF0YSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0CgogICAgICBsZXQgaU1pblggPSBNYXRoLmZsb29yKChsb2NhbFNwaGVyZVBvcy54IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgICAgbGV0IGlNYXhYID0gTWF0aC5jZWlsKChsb2NhbFNwaGVyZVBvcy54ICsgcmFkaXVzKSAvIHcpICsgMTsKICAgICAgbGV0IGlNaW5ZID0gTWF0aC5mbG9vcigobG9jYWxTcGhlcmVQb3MueSAtIHJhZGl1cykgLyB3KSAtIDE7CiAgICAgIGxldCBpTWF4WSA9IE1hdGguY2VpbCgobG9jYWxTcGhlcmVQb3MueSArIHJhZGl1cykgLyB3KSArIDE7IC8vIEJhaWwgb3V0IGlmIHdlIGFyZSBvdXQgb2YgdGhlIHRlcnJhaW4KCiAgICAgIGlmIChpTWF4WCA8IDAgfHwgaU1heFkgPCAwIHx8IGlNaW5YID4gZGF0YS5sZW5ndGggfHwgaU1pblkgPiBkYXRhWzBdLmxlbmd0aCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBDbGFtcCBpbmRleCB0byBlZGdlcwoKCiAgICAgIGlmIChpTWluWCA8IDApIHsKICAgICAgICBpTWluWCA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WCA8IDApIHsKICAgICAgICBpTWF4WCA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChpTWluWSA8IDApIHsKICAgICAgICBpTWluWSA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WSA8IDApIHsKICAgICAgICBpTWF4WSA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChpTWluWCA+PSBkYXRhLmxlbmd0aCkgewogICAgICAgIGlNaW5YID0gZGF0YS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoaU1heFggPj0gZGF0YS5sZW5ndGgpIHsKICAgICAgICBpTWF4WCA9IGRhdGEubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGlNYXhZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgaU1heFkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChpTWluWSA+PSBkYXRhWzBdLmxlbmd0aCkgewogICAgICAgIGlNaW5ZID0gZGF0YVswXS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBjb25zdCBtaW5NYXggPSBbXTsKICAgICAgaGZTaGFwZS5nZXRSZWN0TWluTWF4KGlNaW5YLCBpTWluWSwgaU1heFgsIGlNYXhZLCBtaW5NYXgpOwogICAgICBjb25zdCBtaW4gPSBtaW5NYXhbMF07CiAgICAgIGNvbnN0IG1heCA9IG1pbk1heFsxXTsgLy8gQmFpbCBvdXQgaWYgd2UgY2FuJ3QgdG91Y2ggdGhlIGJvdW5kaW5nIGhlaWdodCBib3gKCiAgICAgIGlmIChsb2NhbFNwaGVyZVBvcy56IC0gcmFkaXVzID4gbWF4IHx8IGxvY2FsU3BoZXJlUG9zLnogKyByYWRpdXMgPCBtaW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVzdWx0OwoKICAgICAgZm9yIChsZXQgaSA9IGlNaW5YOyBpIDwgaU1heFg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSBpTWluWTsgaiA8IGlNYXhZOyBqKyspIHsKICAgICAgICAgIGNvbnN0IG51bUNvbnRhY3RzQmVmb3JlID0gcmVzdWx0Lmxlbmd0aDsKICAgICAgICAgIGxldCBpbnRlcnNlY3RpbmcgPSBmYWxzZTsgLy8gTG93ZXIgdHJpYW5nbGUKCiAgICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIGZhbHNlKTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuc3BoZXJlQ29udmV4KHNwaGVyZVNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgc3BoZXJlUG9zLCB3b3JsZFBpbGxhck9mZnNldCwgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBqdXN0VGVzdCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0gLy8gVXBwZXIgdHJpYW5nbGUKCgogICAgICAgICAgaGZTaGFwZS5nZXRDb252ZXhUcmlhbmdsZVBpbGxhcihpLCBqLCB0cnVlKTsKICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZShoZlBvcywgaGZRdWF0LCBoZlNoYXBlLnBpbGxhck9mZnNldCwgd29ybGRQaWxsYXJPZmZzZXQpOwoKICAgICAgICAgIGlmIChzcGhlcmVQb3MuZGlzdGFuY2VUbyh3b3JsZFBpbGxhck9mZnNldCkgPCBoZlNoYXBlLnBpbGxhckNvbnZleC5ib3VuZGluZ1NwaGVyZVJhZGl1cyArIHNwaGVyZVNoYXBlLmJvdW5kaW5nU3BoZXJlUmFkaXVzKSB7CiAgICAgICAgICAgIGludGVyc2VjdGluZyA9IHRoaXMuc3BoZXJlQ29udmV4KHNwaGVyZVNoYXBlLCBoZlNoYXBlLnBpbGxhckNvbnZleCwgc3BoZXJlUG9zLCB3b3JsZFBpbGxhck9mZnNldCwgc3BoZXJlUXVhdCwgaGZRdWF0LCBzcGhlcmVCb2R5LCBoZkJvZHksIHNwaGVyZVNoYXBlLCBoZlNoYXBlLCBqdXN0VGVzdCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGp1c3RUZXN0ICYmIGludGVyc2VjdGluZykgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBudW1Db250YWN0cyA9IHJlc3VsdC5sZW5ndGggLSBudW1Db250YWN0c0JlZm9yZTsKCiAgICAgICAgICBpZiAobnVtQ29udGFjdHMgPiAyKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIC8qCiAgICAgICAgICAgIC8vIFNraXAgYWxsIGJ1dCAxCiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbnVtQ29udGFjdHMgLSAxOyBrKyspIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wb3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgKi8KCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgYm94SGVpZ2h0ZmllbGQoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgICByZXR1cm4gdGhpcy5jb252ZXhIZWlnaHRmaWVsZChzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgIH0KCiAgICBjb252ZXhIZWlnaHRmaWVsZChjb252ZXhTaGFwZSwgaGZTaGFwZSwgY29udmV4UG9zLCBoZlBvcywgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCBkYXRhID0gaGZTaGFwZS5kYXRhOwogICAgICBjb25zdCB3ID0gaGZTaGFwZS5lbGVtZW50U2l6ZTsKICAgICAgY29uc3QgcmFkaXVzID0gY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXM7CiAgICAgIGNvbnN0IHdvcmxkUGlsbGFyT2Zmc2V0ID0gY29udmV4SGVpZ2h0ZmllbGRfdG1wMjsKICAgICAgY29uc3QgZmFjZUxpc3QgPSBjb252ZXhIZWlnaHRmaWVsZF9mYWNlTGlzdDsgLy8gR2V0IHNwaGVyZSBwb3NpdGlvbiB0byBoZWlnaHRmaWVsZCBsb2NhbCEKCiAgICAgIGNvbnN0IGxvY2FsQ29udmV4UG9zID0gY29udmV4SGVpZ2h0ZmllbGRfdG1wMTsKICAgICAgVHJhbnNmb3JtLnBvaW50VG9Mb2NhbEZyYW1lKGhmUG9zLCBoZlF1YXQsIGNvbnZleFBvcywgbG9jYWxDb252ZXhQb3MpOyAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkYXRhIHBvaW50cyB0byB0ZXN0IGFnYWluc3QKCiAgICAgIGxldCBpTWluWCA9IE1hdGguZmxvb3IoKGxvY2FsQ29udmV4UG9zLnggLSByYWRpdXMpIC8gdykgLSAxOwogICAgICBsZXQgaU1heFggPSBNYXRoLmNlaWwoKGxvY2FsQ29udmV4UG9zLnggKyByYWRpdXMpIC8gdykgKyAxOwogICAgICBsZXQgaU1pblkgPSBNYXRoLmZsb29yKChsb2NhbENvbnZleFBvcy55IC0gcmFkaXVzKSAvIHcpIC0gMTsKICAgICAgbGV0IGlNYXhZID0gTWF0aC5jZWlsKChsb2NhbENvbnZleFBvcy55ICsgcmFkaXVzKSAvIHcpICsgMTsgLy8gQmFpbCBvdXQgaWYgd2UgYXJlIG91dCBvZiB0aGUgdGVycmFpbgoKICAgICAgaWYgKGlNYXhYIDwgMCB8fCBpTWF4WSA8IDAgfHwgaU1pblggPiBkYXRhLmxlbmd0aCB8fCBpTWluWSA+IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIENsYW1wIGluZGV4IHRvIGVkZ2VzCgoKICAgICAgaWYgKGlNaW5YIDwgMCkgewogICAgICAgIGlNaW5YID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNYXhYIDwgMCkgewogICAgICAgIGlNYXhYID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNaW5ZIDwgMCkgewogICAgICAgIGlNaW5ZID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNYXhZIDwgMCkgewogICAgICAgIGlNYXhZID0gMDsKICAgICAgfQoKICAgICAgaWYgKGlNaW5YID49IGRhdGEubGVuZ3RoKSB7CiAgICAgICAgaU1pblggPSBkYXRhLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGlmIChpTWF4WCA+PSBkYXRhLmxlbmd0aCkgewogICAgICAgIGlNYXhYID0gZGF0YS5sZW5ndGggLSAxOwogICAgICB9CgogICAgICBpZiAoaU1heFkgPj0gZGF0YVswXS5sZW5ndGgpIHsKICAgICAgICBpTWF4WSA9IGRhdGFbMF0ubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgaWYgKGlNaW5ZID49IGRhdGFbMF0ubGVuZ3RoKSB7CiAgICAgICAgaU1pblkgPSBkYXRhWzBdLmxlbmd0aCAtIDE7CiAgICAgIH0KCiAgICAgIGNvbnN0IG1pbk1heCA9IFtdOwogICAgICBoZlNoYXBlLmdldFJlY3RNaW5NYXgoaU1pblgsIGlNaW5ZLCBpTWF4WCwgaU1heFksIG1pbk1heCk7CiAgICAgIGNvbnN0IG1pbiA9IG1pbk1heFswXTsKICAgICAgY29uc3QgbWF4ID0gbWluTWF4WzFdOyAvLyBCYWlsIG91dCBpZiB3ZSdyZSBjYW50IHRvdWNoIHRoZSBib3VuZGluZyBoZWlnaHQgYm94CgogICAgICBpZiAobG9jYWxDb252ZXhQb3MueiAtIHJhZGl1cyA+IG1heCB8fCBsb2NhbENvbnZleFBvcy56ICsgcmFkaXVzIDwgbWluKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBmb3IgKGxldCBpID0gaU1pblg7IGkgPCBpTWF4WDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IGlNaW5ZOyBqIDwgaU1heFk7IGorKykgewogICAgICAgICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlOyAvLyBMb3dlciB0cmlhbmdsZQoKICAgICAgICAgIGhmU2hhcGUuZ2V0Q29udmV4VHJpYW5nbGVQaWxsYXIoaSwgaiwgZmFsc2UpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfSAvLyBVcHBlciB0cmlhbmdsZQoKCiAgICAgICAgICBoZlNoYXBlLmdldENvbnZleFRyaWFuZ2xlUGlsbGFyKGksIGosIHRydWUpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKGhmUG9zLCBoZlF1YXQsIGhmU2hhcGUucGlsbGFyT2Zmc2V0LCB3b3JsZFBpbGxhck9mZnNldCk7CgogICAgICAgICAgaWYgKGNvbnZleFBvcy5kaXN0YW5jZVRvKHdvcmxkUGlsbGFyT2Zmc2V0KSA8IGhmU2hhcGUucGlsbGFyQ29udmV4LmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgY29udmV4U2hhcGUuYm91bmRpbmdTcGhlcmVSYWRpdXMpIHsKICAgICAgICAgICAgaW50ZXJzZWN0aW5nID0gdGhpcy5jb252ZXhDb252ZXgoY29udmV4U2hhcGUsIGhmU2hhcGUucGlsbGFyQ29udmV4LCBjb252ZXhQb3MsIHdvcmxkUGlsbGFyT2Zmc2V0LCBjb252ZXhRdWF0LCBoZlF1YXQsIGNvbnZleEJvZHksIGhmQm9keSwgbnVsbCwgbnVsbCwganVzdFRlc3QsIGZhY2VMaXN0LCBudWxsKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoanVzdFRlc3QgJiYgaW50ZXJzZWN0aW5nKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHNwaGVyZVBhcnRpY2xlKHNqLCBzaSwgeGosIHhpLCBxaiwgcWksIGJqLCBiaSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIC8vIFRoZSBub3JtYWwgaXMgdGhlIHVuaXQgdmVjdG9yIGZyb20gc3BoZXJlIGNlbnRlciB0byBwYXJ0aWNsZSBjZW50ZXIKICAgICAgY29uc3Qgbm9ybWFsID0gcGFydGljbGVTcGhlcmVfbm9ybWFsOwogICAgICBub3JtYWwuc2V0KDAsIDAsIDEpOwogICAgICB4aS52c3ViKHhqLCBub3JtYWwpOwogICAgICBjb25zdCBsZW5ndGhTcXVhcmVkID0gbm9ybWFsLmxlbmd0aFNxdWFyZWQoKTsKCiAgICAgIGlmIChsZW5ndGhTcXVhcmVkIDw9IHNqLnJhZGl1cyAqIHNqLnJhZGl1cykgewogICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYmksIGJqLCBzaSwgc2osIHJzaSwgcnNqKTsKICAgICAgICBub3JtYWwubm9ybWFsaXplKCk7CiAgICAgICAgci5yai5jb3B5KG5vcm1hbCk7CiAgICAgICAgci5yai5zY2FsZShzai5yYWRpdXMsIHIucmopOwogICAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAgICAgICByLnJpLnNldCgwLCAwLCAwKTsgLy8gQ2VudGVyIG9mIHBhcnRpY2xlCgogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9CiAgICB9CgogICAgcGxhbmVQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBjb25zdCBub3JtYWwgPSBwYXJ0aWNsZVBsYW5lX25vcm1hbDsKICAgICAgbm9ybWFsLnNldCgwLCAwLCAxKTsKICAgICAgYmoucXVhdGVybmlvbi52bXVsdChub3JtYWwsIG5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZSBvcmllbnRhdGlvbgoKICAgICAgY29uc3QgcmVscG9zID0gcGFydGljbGVQbGFuZV9yZWxwb3M7CiAgICAgIHhpLnZzdWIoYmoucG9zaXRpb24sIHJlbHBvcyk7CiAgICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgIGlmIChkb3QgPD0gMC4wKSB7CiAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgIHIubmkuY29weShub3JtYWwpOyAvLyBDb250YWN0IG5vcm1hbCBpcyB0aGUgcGxhbmUgbm9ybWFsCgogICAgICAgIHIubmkubmVnYXRlKHIubmkpOwogICAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKICAgICAgICAvLyBHZXQgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIG9uIHBsYW5lCgogICAgICAgIGNvbnN0IHByb2plY3RlZCA9IHBhcnRpY2xlUGxhbmVfcHJvamVjdGVkOwogICAgICAgIG5vcm1hbC5zY2FsZShub3JtYWwuZG90KHhpKSwgcHJvamVjdGVkKTsKICAgICAgICB4aS52c3ViKHByb2plY3RlZCwgcHJvamVjdGVkKTsgLy9wcm9qZWN0ZWQudmFkZChiai5wb3NpdGlvbixwcm9qZWN0ZWQpOwogICAgICAgIC8vIHJqIGlzIG5vdyB0aGUgcHJvamVjdGVkIHdvcmxkIHBvc2l0aW9uIG1pbnVzIHBsYW5lIHBvc2l0aW9uCgogICAgICAgIHIucmouY29weShwcm9qZWN0ZWQpOwogICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICB9CiAgICB9CgogICAgYm94UGFydGljbGUoc2ksIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgc2kuY29udmV4UG9seWhlZHJvblJlcHJlc2VudGF0aW9uLm1hdGVyaWFsID0gc2kubWF0ZXJpYWw7CiAgICAgIHNpLmNvbnZleFBvbHloZWRyb25SZXByZXNlbnRhdGlvbi5jb2xsaXNpb25SZXNwb25zZSA9IHNpLmNvbGxpc2lvblJlc3BvbnNlOwogICAgICByZXR1cm4gdGhpcy5jb252ZXhQYXJ0aWNsZShzaS5jb252ZXhQb2x5aGVkcm9uUmVwcmVzZW50YXRpb24sIHNqLCB4aSwgeGosIHFpLCBxaiwgYmksIGJqLCBzaSwgc2osIGp1c3RUZXN0KTsKICAgIH0KCiAgICBjb252ZXhQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICBsZXQgcGVuZXRyYXRlZEZhY2VJbmRleCA9IC0xOwogICAgICBjb25zdCBwZW5ldHJhdGVkRmFjZU5vcm1hbCA9IGNvbnZleFBhcnRpY2xlX3BlbmV0cmF0ZWRGYWNlTm9ybWFsOwogICAgICBjb25zdCB3b3JsZFBlbmV0cmF0aW9uVmVjID0gY29udmV4UGFydGljbGVfd29ybGRQZW5ldHJhdGlvblZlYzsKICAgICAgbGV0IG1pblBlbmV0cmF0aW9uID0gbnVsbDsKCiAgICAgIGNvbnN0IGxvY2FsID0gY29udmV4UGFydGljbGVfbG9jYWw7CiAgICAgIGxvY2FsLmNvcHkoeGkpOwogICAgICBsb2NhbC52c3ViKHhqLCBsb2NhbCk7IC8vIENvbnZlcnQgcG9zaXRpb24gdG8gcmVsYXRpdmUgdGhlIGNvbnZleCBvcmlnaW4KCiAgICAgIHFqLmNvbmp1Z2F0ZShjcWopOwogICAgICBjcWoudm11bHQobG9jYWwsIGxvY2FsKTsKCiAgICAgIGlmIChzai5wb2ludElzSW5zaWRlKGxvY2FsKSkgewogICAgICAgIGlmIChzai53b3JsZFZlcnRpY2VzTmVlZHNVcGRhdGUpIHsKICAgICAgICAgIHNqLmNvbXB1dGVXb3JsZFZlcnRpY2VzKHhqLCBxaik7CiAgICAgICAgfQoKICAgICAgICBpZiAoc2oud29ybGRGYWNlTm9ybWFsc05lZWRzVXBkYXRlKSB7CiAgICAgICAgICBzai5jb21wdXRlV29ybGRGYWNlTm9ybWFscyhxaik7CiAgICAgICAgfSAvLyBGb3IgZWFjaCB3b3JsZCBwb2x5Z29uIGluIHRoZSBwb2x5aGVkcmEKCgogICAgICAgIGZvciAobGV0IGkgPSAwLCBuZmFjZXMgPSBzai5mYWNlcy5sZW5ndGg7IGkgIT09IG5mYWNlczsgaSsrKSB7CiAgICAgICAgICAvLyBDb25zdHJ1Y3Qgd29ybGQgZmFjZSB2ZXJ0aWNlcwogICAgICAgICAgY29uc3QgdmVydHMgPSBbc2oud29ybGRWZXJ0aWNlc1tzai5mYWNlc1tpXVswXV1dOwogICAgICAgICAgY29uc3Qgbm9ybWFsID0gc2oud29ybGRGYWNlTm9ybWFsc1tpXTsgLy8gQ2hlY2sgaG93IG11Y2ggdGhlIHBhcnRpY2xlIHBlbmV0cmF0ZXMgdGhlIHBvbHlnb24gcGxhbmUuCgogICAgICAgICAgeGkudnN1Yih2ZXJ0c1swXSwgY29udmV4UGFydGljbGVfdmVydGV4VG9QYXJ0aWNsZSk7CiAgICAgICAgICBjb25zdCBwZW5ldHJhdGlvbiA9IC1ub3JtYWwuZG90KGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUpOwoKICAgICAgICAgIGlmIChtaW5QZW5ldHJhdGlvbiA9PT0gbnVsbCB8fCBNYXRoLmFicyhwZW5ldHJhdGlvbikgPCBNYXRoLmFicyhtaW5QZW5ldHJhdGlvbikpIHsKICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG1pblBlbmV0cmF0aW9uID0gcGVuZXRyYXRpb247CiAgICAgICAgICAgIHBlbmV0cmF0ZWRGYWNlSW5kZXggPSBpOwogICAgICAgICAgICBwZW5ldHJhdGVkRmFjZU5vcm1hbC5jb3B5KG5vcm1hbCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocGVuZXRyYXRlZEZhY2VJbmRleCAhPT0gLTEpIHsKICAgICAgICAgIC8vIFNldHVwIGNvbnRhY3QKICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSwgYmosIHNpLCBzaiwgcnNpLCByc2opOwogICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwuc2NhbGUobWluUGVuZXRyYXRpb24sIHdvcmxkUGVuZXRyYXRpb25WZWMpOyAvLyByaiBpcyB0aGUgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIHRvIHRoZSBmYWNlCgogICAgICAgICAgd29ybGRQZW5ldHJhdGlvblZlYy52YWRkKHhpLCB3b3JsZFBlbmV0cmF0aW9uVmVjKTsKICAgICAgICAgIHdvcmxkUGVuZXRyYXRpb25WZWMudnN1Yih4aiwgd29ybGRQZW5ldHJhdGlvblZlYyk7CiAgICAgICAgICByLnJqLmNvcHkod29ybGRQZW5ldHJhdGlvblZlYyk7IC8vY29uc3QgcHJvamVjdGVkVG9GYWNlID0geGkudnN1Yih4aikudmFkZCh3b3JsZFBlbmV0cmF0aW9uVmVjKTsKICAgICAgICAgIC8vcHJvamVjdGVkVG9GYWNlLmNvcHkoci5yaik7CiAgICAgICAgICAvL3FqLnZtdWx0KHIucmosci5yaik7CgogICAgICAgICAgcGVuZXRyYXRlZEZhY2VOb3JtYWwubmVnYXRlKHIubmkpOyAvLyBDb250YWN0IG5vcm1hbAoKICAgICAgICAgIHIucmkuc2V0KDAsIDAsIDApOyAvLyBDZW50ZXIgb2YgcGFydGljbGUKCiAgICAgICAgICBjb25zdCByaSA9IHIucmk7CiAgICAgICAgICBjb25zdCByaiA9IHIucmo7IC8vIE1ha2UgcmVsYXRpdmUgdG8gYm9kaWVzCgogICAgICAgICAgcmkudmFkZCh4aSwgcmkpOwogICAgICAgICAgcmkudnN1YihiaS5wb3NpdGlvbiwgcmkpOwogICAgICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgICAgICAgcmoudnN1Yihiai5wb3NpdGlvbiwgcmopOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS53YXJuKCdQb2ludCBmb3VuZCBpbnNpZGUgY29udmV4LCBidXQgZGlkIG5vdCBmaW5kIHBlbmV0cmF0aW5nIGZhY2UhJyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaGVpZ2h0ZmllbGRDeWxpbmRlcihoZlNoYXBlLCBjb252ZXhTaGFwZSwgaGZQb3MsIGNvbnZleFBvcywgaGZRdWF0LCBjb252ZXhRdWF0LCBoZkJvZHksIGNvbnZleEJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICByZXR1cm4gdGhpcy5jb252ZXhIZWlnaHRmaWVsZChjb252ZXhTaGFwZSwgaGZTaGFwZSwgY29udmV4UG9zLCBoZlBvcywgY29udmV4UXVhdCwgaGZRdWF0LCBjb252ZXhCb2R5LCBoZkJvZHksIHJzaSwgcnNqLCBqdXN0VGVzdCk7CiAgICB9CgogICAgcGFydGljbGVDeWxpbmRlcihzaSwgc2osIHhpLCB4aiwgcWksIHFqLCBiaSwgYmosIHJzaSwgcnNqLCBqdXN0VGVzdCkgewogICAgICByZXR1cm4gdGhpcy5jb252ZXhQYXJ0aWNsZShzaiwgc2ksIHhqLCB4aSwgcWosIHFpLCBiaiwgYmksIHJzaSwgcnNqLCBqdXN0VGVzdCk7CiAgICB9CgogICAgc3BoZXJlVHJpbWVzaChzcGhlcmVTaGFwZSwgdHJpbWVzaFNoYXBlLCBzcGhlcmVQb3MsIHRyaW1lc2hQb3MsIHNwaGVyZVF1YXQsIHRyaW1lc2hRdWF0LCBzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgcnNpLCByc2osIGp1c3RUZXN0KSB7CiAgICAgIGNvbnN0IGVkZ2VWZXJ0ZXhBID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QTsKICAgICAgY29uc3QgZWRnZVZlcnRleEIgPSBzcGhlcmVUcmltZXNoX2VkZ2VWZXJ0ZXhCOwogICAgICBjb25zdCBlZGdlVmVjdG9yID0gc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yOwogICAgICBjb25zdCBlZGdlVmVjdG9yVW5pdCA9IHNwaGVyZVRyaW1lc2hfZWRnZVZlY3RvclVuaXQ7CiAgICAgIGNvbnN0IGxvY2FsU3BoZXJlUG9zID0gc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZVBvczsKICAgICAgY29uc3QgdG1wID0gc3BoZXJlVHJpbWVzaF90bXA7CiAgICAgIGNvbnN0IGxvY2FsU3BoZXJlQUFCQiA9IHNwaGVyZVRyaW1lc2hfbG9jYWxTcGhlcmVBQUJCOwogICAgICBjb25zdCB2MiA9IHNwaGVyZVRyaW1lc2hfdjI7CiAgICAgIGNvbnN0IHJlbHBvcyA9IHNwaGVyZVRyaW1lc2hfcmVscG9zOwogICAgICBjb25zdCB0cmlhbmdsZXMgPSBzcGhlcmVUcmltZXNoX3RyaWFuZ2xlczsgLy8gQ29udmVydCBzcGhlcmUgcG9zaXRpb24gdG8gbG9jYWwgaW4gdGhlIHRyaW1lc2gKCiAgICAgIFRyYW5zZm9ybS5wb2ludFRvTG9jYWxGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgc3BoZXJlUG9zLCBsb2NhbFNwaGVyZVBvcyk7IC8vIEdldCB0aGUgYWFiYiBvZiB0aGUgc3BoZXJlIGxvY2FsbHkgaW4gdGhlIHRyaW1lc2gKCiAgICAgIGNvbnN0IHNwaGVyZVJhZGl1cyA9IHNwaGVyZVNoYXBlLnJhZGl1czsKICAgICAgbG9jYWxTcGhlcmVBQUJCLmxvd2VyQm91bmQuc2V0KGxvY2FsU3BoZXJlUG9zLnggLSBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnkgLSBzcGhlcmVSYWRpdXMsIGxvY2FsU3BoZXJlUG9zLnogLSBzcGhlcmVSYWRpdXMpOwogICAgICBsb2NhbFNwaGVyZUFBQkIudXBwZXJCb3VuZC5zZXQobG9jYWxTcGhlcmVQb3MueCArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueSArIHNwaGVyZVJhZGl1cywgbG9jYWxTcGhlcmVQb3MueiArIHNwaGVyZVJhZGl1cyk7CiAgICAgIHRyaW1lc2hTaGFwZS5nZXRUcmlhbmdsZXNJbkFBQkIobG9jYWxTcGhlcmVBQUJCLCB0cmlhbmdsZXMpOyAvL2ZvciAobGV0IGkgPSAwOyBpIDwgdHJpbWVzaFNoYXBlLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB0cmlhbmdsZXMucHVzaChpKTsgLy8gQWxsCiAgICAgIC8vIFZlcnRpY2VzCgogICAgICBjb25zdCB2ID0gc3BoZXJlVHJpbWVzaF92OwogICAgICBjb25zdCByYWRpdXNTcXVhcmVkID0gc3BoZXJlU2hhcGUucmFkaXVzICogc3BoZXJlU2hhcGUucmFkaXVzOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlhbmdsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykgewogICAgICAgICAgdHJpbWVzaFNoYXBlLmdldFZlcnRleCh0cmltZXNoU2hhcGUuaW5kaWNlc1t0cmlhbmdsZXNbaV0gKiAzICsgal0sIHYpOyAvLyBDaGVjayB2ZXJ0ZXggb3ZlcmxhcCBpbiBzcGhlcmUKCiAgICAgICAgICB2LnZzdWIobG9jYWxTcGhlcmVQb3MsIHJlbHBvcyk7CgogICAgICAgICAgaWYgKHJlbHBvcy5sZW5ndGhTcXVhcmVkKCkgPD0gcmFkaXVzU3F1YXJlZCkgewogICAgICAgICAgICAvLyBTYWZlIHVwCiAgICAgICAgICAgIHYyLmNvcHkodik7CiAgICAgICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOwogICAgICAgICAgICB2LnZzdWIoc3BoZXJlUG9zLCByZWxwb3MpOwoKICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oc3BoZXJlQm9keSwgdHJpbWVzaEJvZHksIHNwaGVyZVNoYXBlLCB0cmltZXNoU2hhcGUsIHJzaSwgcnNqKTsKICAgICAgICAgICAgci5uaS5jb3B5KHJlbHBvcyk7CiAgICAgICAgICAgIHIubmkubm9ybWFsaXplKCk7IC8vIHJpIGlzIHRoZSB2ZWN0b3IgZnJvbSBzcGhlcmUgY2VudGVyIHRvIHRoZSBzcGhlcmUgc3VyZmFjZQoKICAgICAgICAgICAgci5yaS5jb3B5KHIubmkpOwogICAgICAgICAgICByLnJpLnNjYWxlKHNwaGVyZVNoYXBlLnJhZGl1cywgci5yaSk7CiAgICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpOwogICAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgIHIucmouY29weSh2KTsKICAgICAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0CgogICAgICAgICAgICB0aGlzLnJlc3VsdC5wdXNoKHIpOwogICAgICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb25zRnJvbUNvbnRhY3QociwgdGhpcy5mcmljdGlvblJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIENoZWNrIGFsbCBlZGdlcwoKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHsKICAgICAgICAgIHRyaW1lc2hTaGFwZS5nZXRWZXJ0ZXgodHJpbWVzaFNoYXBlLmluZGljZXNbdHJpYW5nbGVzW2ldICogMyArIGpdLCBlZGdlVmVydGV4QSk7CiAgICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KHRyaW1lc2hTaGFwZS5pbmRpY2VzW3RyaWFuZ2xlc1tpXSAqIDMgKyAoaiArIDEpICUgM10sIGVkZ2VWZXJ0ZXhCKTsKICAgICAgICAgIGVkZ2VWZXJ0ZXhCLnZzdWIoZWRnZVZlcnRleEEsIGVkZ2VWZWN0b3IpOyAvLyBQcm9qZWN0IHNwaGVyZSBwb3NpdGlvbiB0byB0aGUgZWRnZQoKICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEIsIHRtcCk7CiAgICAgICAgICBjb25zdCBwb3NpdGlvbkFsb25nRWRnZUIgPSB0bXAuZG90KGVkZ2VWZWN0b3IpOwogICAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1YihlZGdlVmVydGV4QSwgdG1wKTsKICAgICAgICAgIGxldCBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3IpOwoKICAgICAgICAgIGlmIChwb3NpdGlvbkFsb25nRWRnZUEgPiAwICYmIHBvc2l0aW9uQWxvbmdFZGdlQiA8IDApIHsKICAgICAgICAgICAgLy8gTm93IGNoZWNrIHRoZSBvcnRob2dvbmFsIGRpc3RhbmNlIGZyb20gZWRnZSB0byBzcGhlcmUgY2VudGVyCiAgICAgICAgICAgIGxvY2FsU3BoZXJlUG9zLnZzdWIoZWRnZVZlcnRleEEsIHRtcCk7CiAgICAgICAgICAgIGVkZ2VWZWN0b3JVbml0LmNvcHkoZWRnZVZlY3Rvcik7CiAgICAgICAgICAgIGVkZ2VWZWN0b3JVbml0Lm5vcm1hbGl6ZSgpOwogICAgICAgICAgICBwb3NpdGlvbkFsb25nRWRnZUEgPSB0bXAuZG90KGVkZ2VWZWN0b3JVbml0KTsKICAgICAgICAgICAgZWRnZVZlY3RvclVuaXQuc2NhbGUocG9zaXRpb25BbG9uZ0VkZ2VBLCB0bXApOwogICAgICAgICAgICB0bXAudmFkZChlZGdlVmVydGV4QSwgdG1wKTsgLy8gdG1wIGlzIG5vdyB0aGUgc3BoZXJlIGNlbnRlciBwb3NpdGlvbiBwcm9qZWN0ZWQgdG8gdGhlIGVkZ2UsIGRlZmluZWQgbG9jYWxseSBpbiB0aGUgdHJpbWVzaCBmcmFtZQoKICAgICAgICAgICAgY29uc3QgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTsKCiAgICAgICAgICAgIGlmIChkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7CiAgICAgICAgICAgICAgaWYgKGp1c3RUZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgICAgIHRtcC52c3ViKGxvY2FsU3BoZXJlUG9zLCByLm5pKTsKICAgICAgICAgICAgICByLm5pLm5vcm1hbGl6ZSgpOwogICAgICAgICAgICAgIHIubmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTsKICAgICAgICAgICAgICByLnJpLnZhZGQoc3BoZXJlUG9zLCByLnJpKTsKICAgICAgICAgICAgICByLnJpLnZzdWIoc3BoZXJlQm9keS5wb3NpdGlvbiwgci5yaSk7CiAgICAgICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB0bXAsIHRtcCk7CiAgICAgICAgICAgICAgdG1wLnZzdWIodHJpbWVzaEJvZHkucG9zaXRpb24sIHIucmopOwogICAgICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIubmksIHIubmkpOwogICAgICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIucmksIHIucmkpOwogICAgICAgICAgICAgIHRoaXMucmVzdWx0LnB1c2gocik7CiAgICAgICAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uc0Zyb21Db250YWN0KHIsIHRoaXMuZnJpY3Rpb25SZXN1bHQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIFRyaWFuZ2xlIGZhY2VzCgoKICAgICAgY29uc3QgdmEgPSBzcGhlcmVUcmltZXNoX3ZhOwogICAgICBjb25zdCB2YiA9IHNwaGVyZVRyaW1lc2hfdmI7CiAgICAgIGNvbnN0IHZjID0gc3BoZXJlVHJpbWVzaF92YzsKICAgICAgY29uc3Qgbm9ybWFsID0gc3BoZXJlVHJpbWVzaF9ub3JtYWw7CgogICAgICBmb3IgKGxldCBpID0gMCwgTiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgIT09IE47IGkrKykgewogICAgICAgIHRyaW1lc2hTaGFwZS5nZXRUcmlhbmdsZVZlcnRpY2VzKHRyaWFuZ2xlc1tpXSwgdmEsIHZiLCB2Yyk7CiAgICAgICAgdHJpbWVzaFNoYXBlLmdldE5vcm1hbCh0cmlhbmdsZXNbaV0sIG5vcm1hbCk7CiAgICAgICAgbG9jYWxTcGhlcmVQb3MudnN1Yih2YSwgdG1wKTsKICAgICAgICBsZXQgZGlzdCA9IHRtcC5kb3Qobm9ybWFsKTsKICAgICAgICBub3JtYWwuc2NhbGUoZGlzdCwgdG1wKTsKICAgICAgICBsb2NhbFNwaGVyZVBvcy52c3ViKHRtcCwgdG1wKTsgLy8gdG1wIGlzIG5vdyB0aGUgc3BoZXJlIHBvc2l0aW9uIHByb2plY3RlZCB0byB0aGUgdHJpYW5nbGUgcGxhbmUKCiAgICAgICAgZGlzdCA9IHRtcC5kaXN0YW5jZVRvKGxvY2FsU3BoZXJlUG9zKTsKCiAgICAgICAgaWYgKFJheS5wb2ludEluVHJpYW5nbGUodG1wLCB2YSwgdmIsIHZjKSAmJiBkaXN0IDwgc3BoZXJlU2hhcGUucmFkaXVzKSB7CiAgICAgICAgICBpZiAoanVzdFRlc3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihzcGhlcmVCb2R5LCB0cmltZXNoQm9keSwgc3BoZXJlU2hhcGUsIHRyaW1lc2hTaGFwZSwgcnNpLCByc2opOwogICAgICAgICAgdG1wLnZzdWIobG9jYWxTcGhlcmVQb3MsIHIubmkpOwogICAgICAgICAgci5uaS5ub3JtYWxpemUoKTsKICAgICAgICAgIHIubmkuc2NhbGUoc3BoZXJlU2hhcGUucmFkaXVzLCByLnJpKTsKICAgICAgICAgIHIucmkudmFkZChzcGhlcmVQb3MsIHIucmkpOwogICAgICAgICAgci5yaS52c3ViKHNwaGVyZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgVHJhbnNmb3JtLnBvaW50VG9Xb3JsZEZyYW1lKHRyaW1lc2hQb3MsIHRyaW1lc2hRdWF0LCB0bXAsIHRtcCk7CiAgICAgICAgICB0bXAudnN1Yih0cmltZXNoQm9keS5wb3NpdGlvbiwgci5yaik7CiAgICAgICAgICBUcmFuc2Zvcm0udmVjdG9yVG9Xb3JsZEZyYW1lKHRyaW1lc2hRdWF0LCByLm5pLCByLm5pKTsKICAgICAgICAgIFRyYW5zZm9ybS52ZWN0b3JUb1dvcmxkRnJhbWUodHJpbWVzaFF1YXQsIHIucmksIHIucmkpOwogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRyaWFuZ2xlcy5sZW5ndGggPSAwOwogICAgfQoKICAgIHBsYW5lVHJpbWVzaChwbGFuZVNoYXBlLCB0cmltZXNoU2hhcGUsIHBsYW5lUG9zLCB0cmltZXNoUG9zLCBwbGFuZVF1YXQsIHRyaW1lc2hRdWF0LCBwbGFuZUJvZHksIHRyaW1lc2hCb2R5LCByc2ksIHJzaiwganVzdFRlc3QpIHsKICAgICAgLy8gTWFrZSBjb250YWN0cyEKICAgICAgY29uc3QgdiA9IG5ldyBWZWMzKCk7CiAgICAgIGNvbnN0IG5vcm1hbCA9IHBsYW5lVHJpbWVzaF9ub3JtYWw7CiAgICAgIG5vcm1hbC5zZXQoMCwgMCwgMSk7CiAgICAgIHBsYW5lUXVhdC52bXVsdChub3JtYWwsIG5vcm1hbCk7IC8vIFR1cm4gbm9ybWFsIGFjY29yZGluZyB0byBwbGFuZQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmltZXNoU2hhcGUudmVydGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAgICAgLy8gR2V0IHdvcmxkIHZlcnRleCBmcm9tIHRyaW1lc2gKICAgICAgICB0cmltZXNoU2hhcGUuZ2V0VmVydGV4KGksIHYpOyAvLyBTYWZlIHVwCgogICAgICAgIGNvbnN0IHYyID0gbmV3IFZlYzMoKTsKICAgICAgICB2Mi5jb3B5KHYpOwogICAgICAgIFRyYW5zZm9ybS5wb2ludFRvV29ybGRGcmFtZSh0cmltZXNoUG9zLCB0cmltZXNoUXVhdCwgdjIsIHYpOyAvLyBDaGVjayBwbGFuZSBzaWRlCgogICAgICAgIGNvbnN0IHJlbHBvcyA9IHBsYW5lVHJpbWVzaF9yZWxwb3M7CiAgICAgICAgdi52c3ViKHBsYW5lUG9zLCByZWxwb3MpOwogICAgICAgIGNvbnN0IGRvdCA9IG5vcm1hbC5kb3QocmVscG9zKTsKCiAgICAgICAgaWYgKGRvdCA8PSAwLjApIHsKICAgICAgICAgIGlmIChqdXN0VGVzdCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCByID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LCB0cmltZXNoQm9keSwgcGxhbmVTaGFwZSwgdHJpbWVzaFNoYXBlLCByc2ksIHJzaik7CiAgICAgICAgICByLm5pLmNvcHkobm9ybWFsKTsgLy8gQ29udGFjdCBub3JtYWwgaXMgdGhlIHBsYW5lIG5vcm1hbAogICAgICAgICAgLy8gR2V0IHZlcnRleCBwb3NpdGlvbiBwcm9qZWN0ZWQgb24gcGxhbmUKCiAgICAgICAgICBjb25zdCBwcm9qZWN0ZWQgPSBwbGFuZVRyaW1lc2hfcHJvamVjdGVkOwogICAgICAgICAgbm9ybWFsLnNjYWxlKHJlbHBvcy5kb3Qobm9ybWFsKSwgcHJvamVjdGVkKTsKICAgICAgICAgIHYudnN1Yihwcm9qZWN0ZWQsIHByb2plY3RlZCk7IC8vIHJpIGlzIHRoZSBwcm9qZWN0ZWQgd29ybGQgcG9zaXRpb24gbWludXMgcGxhbmUgcG9zaXRpb24KCiAgICAgICAgICByLnJpLmNvcHkocHJvamVjdGVkKTsKICAgICAgICAgIHIucmkudnN1YihwbGFuZUJvZHkucG9zaXRpb24sIHIucmkpOwogICAgICAgICAgci5yai5jb3B5KHYpOwogICAgICAgICAgci5yai52c3ViKHRyaW1lc2hCb2R5LnBvc2l0aW9uLCByLnJqKTsgLy8gU3RvcmUgcmVzdWx0CgogICAgICAgICAgdGhpcy5yZXN1bHQucHVzaChyKTsKICAgICAgICAgIHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbnNGcm9tQ29udGFjdChyLCB0aGlzLmZyaWN0aW9uUmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gLy8gY29udmV4VHJpbWVzaCgKICAgIC8vICAgc2k6IENvbnZleFBvbHloZWRyb24sIHNqOiBUcmltZXNoLCB4aTogVmVjMywgeGo6IFZlYzMsIHFpOiBRdWF0ZXJuaW9uLCBxajogUXVhdGVybmlvbiwKICAgIC8vICAgYmk6IEJvZHksIGJqOiBCb2R5LCByc2k/OiBTaGFwZSB8IG51bGwsIHJzaj86IFNoYXBlIHwgbnVsbCwKICAgIC8vICAgZmFjZUxpc3RBPzogbnVtYmVyW10gfCBudWxsLCBmYWNlTGlzdEI/OiBudW1iZXJbXSB8IG51bGwsCiAgICAvLyApIHsKICAgIC8vICAgY29uc3Qgc2VwQXhpcyA9IGNvbnZleENvbnZleF9zZXBBeGlzOwogICAgLy8gICBpZih4aS5kaXN0YW5jZVRvKHhqKSA+IHNpLmJvdW5kaW5nU3BoZXJlUmFkaXVzICsgc2ouYm91bmRpbmdTcGhlcmVSYWRpdXMpewogICAgLy8gICAgICAgcmV0dXJuOwogICAgLy8gICB9CiAgICAvLyAgIC8vIENvbnN0cnVjdCBhIHRlbXAgaHVsbCBmb3IgZWFjaCB0cmlhbmdsZQogICAgLy8gICBjb25zdCBodWxsQiA9IG5ldyBDb252ZXhQb2x5aGVkcm9uKCk7CiAgICAvLyAgIGh1bGxCLmZhY2VzID0gW1swLDEsMl1dOwogICAgLy8gICBjb25zdCB2YSA9IG5ldyBWZWMzKCk7CiAgICAvLyAgIGNvbnN0IHZiID0gbmV3IFZlYzMoKTsKICAgIC8vICAgY29uc3QgdmMgPSBuZXcgVmVjMygpOwogICAgLy8gICBodWxsQi52ZXJ0aWNlcyA9IFsKICAgIC8vICAgICAgIHZhLAogICAgLy8gICAgICAgdmIsCiAgICAvLyAgICAgICB2YwogICAgLy8gICBdOwogICAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHNqLmluZGljZXMubGVuZ3RoIC8gMzsgaSsrKSB7CiAgICAvLyAgICAgICBjb25zdCB0cmlhbmdsZU5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgICAvLyAgICAgICBzai5nZXROb3JtYWwoaSwgdHJpYW5nbGVOb3JtYWwpOwogICAgLy8gICAgICAgaHVsbEIuZmFjZU5vcm1hbHMgPSBbdHJpYW5nbGVOb3JtYWxdOwogICAgLy8gICAgICAgc2ouZ2V0VHJpYW5nbGVWZXJ0aWNlcyhpLCB2YSwgdmIsIHZjKTsKICAgIC8vICAgICAgIGxldCBkID0gc2kudGVzdFNlcEF4aXModHJpYW5nbGVOb3JtYWwsIGh1bGxCLCB4aSwgcWksIHhqLCBxaik7CiAgICAvLyAgICAgICBpZighZCl7CiAgICAvLyAgICAgICAgICAgdHJpYW5nbGVOb3JtYWwuc2NhbGUoLTEsIHRyaWFuZ2xlTm9ybWFsKTsKICAgIC8vICAgICAgICAgICBkID0gc2kudGVzdFNlcEF4aXModHJpYW5nbGVOb3JtYWwsIGh1bGxCLCB4aSwgcWksIHhqLCBxaik7CiAgICAvLyAgICAgICAgICAgaWYoIWQpewogICAgLy8gICAgICAgICAgICAgICBjb250aW51ZTsKICAgIC8vICAgICAgICAgICB9CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgICBjb25zdCByZXM6IENvbnZleFBvbHloZWRyb25Db250YWN0UG9pbnRbXSA9IFtdOwogICAgLy8gICAgICAgY29uc3QgcSA9IGNvbnZleENvbnZleF9xOwogICAgLy8gICAgICAgc2kuY2xpcEFnYWluc3RIdWxsKHhpLHFpLGh1bGxCLHhqLHFqLHRyaWFuZ2xlTm9ybWFsLC0xMDAsMTAwLHJlcyk7CiAgICAvLyAgICAgICBmb3IobGV0IGogPSAwOyBqICE9PSByZXMubGVuZ3RoOyBqKyspewogICAgLy8gICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihiaSxiaixzaSxzaixyc2kscnNqKSwKICAgIC8vICAgICAgICAgICAgICAgcmkgPSByLnJpLAogICAgLy8gICAgICAgICAgICAgICByaiA9IHIucmo7CiAgICAvLyAgICAgICAgICAgci5uaS5jb3B5KHRyaWFuZ2xlTm9ybWFsKTsKICAgIC8vICAgICAgICAgICByLm5pLm5lZ2F0ZShyLm5pKTsKICAgIC8vICAgICAgICAgICByZXNbal0ubm9ybWFsLm5lZ2F0ZShxKTsKICAgIC8vICAgICAgICAgICBxLm11bHQocmVzW2pdLmRlcHRoLCBxKTsKICAgIC8vICAgICAgICAgICByZXNbal0ucG9pbnQudmFkZChxLCByaSk7CiAgICAvLyAgICAgICAgICAgcmouY29weShyZXNbal0ucG9pbnQpOwogICAgLy8gICAgICAgICAgIC8vIENvbnRhY3QgcG9pbnRzIGFyZSBpbiB3b3JsZCBjb29yZGluYXRlcy4gVHJhbnNmb3JtIGJhY2sgdG8gcmVsYXRpdmUKICAgIC8vICAgICAgICAgICByaS52c3ViKHhpLHJpKTsKICAgIC8vICAgICAgICAgICByai52c3ViKHhqLHJqKTsKICAgIC8vICAgICAgICAgICAvLyBNYWtlIHJlbGF0aXZlIHRvIGJvZGllcwogICAgLy8gICAgICAgICAgIHJpLnZhZGQoeGksIHJpKTsKICAgIC8vICAgICAgICAgICByaS52c3ViKGJpLnBvc2l0aW9uLCByaSk7CiAgICAvLyAgICAgICAgICAgcmoudmFkZCh4aiwgcmopOwogICAgLy8gICAgICAgICAgIHJqLnZzdWIoYmoucG9zaXRpb24sIHJqKTsKICAgIC8vICAgICAgICAgICByZXN1bHQucHVzaChyKTsKICAgIC8vICAgICAgIH0KICAgIC8vICAgfQogICAgLy8gfQoKCiAgfQogIGNvbnN0IGF2ZXJhZ2VOb3JtYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IGF2ZXJhZ2VDb250YWN0UG9pbnRBID0gbmV3IFZlYzMoKTsKICBjb25zdCBhdmVyYWdlQ29udGFjdFBvaW50QiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjMSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wVmVjMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgdG1wUXVhdDEgPSBuZXcgUXVhdGVybmlvbigpOwogIGNvbnN0IHRtcFF1YXQyID0gbmV3IFF1YXRlcm5pb24oKTsKCiAgY29uc3QgcGxhbmVUcmltZXNoX25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGxhbmVUcmltZXNoX3JlbHBvcyA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGxhbmVUcmltZXNoX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF9ub3JtYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfcmVscG9zID0gbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfdiA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF92MiA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVydGV4QiA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF9lZGdlVmVjdG9yID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2VkZ2VWZWN0b3JVbml0ID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX2xvY2FsU3BoZXJlUG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVUcmltZXNoX3RtcCA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF92YSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF92YiA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF92YyA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlVHJpbWVzaF9sb2NhbFNwaGVyZUFBQkIgPSBuZXcgQUFCQigpOwogIGNvbnN0IHNwaGVyZVRyaW1lc2hfdHJpYW5nbGVzID0gW107CiAgY29uc3QgcG9pbnRfb25fcGxhbmVfdG9fc3BoZXJlID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZV90b19zcGhlcmVfb3J0aG8gPSBuZXcgVmVjMygpOyAvLyBTZWUgaHR0cDovL2J1bGxldHBoeXNpY3MuY29tL0J1bGxldC9CdWxsZXRGdWxsL1NwaGVyZVRyaWFuZ2xlRGV0ZWN0b3JfOGNwcF9zb3VyY2UuaHRtbAoKICBjb25zdCBwb2ludEluUG9seWdvbl9lZGdlID0gbmV3IFZlYzMoKTsKICBjb25zdCBwb2ludEluUG9seWdvbl9lZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKICBjb25zdCBwb2ludEluUG9seWdvbl92dHAgPSBuZXcgVmVjMygpOwoKICBmdW5jdGlvbiBwb2ludEluUG9seWdvbih2ZXJ0cywgbm9ybWFsLCBwKSB7CiAgICBsZXQgcG9zaXRpdmVSZXN1bHQgPSBudWxsOwogICAgY29uc3QgTiA9IHZlcnRzLmxlbmd0aDsKCiAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgIGNvbnN0IHYgPSB2ZXJ0c1tpXTsgLy8gR2V0IGVkZ2UgdG8gdGhlIG5leHQgdmVydGV4CgogICAgICBjb25zdCBlZGdlID0gcG9pbnRJblBvbHlnb25fZWRnZTsKICAgICAgdmVydHNbKGkgKyAxKSAlIE5dLnZzdWIodiwgZWRnZSk7IC8vIEdldCBjcm9zcyBwcm9kdWN0IGJldHdlZW4gcG9seWdvbiBub3JtYWwgYW5kIHRoZSBlZGdlCgogICAgICBjb25zdCBlZGdlX3hfbm9ybWFsID0gcG9pbnRJblBvbHlnb25fZWRnZV94X25vcm1hbDsgLy9jb25zdCBlZGdlX3hfbm9ybWFsID0gbmV3IFZlYzMoKTsKCiAgICAgIGVkZ2UuY3Jvc3Mobm9ybWFsLCBlZGdlX3hfbm9ybWFsKTsgLy8gR2V0IHZlY3RvciBiZXR3ZWVuIHBvaW50IGFuZCBjdXJyZW50IHZlcnRleAoKICAgICAgY29uc3QgdmVydGV4X3RvX3AgPSBwb2ludEluUG9seWdvbl92dHA7CiAgICAgIHAudnN1Yih2LCB2ZXJ0ZXhfdG9fcCk7IC8vIFRoaXMgZG90IHByb2R1Y3QgZGV0ZXJtaW5lcyB3aGljaCBzaWRlIG9mIHRoZSBlZGdlIHRoZSBwb2ludCBpcwoKICAgICAgY29uc3QgciA9IGVkZ2VfeF9ub3JtYWwuZG90KHZlcnRleF90b19wKTsgLy8gSWYgYWxsIHN1Y2ggZG90IHByb2R1Y3RzIGhhdmUgc2FtZSBzaWduLCB3ZSBhcmUgaW5zaWRlIHRoZSBwb2x5Z29uLgoKICAgICAgaWYgKHBvc2l0aXZlUmVzdWx0ID09PSBudWxsIHx8IHIgPiAwICYmIHBvc2l0aXZlUmVzdWx0ID09PSB0cnVlIHx8IHIgPD0gMCAmJiBwb3NpdGl2ZVJlc3VsdCA9PT0gZmFsc2UpIHsKICAgICAgICBpZiAocG9zaXRpdmVSZXN1bHQgPT09IG51bGwpIHsKICAgICAgICAgIHBvc2l0aXZlUmVzdWx0ID0gciA+IDA7CiAgICAgICAgfQoKICAgICAgICBjb250aW51ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEVuY291bnRlcmVkIHNvbWUgb3RoZXIgc2lnbi4gRXhpdC4KICAgICAgfQogICAgfSAvLyBJZiB3ZSBnb3QgaGVyZSwgYWxsIGRvdCBwcm9kdWN0cyB3ZXJlIG9mIHRoZSBzYW1lIHNpZ24uCgoKICAgIHJldHVybiB0cnVlOwogIH0KCiAgY29uc3QgYm94X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQm94X25zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfbnMxID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfbnMyID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfc2lkZXMgPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV07CiAgY29uc3Qgc3BoZXJlQm94X3NwaGVyZV90b19jb3JuZXIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUJveF9zaWRlX25zID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVCb3hfc2lkZV9uczEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUJveF9zaWRlX25zMiA9IG5ldyBWZWMzKCk7CiAgY29uc3QgY29udmV4X3RvX3NwaGVyZSA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X2VkZ2UgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUNvbnZleF9lZGdlVW5pdCA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3NwaGVyZVRvQ29ybmVyID0gbmV3IFZlYzMoKTsKICBjb25zdCBzcGhlcmVDb252ZXhfd29ybGRDb3JuZXIgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUNvbnZleF93b3JsZE5vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3dvcmxkUG9pbnQgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUNvbnZleF93b3JsZFNwaGVyZVBvaW50Q2xvc2VzdFRvUGxhbmUgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUNvbnZleF9wZW5ldHJhdGlvblZlYyA9IG5ldyBWZWMzKCk7CiAgY29uc3Qgc3BoZXJlQ29udmV4X3NwaGVyZVRvV29ybGRQb2ludCA9IG5ldyBWZWMzKCk7CiAgbmV3IFZlYzMoKTsKICBuZXcgVmVjMygpOwogIGNvbnN0IHBsYW5lQ29udmV4X3YgPSBuZXcgVmVjMygpOwogIGNvbnN0IHBsYW5lQ29udmV4X25vcm1hbCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGxhbmVDb252ZXhfcmVscG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBwbGFuZUNvbnZleF9wcm9qZWN0ZWQgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleENvbnZleF9zZXBBeGlzID0gbmV3IFZlYzMoKTsKICBjb25zdCBjb252ZXhDb252ZXhfcSA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGFydGljbGVQbGFuZV9ub3JtYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IHBhcnRpY2xlUGxhbmVfcmVscG9zID0gbmV3IFZlYzMoKTsKICBjb25zdCBwYXJ0aWNsZVBsYW5lX3Byb2plY3RlZCA9IG5ldyBWZWMzKCk7CiAgY29uc3QgcGFydGljbGVTcGhlcmVfbm9ybWFsID0gbmV3IFZlYzMoKTsgLy8gV0lQCgogIGNvbnN0IGNxaiA9IG5ldyBRdWF0ZXJuaW9uKCk7CiAgY29uc3QgY29udmV4UGFydGljbGVfbG9jYWwgPSBuZXcgVmVjMygpOwogIG5ldyBWZWMzKCk7CiAgY29uc3QgY29udmV4UGFydGljbGVfcGVuZXRyYXRlZEZhY2VOb3JtYWwgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleFBhcnRpY2xlX3ZlcnRleFRvUGFydGljbGUgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleFBhcnRpY2xlX3dvcmxkUGVuZXRyYXRpb25WZWMgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleEhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpOwogIGNvbnN0IGNvbnZleEhlaWdodGZpZWxkX2ZhY2VMaXN0ID0gWzBdOwogIGNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDEgPSBuZXcgVmVjMygpOwogIGNvbnN0IHNwaGVyZUhlaWdodGZpZWxkX3RtcDIgPSBuZXcgVmVjMygpOwoKICBjbGFzcyBPdmVybGFwS2VlcGVyIHsKICAgIC8qKgogICAgICogQHRvZG8gUmVtb3ZlIHVzZWxlc3MgY29uc3RydWN0b3IKICAgICAqLwogICAgY29uc3RydWN0b3IoKSB7CiAgICAgIHRoaXMuY3VycmVudCA9IFtdOwogICAgICB0aGlzLnByZXZpb3VzID0gW107CiAgICB9CiAgICAvKioKICAgICAqIGdldEtleQogICAgICovCgoKICAgIGdldEtleShpLCBqKSB7CiAgICAgIGlmIChqIDwgaSkgewogICAgICAgIGNvbnN0IHRlbXAgPSBqOwogICAgICAgIGogPSBpOwogICAgICAgIGkgPSB0ZW1wOwogICAgICB9CgogICAgICByZXR1cm4gaSA8PCAxNiB8IGo7CiAgICB9CiAgICAvKioKICAgICAqIHNldAogICAgICovCgoKICAgIHNldChpLCBqKSB7CiAgICAgIC8vIEluc2VydGlvbiBzb3J0LiBUaGlzIHdheSB0aGUgZGlmZiB3aWxsIGhhdmUgbGluZWFyIGNvbXBsZXhpdHkuCiAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KGksIGopOwogICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5jdXJyZW50OwogICAgICBsZXQgaW5kZXggPSAwOwoKICAgICAgd2hpbGUgKGtleSA+IGN1cnJlbnRbaW5kZXhdKSB7CiAgICAgICAgaW5kZXgrKzsKICAgICAgfQoKICAgICAgaWYgKGtleSA9PT0gY3VycmVudFtpbmRleF0pIHsKICAgICAgICByZXR1cm47IC8vIFBhaXIgd2FzIGFscmVhZHkgYWRkZWQKICAgICAgfQoKICAgICAgZm9yIChsZXQgaiA9IGN1cnJlbnQubGVuZ3RoIC0gMTsgaiA+PSBpbmRleDsgai0tKSB7CiAgICAgICAgY3VycmVudFtqICsgMV0gPSBjdXJyZW50W2pdOwogICAgICB9CgogICAgICBjdXJyZW50W2luZGV4XSA9IGtleTsKICAgIH0KICAgIC8qKgogICAgICogdGljawogICAgICovCgoKICAgIHRpY2soKSB7CiAgICAgIGNvbnN0IHRtcCA9IHRoaXMuY3VycmVudDsKICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5wcmV2aW91czsKICAgICAgdGhpcy5wcmV2aW91cyA9IHRtcDsKICAgICAgdGhpcy5jdXJyZW50Lmxlbmd0aCA9IDA7CiAgICB9CiAgICAvKioKICAgICAqIGdldERpZmYKICAgICAqLwoKCiAgICBnZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpIHsKICAgICAgY29uc3QgYSA9IHRoaXMuY3VycmVudDsKICAgICAgY29uc3QgYiA9IHRoaXMucHJldmlvdXM7CiAgICAgIGNvbnN0IGFsID0gYS5sZW5ndGg7CiAgICAgIGNvbnN0IGJsID0gYi5sZW5ndGg7CiAgICAgIGxldCBqID0gMDsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWw7IGkrKykgewogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIGNvbnN0IGtleUEgPSBhW2ldOwoKICAgICAgICB3aGlsZSAoa2V5QSA+IGJbal0pIHsKICAgICAgICAgIGorKzsKICAgICAgICB9CgogICAgICAgIGZvdW5kID0ga2V5QSA9PT0gYltqXTsKCiAgICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgdW5wYWNrQW5kUHVzaChhZGRpdGlvbnMsIGtleUEpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaiA9IDA7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsOyBpKyspIHsKICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgICBjb25zdCBrZXlCID0gYltpXTsKCiAgICAgICAgd2hpbGUgKGtleUIgPiBhW2pdKSB7CiAgICAgICAgICBqKys7CiAgICAgICAgfQoKICAgICAgICBmb3VuZCA9IGFbal0gPT09IGtleUI7CgogICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgIHVucGFja0FuZFB1c2gocmVtb3ZhbHMsIGtleUIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICB9CgogIGZ1bmN0aW9uIHVucGFja0FuZFB1c2goYXJyYXksIGtleSkgewogICAgYXJyYXkucHVzaCgoa2V5ICYgMHhmZmZmMDAwMCkgPj4gMTYsIGtleSAmIDB4MDAwMGZmZmYpOwogIH0KCiAgY29uc3QgZ2V0S2V5ID0gKGksIGopID0+IGkgPCBqID8gYCR7aX0tJHtqfWAgOiBgJHtqfS0ke2l9YDsKICAvKioKICAgKiBUdXBsZURpY3Rpb25hcnkKICAgKi8KCgogIGNsYXNzIFR1cGxlRGljdGlvbmFyeSB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgdGhpcy5kYXRhID0gewogICAgICAgIGtleXM6IFtdCiAgICAgIH07CiAgICB9CgogICAgLyoqIGdldCAqLwogICAgZ2V0KGksIGopIHsKICAgICAgY29uc3Qga2V5ID0gZ2V0S2V5KGksIGopOwogICAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07CiAgICB9CiAgICAvKiogc2V0ICovCgoKICAgIHNldChpLCBqLCB2YWx1ZSkgewogICAgICBjb25zdCBrZXkgPSBnZXRLZXkoaSwgaik7IC8vIENoZWNrIGlmIGtleSBhbHJlYWR5IGV4aXN0cwoKICAgICAgaWYgKCF0aGlzLmdldChpLCBqKSkgewogICAgICAgIHRoaXMuZGF0YS5rZXlzLnB1c2goa2V5KTsKICAgICAgfQoKICAgICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTsKICAgIH0KICAgIC8qKiBkZWxldGUgKi8KCgogICAgZGVsZXRlKGksIGopIHsKICAgICAgY29uc3Qga2V5ID0gZ2V0S2V5KGksIGopOwogICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGF0YS5rZXlzLmluZGV4T2Yoa2V5KTsKCiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICB0aGlzLmRhdGEua2V5cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CgogICAgICBkZWxldGUgdGhpcy5kYXRhW2tleV07CiAgICB9CiAgICAvKiogcmVzZXQgKi8KCgogICAgcmVzZXQoKSB7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIGNvbnN0IGtleXMgPSBkYXRhLmtleXM7CgogICAgICB3aGlsZSAoa2V5cy5sZW5ndGggPiAwKSB7CiAgICAgICAgY29uc3Qga2V5ID0ga2V5cy5wb3AoKTsKICAgICAgICBkZWxldGUgZGF0YVtrZXldOwogICAgICB9CiAgICB9CgogIH0KCiAgLyoqCiAgICogVGhlIHBoeXNpY3Mgd29ybGQKICAgKi8KICBjbGFzcyBXb3JsZCBleHRlbmRzIEV2ZW50VGFyZ2V0IHsKICAgIC8qKgogICAgICogQ3VycmVudGx5IC8gbGFzdCB1c2VkIHRpbWVzdGVwLiBJcyBzZXQgdG8gLTEgaWYgbm90IGF2YWlsYWJsZS4gVGhpcyB2YWx1ZSBpcyB1cGRhdGVkIGJlZm9yZSBlYWNoIGludGVybmFsIHN0ZXAsIHdoaWNoIG1lYW5zIHRoYXQgaXQgaXMgImZyZXNoIiBpbnNpZGUgZXZlbnQgY2FsbGJhY2tzLgogICAgICovCgogICAgLyoqCiAgICAgKiBNYWtlcyBib2RpZXMgZ28gdG8gc2xlZXAgd2hlbiB0aGV5J3ZlIGJlZW4gaW5hY3RpdmUuCiAgICAgKiBAZGVmYXVsdCBmYWxzZQogICAgICovCgogICAgLyoqCiAgICAgKiBBbGwgdGhlIGN1cnJlbnQgY29udGFjdHMgKGluc3RhbmNlcyBvZiBDb250YWN0RXF1YXRpb24pIGluIHRoZSB3b3JsZC4KICAgICAqLwoKICAgIC8qKgogICAgICogSG93IG9mdGVuIHRvIG5vcm1hbGl6ZSBxdWF0ZXJuaW9ucy4gU2V0IHRvIDAgZm9yIGV2ZXJ5IHN0ZXAsIDEgZm9yIGV2ZXJ5IHNlY29uZCBldGMuLiBBIGxhcmdlciB2YWx1ZSBpbmNyZWFzZXMgcGVyZm9ybWFuY2UuIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBhIHNtYWxsZXIgdmFsdWUgKHplcm8gdG8gYmUgc3VyZSBub3RoaW5nIGNhbiBnbyB3cm9uZykuCiAgICAgKiBAZGVmYXVsdCAwCiAgICAgKi8KCiAgICAvKioKICAgICAqIFNldCB0byB0cnVlIHRvIHVzZSBmYXN0IHF1YXRlcm5pb24gbm9ybWFsaXphdGlvbi4gSXQgaXMgb2Z0ZW4gZW5vdWdoIGFjY3VyYXRlIHRvIHVzZS4KICAgICAqIElmIGJvZGllcyB0ZW5kIHRvIGV4cGxvZGUsIHNldCB0byBmYWxzZS4KICAgICAqIEBkZWZhdWx0IGZhbHNlCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSB3YWxsLWNsb2NrIHRpbWUgc2luY2Ugc2ltdWxhdGlvbiBzdGFydC4KICAgICAqLwoKICAgIC8qKgogICAgICogTnVtYmVyIG9mIHRpbWVzdGVwcyB0YWtlbiBzaW5jZSBzdGFydC4KICAgICAqLwoKICAgIC8qKgogICAgICogRGVmYXVsdCBhbmQgbGFzdCB0aW1lc3RlcCBzaXplcy4KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGdyYXZpdHkgb2YgdGhlIHdvcmxkLgogICAgICovCgogICAgLyoqCiAgICAgKiBHcmF2aXR5IHRvIHVzZSB3aGVuIGFwcHJveGltYXRpbmcgdGhlIGZyaWN0aW9uIG1heCBmb3JjZSAobXUqbWFzcypncmF2aXR5KS4KICAgICAqIElmIHVuZGVmaW5lZCwgZ2xvYmFsIGdyYXZpdHkgd2lsbCBiZSB1c2VkLgogICAgICogVXNlIHRvIGVuYWJsZSBmcmljdGlvbiBpbiBhIFdvcmxkIHdpdGggYSBudWxsIGdyYXZpdHkgdmVjdG9yIChubyBncmF2aXR5KS4KICAgICAqLwoKICAgIC8qKgogICAgICogVGhlIGJyb2FkcGhhc2UgYWxnb3JpdGhtIHRvIHVzZS4KICAgICAqIEBkZWZhdWx0IE5haXZlQnJvYWRwaGFzZQogICAgICovCgogICAgLyoqCiAgICAgKiBBbGwgYm9kaWVzIGluIHRoaXMgd29ybGQKICAgICAqLwoKICAgIC8qKgogICAgICogVHJ1ZSBpZiBhbnkgYm9kaWVzIGFyZSBub3Qgc2xlZXBpbmcsIGZhbHNlIGlmIGV2ZXJ5IGJvZHkgaXMgc2xlZXBpbmcuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFRoZSBzb2x2ZXIgYWxnb3JpdGhtIHRvIHVzZS4KICAgICAqIEBkZWZhdWx0IEdTU29sdmVyCiAgICAgKi8KCiAgICAvKioKICAgICAqIGNvbGxpc2lvbk1hdHJpeAogICAgICovCgogICAgLyoqCiAgICAgKiBDb2xsaXNpb25NYXRyaXggZnJvbSB0aGUgcHJldmlvdXMgc3RlcC4KICAgICAqLwoKICAgIC8qKgogICAgICogQWxsIGFkZGVkIGNvbnRhY3RtYXRlcmlhbHMuCiAgICAgKi8KCiAgICAvKioKICAgICAqIFVzZWQgdG8gbG9vayB1cCBhIENvbnRhY3RNYXRlcmlhbCBnaXZlbiB0d28gaW5zdGFuY2VzIG9mIE1hdGVyaWFsLgogICAgICovCgogICAgLyoqCiAgICAgKiBUaGUgZGVmYXVsdCBtYXRlcmlhbCBvZiB0aGUgYm9kaWVzLgogICAgICovCgogICAgLyoqCiAgICAgKiBUaGlzIGNvbnRhY3QgbWF0ZXJpYWwgaXMgdXNlZCBpZiBubyBzdWl0YWJsZSBjb250YWN0bWF0ZXJpYWwgaXMgZm91bmQgZm9yIGEgY29udGFjdC4KICAgICAqLwoKICAgIC8qKgogICAgICogVGltZSBhY2N1bXVsYXRvciBmb3IgaW50ZXJwb2xhdGlvbi4KICAgICAqIEBzZWUgaHR0cHM6Ly9nYWZmZXJvbmdhbWVzLmNvbS9nYW1lLXBoeXNpY3MvZml4LXlvdXItdGltZXN0ZXAvCiAgICAgKi8KCiAgICAvKioKICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgYSBib2R5IGhhcyBiZWVuIGFkZGVkIHRvIHRoZSB3b3JsZC4KICAgICAqLwoKICAgIC8qKgogICAgICogRGlzcGF0Y2hlZCBhZnRlciBhIGJvZHkgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSB3b3JsZC4KICAgICAqLwogICAgY29uc3RydWN0b3Iob3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBzdXBlcigpOwogICAgICB0aGlzLmR0ID0gLTE7CiAgICAgIHRoaXMuYWxsb3dTbGVlcCA9ICEhb3B0aW9ucy5hbGxvd1NsZWVwOwogICAgICB0aGlzLmNvbnRhY3RzID0gW107CiAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMgPSBbXTsKICAgICAgdGhpcy5xdWF0Tm9ybWFsaXplU2tpcCA9IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucXVhdE5vcm1hbGl6ZVNraXAgOiAwOwogICAgICB0aGlzLnF1YXROb3JtYWxpemVGYXN0ID0gb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5xdWF0Tm9ybWFsaXplRmFzdCA6IGZhbHNlOwogICAgICB0aGlzLnRpbWUgPSAwLjA7CiAgICAgIHRoaXMuc3RlcG51bWJlciA9IDA7CiAgICAgIHRoaXMuZGVmYXVsdF9kdCA9IDEgLyA2MDsKICAgICAgdGhpcy5uZXh0SWQgPSAwOwogICAgICB0aGlzLmdyYXZpdHkgPSBuZXcgVmVjMygpOwoKICAgICAgaWYgKG9wdGlvbnMuZ3Jhdml0eSkgewogICAgICAgIHRoaXMuZ3Jhdml0eS5jb3B5KG9wdGlvbnMuZ3Jhdml0eSk7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLmZyaWN0aW9uR3Jhdml0eSkgewogICAgICAgIHRoaXMuZnJpY3Rpb25HcmF2aXR5ID0gbmV3IFZlYzMoKTsKICAgICAgICB0aGlzLmZyaWN0aW9uR3Jhdml0eS5jb3B5KG9wdGlvbnMuZnJpY3Rpb25HcmF2aXR5KTsKICAgICAgfQoKICAgICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmJyb2FkcGhhc2UgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7CiAgICAgIHRoaXMuYm9kaWVzID0gW107CiAgICAgIHRoaXMuaGFzQWN0aXZlQm9kaWVzID0gZmFsc2U7CiAgICAgIHRoaXMuc29sdmVyID0gb3B0aW9ucy5zb2x2ZXIgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc29sdmVyIDogbmV3IEdTU29sdmVyKCk7CiAgICAgIHRoaXMuY29uc3RyYWludHMgPSBbXTsKICAgICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSBuZXcgQXJyYXlDb2xsaXNpb25NYXRyaXgoKTsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXhQcmV2aW91cyA9IG5ldyBBcnJheUNvbGxpc2lvbk1hdHJpeCgpOwogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTsKICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpOwogICAgICB0aGlzLmNvbnRhY3RtYXRlcmlhbHMgPSBbXTsKICAgICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTsKICAgICAgdGhpcy5kZWZhdWx0TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoJ2RlZmF1bHQnKTsKICAgICAgdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbCh0aGlzLmRlZmF1bHRNYXRlcmlhbCwgdGhpcy5kZWZhdWx0TWF0ZXJpYWwsIHsKICAgICAgICBmcmljdGlvbjogMC4zLAogICAgICAgIHJlc3RpdHV0aW9uOiAwLjAKICAgICAgfSk7CiAgICAgIHRoaXMuZG9Qcm9maWxpbmcgPSBmYWxzZTsKICAgICAgdGhpcy5wcm9maWxlID0gewogICAgICAgIHNvbHZlOiAwLAogICAgICAgIG1ha2VDb250YWN0Q29uc3RyYWludHM6IDAsCiAgICAgICAgYnJvYWRwaGFzZTogMCwKICAgICAgICBpbnRlZ3JhdGU6IDAsCiAgICAgICAgbmFycm93cGhhc2U6IDAKICAgICAgfTsKICAgICAgdGhpcy5hY2N1bXVsYXRvciA9IDA7CiAgICAgIHRoaXMuc3Vic3lzdGVtcyA9IFtdOwogICAgICB0aGlzLmFkZEJvZHlFdmVudCA9IHsKICAgICAgICB0eXBlOiAnYWRkQm9keScsCiAgICAgICAgYm9keTogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudCA9IHsKICAgICAgICB0eXBlOiAncmVtb3ZlQm9keScsCiAgICAgICAgYm9keTogbnVsbAogICAgICB9OwogICAgICB0aGlzLmlkVG9Cb2R5TWFwID0ge307CiAgICAgIHRoaXMuYnJvYWRwaGFzZS5zZXRXb3JsZCh0aGlzKTsKICAgIH0KICAgIC8qKgogICAgICogR2V0IHRoZSBjb250YWN0IG1hdGVyaWFsIGJldHdlZW4gbWF0ZXJpYWxzIG0xIGFuZCBtMgogICAgICogQHJldHVybiBUaGUgY29udGFjdCBtYXRlcmlhbCBpZiBpdCB3YXMgZm91bmQuCiAgICAgKi8KCgogICAgZ2V0Q29udGFjdE1hdGVyaWFsKG0xLCBtMikgewogICAgICByZXR1cm4gdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5nZXQobTEuaWQsIG0yLmlkKTsKICAgIH0KICAgIC8qKgogICAgICogU3RvcmUgb2xkIGNvbGxpc2lvbiBzdGF0ZSBpbmZvCiAgICAgKi8KCgogICAgY29sbGlzaW9uTWF0cml4VGljaygpIHsKICAgICAgY29uc3QgdGVtcCA9IHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXM7CiAgICAgIHRoaXMuY29sbGlzaW9uTWF0cml4UHJldmlvdXMgPSB0aGlzLmNvbGxpc2lvbk1hdHJpeDsKICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXggPSB0ZW1wOwogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5yZXNldCgpOwogICAgICB0aGlzLmJvZHlPdmVybGFwS2VlcGVyLnRpY2soKTsKICAgICAgdGhpcy5zaGFwZU92ZXJsYXBLZWVwZXIudGljaygpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYSBjb25zdHJhaW50IHRvIHRoZSBzaW11bGF0aW9uLgogICAgICovCgoKICAgIGFkZENvbnN0cmFpbnQoYykgewogICAgICB0aGlzLmNvbnN0cmFpbnRzLnB1c2goYyk7CiAgICB9CiAgICAvKioKICAgICAqIFJlbW92ZXMgYSBjb25zdHJhaW50CiAgICAgKi8KCgogICAgcmVtb3ZlQ29uc3RyYWludChjKSB7CiAgICAgIGNvbnN0IGlkeCA9IHRoaXMuY29uc3RyYWludHMuaW5kZXhPZihjKTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgdGhpcy5jb25zdHJhaW50cy5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSYXljYXN0IHRlc3QKICAgICAqIEBkZXByZWNhdGVkIFVzZSAucmF5Y2FzdEFsbCwgLnJheWNhc3RDbG9zZXN0IG9yIC5yYXljYXN0QW55IGluc3RlYWQuCiAgICAgKi8KCgogICAgcmF5VGVzdChmcm9tLCB0bywgcmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSYXljYXN0UmVzdWx0KSB7CiAgICAgICAgLy8gRG8gcmF5Y2FzdENsb3Nlc3QKICAgICAgICB0aGlzLnJheWNhc3RDbG9zZXN0KGZyb20sIHRvLCB7CiAgICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlCiAgICAgICAgfSwgcmVzdWx0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBEbyByYXljYXN0QWxsCiAgICAgICAgdGhpcy5yYXljYXN0QWxsKGZyb20sIHRvLCB7CiAgICAgICAgICBza2lwQmFja2ZhY2VzOiB0cnVlCiAgICAgICAgfSwgcmVzdWx0KTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBSYXkgY2FzdCBhZ2FpbnN0IGFsbCBib2RpZXMuIFRoZSBwcm92aWRlZCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIGZvciBlYWNoIGhpdCB3aXRoIGEgUmF5Y2FzdFJlc3VsdCBhcyBzaW5nbGUgYXJndW1lbnQuCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4KICAgICAqLwoKCiAgICByYXljYXN0QWxsKGZyb20sIHRvLCBvcHRpb25zLCBjYWxsYmFjaykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBvcHRpb25zLm1vZGUgPSBSYXkuQUxMOwogICAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgICBvcHRpb25zLnRvID0gdG87CiAgICAgIG9wdGlvbnMuY2FsbGJhY2sgPSBjYWxsYmFjazsKICAgICAgcmV0dXJuIHRtcFJheS5pbnRlcnNlY3RXb3JsZCh0aGlzLCBvcHRpb25zKTsKICAgIH0KICAgIC8qKgogICAgICogUmF5IGNhc3QsIGFuZCBzdG9wIGF0IHRoZSBmaXJzdCByZXN1bHQuIE5vdGUgdGhhdCB0aGUgb3JkZXIgaXMgcmFuZG9tIC0gYnV0IHRoZSBtZXRob2QgaXMgZmFzdC4KICAgICAqIEByZXR1cm4gVHJ1ZSBpZiBhbnkgYm9keSB3YXMgaGl0LgogICAgICovCgoKICAgIHJheWNhc3RBbnkoZnJvbSwgdG8sIG9wdGlvbnMsIHJlc3VsdCkgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICBvcHRpb25zLm1vZGUgPSBSYXkuQU5ZOwogICAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgICBvcHRpb25zLnRvID0gdG87CiAgICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0OwogICAgICByZXR1cm4gdG1wUmF5LmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBSYXkgY2FzdCwgYW5kIHJldHVybiBpbmZvcm1hdGlvbiBvZiB0aGUgY2xvc2VzdCBoaXQuCiAgICAgKiBAcmV0dXJuIFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC4KICAgICAqLwoKCiAgICByYXljYXN0Q2xvc2VzdChmcm9tLCB0bywgb3B0aW9ucywgcmVzdWx0KSB7CiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBvcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIG9wdGlvbnMubW9kZSA9IFJheS5DTE9TRVNUOwogICAgICBvcHRpb25zLmZyb20gPSBmcm9tOwogICAgICBvcHRpb25zLnRvID0gdG87CiAgICAgIG9wdGlvbnMucmVzdWx0ID0gcmVzdWx0OwogICAgICByZXR1cm4gdG1wUmF5LmludGVyc2VjdFdvcmxkKHRoaXMsIG9wdGlvbnMpOwogICAgfQogICAgLyoqCiAgICAgKiBBZGQgYSByaWdpZCBib2R5IHRvIHRoZSBzaW11bGF0aW9uLgogICAgICogQHRvZG8gSWYgdGhlIHNpbXVsYXRpb24gaGFzIG5vdCB5ZXQgc3RhcnRlZCwgd2h5IHJlY3JldGUgYW5kIGNvcHkgYXJyYXlzIGZvciBlYWNoIGJvZHk/IEFjY3VtdWxhdGUgaW4gZHluYW1pYyBhcnJheXMgaW4gdGhpcyBjYXNlLgogICAgICogQHRvZG8gQWRkaW5nIGFuIGFycmF5IG9mIGJvZGllcyBzaG91bGQgYmUgcG9zc2libGUuIFRoaXMgd291bGQgc2F2ZSBzb21lIGxvb3BzIHRvbwogICAgICovCgoKICAgIGFkZEJvZHkoYm9keSkgewogICAgICBpZiAodGhpcy5ib2RpZXMuaW5jbHVkZXMoYm9keSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGJvZHkuaW5kZXggPSB0aGlzLmJvZGllcy5sZW5ndGg7CiAgICAgIHRoaXMuYm9kaWVzLnB1c2goYm9keSk7CiAgICAgIGJvZHkud29ybGQgPSB0aGlzOwogICAgICBib2R5LmluaXRQb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24pOwogICAgICBib2R5LmluaXRWZWxvY2l0eS5jb3B5KGJvZHkudmVsb2NpdHkpOwogICAgICBib2R5LnRpbWVMYXN0U2xlZXB5ID0gdGhpcy50aW1lOwoKICAgICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBCb2R5KSB7CiAgICAgICAgYm9keS5pbml0QW5ndWxhclZlbG9jaXR5LmNvcHkoYm9keS5hbmd1bGFyVmVsb2NpdHkpOwogICAgICAgIGJvZHkuaW5pdFF1YXRlcm5pb24uY29weShib2R5LnF1YXRlcm5pb24pOwogICAgICB9CgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXROdW1PYmplY3RzKHRoaXMuYm9kaWVzLmxlbmd0aCk7CiAgICAgIHRoaXMuYWRkQm9keUV2ZW50LmJvZHkgPSBib2R5OwogICAgICB0aGlzLmlkVG9Cb2R5TWFwW2JvZHkuaWRdID0gYm9keTsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHRoaXMuYWRkQm9keUV2ZW50KTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGEgcmlnaWQgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLgogICAgICovCgoKICAgIHJlbW92ZUJvZHkoYm9keSkgewogICAgICBib2R5LndvcmxkID0gbnVsbDsKICAgICAgY29uc3QgbiA9IHRoaXMuYm9kaWVzLmxlbmd0aCAtIDE7CiAgICAgIGNvbnN0IGJvZGllcyA9IHRoaXMuYm9kaWVzOwogICAgICBjb25zdCBpZHggPSBib2RpZXMuaW5kZXhPZihib2R5KTsKCiAgICAgIGlmIChpZHggIT09IC0xKSB7CiAgICAgICAgYm9kaWVzLnNwbGljZShpZHgsIDEpOyAvLyBUb2RvOiBzaG91bGQgdXNlIGEgZ2FyYmFnZSBmcmVlIG1ldGhvZAogICAgICAgIC8vIFJlY29tcHV0ZSBpbmRleAoKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSAhPT0gYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBib2RpZXNbaV0uaW5kZXggPSBpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5jb2xsaXNpb25NYXRyaXguc2V0TnVtT2JqZWN0cyhuKTsKICAgICAgICB0aGlzLnJlbW92ZUJvZHlFdmVudC5ib2R5ID0gYm9keTsKICAgICAgICBkZWxldGUgdGhpcy5pZFRvQm9keU1hcFtib2R5LmlkXTsKICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy5yZW1vdmVCb2R5RXZlbnQpOwogICAgICB9CiAgICB9CgogICAgZ2V0Qm9keUJ5SWQoaWQpIHsKICAgICAgcmV0dXJuIHRoaXMuaWRUb0JvZHlNYXBbaWRdOwogICAgfQogICAgLyoqCiAgICAgKiBAdG9kbyBNYWtlIGEgZmFzdGVyIG1hcAogICAgICovCgoKICAgIGdldFNoYXBlQnlJZChpZCkgewogICAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3Qgc2hhcGVzID0gYm9kaWVzW2ldLnNoYXBlczsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaGFwZXMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGNvbnN0IHNoYXBlID0gc2hhcGVzW2pdOwoKICAgICAgICAgIGlmIChzaGFwZS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAgcmV0dXJuIHNoYXBlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICAvKioKICAgICAqIEFkZHMgYSBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBXb3JsZAogICAgICovCgoKICAgIGFkZENvbnRhY3RNYXRlcmlhbChjbWF0KSB7CiAgICAgIC8vIEFkZCBjb250YWN0IG1hdGVyaWFsCiAgICAgIHRoaXMuY29udGFjdG1hdGVyaWFscy5wdXNoKGNtYXQpOyAvLyBBZGQgY3VycmVudCBjb250YWN0IG1hdGVyaWFsIHRvIHRoZSBtYXRlcmlhbCB0YWJsZQoKICAgICAgdGhpcy5jb250YWN0TWF0ZXJpYWxUYWJsZS5zZXQoY21hdC5tYXRlcmlhbHNbMF0uaWQsIGNtYXQubWF0ZXJpYWxzWzFdLmlkLCBjbWF0KTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlcyBhIGNvbnRhY3QgbWF0ZXJpYWwgZnJvbSB0aGUgV29ybGQuCiAgICAgKi8KCgogICAgcmVtb3ZlQ29udGFjdE1hdGVyaWFsKGNtYXQpIHsKICAgICAgY29uc3QgaWR4ID0gdGhpcy5jb250YWN0bWF0ZXJpYWxzLmluZGV4T2YoY21hdCk7CgogICAgICBpZiAoaWR4ID09PSAtMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5jb250YWN0bWF0ZXJpYWxzLnNwbGljZShpZHgsIDEpOwogICAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbFRhYmxlLmRlbGV0ZShjbWF0Lm1hdGVyaWFsc1swXS5pZCwgY21hdC5tYXRlcmlhbHNbMV0uaWQpOwogICAgfQogICAgLyoqCiAgICAgKiBTdGVwIHRoZSBzaW11bGF0aW9uIGZvcndhcmQga2VlcGluZyB0cmFjayBvZiBsYXN0IGNhbGxlZCB0aW1lCiAgICAgKiB0byBiZSBhYmxlIHRvIHN0ZXAgdGhlIHdvcmxkIGF0IGEgZml4ZWQgcmF0ZSwgaW5kZXBlbmRlbnRseSBvZiBmcmFtZXJhdGUuCiAgICAgKgogICAgICogQHBhcmFtIGR0IFRoZSBmaXhlZCB0aW1lIHN0ZXAgc2l6ZSB0byB1c2UgKGRlZmF1bHQ6IDEgLyA2MCkuCiAgICAgKiBAcGFyYW0gbWF4U3ViU3RlcHMgTWF4aW11bSBudW1iZXIgb2YgZml4ZWQgc3RlcHMgdG8gdGFrZSBwZXIgZnVuY3Rpb24gY2FsbCAoZGVmYXVsdDogMTApLgogICAgICogQHNlZSBodHRwczovL2dhZmZlcm9uZ2FtZXMuY29tL3Bvc3QvZml4X3lvdXJfdGltZXN0ZXAvCiAgICAgKiBAZXhhbXBsZQogICAgICogICAgIC8vIFJ1biB0aGUgc2ltdWxhdGlvbiBpbmRlcGVuZGVudGx5IG9mIGZyYW1lcmF0ZSBldmVyeSAxIC8gNjAgbXMKICAgICAqICAgICB3b3JsZC5maXhlZFN0ZXAoKQogICAgICovCgoKICAgIGZpeGVkU3RlcChkdCwgbWF4U3ViU3RlcHMpIHsKICAgICAgaWYgKGR0ID09PSB2b2lkIDApIHsKICAgICAgICBkdCA9IDEgLyA2MDsKICAgICAgfQoKICAgICAgaWYgKG1heFN1YlN0ZXBzID09PSB2b2lkIDApIHsKICAgICAgICBtYXhTdWJTdGVwcyA9IDEwOwogICAgICB9CgogICAgICBjb25zdCB0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgLyAxMDAwOyAvLyBzZWNvbmRzCgogICAgICBpZiAoIXRoaXMubGFzdENhbGxUaW1lKSB7CiAgICAgICAgdGhpcy5zdGVwKGR0LCB1bmRlZmluZWQsIG1heFN1YlN0ZXBzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0Q2FsbGVkID0gdGltZSAtIHRoaXMubGFzdENhbGxUaW1lOwogICAgICAgIHRoaXMuc3RlcChkdCwgdGltZVNpbmNlTGFzdENhbGxlZCwgbWF4U3ViU3RlcHMpOwogICAgICB9CgogICAgICB0aGlzLmxhc3RDYWxsVGltZSA9IHRpbWU7CiAgICB9CiAgICAvKioKICAgICAqIFN0ZXAgdGhlIHBoeXNpY3Mgd29ybGQgZm9yd2FyZCBpbiB0aW1lLgogICAgICoKICAgICAqIFRoZXJlIGFyZSB0d28gbW9kZXMuIFRoZSBzaW1wbGUgbW9kZSBpcyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uLiBJbiB0aGlzIGNhc2UgeW91IG9ubHkgdXNlIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhlIHNlY29uZCBjYXNlIHVzZXMgaW50ZXJwb2xhdGlvbi4gSW4gdGhhdCB5b3UgYWxzbyBwcm92aWRlIHRoZSB0aW1lIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCB1c2VkLCBhcyB3ZWxsIGFzIHRoZSBtYXhpbXVtIGZpeGVkIHRpbWVzdGVwcyB0byB0YWtlLgogICAgICoKICAgICAqIEBwYXJhbSBkdCBUaGUgZml4ZWQgdGltZSBzdGVwIHNpemUgdG8gdXNlLgogICAgICogQHBhcmFtIHRpbWVTaW5jZUxhc3RDYWxsZWQgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLgogICAgICogQHBhcmFtIG1heFN1YlN0ZXBzIE1heGltdW0gbnVtYmVyIG9mIGZpeGVkIHN0ZXBzIHRvIHRha2UgcGVyIGZ1bmN0aW9uIGNhbGwgKGRlZmF1bHQ6IDEwKS4KICAgICAqIEBzZWUgaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTgwNDI2MTU0NTMxL2h0dHA6Ly9idWxsZXRwaHlzaWNzLm9yZy9tZWRpYXdpa2ktMS41LjgvaW5kZXgucGhwL1N0ZXBwaW5nX1RoZV9Xb3JsZCNXaGF0X2RvX3RoZV9wYXJhbWV0ZXJzX3RvX2J0RHluYW1pY3NXb3JsZDo6c3RlcFNpbXVsYXRpb25fbWVhbi4zRgogICAgICogQGV4YW1wbGUKICAgICAqICAgICAvLyBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uCiAgICAgKiAgICAgd29ybGQuc3RlcCgxIC8gNjApCiAgICAgKi8KCgogICAgc3RlcChkdCwgdGltZVNpbmNlTGFzdENhbGxlZCwgbWF4U3ViU3RlcHMpIHsKICAgICAgaWYgKG1heFN1YlN0ZXBzID09PSB2b2lkIDApIHsKICAgICAgICBtYXhTdWJTdGVwcyA9IDEwOwogICAgICB9CgogICAgICBpZiAodGltZVNpbmNlTGFzdENhbGxlZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZwogICAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTsgLy8gSW5jcmVtZW50IHRpbWUKCiAgICAgICAgdGhpcy50aW1lICs9IGR0OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWNjdW11bGF0b3IgKz0gdGltZVNpbmNlTGFzdENhbGxlZDsKICAgICAgICBjb25zdCB0MCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIGxldCBzdWJzdGVwcyA9IDA7CgogICAgICAgIHdoaWxlICh0aGlzLmFjY3VtdWxhdG9yID49IGR0ICYmIHN1YnN0ZXBzIDwgbWF4U3ViU3RlcHMpIHsKICAgICAgICAgIC8vIERvIGZpeGVkIHN0ZXBzIHRvIGNhdGNoIHVwCiAgICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7CiAgICAgICAgICB0aGlzLmFjY3VtdWxhdG9yIC09IGR0OwogICAgICAgICAgc3Vic3RlcHMrKzsKCiAgICAgICAgICBpZiAocGVyZm9ybWFuY2Uubm93KCkgLSB0MCA+IGR0ICogMTAwMCkgewogICAgICAgICAgICAvLyBUaGUgZnJhbWVyYXRlIGlzIG5vdCBpbnRlcmFjdGl2ZSBhbnltb3JlLgogICAgICAgICAgICAvLyBXZSBhcmUgYmVsb3cgdGhlIHRhcmdldCBmcmFtZXJhdGUuCiAgICAgICAgICAgIC8vIEJldHRlciBiYWlsIG91dC4KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBSZW1vdmUgdGhlIGV4Y2VzcyBhY2N1bXVsYXRvciwgc2luY2Ugd2UgbWF5IG5vdAogICAgICAgIC8vIGhhdmUgaGFkIGVub3VnaCBzdWJzdGVwcyBhdmFpbGFibGUgdG8gY2F0Y2ggdXAKCgogICAgICAgIHRoaXMuYWNjdW11bGF0b3IgPSB0aGlzLmFjY3VtdWxhdG9yICUgZHQ7CiAgICAgICAgY29uc3QgdCA9IHRoaXMuYWNjdW11bGF0b3IgLyBkdDsKCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogIT09IHRoaXMuYm9kaWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBjb25zdCBiID0gdGhpcy5ib2RpZXNbal07CiAgICAgICAgICBiLnByZXZpb3VzUG9zaXRpb24ubGVycChiLnBvc2l0aW9uLCB0LCBiLmludGVycG9sYXRlZFBvc2l0aW9uKTsKICAgICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLnNsZXJwKGIucXVhdGVybmlvbiwgdCwgYi5pbnRlcnBvbGF0ZWRRdWF0ZXJuaW9uKTsKICAgICAgICAgIGIucHJldmlvdXNRdWF0ZXJuaW9uLm5vcm1hbGl6ZSgpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy50aW1lICs9IHRpbWVTaW5jZUxhc3RDYWxsZWQ7CiAgICAgIH0KICAgIH0KCiAgICBpbnRlcm5hbFN0ZXAoZHQpIHsKICAgICAgdGhpcy5kdCA9IGR0OwogICAgICBjb25zdCBjb250YWN0cyA9IHRoaXMuY29udGFjdHM7CiAgICAgIGNvbnN0IHAxID0gV29ybGRfc3RlcF9wMTsKICAgICAgY29uc3QgcDIgPSBXb3JsZF9zdGVwX3AyOwogICAgICBjb25zdCBOID0gdGhpcy5ib2RpZXMubGVuZ3RoOwogICAgICBjb25zdCBib2RpZXMgPSB0aGlzLmJvZGllczsKICAgICAgY29uc3Qgc29sdmVyID0gdGhpcy5zb2x2ZXI7CiAgICAgIGNvbnN0IGdyYXZpdHkgPSB0aGlzLmdyYXZpdHk7CiAgICAgIGNvbnN0IGRvUHJvZmlsaW5nID0gdGhpcy5kb1Byb2ZpbGluZzsKICAgICAgY29uc3QgcHJvZmlsZSA9IHRoaXMucHJvZmlsZTsKICAgICAgY29uc3QgRFlOQU1JQyA9IEJvZHkuRFlOQU1JQzsKICAgICAgbGV0IHByb2ZpbGluZ1N0YXJ0ID0gLUluZmluaXR5OwogICAgICBjb25zdCBjb25zdHJhaW50cyA9IHRoaXMuY29uc3RyYWludHM7CiAgICAgIGNvbnN0IGZyaWN0aW9uRXF1YXRpb25Qb29sID0gV29ybGRfc3RlcF9mcmljdGlvbkVxdWF0aW9uUG9vbDsKICAgICAgZ3Jhdml0eS5sZW5ndGgoKTsKICAgICAgY29uc3QgZ3ggPSBncmF2aXR5Lng7CiAgICAgIGNvbnN0IGd5ID0gZ3Jhdml0eS55OwogICAgICBjb25zdCBneiA9IGdyYXZpdHkuejsKICAgICAgbGV0IGkgPSAwOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsaW5nU3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgfSAvLyBBZGQgZ3Jhdml0eSB0byBhbGwgb2JqZWN0cwoKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGJpID0gYm9kaWVzW2ldOwoKICAgICAgICBpZiAoYmkudHlwZSA9PT0gRFlOQU1JQykgewogICAgICAgICAgLy8gT25seSBmb3IgZHluYW1pYyBib2RpZXMKICAgICAgICAgIGNvbnN0IGYgPSBiaS5mb3JjZTsKICAgICAgICAgIGNvbnN0IG0gPSBiaS5tYXNzOwogICAgICAgICAgZi54ICs9IG0gKiBneDsKICAgICAgICAgIGYueSArPSBtICogZ3k7CiAgICAgICAgICBmLnogKz0gbSAqIGd6OwogICAgICAgIH0KICAgICAgfSAvLyBVcGRhdGUgc3Vic3lzdGVtcwoKCiAgICAgIGZvciAobGV0IGkgPSAwLCBOc3Vic3lzdGVtcyA9IHRoaXMuc3Vic3lzdGVtcy5sZW5ndGg7IGkgIT09IE5zdWJzeXN0ZW1zOyBpKyspIHsKICAgICAgICB0aGlzLnN1YnN5c3RlbXNbaV0udXBkYXRlKCk7CiAgICAgIH0gLy8gQ29sbGlzaW9uIGRldGVjdGlvbgoKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIH0KCiAgICAgIHAxLmxlbmd0aCA9IDA7IC8vIENsZWFuIHVwIHBhaXIgYXJyYXlzIGZyb20gbGFzdCBzdGVwCgogICAgICBwMi5sZW5ndGggPSAwOwogICAgICB0aGlzLmJyb2FkcGhhc2UuY29sbGlzaW9uUGFpcnModGhpcywgcDEsIHAyKTsKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGUuYnJvYWRwaGFzZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICAgIH0gLy8gUmVtb3ZlIGNvbnN0cmFpbmVkIHBhaXJzIHdpdGggY29sbGlkZUNvbm5lY3RlZCA9PSBmYWxzZQoKCiAgICAgIGxldCBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7CgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykgewogICAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTsKCiAgICAgICAgaWYgKCFjLmNvbGxpZGVDb25uZWN0ZWQpIHsKICAgICAgICAgIGZvciAobGV0IGogPSBwMS5sZW5ndGggLSAxOyBqID49IDA7IGogLT0gMSkgewogICAgICAgICAgICBpZiAoYy5ib2R5QSA9PT0gcDFbal0gJiYgYy5ib2R5QiA9PT0gcDJbal0gfHwgYy5ib2R5QiA9PT0gcDFbal0gJiYgYy5ib2R5QSA9PT0gcDJbal0pIHsKICAgICAgICAgICAgICBwMS5zcGxpY2UoaiwgMSk7CiAgICAgICAgICAgICAgcDIuc3BsaWNlKGosIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeFRpY2soKTsgLy8gR2VuZXJhdGUgY29udGFjdHMKCiAgICAgIGlmIChkb1Byb2ZpbGluZykgewogICAgICAgIHByb2ZpbGluZ1N0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG9sZGNvbnRhY3RzID0gV29ybGRfc3RlcF9vbGRDb250YWN0czsKICAgICAgY29uc3QgTm9sZENvbnRhY3RzID0gY29udGFjdHMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZENvbnRhY3RzOyBpKyspIHsKICAgICAgICBvbGRjb250YWN0cy5wdXNoKGNvbnRhY3RzW2ldKTsKICAgICAgfQoKICAgICAgY29udGFjdHMubGVuZ3RoID0gMDsgLy8gVHJhbnNmZXIgRnJpY3Rpb25FcXVhdGlvbiBmcm9tIGN1cnJlbnQgbGlzdCB0byB0aGUgcG9vbCBmb3IgcmV1c2UKCiAgICAgIGNvbnN0IE5vbGRGcmljdGlvbkVxdWF0aW9ucyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOwoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTm9sZEZyaWN0aW9uRXF1YXRpb25zOyBpKyspIHsKICAgICAgICBmcmljdGlvbkVxdWF0aW9uUG9vbC5wdXNoKHRoaXMuZnJpY3Rpb25FcXVhdGlvbnNbaV0pOwogICAgICB9CgogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7CiAgICAgIHRoaXMubmFycm93cGhhc2UuZ2V0Q29udGFjdHMocDEsIHAyLCB0aGlzLCBjb250YWN0cywgb2xkY29udGFjdHMsIC8vIFRvIGJlIHJldXNlZAogICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLCBmcmljdGlvbkVxdWF0aW9uUG9vbCk7CgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxlLm5hcnJvd3BoYXNlID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgICAgfSAvLyBMb29wIG92ZXIgYWxsIGNvbGxpc2lvbnMKCgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICB9IC8vIEFkZCBhbGwgZnJpY3Rpb24gZXFzCgoKICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb24odGhpcy5mcmljdGlvbkVxdWF0aW9uc1tpXSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IG5jb250YWN0cyA9IGNvbnRhY3RzLmxlbmd0aDsKCiAgICAgIGZvciAobGV0IGsgPSAwOyBrICE9PSBuY29udGFjdHM7IGsrKykgewogICAgICAgIC8vIEN1cnJlbnQgY29udGFjdAogICAgICAgIGNvbnN0IGMgPSBjb250YWN0c1trXTsgLy8gR2V0IGN1cnJlbnQgY29sbGlzaW9uIGluZGVjZXMKCiAgICAgICAgY29uc3QgYmkgPSBjLmJpOwogICAgICAgIGNvbnN0IGJqID0gYy5iajsKICAgICAgICBjb25zdCBzaSA9IGMuc2k7CiAgICAgICAgY29uc3Qgc2ogPSBjLnNqOyAvLyBHZXQgY29sbGlzaW9uIHByb3BlcnRpZXMKCiAgICAgICAgbGV0IGNtOwoKICAgICAgICBpZiAoYmkubWF0ZXJpYWwgJiYgYmoubWF0ZXJpYWwpIHsKICAgICAgICAgIGNtID0gdGhpcy5nZXRDb250YWN0TWF0ZXJpYWwoYmkubWF0ZXJpYWwsIGJqLm1hdGVyaWFsKSB8fCB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNtID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsOwogICAgICAgIH0gLy8gYy5lbmFibGVkID0gYmkuY29sbGlzaW9uUmVzcG9uc2UgJiYgYmouY29sbGlzaW9uUmVzcG9uc2UgJiYgc2kuY29sbGlzaW9uUmVzcG9uc2UgJiYgc2ouY29sbGlzaW9uUmVzcG9uc2U7CgoKICAgICAgICBjbS5mcmljdGlvbjsgLy8gYy5yZXN0aXR1dGlvbiA9IGNtLnJlc3RpdHV0aW9uOwogICAgICAgIC8vIElmIGZyaWN0aW9uIG9yIHJlc3RpdHV0aW9uIHdlcmUgc3BlY2lmaWVkIGluIHRoZSBtYXRlcmlhbCwgdXNlIHRoZW0KCiAgICAgICAgaWYgKGJpLm1hdGVyaWFsICYmIGJqLm1hdGVyaWFsKSB7CiAgICAgICAgICBpZiAoYmkubWF0ZXJpYWwuZnJpY3Rpb24gPj0gMCAmJiBiai5tYXRlcmlhbC5mcmljdGlvbiA+PSAwKSB7CiAgICAgICAgICAgIGJpLm1hdGVyaWFsLmZyaWN0aW9uICogYmoubWF0ZXJpYWwuZnJpY3Rpb247CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGJpLm1hdGVyaWFsLnJlc3RpdHV0aW9uID49IDAgJiYgYmoubWF0ZXJpYWwucmVzdGl0dXRpb24gPj0gMCkgewogICAgICAgICAgICBjLnJlc3RpdHV0aW9uID0gYmkubWF0ZXJpYWwucmVzdGl0dXRpb24gKiBiai5tYXRlcmlhbC5yZXN0aXR1dGlvbjsKICAgICAgICAgIH0KICAgICAgICB9IC8vIGMuc2V0U3Bvb2tQYXJhbXMoCiAgICAgICAgLy8gICAgICAgICAgIGNtLmNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcywKICAgICAgICAvLyAgICAgICAgICAgY20uY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbiwKICAgICAgICAvLyAgICAgICAgICAgZHQKICAgICAgICAvLyAgICAgICApOwoKCiAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9uKGMpOyAvLyAvLyBBZGQgZnJpY3Rpb24gY29uc3RyYWludCBlcXVhdGlvbgogICAgICAgIC8vIGlmKG11ID4gMCl7CiAgICAgICAgLy8gCS8vIENyZWF0ZSAyIHRhbmdlbnQgZXF1YXRpb25zCiAgICAgICAgLy8gCWNvbnN0IG11ZyA9IG11ICogZ25vcm07CiAgICAgICAgLy8gCWNvbnN0IHJlZHVjZWRNYXNzID0gKGJpLmludk1hc3MgKyBiai5pbnZNYXNzKTsKICAgICAgICAvLyAJaWYocmVkdWNlZE1hc3MgPiAwKXsKICAgICAgICAvLyAJCXJlZHVjZWRNYXNzID0gMS9yZWR1Y2VkTWFzczsKICAgICAgICAvLyAJfQogICAgICAgIC8vIAljb25zdCBwb29sID0gZnJpY3Rpb25FcXVhdGlvblBvb2w7CiAgICAgICAgLy8gCWNvbnN0IGMxID0gcG9vbC5sZW5ndGggPyBwb29sLnBvcCgpIDogbmV3IEZyaWN0aW9uRXF1YXRpb24oYmksYmosbXVnKnJlZHVjZWRNYXNzKTsKICAgICAgICAvLyAJY29uc3QgYzIgPSBwb29sLmxlbmd0aCA/IHBvb2wucG9wKCkgOiBuZXcgRnJpY3Rpb25FcXVhdGlvbihiaSxiaixtdWcqcmVkdWNlZE1hc3MpOwogICAgICAgIC8vIAl0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2goYzEsIGMyKTsKICAgICAgICAvLyAJYzEuYmkgPSBjMi5iaSA9IGJpOwogICAgICAgIC8vIAljMS5iaiA9IGMyLmJqID0gYmo7CiAgICAgICAgLy8gCWMxLm1pbkZvcmNlID0gYzIubWluRm9yY2UgPSAtbXVnKnJlZHVjZWRNYXNzOwogICAgICAgIC8vIAljMS5tYXhGb3JjZSA9IGMyLm1heEZvcmNlID0gbXVnKnJlZHVjZWRNYXNzOwogICAgICAgIC8vIAkvLyBDb3B5IG92ZXIgdGhlIHJlbGF0aXZlIHZlY3RvcnMKICAgICAgICAvLyAJYzEucmkuY29weShjLnJpKTsKICAgICAgICAvLyAJYzEucmouY29weShjLnJqKTsKICAgICAgICAvLyAJYzIucmkuY29weShjLnJpKTsKICAgICAgICAvLyAJYzIucmouY29weShjLnJqKTsKICAgICAgICAvLyAJLy8gQ29uc3RydWN0IHRhbmdlbnRzCiAgICAgICAgLy8gCWMubmkudGFuZ2VudHMoYzEudCwgYzIudCk7CiAgICAgICAgLy8gICAgICAgICAgIC8vIFNldCBzcG9vayBwYXJhbXMKICAgICAgICAvLyAgICAgICAgICAgYzEuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTsKICAgICAgICAvLyAgICAgICAgICAgYzIuc2V0U3Bvb2tQYXJhbXMoY20uZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzcywgY20uZnJpY3Rpb25FcXVhdGlvblJlbGF4YXRpb24sIGR0KTsKICAgICAgICAvLyAgICAgICAgICAgYzEuZW5hYmxlZCA9IGMyLmVuYWJsZWQgPSBjLmVuYWJsZWQ7CiAgICAgICAgLy8gCS8vIEFkZCBlcXVhdGlvbnMgdG8gc29sdmVyCiAgICAgICAgLy8gCXNvbHZlci5hZGRFcXVhdGlvbihjMSk7CiAgICAgICAgLy8gCXNvbHZlci5hZGRFcXVhdGlvbihjMik7CiAgICAgICAgLy8gfQoKICAgICAgICBpZiAoYmkuYWxsb3dTbGVlcCAmJiBiaS50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmkuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiai5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJqLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7CiAgICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRCID0gYmoudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmouYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQiA9IGJqLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgICAgIGlmIChzcGVlZFNxdWFyZWRCID49IHNwZWVkTGltaXRTcXVhcmVkQiAqIDIpIHsKICAgICAgICAgICAgYmkud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoYmouYWxsb3dTbGVlcCAmJiBiai50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgYmouc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBiaS5zbGVlcFN0YXRlID09PSBCb2R5LkFXQUtFICYmIGJpLnR5cGUgIT09IEJvZHkuU1RBVElDKSB7CiAgICAgICAgICBjb25zdCBzcGVlZFNxdWFyZWRBID0gYmkudmVsb2NpdHkubGVuZ3RoU3F1YXJlZCgpICsgYmkuYW5ndWxhclZlbG9jaXR5Lmxlbmd0aFNxdWFyZWQoKTsKICAgICAgICAgIGNvbnN0IHNwZWVkTGltaXRTcXVhcmVkQSA9IGJpLnNsZWVwU3BlZWRMaW1pdCAqKiAyOwoKICAgICAgICAgIGlmIChzcGVlZFNxdWFyZWRBID49IHNwZWVkTGltaXRTcXVhcmVkQSAqIDIpIHsKICAgICAgICAgICAgYmoud2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBOb3cgd2Uga25vdyB0aGF0IGkgYW5kIGogYXJlIGluIGNvbnRhY3QuIFNldCBjb2xsaXNpb24gbWF0cml4IHN0YXRlCgoKICAgICAgICB0aGlzLmNvbGxpc2lvbk1hdHJpeC5zZXQoYmksIGJqLCB0cnVlKTsKCiAgICAgICAgaWYgKCF0aGlzLmNvbGxpc2lvbk1hdHJpeFByZXZpb3VzLmdldChiaSwgYmopKSB7CiAgICAgICAgICAvLyBGaXJzdCBjb250YWN0IQogICAgICAgICAgLy8gV2UgcmV1c2UgdGhlIGNvbGxpZGVFdmVudCBvYmplY3QsIG90aGVyd2lzZSB3ZSB3aWxsIGVuZCB1cCBjcmVhdGluZyBuZXcgb2JqZWN0cyBmb3IgZWFjaCBuZXcgY29udGFjdCwgZXZlbiBpZiB0aGVyZSdzIG5vIGV2ZW50IGxpc3RlbmVyIGF0dGFjaGVkLgogICAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuYm9keSA9IGJqOwogICAgICAgICAgV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQuY29udGFjdCA9IGM7CiAgICAgICAgICBiaS5kaXNwYXRjaEV2ZW50KFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50KTsKICAgICAgICAgIFdvcmxkX3N0ZXBfY29sbGlkZUV2ZW50LmJvZHkgPSBiaTsKICAgICAgICAgIGJqLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9jb2xsaWRlRXZlbnQpOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5zZXQoYmkuaWQsIGJqLmlkKTsKICAgICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5zZXQoc2kuaWQsIHNqLmlkKTsKICAgICAgfQoKICAgICAgdGhpcy5lbWl0Q29udGFjdEV2ZW50cygpOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5tYWtlQ29udGFjdENvbnN0cmFpbnRzID0gcGVyZm9ybWFuY2Uubm93KCkgLSBwcm9maWxpbmdTdGFydDsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICB9IC8vIFdha2UgdXAgYm9kaWVzCgoKICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgY29uc3QgYmkgPSBib2RpZXNbaV07CgogICAgICAgIGlmIChiaS53YWtlVXBBZnRlck5hcnJvd3BoYXNlKSB7CiAgICAgICAgICBiaS53YWtlVXAoKTsKICAgICAgICAgIGJpLndha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gLy8gQWRkIHVzZXItYWRkZWQgY29uc3RyYWludHMKCgogICAgICBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7CgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOY29uc3RyYWludHM7IGkrKykgewogICAgICAgIGNvbnN0IGMgPSBjb25zdHJhaW50c1tpXTsKICAgICAgICBjLnVwZGF0ZSgpOwoKICAgICAgICBmb3IgKGxldCBqID0gMCwgTmVxID0gYy5lcXVhdGlvbnMubGVuZ3RoOyBqICE9PSBOZXE7IGorKykgewogICAgICAgICAgY29uc3QgZXEgPSBjLmVxdWF0aW9uc1tqXTsKICAgICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbihlcSk7CiAgICAgICAgfQogICAgICB9IC8vIFNvbHZlIHRoZSBjb25zdHJhaW5lZCBzeXN0ZW0KCgogICAgICBzb2x2ZXIuc29sdmUoZHQsIHRoaXMpOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5zb2x2ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gcHJvZmlsaW5nU3RhcnQ7CiAgICAgIH0gLy8gUmVtb3ZlIGFsbCBjb250YWN0cyBmcm9tIHNvbHZlcgoKCiAgICAgIHNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTsgLy8gQXBwbHkgZGFtcGluZywgc2VlIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9idWxsZXQvaXNzdWVzL2RldGFpbD9pZD03NCBmb3IgZGV0YWlscwoKICAgICAgY29uc3QgcG93ID0gTWF0aC5wb3c7CgogICAgICBmb3IgKGkgPSAwOyBpICE9PSBOOyBpKyspIHsKICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKCiAgICAgICAgaWYgKGJpLnR5cGUgJiBEWU5BTUlDKSB7CiAgICAgICAgICAvLyBPbmx5IGZvciBkeW5hbWljIGJvZGllcwogICAgICAgICAgY29uc3QgbGQgPSBwb3coMS4wIC0gYmkubGluZWFyRGFtcGluZywgZHQpOwogICAgICAgICAgY29uc3QgdiA9IGJpLnZlbG9jaXR5OwogICAgICAgICAgdi5zY2FsZShsZCwgdik7CiAgICAgICAgICBjb25zdCBhdiA9IGJpLmFuZ3VsYXJWZWxvY2l0eTsKCiAgICAgICAgICBpZiAoYXYpIHsKICAgICAgICAgICAgY29uc3QgYWQgPSBwb3coMS4wIC0gYmkuYW5ndWxhckRhbXBpbmcsIGR0KTsKICAgICAgICAgICAgYXYuc2NhbGUoYWQsIGF2KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChXb3JsZF9zdGVwX3ByZVN0ZXBFdmVudCk7IC8vIExlYXAgZnJvZwogICAgICAvLyB2bmV3ID0gdiArIGgqZi9tCiAgICAgIC8vIHhuZXcgPSB4ICsgaCp2bmV3CgogICAgICBpZiAoZG9Qcm9maWxpbmcpIHsKICAgICAgICBwcm9maWxpbmdTdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICB9CgogICAgICBjb25zdCBzdGVwbnVtYmVyID0gdGhpcy5zdGVwbnVtYmVyOwogICAgICBjb25zdCBxdWF0Tm9ybWFsaXplID0gc3RlcG51bWJlciAlICh0aGlzLnF1YXROb3JtYWxpemVTa2lwICsgMSkgPT09IDA7CiAgICAgIGNvbnN0IHF1YXROb3JtYWxpemVGYXN0ID0gdGhpcy5xdWF0Tm9ybWFsaXplRmFzdDsKCiAgICAgIGZvciAoaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGJvZGllc1tpXS5pbnRlZ3JhdGUoZHQsIHF1YXROb3JtYWxpemUsIHF1YXROb3JtYWxpemVGYXN0KTsKICAgICAgfQoKICAgICAgdGhpcy5jbGVhckZvcmNlcygpOwogICAgICB0aGlzLmJyb2FkcGhhc2UuZGlydHkgPSB0cnVlOwoKICAgICAgaWYgKGRvUHJvZmlsaW5nKSB7CiAgICAgICAgcHJvZmlsZS5pbnRlZ3JhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHByb2ZpbGluZ1N0YXJ0OwogICAgICB9IC8vIFVwZGF0ZSBzdGVwIG51bWJlcgoKCiAgICAgIHRoaXMuc3RlcG51bWJlciArPSAxOwogICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50KTsgLy8gU2xlZXBpbmcgdXBkYXRlCgogICAgICBsZXQgaGFzQWN0aXZlQm9kaWVzID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLmFsbG93U2xlZXApIHsKICAgICAgICBoYXNBY3RpdmVCb2RpZXMgPSBmYWxzZTsKCiAgICAgICAgZm9yIChpID0gMDsgaSAhPT0gTjsgaSsrKSB7CiAgICAgICAgICBjb25zdCBiaSA9IGJvZGllc1tpXTsKICAgICAgICAgIGJpLnNsZWVwVGljayh0aGlzLnRpbWUpOwoKICAgICAgICAgIGlmIChiaS5zbGVlcFN0YXRlICE9PSBCb2R5LlNMRUVQSU5HKSB7CiAgICAgICAgICAgIGhhc0FjdGl2ZUJvZGllcyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmhhc0FjdGl2ZUJvZGllcyA9IGhhc0FjdGl2ZUJvZGllczsKICAgIH0KCiAgICBlbWl0Q29udGFjdEV2ZW50cygpIHsKICAgICAgY29uc3QgaGFzQmVnaW5Db250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdiZWdpbkNvbnRhY3QnKTsKICAgICAgY29uc3QgaGFzRW5kQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignZW5kQ29udGFjdCcpOwoKICAgICAgaWYgKGhhc0JlZ2luQ29udGFjdCB8fCBoYXNFbmRDb250YWN0KSB7CiAgICAgICAgdGhpcy5ib2R5T3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpOwogICAgICB9CgogICAgICBpZiAoaGFzQmVnaW5Db250YWN0KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhZGRpdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7CiAgICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IHRoaXMuZ2V0Qm9keUJ5SWQoYWRkaXRpb25zW2ldKTsKICAgICAgICAgIGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gdGhpcy5nZXRCb2R5QnlJZChhZGRpdGlvbnNbaSArIDFdKTsKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChiZWdpbkNvbnRhY3RFdmVudCk7CiAgICAgICAgfQoKICAgICAgICBiZWdpbkNvbnRhY3RFdmVudC5ib2R5QSA9IGJlZ2luQ29udGFjdEV2ZW50LmJvZHlCID0gbnVsbDsKICAgICAgfQoKICAgICAgaWYgKGhhc0VuZENvbnRhY3QpIHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHJlbW92YWxzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMikgewogICAgICAgICAgZW5kQ29udGFjdEV2ZW50LmJvZHlBID0gdGhpcy5nZXRCb2R5QnlJZChyZW1vdmFsc1tpXSk7CiAgICAgICAgICBlbmRDb250YWN0RXZlbnQuYm9keUIgPSB0aGlzLmdldEJvZHlCeUlkKHJlbW92YWxzW2kgKyAxXSk7CiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZW5kQ29udGFjdEV2ZW50KTsKICAgICAgICB9CgogICAgICAgIGVuZENvbnRhY3RFdmVudC5ib2R5QSA9IGVuZENvbnRhY3RFdmVudC5ib2R5QiA9IG51bGw7CiAgICAgIH0KCiAgICAgIGFkZGl0aW9ucy5sZW5ndGggPSByZW1vdmFscy5sZW5ndGggPSAwOwogICAgICBjb25zdCBoYXNCZWdpblNoYXBlQ29udGFjdCA9IHRoaXMuaGFzQW55RXZlbnRMaXN0ZW5lcignYmVnaW5TaGFwZUNvbnRhY3QnKTsKICAgICAgY29uc3QgaGFzRW5kU2hhcGVDb250YWN0ID0gdGhpcy5oYXNBbnlFdmVudExpc3RlbmVyKCdlbmRTaGFwZUNvbnRhY3QnKTsKCiAgICAgIGlmIChoYXNCZWdpblNoYXBlQ29udGFjdCB8fCBoYXNFbmRTaGFwZUNvbnRhY3QpIHsKICAgICAgICB0aGlzLnNoYXBlT3ZlcmxhcEtlZXBlci5nZXREaWZmKGFkZGl0aW9ucywgcmVtb3ZhbHMpOwogICAgICB9CgogICAgICBpZiAoaGFzQmVnaW5TaGFwZUNvbnRhY3QpIHsKICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFkZGl0aW9ucy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICAgIGNvbnN0IHNoYXBlQSA9IHRoaXMuZ2V0U2hhcGVCeUlkKGFkZGl0aW9uc1tpXSk7CiAgICAgICAgICBjb25zdCBzaGFwZUIgPSB0aGlzLmdldFNoYXBlQnlJZChhZGRpdGlvbnNbaSArIDFdKTsKICAgICAgICAgIGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gc2hhcGVBOwogICAgICAgICAgYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBzaGFwZUI7CiAgICAgICAgICBpZiAoc2hhcGVBKSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gc2hhcGVBLmJvZHk7CiAgICAgICAgICBpZiAoc2hhcGVCKSBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gc2hhcGVCLmJvZHk7CiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmVnaW5TaGFwZUNvbnRhY3RFdmVudCk7CiAgICAgICAgfQoKICAgICAgICBiZWdpblNoYXBlQ29udGFjdEV2ZW50LmJvZHlBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5ib2R5QiA9IGJlZ2luU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gYmVnaW5TaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBudWxsOwogICAgICB9CgogICAgICBpZiAoaGFzRW5kU2hhcGVDb250YWN0KSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByZW1vdmFscy5sZW5ndGg7IGkgPCBsOyBpICs9IDIpIHsKICAgICAgICAgIGNvbnN0IHNoYXBlQSA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2ldKTsKICAgICAgICAgIGNvbnN0IHNoYXBlQiA9IHRoaXMuZ2V0U2hhcGVCeUlkKHJlbW92YWxzW2kgKyAxXSk7CiAgICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUEgPSBzaGFwZUE7CiAgICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5zaGFwZUIgPSBzaGFwZUI7CiAgICAgICAgICBpZiAoc2hhcGVBKSBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IHNoYXBlQS5ib2R5OwogICAgICAgICAgaWYgKHNoYXBlQikgZW5kU2hhcGVDb250YWN0RXZlbnQuYm9keUIgPSBzaGFwZUIuYm9keTsKICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbmRTaGFwZUNvbnRhY3RFdmVudCk7CiAgICAgICAgfQoKICAgICAgICBlbmRTaGFwZUNvbnRhY3RFdmVudC5ib2R5QSA9IGVuZFNoYXBlQ29udGFjdEV2ZW50LmJvZHlCID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVBID0gZW5kU2hhcGVDb250YWN0RXZlbnQuc2hhcGVCID0gbnVsbDsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBTZXRzIGFsbCBib2R5IGZvcmNlcyBpbiB0aGUgd29ybGQgdG8gemVyby4KICAgICAqLwoKCiAgICBjbGVhckZvcmNlcygpIHsKICAgICAgY29uc3QgYm9kaWVzID0gdGhpcy5ib2RpZXM7CiAgICAgIGNvbnN0IE4gPSBib2RpZXMubGVuZ3RoOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgIT09IE47IGkrKykgewogICAgICAgIGNvbnN0IGIgPSBib2RpZXNbaV07CiAgICAgICAgYi5mb3JjZTsKICAgICAgICBiLnRvcnF1ZTsKICAgICAgICBiLmZvcmNlLnNldCgwLCAwLCAwKTsKICAgICAgICBiLnRvcnF1ZS5zZXQoMCwgMCwgMCk7CiAgICAgIH0KICAgIH0KCiAgfSAvLyBUZW1wIHN0dWZmCgogIG5ldyBBQUJCKCk7CiAgY29uc3QgdG1wUmF5ID0gbmV3IFJheSgpOyAvLyBwZXJmb3JtYW5jZS5ub3coKSBmYWxsYmFjayBvbiBEYXRlLm5vdygpCgogIGNvbnN0IHBlcmZvcm1hbmNlID0gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSB8fCB7fTsKCiAgaWYgKCFwZXJmb3JtYW5jZS5ub3cpIHsKICAgIGxldCBub3dPZmZzZXQgPSBEYXRlLm5vdygpOwoKICAgIGlmIChwZXJmb3JtYW5jZS50aW1pbmcgJiYgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCkgewogICAgICBub3dPZmZzZXQgPSBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0OwogICAgfQoKICAgIHBlcmZvcm1hbmNlLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBub3dPZmZzZXQ7CiAgfQoKICBuZXcgVmVjMygpOyAvLyBEaXNwYXRjaGVkIGFmdGVyIHRoZSB3b3JsZCBoYXMgc3RlcHBlZCBmb3J3YXJkIGluIHRpbWUuCiAgLy8gUmV1c2FibGUgZXZlbnQgb2JqZWN0cyB0byBzYXZlIG1lbW9yeS4KCiAgY29uc3QgV29ybGRfc3RlcF9wb3N0U3RlcEV2ZW50ID0gewogICAgdHlwZTogJ3Bvc3RTdGVwJwogIH07IC8vIERpc3BhdGNoZWQgYmVmb3JlIHRoZSB3b3JsZCBzdGVwcyBmb3J3YXJkIGluIHRpbWUuCgogIGNvbnN0IFdvcmxkX3N0ZXBfcHJlU3RlcEV2ZW50ID0gewogICAgdHlwZTogJ3ByZVN0ZXAnCiAgfTsKICBjb25zdCBXb3JsZF9zdGVwX2NvbGxpZGVFdmVudCA9IHsKICAgIHR5cGU6IEJvZHkuQ09MTElERV9FVkVOVF9OQU1FLAogICAgYm9keTogbnVsbCwKICAgIGNvbnRhY3Q6IG51bGwKICB9OyAvLyBQb29scyBmb3IgdW51c2VkIG9iamVjdHMKCiAgY29uc3QgV29ybGRfc3RlcF9vbGRDb250YWN0cyA9IFtdOwogIGNvbnN0IFdvcmxkX3N0ZXBfZnJpY3Rpb25FcXVhdGlvblBvb2wgPSBbXTsgLy8gUmV1c2FibGUgYXJyYXlzIGZvciBjb2xsaXNpb24gcGFpcnMKCiAgY29uc3QgV29ybGRfc3RlcF9wMSA9IFtdOwogIGNvbnN0IFdvcmxkX3N0ZXBfcDIgPSBbXTsgLy8gU3R1ZmYgZm9yIGVtaXRDb250YWN0RXZlbnRzCgogIGNvbnN0IGFkZGl0aW9ucyA9IFtdOwogIGNvbnN0IHJlbW92YWxzID0gW107CiAgY29uc3QgYmVnaW5Db250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnYmVnaW5Db250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwKICB9OwogIGNvbnN0IGVuZENvbnRhY3RFdmVudCA9IHsKICAgIHR5cGU6ICdlbmRDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwKICB9OwogIGNvbnN0IGJlZ2luU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnYmVnaW5TaGFwZUNvbnRhY3QnLAogICAgYm9keUE6IG51bGwsCiAgICBib2R5QjogbnVsbCwKICAgIHNoYXBlQTogbnVsbCwKICAgIHNoYXBlQjogbnVsbAogIH07CiAgY29uc3QgZW5kU2hhcGVDb250YWN0RXZlbnQgPSB7CiAgICB0eXBlOiAnZW5kU2hhcGVDb250YWN0JywKICAgIGJvZHlBOiBudWxsLAogICAgYm9keUI6IG51bGwsCiAgICBzaGFwZUE6IG51bGwsCiAgICBzaGFwZUI6IG51bGwKICB9OwoKICBjb25zdCBhZGRDb250YWN0TWF0ZXJpYWwgPSAod29ybGQsIGNyZWF0ZU1hdGVyaWFsLCBfcmVmLCB1dWlkKSA9PiB7CiAgICBsZXQgW21hdGVyaWFsQSwgbWF0ZXJpYWxCLCBvcHRpb25zXSA9IF9yZWY7CiAgICBjb25zdCBtYXRBID0gY3JlYXRlTWF0ZXJpYWwobWF0ZXJpYWxBKTsKICAgIGNvbnN0IG1hdEIgPSBjcmVhdGVNYXRlcmlhbChtYXRlcmlhbEIpOwogICAgY29uc3QgY29udGFjdE1hdGVyaWFsID0gbmV3IENvbnRhY3RNYXRlcmlhbChtYXRBLCBtYXRCLCBvcHRpb25zKTsKICAgIGNvbnRhY3RNYXRlcmlhbC51dWlkID0gdXVpZDsKICAgIHdvcmxkLmFkZENvbnRhY3RNYXRlcmlhbChjb250YWN0TWF0ZXJpYWwpOwogIH07CiAgY29uc3QgcmVtb3ZlQ29udGFjdE1hdGVyaWFsID0gKHdvcmxkLCBjbVVVSUQpID0+IHsKICAgIGNvbnN0IGluZGV4ID0gd29ybGQuY29udGFjdG1hdGVyaWFscy5maW5kSW5kZXgoX3JlZjIgPT4gewogICAgICBsZXQgewogICAgICAgIHV1aWQKICAgICAgfSA9IF9yZWYyOwogICAgICByZXR1cm4gdXVpZCA9PT0gY21VVUlEOwogICAgfSk7CiAgICBjb25zdCBbewogICAgICBpZDogaQogICAgfSwgewogICAgICBpZDogagogICAgfV0gPSB3b3JsZC5jb250YWN0bWF0ZXJpYWxzW2luZGV4XS5tYXRlcmlhbHM7CiAgICB3b3JsZC5jb250YWN0bWF0ZXJpYWxzLnNwbGljZShpbmRleCwgMSk7CiAgICBkZWxldGUgd29ybGQuY29udGFjdE1hdGVyaWFsVGFibGUuZGF0YVtpIDwgaiA/IGAke2l9LSR7an1gIDogYCR7an0tJHtpfWBdOwogIH07CgogIGxldCBtYXRlcmlhbElkID0gMDsKICBjb25zdCBjcmVhdGVNYXRlcmlhbEZhY3RvcnkgPSBtYXRlcmlhbHMgPT4gZnVuY3Rpb24gKG5hbWVPck9wdGlvbnMpIHsKICAgIGlmIChuYW1lT3JPcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgbmFtZU9yT3B0aW9ucyA9IHt9OwogICAgfQogICAgY29uc3QgbWF0ZXJpYWxPcHRpb25zID0gdHlwZW9mIG5hbWVPck9wdGlvbnMgPT09ICdzdHJpbmcnID8gewogICAgICBuYW1lOiBuYW1lT3JPcHRpb25zCiAgICB9IDogewogICAgICBuYW1lOiBTeW1ib2wuZm9yKGBNYXRlcmlhbCR7bWF0ZXJpYWxJZCsrfWApLAogICAgICAuLi5uYW1lT3JPcHRpb25zCiAgICB9OwogICAgY29uc3QgewogICAgICBuYW1lCiAgICB9ID0gbWF0ZXJpYWxPcHRpb25zOwogICAgbWF0ZXJpYWxzW25hbWVdID0gbWF0ZXJpYWxzW25hbWVdIHx8IG5ldyBNYXRlcmlhbChtYXRlcmlhbE9wdGlvbnMpOwogICAgcmV0dXJuIG1hdGVyaWFsc1tuYW1lXTsKICB9OwoKICAvKioKICAgKiBAdHlwZWRlZiB7IGltcG9ydCgnY2Fubm9uLWVzJykuTWF0ZXJpYWxPcHRpb25zIH0gTWF0ZXJpYWxPcHRpb25zCiAgICovCgogIGNvbnN0IG1ha2VWZWMzID0gX3JlZiA9PiB7CiAgICBsZXQgW3gsIHksIHpdID0gX3JlZjsKICAgIHJldHVybiBuZXcgVmVjMyh4LCB5LCB6KTsKICB9OwogIGNvbnN0IHByZXBhcmVTcGhlcmUgPSBhcmdzID0+IEFycmF5LmlzQXJyYXkoYXJncykgPyBhcmdzIDogW2FyZ3NdOwogIGNvbnN0IHByZXBhcmVDb252ZXhQb2x5aGVkcm9uID0gX3JlZjIgPT4gewogICAgbGV0IFt2LCBmYWNlcywgbiwgYSwgYm91bmRpbmdTcGhlcmVSYWRpdXNdID0gX3JlZjI7CiAgICByZXR1cm4gW3sKICAgICAgYXhlczogYSA/IGEubWFwKG1ha2VWZWMzKSA6IHVuZGVmaW5lZCwKICAgICAgYm91bmRpbmdTcGhlcmVSYWRpdXMsCiAgICAgIGZhY2VzLAogICAgICBub3JtYWxzOiBuID8gbi5tYXAobWFrZVZlYzMpIDogdW5kZWZpbmVkLAogICAgICB2ZXJ0aWNlczogdiA/IHYubWFwKG1ha2VWZWMzKSA6IHVuZGVmaW5lZAogICAgfV07CiAgfTsKICBmdW5jdGlvbiBjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSB7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAnQm94JzoKICAgICAgICByZXR1cm4gbmV3IEJveChuZXcgVmVjMyguLi5hcmdzLm1hcCh2ID0+IHYgLyAyKSkpOwogICAgICAvLyBleHRlbnRzID0+IGhhbGZFeHRlbnRzCiAgICAgIGNhc2UgJ0NvbnZleFBvbHloZWRyb24nOgogICAgICAgIHJldHVybiBuZXcgQ29udmV4UG9seWhlZHJvbiguLi5wcmVwYXJlQ29udmV4UG9seWhlZHJvbihhcmdzKSk7CiAgICAgIGNhc2UgJ0N5bGluZGVyJzoKICAgICAgICByZXR1cm4gbmV3IEN5bGluZGVyKC4uLmFyZ3MpOwogICAgICAvLyBbIHJhZGl1c1RvcCwgcmFkaXVzQm90dG9tLCBoZWlnaHQsIG51bVNlZ21lbnRzIF0gPSBhcmdzCiAgICAgIGNhc2UgJ0hlaWdodGZpZWxkJzoKICAgICAgICByZXR1cm4gbmV3IEhlaWdodGZpZWxkKC4uLmFyZ3MpOwogICAgICAvLyBbIEFycmF5IGRhdGEsIG9wdGlvbnM6IHttaW5WYWx1ZSwgbWF4VmFsdWUsIGVsZW1lbnRTaXplfSAgXSA9IGFyZ3MKICAgICAgY2FzZSAnUGFydGljbGUnOgogICAgICAgIHJldHVybiBuZXcgUGFydGljbGUoKTsKICAgICAgLy8gbm8gYXJncwogICAgICBjYXNlICdQbGFuZSc6CiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZSgpOwogICAgICAvLyBubyBhcmdzLCBpbmZpbml0ZSB4IGFuZCB5CiAgICAgIGNhc2UgJ1NwaGVyZSc6CiAgICAgICAgcmV0dXJuIG5ldyBTcGhlcmUoLi4ucHJlcGFyZVNwaGVyZShhcmdzKSk7CiAgICAgIC8vIHJhZGl1cyA9IGFyZ3MKICAgICAgY2FzZSAnVHJpbWVzaCc6CiAgICAgICAgcmV0dXJuIG5ldyBUcmltZXNoKC4uLmFyZ3MpOwogICAgICAvLyBbdmVydGljZXMsIGluZGljZXNdID0gYXJncwogICAgfQogIH0KCiAgLyoqCiAgICogQHBhcmFtIHtUSFJFRS5RdWF0ZXJuaW9ufSB0YXJnZXQKICAgKiBAcGFyYW0ge3sgcm90YXRpb24/OiBUSFJFRS5WZWN0b3IzVHVwbGUgcXVhdGVybmlvbj86IFRIUkVFLlZlY3RvcjRUdXBsZSB9fSBwcm9wcwogICAqIEByZXR1cm5zIHtUSFJFRS5RdWF0ZXJuaW9ufQogICAqLwogIGNvbnN0IHNldFF1YXRlcm5pb24gPSAodGFyZ2V0LCBfcmVmMykgPT4gewogICAgbGV0IHsKICAgICAgcXVhdGVybmlvbiwKICAgICAgcm90YXRpb24KICAgIH0gPSBfcmVmMzsKICAgIGlmIChxdWF0ZXJuaW9uKSB7CiAgICAgIHRhcmdldC5zZXQoLi4ucXVhdGVybmlvbik7CiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uKSB7CiAgICAgIHRhcmdldC5zZXRGcm9tRXVsZXIoLi4ucm90YXRpb24pOwogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9OwoKICAvKioKICAgKiBAZnVuY3Rpb24KICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucwogICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnV1aWQKICAgKiBAcGFyYW0ge0JvZHlQcm9wc30gb3B0aW9ucy5wcm9wcwogICAqIEBwYXJhbSB7Qm9keVNoYXBlVHlwZX0gb3B0aW9ucy50eXBlCiAgICogQHBhcmFtIHsobWF0ZXJpYWxPcHRpb25zOiBNYXRlcmlhbE9wdGlvbnMpID0+IE1hdGVyaWFsID19IG9wdGlvbnMuY3JlYXRlTWF0ZXJpYWwKICAgKiBAcmV0dXJucyB7Qm9keX0KICAgKi8KICBjb25zdCBwcm9wc1RvQm9keSA9IG9wdGlvbnMgPT4gewogICAgY29uc3QgewogICAgICB1dWlkLAogICAgICBwcm9wcywKICAgICAgdHlwZSwKICAgICAgY3JlYXRlTWF0ZXJpYWwgPSBtYXRlcmlhbE9wdGlvbnMgPT4gbmV3IE1hdGVyaWFsKG1hdGVyaWFsT3B0aW9ucykKICAgIH0gPSBvcHRpb25zOwogICAgY29uc3QgewogICAgICBhbmd1bGFyRmFjdG9yID0gWzEsIDEsIDFdLAogICAgICBhbmd1bGFyVmVsb2NpdHkgPSBbMCwgMCwgMF0sCiAgICAgIGFyZ3MgPSBbXSwKICAgICAgY29sbGlzaW9uUmVzcG9uc2UsCiAgICAgIGxpbmVhckZhY3RvciA9IFsxLCAxLCAxXSwKICAgICAgbWFzcywKICAgICAgbWF0ZXJpYWwsCiAgICAgIG9uQ29sbGlkZSwKICAgICAgcG9zaXRpb24gPSBbMCwgMCwgMF0sCiAgICAgIHJvdGF0aW9uLAogICAgICBxdWF0ZXJuaW9uLAogICAgICBzaGFwZXMsCiAgICAgIHR5cGU6IGJvZHlUeXBlLAogICAgICB2ZWxvY2l0eSA9IFswLCAwLCAwXSwKICAgICAgLi4uZXh0cmEKICAgIH0gPSBwcm9wczsKICAgIGNvbnN0IGJvZHkgPSBuZXcgQm9keSh7CiAgICAgIC4uLmV4dHJhLAogICAgICBtYXNzOiBib2R5VHlwZSA9PT0gJ1N0YXRpYycgPyAwIDogbWFzcywKICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsID8gY3JlYXRlTWF0ZXJpYWwobWF0ZXJpYWwpIDogdW5kZWZpbmVkLAogICAgICB0eXBlOiBib2R5VHlwZSA/IEJvZHlbYm9keVR5cGUudG9VcHBlckNhc2UoKV0gOiB1bmRlZmluZWQKICAgIH0pOwogICAgYm9keS51dWlkID0gdXVpZDsKICAgIGlmIChjb2xsaXNpb25SZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIGJvZHkuY29sbGlzaW9uUmVzcG9uc2UgPSBjb2xsaXNpb25SZXNwb25zZTsKICAgIH0KICAgIGlmICh0eXBlID09PSAnQ29tcG91bmQnKSB7CiAgICAgIHNoYXBlcy5mb3JFYWNoKF9yZWY0ID0+IHsKICAgICAgICBsZXQgewogICAgICAgICAgdHlwZSwKICAgICAgICAgIGFyZ3MsCiAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgIHJvdGF0aW9uLAogICAgICAgICAgcXVhdGVybmlvbiwKICAgICAgICAgIG1hdGVyaWFsLAogICAgICAgICAgLi4uZXh0cmEKICAgICAgICB9ID0gX3JlZjQ7CiAgICAgICAgY29uc3Qgc2hhcGVCb2R5ID0gYm9keS5hZGRTaGFwZShjcmVhdGVTaGFwZSh0eXBlLCBhcmdzKSwgcG9zaXRpb24gPyBuZXcgVmVjMyguLi5wb3NpdGlvbikgOiB1bmRlZmluZWQsIHNldFF1YXRlcm5pb24obmV3IFF1YXRlcm5pb24oMCwgMCwgMCwgMSksIHsKICAgICAgICAgIHF1YXRlcm5pb24sCiAgICAgICAgICByb3RhdGlvbgogICAgICAgIH0pKTsKICAgICAgICBpZiAobWF0ZXJpYWwpIHNoYXBlQm9keS5tYXRlcmlhbCA9IGNyZWF0ZU1hdGVyaWFsKG1hdGVyaWFsKTsKICAgICAgICBPYmplY3QuYXNzaWduKHNoYXBlQm9keSwgZXh0cmEpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGJvZHkuYWRkU2hhcGUoY3JlYXRlU2hhcGUodHlwZSwgYXJncykpOwogICAgfQogICAgYm9keS5wb3NpdGlvbi5zZXQocG9zaXRpb25bMF0sIHBvc2l0aW9uWzFdLCBwb3NpdGlvblsyXSk7CiAgICBib2R5LnZlbG9jaXR5LnNldCh2ZWxvY2l0eVswXSwgdmVsb2NpdHlbMV0sIHZlbG9jaXR5WzJdKTsKICAgIGJvZHkuYW5ndWxhclZlbG9jaXR5LnNldChhbmd1bGFyVmVsb2NpdHlbMF0sIGFuZ3VsYXJWZWxvY2l0eVsxXSwgYW5ndWxhclZlbG9jaXR5WzJdKTsKICAgIGJvZHkubGluZWFyRmFjdG9yLnNldChsaW5lYXJGYWN0b3JbMF0sIGxpbmVhckZhY3RvclsxXSwgbGluZWFyRmFjdG9yWzJdKTsKICAgIGJvZHkuYW5ndWxhckZhY3Rvci5zZXQoYW5ndWxhckZhY3RvclswXSwgYW5ndWxhckZhY3RvclsxXSwgYW5ndWxhckZhY3RvclsyXSk7CiAgICBzZXRRdWF0ZXJuaW9uKGJvZHkucXVhdGVybmlvbiwgewogICAgICBxdWF0ZXJuaW9uLAogICAgICByb3RhdGlvbgogICAgfSk7CiAgICByZXR1cm4gYm9keTsKICB9OwoKICBjb25zdCBhZGRCb2RpZXMgPSAoc3RhdGUsIGNyZWF0ZU1hdGVyaWFsLCBfcmVmKSA9PiB7CiAgICBsZXQgewogICAgICBwcm9wcywKICAgICAgdHlwZSwKICAgICAgdXVpZAogICAgfSA9IF9yZWY7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHV1aWQubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgYm9keSA9IHByb3BzVG9Cb2R5KHsKICAgICAgICBjcmVhdGVNYXRlcmlhbCwKICAgICAgICBwcm9wczogcHJvcHNbaV0sCiAgICAgICAgdHlwZSwKICAgICAgICB1dWlkOiB1dWlkW2ldCiAgICAgIH0pOwogICAgICBzdGF0ZS53b3JsZC5hZGRCb2R5KGJvZHkpOwogICAgICBpZiAocHJvcHNbaV0ub25Db2xsaWRlKSBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbGxpZGUnLCBfcmVmMiA9PiB7CiAgICAgICAgbGV0IHsKICAgICAgICAgIHR5cGUsCiAgICAgICAgICBib2R5LAogICAgICAgICAgdGFyZ2V0LAogICAgICAgICAgY29udGFjdAogICAgICAgIH0gPSBfcmVmMjsKICAgICAgICBpZiAoIWJvZHkudXVpZCB8fCAhdGFyZ2V0LnV1aWQpIHJldHVybjsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBuaSwKICAgICAgICAgIHJpLAogICAgICAgICAgcmosCiAgICAgICAgICBiaSwKICAgICAgICAgIGJqLAogICAgICAgICAgaWQKICAgICAgICB9ID0gY29udGFjdDsKICAgICAgICBjb25zdCBjb250YWN0UG9pbnQgPSBiaS5wb3NpdGlvbi52YWRkKHJpKTsKICAgICAgICBjb25zdCBjb250YWN0Tm9ybWFsID0gYmkgPT09IGJvZHkgPyBuaSA6IG5pLnNjYWxlKC0xKTsKICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICAgIGJvZHk6IGJvZHkudXVpZCwKICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcnM6IHsKICAgICAgICAgICAgYm9keUZpbHRlckdyb3VwOiBib2R5LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICBib2R5RmlsdGVyTWFzazogYm9keS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgICB0YXJnZXRGaWx0ZXJHcm91cDogdGFyZ2V0LmNvbGxpc2lvbkZpbHRlckdyb3VwLAogICAgICAgICAgICB0YXJnZXRGaWx0ZXJNYXNrOiB0YXJnZXQuY29sbGlzaW9uRmlsdGVyTWFzawogICAgICAgICAgfSwKICAgICAgICAgIGNvbnRhY3Q6IHsKICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiB1c2UgaWQgaW5zdGVhZCBvZiB1dWlkCiAgICAgICAgICAgIGJpOiBiaS51dWlkLAogICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IHVzZSBpZCBpbnN0ZWFkIG9mIHV1aWQKICAgICAgICAgICAgYmo6IGJqLnV1aWQsCiAgICAgICAgICAgIC8vIE5vcm1hbCBvZiB0aGUgY29udGFjdCwgcmVsYXRpdmUgdG8gdGhlIGNvbGxpZGluZyBib2R5CiAgICAgICAgICAgIGNvbnRhY3ROb3JtYWw6IGNvbnRhY3ROb3JtYWwudG9BcnJheSgpLAogICAgICAgICAgICAvLyBXb3JsZCBwb3NpdGlvbiBvZiB0aGUgY29udGFjdAogICAgICAgICAgICBjb250YWN0UG9pbnQ6IGNvbnRhY3RQb2ludC50b0FycmF5KCksCiAgICAgICAgICAgIGlkLAogICAgICAgICAgICBpbXBhY3RWZWxvY2l0eTogY29udGFjdC5nZXRJbXBhY3RWZWxvY2l0eUFsb25nTm9ybWFsKCksCiAgICAgICAgICAgIG5pOiBuaS50b0FycmF5KCksCiAgICAgICAgICAgIHJpOiByaS50b0FycmF5KCksCiAgICAgICAgICAgIHJqOiByai50b0FycmF5KCkKICAgICAgICAgIH0sCiAgICAgICAgICBvcDogJ2V2ZW50JywKICAgICAgICAgIHRhcmdldDogdGFyZ2V0LnV1aWQsCiAgICAgICAgICB0eXBlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH07CgogIGNvbnN0IHRyaXBsZXRUb1ZlYzMgPSB0ID0+IHQgPyBuZXcgVmVjMyguLi50KSA6IHVuZGVmaW5lZDsKCiAgY29uc3QgYWRkQ29uc3RyYWludCA9IChzdGF0ZSwgX3JlZikgPT4gewogICAgbGV0IHsKICAgICAgcHJvcHM6IFtib2R5QSwgYm9keUIsIHsKICAgICAgICBhbmdsZSwKICAgICAgICBheGlzQSwKICAgICAgICBheGlzQiwKICAgICAgICBjb2xsaWRlQ29ubmVjdGVkLAogICAgICAgIGRpc3RhbmNlLAogICAgICAgIG1heEZvcmNlLAogICAgICAgIG1heE11bHRpcGxpZXIsCiAgICAgICAgcGl2b3RBLAogICAgICAgIHBpdm90QiwKICAgICAgICB0d2lzdEFuZ2xlLAogICAgICAgIHdha2VVcEJvZGllcwogICAgICB9XSwKICAgICAgdHlwZSwKICAgICAgdXVpZAogICAgfSA9IF9yZWY7CiAgICBsZXQgY29uc3RyYWludDsKICAgIHN3aXRjaCAodHlwZSkgewogICAgICBjYXNlICdQb2ludFRvUG9pbnQnOgogICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgUG9pbnRUb1BvaW50Q29uc3RyYWludChzdGF0ZS5ib2RpZXNbYm9keUFdLCB0cmlwbGV0VG9WZWMzKHBpdm90QSksIHN0YXRlLmJvZGllc1tib2R5Ql0sIHRyaXBsZXRUb1ZlYzMocGl2b3RCKSwgbWF4Rm9yY2UpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdDb25lVHdpc3QnOgogICAgICAgIGNvbnN0cmFpbnQgPSBuZXcgQ29uZVR3aXN0Q29uc3RyYWludChzdGF0ZS5ib2RpZXNbYm9keUFdLCBzdGF0ZS5ib2RpZXNbYm9keUJdLCB7CiAgICAgICAgICBhbmdsZSwKICAgICAgICAgIGF4aXNBOiB0cmlwbGV0VG9WZWMzKGF4aXNBKSwKICAgICAgICAgIGF4aXNCOiB0cmlwbGV0VG9WZWMzKGF4aXNCKSwKICAgICAgICAgIGNvbGxpZGVDb25uZWN0ZWQsCiAgICAgICAgICBtYXhGb3JjZSwKICAgICAgICAgIHBpdm90QTogdHJpcGxldFRvVmVjMyhwaXZvdEEpLAogICAgICAgICAgcGl2b3RCOiB0cmlwbGV0VG9WZWMzKHBpdm90QiksCiAgICAgICAgICB0d2lzdEFuZ2xlCiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ0hpbmdlJzoKICAgICAgICBjb25zdHJhaW50ID0gbmV3IEhpbmdlQ29uc3RyYWludChzdGF0ZS5ib2RpZXNbYm9keUFdLCBzdGF0ZS5ib2RpZXNbYm9keUJdLCB7CiAgICAgICAgICBheGlzQTogdHJpcGxldFRvVmVjMyhheGlzQSksCiAgICAgICAgICBheGlzQjogdHJpcGxldFRvVmVjMyhheGlzQiksCiAgICAgICAgICBjb2xsaWRlQ29ubmVjdGVkLAogICAgICAgICAgbWF4Rm9yY2UsCiAgICAgICAgICBwaXZvdEE6IHRyaXBsZXRUb1ZlYzMocGl2b3RBKSwKICAgICAgICAgIHBpdm90QjogdHJpcGxldFRvVmVjMyhwaXZvdEIpCiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ0Rpc3RhbmNlJzoKICAgICAgICBjb25zdHJhaW50ID0gbmV3IERpc3RhbmNlQ29uc3RyYWludChzdGF0ZS5ib2RpZXNbYm9keUFdLCBzdGF0ZS5ib2RpZXNbYm9keUJdLCBkaXN0YW5jZSwgbWF4Rm9yY2UpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdMb2NrJzoKICAgICAgICBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KHN0YXRlLmJvZGllc1tib2R5QV0sIHN0YXRlLmJvZGllc1tib2R5Ql0sIHsKICAgICAgICAgIG1heEZvcmNlCiAgICAgICAgfSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgY29uc3RyYWludCA9IG5ldyBDb25zdHJhaW50KHN0YXRlLmJvZGllc1tib2R5QV0sIHN0YXRlLmJvZGllc1tib2R5Ql0sIHsKICAgICAgICAgIGNvbGxpZGVDb25uZWN0ZWQsCiAgICAgICAgICB3YWtlVXBCb2RpZXMKICAgICAgICB9KTsKICAgICAgICBicmVhazsKICAgIH0KICAgIGNvbnN0cmFpbnQudXVpZCA9IHV1aWQ7CiAgICBzdGF0ZS53b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpOwogICAgaWYgKG1heE11bHRpcGxpZXIgIT09IHVuZGVmaW5lZCkgewogICAgICBjb25zdCBwb3N0U3RlcENvbnN0cmFpbnQgPSAoKSA9PiB7CiAgICAgICAgLy8gVGhlIG11bHRpcGxpZXIgaXMgcHJvcG9ydGlvbmFsIHRvIGhvdyBtdWNoIGZvcmNlIGlzIGFkZGVkIHRvIHRoZSBib2RpZXMgYnkgdGhlIGNvbnN0cmFpbnQuCiAgICAgICAgLy8gSWYgdGhpcyBleGNlZWRzIGEgbGltaXQgdGhlIGNvbnN0cmFpbnQgaXMgZGlzYWJsZWQuCiAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IE1hdGguYWJzKGNvbnN0cmFpbnQuZXF1YXRpb25zWzBdLm11bHRpcGxpZXIpOwogICAgICAgIGlmIChtdWx0aXBsaWVyID4gbWF4TXVsdGlwbGllcikgewogICAgICAgICAgY29uc3RyYWludC5kaXNhYmxlKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBzdGF0ZS5jb25zdHJhaW50c1t1dWlkXSA9IHBvc3RTdGVwQ29uc3RyYWludDsKICAgICAgc3RhdGUud29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzdGF0ZS5jb25zdHJhaW50c1t1dWlkXSk7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gdG9VcHBlcmNhc2Uoc3RyKSB7CiAgICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKCk7CiAgfQogIGNvbnN0IGFkZFJheSA9IChzdGF0ZSwgX3JlZikgPT4gewogICAgbGV0IHsKICAgICAgcHJvcHM6IHsKICAgICAgICBmcm9tLAogICAgICAgIG1vZGUsCiAgICAgICAgdG8sCiAgICAgICAgLi4ucmF5T3B0aW9ucwogICAgICB9LAogICAgICB1dWlkCiAgICB9ID0gX3JlZjsKICAgIGNvbnN0IHJheSA9IG5ldyBSYXkodHJpcGxldFRvVmVjMyhmcm9tKSwgdHJpcGxldFRvVmVjMyh0bykpOwogICAgY29uc3Qgb3B0aW9ucyA9IHsKICAgICAgbW9kZTogUkFZX01PREVTW3RvVXBwZXJjYXNlKG1vZGUpXSwKICAgICAgcmVzdWx0OiBuZXcgUmF5Y2FzdFJlc3VsdCgpLAogICAgICAuLi5yYXlPcHRpb25zCiAgICB9OwogICAgc3RhdGUucmF5c1t1dWlkXSA9ICgpID0+IHsKICAgICAgcmF5LmludGVyc2VjdFdvcmxkKHN0YXRlLndvcmxkLCBvcHRpb25zKTsKICAgICAgaWYgKCFvcHRpb25zLnJlc3VsdCB8fCAhb3B0aW9ucy5yZXN1bHQuYm9keSkgcmV0dXJuOwogICAgICBjb25zdCB7CiAgICAgICAgYm9keSwKICAgICAgICBzaGFwZSwKICAgICAgICByYXlGcm9tV29ybGQsCiAgICAgICAgcmF5VG9Xb3JsZCwKICAgICAgICBoaXROb3JtYWxXb3JsZCwKICAgICAgICBoaXRQb2ludFdvcmxkLAogICAgICAgIC4uLnJlc3QKICAgICAgfSA9IG9wdGlvbnMucmVzdWx0OwogICAgICBjb25zdCBib2R5VVVJRCA9IGJvZHkudXVpZDsKICAgICAgaWYgKCFib2R5VVVJRCkgcmV0dXJuOwogICAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgICBib2R5OiBib2R5VVVJRCwKICAgICAgICBoaXROb3JtYWxXb3JsZDogaGl0Tm9ybWFsV29ybGQudG9BcnJheSgpLAogICAgICAgIGhpdFBvaW50V29ybGQ6IGhpdFBvaW50V29ybGQudG9BcnJheSgpLAogICAgICAgIG9wOiAnZXZlbnQnLAogICAgICAgIHJheTogewogICAgICAgICAgY29sbGlzaW9uRmlsdGVyR3JvdXA6IHJheS5jb2xsaXNpb25GaWx0ZXJHcm91cCwKICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHJheS5jb2xsaXNpb25GaWx0ZXJNYXNrLAogICAgICAgICAgZGlyZWN0aW9uOiByYXkuZGlyZWN0aW9uLnRvQXJyYXkoKSwKICAgICAgICAgIGZyb20sCiAgICAgICAgICB0bywKICAgICAgICAgIHV1aWQKICAgICAgICB9LAogICAgICAgIHJheUZyb21Xb3JsZDogcmF5RnJvbVdvcmxkLnRvQXJyYXkoKSwKICAgICAgICByYXlUb1dvcmxkOiByYXlUb1dvcmxkLnRvQXJyYXkoKSwKICAgICAgICBzaGFwZTogc2hhcGUgPyB7CiAgICAgICAgICAuLi5zaGFwZSwKICAgICAgICAgIGJvZHk6IGJvZHlVVUlECiAgICAgICAgfSA6IG51bGwsCiAgICAgICAgdHlwZTogJ3JheWhpdCcsCiAgICAgICAgLi4ucmVzdAogICAgICB9KTsKICAgIH07CiAgICBzdGF0ZS53b3JsZC5hZGRFdmVudExpc3RlbmVyKCdwcmVTdGVwJywgc3RhdGUucmF5c1t1dWlkXSk7CiAgfTsKCiAgY29uc3QgYWRkUmF5Y2FzdFZlaGljbGUgPSAoc3RhdGUsIGRhdGEpID0+IHsKICAgIGNvbnN0IFtjaGFzc2lzQm9keSwgd2hlZWxzLCB3aGVlbEluZm9zLCBpbmRleEZvcndhcmRBeGlzLCBpbmRleFJpZ2h0QXhpcywgaW5kZXhVcEF4aXNdID0gZGF0YS5wcm9wczsKICAgIGNvbnN0IHZlaGljbGUgPSBuZXcgUmF5Y2FzdFZlaGljbGUoewogICAgICBjaGFzc2lzQm9keTogc3RhdGUuYm9kaWVzW2NoYXNzaXNCb2R5XSwKICAgICAgaW5kZXhGb3J3YXJkQXhpcywKICAgICAgaW5kZXhSaWdodEF4aXMsCiAgICAgIGluZGV4VXBBeGlzCiAgICB9KTsKICAgIHZlaGljbGUud29ybGQgPSBzdGF0ZS53b3JsZDsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2hlZWxJbmZvcy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCB7CiAgICAgICAgYXhsZUxvY2FsLAogICAgICAgIGNoYXNzaXNDb25uZWN0aW9uUG9pbnRMb2NhbCwKICAgICAgICBkaXJlY3Rpb25Mb2NhbCwKICAgICAgICAuLi5yZXN0CiAgICAgIH0gPSB3aGVlbEluZm9zW2ldOwogICAgICB2ZWhpY2xlLmFkZFdoZWVsKHsKICAgICAgICBheGxlTG9jYWw6IHRyaXBsZXRUb1ZlYzMoYXhsZUxvY2FsKSwKICAgICAgICBjaGFzc2lzQ29ubmVjdGlvblBvaW50TG9jYWw6IHRyaXBsZXRUb1ZlYzMoY2hhc3Npc0Nvbm5lY3Rpb25Qb2ludExvY2FsKSwKICAgICAgICBkaXJlY3Rpb25Mb2NhbDogdHJpcGxldFRvVmVjMyhkaXJlY3Rpb25Mb2NhbCksCiAgICAgICAgLi4ucmVzdAogICAgICB9KTsKICAgIH0KICAgIGNvbnN0IHByZVN0ZXAgPSAoKSA9PiB7CiAgICAgIHZlaGljbGUudXBkYXRlVmVoaWNsZShzdGF0ZS53b3JsZC5kdCk7CiAgICB9OwogICAgY29uc3QgcG9zdFN0ZXAgPSAoKSA9PiB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVoaWNsZS53aGVlbEluZm9zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmVoaWNsZS51cGRhdGVXaGVlbFRyYW5zZm9ybShpKTsKICAgICAgICBjb25zdCB0ID0gdmVoaWNsZS53aGVlbEluZm9zW2ldLndvcmxkVHJhbnNmb3JtOwogICAgICAgIGNvbnN0IHdoZWVsQm9keSA9IHN0YXRlLmJvZGllc1t3aGVlbHNbaV1dOwogICAgICAgIHdoZWVsQm9keS5wb3NpdGlvbi5jb3B5KHQucG9zaXRpb24pOwogICAgICAgIHdoZWVsQm9keS5xdWF0ZXJuaW9uLmNvcHkodC5xdWF0ZXJuaW9uKTsKICAgICAgfQogICAgfTsKICAgIHN0YXRlLnZlaGljbGVzW2RhdGEudXVpZF0gPSB7CiAgICAgIHBvc3RTdGVwLAogICAgICBwcmVTdGVwLAogICAgICB2ZWhpY2xlCiAgICB9OwogICAgc3RhdGUud29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncHJlU3RlcCcsIHByZVN0ZXApOwogICAgc3RhdGUud29ybGQuYWRkRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBwb3N0U3RlcCk7CiAgfTsKCiAgY29uc3QgYWRkU3ByaW5nID0gKHN0YXRlLCBfcmVmKSA9PiB7CiAgICBsZXQgewogICAgICBwcm9wczogW2JvZHlBLCBib2R5QiwgewogICAgICAgIGRhbXBpbmcsCiAgICAgICAgbG9jYWxBbmNob3JBLAogICAgICAgIGxvY2FsQW5jaG9yQiwKICAgICAgICByZXN0TGVuZ3RoLAogICAgICAgIHN0aWZmbmVzcywKICAgICAgICB3b3JsZEFuY2hvckEsCiAgICAgICAgd29ybGRBbmNob3JCCiAgICAgIH1dLAogICAgICB1dWlkCiAgICB9ID0gX3JlZjsKICAgIGNvbnN0IHNwcmluZyA9IG5ldyBTcHJpbmcoc3RhdGUuYm9kaWVzW2JvZHlBXSwgc3RhdGUuYm9kaWVzW2JvZHlCXSwgewogICAgICBkYW1waW5nLAogICAgICBsb2NhbEFuY2hvckE6IHRyaXBsZXRUb1ZlYzMobG9jYWxBbmNob3JBKSwKICAgICAgbG9jYWxBbmNob3JCOiB0cmlwbGV0VG9WZWMzKGxvY2FsQW5jaG9yQiksCiAgICAgIHJlc3RMZW5ndGgsCiAgICAgIHN0aWZmbmVzcywKICAgICAgd29ybGRBbmNob3JBOiB0cmlwbGV0VG9WZWMzKHdvcmxkQW5jaG9yQSksCiAgICAgIHdvcmxkQW5jaG9yQjogdHJpcGxldFRvVmVjMyh3b3JsZEFuY2hvckIpCiAgICB9KTsKICAgIHNwcmluZy51dWlkID0gdXVpZDsKICAgIGNvbnN0IHBvc3RTdGVwU3ByaW5nID0gKCkgPT4gc3ByaW5nLmFwcGx5Rm9yY2UoKTsKICAgIHN0YXRlLnNwcmluZ3NbdXVpZF0gPSBwb3N0U3RlcFNwcmluZzsKICAgIHN0YXRlLnNwcmluZ0luc3RhbmNlc1t1dWlkXSA9IHNwcmluZzsKCiAgICAvLyBDb21wdXRlIHRoZSBmb3JjZSBhZnRlciBlYWNoIHN0ZXAKICAgIHN0YXRlLndvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3RhdGUuc3ByaW5nc1t1dWlkXSk7CiAgfTsKCiAgZnVuY3Rpb24gZW1pdEJlZ2luQ29udGFjdChfcmVmKSB7CiAgICBsZXQgewogICAgICBib2R5QSwKICAgICAgYm9keUIKICAgIH0gPSBfcmVmOwogICAgaWYgKCEoYm9keUEgIT0gbnVsbCAmJiBib2R5QS51dWlkKSB8fCAhKGJvZHlCICE9IG51bGwgJiYgYm9keUIudXVpZCkpIHJldHVybjsKICAgIHNlbGYucG9zdE1lc3NhZ2UoewogICAgICBib2R5QTogYm9keUEudXVpZCwKICAgICAgYm9keUI6IGJvZHlCLnV1aWQsCiAgICAgIG9wOiAnZXZlbnQnLAogICAgICB0eXBlOiAnY29sbGlkZUJlZ2luJwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGVtaXRFbmRDb250YWN0KF9yZWYyKSB7CiAgICBsZXQgewogICAgICBib2R5QSwKICAgICAgYm9keUIKICAgIH0gPSBfcmVmMjsKICAgIGlmICghKGJvZHlBICE9IG51bGwgJiYgYm9keUEudXVpZCkgfHwgIShib2R5QiAhPSBudWxsICYmIGJvZHlCLnV1aWQpKSByZXR1cm47CiAgICBzZWxmLnBvc3RNZXNzYWdlKHsKICAgICAgYm9keUE6IGJvZHlBLnV1aWQsCiAgICAgIGJvZHlCOiBib2R5Qi51dWlkLAogICAgICBvcDogJ2V2ZW50JywKICAgICAgdHlwZTogJ2NvbGxpZGVFbmQnCiAgICB9KTsKICB9CiAgY29uc3QgaW5pdCA9ICh3b3JsZCwgX3JlZjMpID0+IHsKICAgIGxldCB7CiAgICAgIGFsbG93U2xlZXAsCiAgICAgIGF4aXNJbmRleCA9IDAsCiAgICAgIGJyb2FkcGhhc2UsCiAgICAgIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwsCiAgICAgIGZyaWN0aW9uR3Jhdml0eSwKICAgICAgZ3Jhdml0eSwKICAgICAgaXRlcmF0aW9ucywKICAgICAgcXVhdE5vcm1hbGl6ZUZhc3QsCiAgICAgIHF1YXROb3JtYWxpemVTa2lwLAogICAgICBzb2x2ZXIsCiAgICAgIHRvbGVyYW5jZQogICAgfSA9IF9yZWYzOwogICAgd29ybGQuYWxsb3dTbGVlcCA9IGFsbG93U2xlZXA7CiAgICB3b3JsZC5ncmF2aXR5LnNldCguLi5ncmF2aXR5KTsKICAgIHdvcmxkLmZyaWN0aW9uR3Jhdml0eSA9IGZyaWN0aW9uR3Jhdml0eSA/IG5ldyBWZWMzKC4uLmZyaWN0aW9uR3Jhdml0eSkgOiB1bmRlZmluZWQ7CiAgICB3b3JsZC5xdWF0Tm9ybWFsaXplRmFzdCA9IHF1YXROb3JtYWxpemVGYXN0OwogICAgd29ybGQucXVhdE5vcm1hbGl6ZVNraXAgPSBxdWF0Tm9ybWFsaXplU2tpcDsKICAgIGlmIChzb2x2ZXIgPT09ICdTcGxpdCcpIHsKICAgICAgd29ybGQuc29sdmVyID0gbmV3IFNwbGl0U29sdmVyKG5ldyBHU1NvbHZlcigpKTsKICAgIH0KICAgIGlmICh3b3JsZC5zb2x2ZXIgaW5zdGFuY2VvZiBHU1NvbHZlcikgewogICAgICB3b3JsZC5zb2x2ZXIudG9sZXJhbmNlID0gdG9sZXJhbmNlOwogICAgICB3b3JsZC5zb2x2ZXIuaXRlcmF0aW9ucyA9IGl0ZXJhdGlvbnM7CiAgICB9CiAgICB3b3JsZC5icm9hZHBoYXNlID0gYnJvYWRwaGFzZSA9PT0gJ1NBUCcgPyBuZXcgU0FQQnJvYWRwaGFzZSh3b3JsZCkgOiBuZXcgTmFpdmVCcm9hZHBoYXNlKCk7CiAgICBpZiAod29ybGQuYnJvYWRwaGFzZSBpbnN0YW5jZW9mIFNBUEJyb2FkcGhhc2UpIHsKICAgICAgd29ybGQuYnJvYWRwaGFzZS5heGlzSW5kZXggPSBheGlzSW5kZXg7CiAgICB9CiAgICB3b3JsZC5hZGRFdmVudExpc3RlbmVyKCdiZWdpbkNvbnRhY3QnLCBlbWl0QmVnaW5Db250YWN0KTsKICAgIHdvcmxkLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZENvbnRhY3QnLCBlbWl0RW5kQ29udGFjdCk7CiAgICBPYmplY3QuYXNzaWduKHdvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwsIGRlZmF1bHRDb250YWN0TWF0ZXJpYWwpOwogIH07CgogIGNvbnN0IGlzUW9yViA9IHYgPT4gdiBpbnN0YW5jZW9mIFF1YXRlcm5pb24gfHwgdiBpbnN0YW5jZW9mIFZlYzM7CiAgY29uc3Qgc3RlcCA9IChzdGF0ZSwgX3JlZikgPT4gewogICAgbGV0IHsKICAgICAgcG9zaXRpb25zLAogICAgICBwcm9wczogewogICAgICAgIG1heFN1YlN0ZXBzLAogICAgICAgIHN0ZXBTaXplLAogICAgICAgIHRpbWVTaW5jZUxhc3RDYWxsZWQKICAgICAgfSwKICAgICAgcXVhdGVybmlvbnMKICAgIH0gPSBfcmVmOwogICAgc3RhdGUud29ybGQuc3RlcChzdGVwU2l6ZSwgdGltZVNpbmNlTGFzdENhbGxlZCwgbWF4U3ViU3RlcHMpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZS53b3JsZC5ib2RpZXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgY29uc3QgcCA9IHN0YXRlLndvcmxkLmJvZGllc1tpXS5wb3NpdGlvbjsKICAgICAgY29uc3QgcSA9IHN0YXRlLndvcmxkLmJvZGllc1tpXS5xdWF0ZXJuaW9uOwogICAgICBwb3NpdGlvbnNbMyAqIGkgKyAwXSA9IHAueDsKICAgICAgcG9zaXRpb25zWzMgKiBpICsgMV0gPSBwLnk7CiAgICAgIHBvc2l0aW9uc1szICogaSArIDJdID0gcC56OwogICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDBdID0gcS54OwogICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDFdID0gcS55OwogICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDJdID0gcS56OwogICAgICBxdWF0ZXJuaW9uc1s0ICogaSArIDNdID0gcS53OwogICAgfQogICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW107CiAgICBmb3IgKGNvbnN0IGlkIG9mIE9iamVjdC5rZXlzKHN0YXRlLnN1YnNjcmlwdGlvbnMpKSB7CiAgICAgIGNvbnN0IFt1dWlkLCB0eXBlLCB0YXJnZXQgPSAnYm9kaWVzJ10gPSBzdGF0ZS5zdWJzY3JpcHRpb25zW2lkXTsKICAgICAgY29uc3QgewogICAgICAgIGJvZGllcywKICAgICAgICB2ZWhpY2xlcwogICAgICB9ID0gc3RhdGU7CiAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0ID09PSAndmVoaWNsZXMnID8KICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBEaWZmZXJlbnRpYXRlIHRoZXNlICJ0eXBlcyIKICAgICAgdmVoaWNsZXNbdXVpZF0udmVoaWNsZVt0eXBlXSA6CiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETzogRGlmZmVyZW50aWF0ZSB0aGVzZSAidHlwZXMiCiAgICAgIGJvZGllc1t1dWlkXVt0eXBlXTsKICAgICAgY29uc3Qgc2VyaWFsaXphYmxlVmFsdWUgPSBpc1FvclYodmFsdWUpID8gdmFsdWUudG9BcnJheSgpIDogdmFsdWU7CiAgICAgIG9ic2VydmF0aW9ucy5wdXNoKFtOdW1iZXIoaWQpLCBzZXJpYWxpemFibGVWYWx1ZSwKICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBEaWZmZXJlbnRpYXRlIHRoZXNlICJ0eXBlcyIKICAgICAgdHlwZV0pOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IHsKICAgICAgYWN0aXZlOiBzdGF0ZS53b3JsZC5oYXNBY3RpdmVCb2RpZXMsCiAgICAgIG9ic2VydmF0aW9ucywKICAgICAgb3A6ICdmcmFtZScsCiAgICAgIHBvc2l0aW9ucywKICAgICAgcXVhdGVybmlvbnMKICAgIH07CiAgICBpZiAoc3RhdGUuYm9kaWVzTmVlZFN5bmNpbmcpIHsKICAgICAgbWVzc2FnZS5ib2RpZXMgPSBzdGF0ZS53b3JsZC5ib2RpZXMucmVkdWNlKChib2RpZXMsIGJvZHkpID0+IHsKICAgICAgICBpZiAoYm9keS51dWlkKSBib2RpZXMucHVzaChib2R5LnV1aWQpOwogICAgICAgIHJldHVybiBib2RpZXM7CiAgICAgIH0sIFtdKTsKICAgICAgc3RhdGUuYm9kaWVzTmVlZFN5bmNpbmcgPSBmYWxzZTsKICAgIH0KICAgIHNlbGYucG9zdE1lc3NhZ2UobWVzc2FnZSwgW3Bvc2l0aW9ucy5idWZmZXIsIHF1YXRlcm5pb25zLmJ1ZmZlcl0pOwogIH07CgogIGNvbnN0IHN0YXRlID0gewogICAgYm9kaWVzOiB7fSwKICAgIGJvZGllc05lZWRTeW5jaW5nOiBmYWxzZSwKICAgIGNvbnN0cmFpbnRzOiB7fSwKICAgIG1hdGVyaWFsczoge30sCiAgICByYXlzOiB7fSwKICAgIHNwcmluZ0luc3RhbmNlczoge30sCiAgICBzcHJpbmdzOiB7fSwKICAgIHN1YnNjcmlwdGlvbnM6IHt9LAogICAgdmVoaWNsZXM6IHt9LAogICAgd29ybGQ6IG5ldyBXb3JsZCgpCiAgfTsKCiAgLy8vIDxyZWZlcmVuY2Ugbm8tZGVmYXVsdC1saWI9InRydWUiLz4KICBjb25zdCBpc0hpbmdlQ29uc3RyYWludCA9IGMgPT4gYyBpbnN0YW5jZW9mIEhpbmdlQ29uc3RyYWludDsKICBmdW5jdGlvbiBzeW5jQm9kaWVzKCkgewogICAgc3RhdGUuYm9kaWVzTmVlZFN5bmNpbmcgPSB0cnVlOwogICAgc3RhdGUuYm9kaWVzID0gc3RhdGUud29ybGQuYm9kaWVzLnJlZHVjZSgoYm9kaWVzLCBib2R5KSA9PiBib2R5LnV1aWQgPyB7CiAgICAgIC4uLmJvZGllcywKICAgICAgW2JvZHkudXVpZF06IGJvZHkKICAgIH0gOiBib2RpZXMsIHt9KTsKICB9CiAgY29uc3QgYnJvYWRwaGFzZXMgPSB7CiAgICBOYWl2ZUJyb2FkcGhhc2UsCiAgICBTQVBCcm9hZHBoYXNlCiAgfTsKICBjb25zdCBjcmVhdGVNYXRlcmlhbCA9IGNyZWF0ZU1hdGVyaWFsRmFjdG9yeShzdGF0ZS5tYXRlcmlhbHMpOwogIHNlbGYub25tZXNzYWdlID0gX3JlZiA9PiB7CiAgICBsZXQgewogICAgICBkYXRhCiAgICB9ID0gX3JlZjsKICAgIHN3aXRjaCAoZGF0YS5vcCkgewogICAgICBjYXNlICdpbml0JzoKICAgICAgICB7CiAgICAgICAgICBpbml0KHN0YXRlLndvcmxkLCBkYXRhLnByb3BzKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAnc3RlcCc6CiAgICAgICAgewogICAgICAgICAgc3RlcChzdGF0ZSwgZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ2FkZEJvZGllcyc6CiAgICAgICAgewogICAgICAgICAgYWRkQm9kaWVzKHN0YXRlLCBjcmVhdGVNYXRlcmlhbCwgZGF0YSk7CiAgICAgICAgICBzeW5jQm9kaWVzKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3JlbW92ZUJvZGllcyc6CiAgICAgICAgewogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnV1aWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc3RhdGUud29ybGQucmVtb3ZlQm9keShzdGF0ZS5ib2RpZXNbZGF0YS51dWlkW2ldXSk7CiAgICAgICAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHN0YXRlLnN1YnNjcmlwdGlvbnMpLmZpbmQoayA9PiBzdGF0ZS5zdWJzY3JpcHRpb25zW2tdWzBdID09PSBkYXRhLnV1aWRbaV0pOwogICAgICAgICAgICBpZiAoa2V5KSB7CiAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlLnN1YnNjcmlwdGlvbnNba2V5XTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc3luY0JvZGllcygpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdzdWJzY3JpYmUnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IHsKICAgICAgICAgICAgaWQsCiAgICAgICAgICAgIHRhcmdldCwKICAgICAgICAgICAgdHlwZQogICAgICAgICAgfSA9IGRhdGEucHJvcHM7CiAgICAgICAgICBzdGF0ZS5zdWJzY3JpcHRpb25zW2lkXSA9IFtkYXRhLnV1aWQsIHR5cGUsIHRhcmdldF07CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3Vuc3Vic2NyaWJlJzoKICAgICAgICB7CiAgICAgICAgICBkZWxldGUgc3RhdGUuc3Vic2NyaXB0aW9uc1tkYXRhLnByb3BzXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAnc2V0UG9zaXRpb24nOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLnBvc2l0aW9uLnNldChkYXRhLnByb3BzWzBdLCBkYXRhLnByb3BzWzFdLCBkYXRhLnByb3BzWzJdKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0UXVhdGVybmlvbic6CiAgICAgICAgc3RhdGUuYm9kaWVzW2RhdGEudXVpZF0ucXVhdGVybmlvbi5zZXQoZGF0YS5wcm9wc1swXSwgZGF0YS5wcm9wc1sxXSwgZGF0YS5wcm9wc1syXSwgZGF0YS5wcm9wc1szXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3NldFJvdGF0aW9uJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5xdWF0ZXJuaW9uLnNldEZyb21FdWxlcihkYXRhLnByb3BzWzBdLCBkYXRhLnByb3BzWzFdLCBkYXRhLnByb3BzWzJdKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0VmVsb2NpdHknOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLnZlbG9jaXR5LnNldChkYXRhLnByb3BzWzBdLCBkYXRhLnByb3BzWzFdLCBkYXRhLnByb3BzWzJdKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0QW5ndWxhclZlbG9jaXR5JzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5hbmd1bGFyVmVsb2NpdHkuc2V0KGRhdGEucHJvcHNbMF0sIGRhdGEucHJvcHNbMV0sIGRhdGEucHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRMaW5lYXJGYWN0b3InOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmxpbmVhckZhY3Rvci5zZXQoZGF0YS5wcm9wc1swXSwgZGF0YS5wcm9wc1sxXSwgZGF0YS5wcm9wc1syXSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3NldEFuZ3VsYXJGYWN0b3InOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmFuZ3VsYXJGYWN0b3Iuc2V0KGRhdGEucHJvcHNbMF0sIGRhdGEucHJvcHNbMV0sIGRhdGEucHJvcHNbMl0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRNYXNzJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5tYXNzID0gZGF0YS5wcm9wczsKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS51cGRhdGVNYXNzUHJvcGVydGllcygpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRNYXRlcmlhbCc6CiAgICAgICAgc3RhdGUuYm9kaWVzW2RhdGEudXVpZF0ubWF0ZXJpYWwgPSBkYXRhLnByb3BzID8gY3JlYXRlTWF0ZXJpYWwoZGF0YS5wcm9wcykgOiBudWxsOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRMaW5lYXJEYW1waW5nJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5saW5lYXJEYW1waW5nID0gZGF0YS5wcm9wczsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0QW5ndWxhckRhbXBpbmcnOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmFuZ3VsYXJEYW1waW5nID0gZGF0YS5wcm9wczsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0QWxsb3dTbGVlcCc6CiAgICAgICAgc3RhdGUuYm9kaWVzW2RhdGEudXVpZF0uYWxsb3dTbGVlcCA9IGRhdGEucHJvcHM7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3NldFNsZWVwU3BlZWRMaW1pdCc6CiAgICAgICAgc3RhdGUuYm9kaWVzW2RhdGEudXVpZF0uc2xlZXBTcGVlZExpbWl0ID0gZGF0YS5wcm9wczsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0U2xlZXBUaW1lTGltaXQnOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLnNsZWVwVGltZUxpbWl0ID0gZGF0YS5wcm9wczsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyR3JvdXAnOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmNvbGxpc2lvbkZpbHRlckdyb3VwID0gZGF0YS5wcm9wczsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0Q29sbGlzaW9uRmlsdGVyTWFzayc6CiAgICAgICAgc3RhdGUuYm9kaWVzW2RhdGEudXVpZF0uY29sbGlzaW9uRmlsdGVyTWFzayA9IGRhdGEucHJvcHM7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3NldENvbGxpc2lvblJlc3BvbnNlJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5jb2xsaXNpb25SZXNwb25zZSA9IGRhdGEucHJvcHM7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3NldEZpeGVkUm90YXRpb24nOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmZpeGVkUm90YXRpb24gPSBkYXRhLnByb3BzOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRGcmljdGlvbkdyYXZpdHknOgogICAgICAgIHN0YXRlLndvcmxkLmZyaWN0aW9uR3Jhdml0eSA9IGRhdGEucHJvcHMgPyBuZXcgVmVjMyguLi5kYXRhLnByb3BzKSA6IHVuZGVmaW5lZDsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0SXNUcmlnZ2VyJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5pc1RyaWdnZXIgPSBkYXRhLnByb3BzOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRHcmF2aXR5JzoKICAgICAgICBzdGF0ZS53b3JsZC5ncmF2aXR5LnNldChkYXRhLnByb3BzWzBdLCBkYXRhLnByb3BzWzFdLCBkYXRhLnByb3BzWzJdKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0VG9sZXJhbmNlJzoKICAgICAgICBpZiAoc3RhdGUud29ybGQuc29sdmVyIGluc3RhbmNlb2YgR1NTb2x2ZXIpIHsKICAgICAgICAgIHN0YXRlLndvcmxkLnNvbHZlci50b2xlcmFuY2UgPSBkYXRhLnByb3BzOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0SXRlcmF0aW9ucyc6CiAgICAgICAgaWYgKHN0YXRlLndvcmxkLnNvbHZlciBpbnN0YW5jZW9mIEdTU29sdmVyKSB7CiAgICAgICAgICBzdGF0ZS53b3JsZC5zb2x2ZXIuaXRlcmF0aW9ucyA9IGRhdGEucHJvcHM7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdzZXRCcm9hZHBoYXNlJzoKICAgICAgICBzdGF0ZS53b3JsZC5icm9hZHBoYXNlID0gbmV3IChicm9hZHBoYXNlc1tgJHtkYXRhLnByb3BzfUJyb2FkcGhhc2VgXSB8fCBOYWl2ZUJyb2FkcGhhc2UpKHN0YXRlLndvcmxkKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0QXhpc0luZGV4JzoKICAgICAgICBpZiAoc3RhdGUud29ybGQuYnJvYWRwaGFzZSBpbnN0YW5jZW9mIFNBUEJyb2FkcGhhc2UpIHsKICAgICAgICAgIHN0YXRlLndvcmxkLmJyb2FkcGhhc2UuYXhpc0luZGV4ID0gZGF0YS5wcm9wcyA9PT0gdW5kZWZpbmVkIHx8IGRhdGEucHJvcHMgPT09IG51bGwgPyAwIDogZGF0YS5wcm9wczsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2FwcGx5Rm9yY2UnOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmFwcGx5Rm9yY2UobmV3IFZlYzMoLi4uZGF0YS5wcm9wc1swXSksIG5ldyBWZWMzKC4uLmRhdGEucHJvcHNbMV0pKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnYXBwbHlJbXB1bHNlJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5hcHBseUltcHVsc2UobmV3IFZlYzMoLi4uZGF0YS5wcm9wc1swXSksIG5ldyBWZWMzKC4uLmRhdGEucHJvcHNbMV0pKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnYXBwbHlMb2NhbEZvcmNlJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5hcHBseUxvY2FsRm9yY2UobmV3IFZlYzMoLi4uZGF0YS5wcm9wc1swXSksIG5ldyBWZWMzKC4uLmRhdGEucHJvcHNbMV0pKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnYXBwbHlMb2NhbEltcHVsc2UnOgogICAgICAgIHN0YXRlLmJvZGllc1tkYXRhLnV1aWRdLmFwcGx5TG9jYWxJbXB1bHNlKG5ldyBWZWMzKC4uLmRhdGEucHJvcHNbMF0pLCBuZXcgVmVjMyguLi5kYXRhLnByb3BzWzFdKSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2FwcGx5VG9ycXVlJzoKICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5hcHBseVRvcnF1ZShuZXcgVmVjMyguLi5kYXRhLnByb3BzWzBdKSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2FkZENvbnN0cmFpbnQnOgogICAgICAgIHsKICAgICAgICAgIGFkZENvbnN0cmFpbnQoc3RhdGUsIGRhdGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdyZW1vdmVDb25zdHJhaW50JzoKICAgICAgICBzdGF0ZS53b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoX3JlZjIgPT4gewogICAgICAgICAgbGV0IHsKICAgICAgICAgICAgdXVpZAogICAgICAgICAgfSA9IF9yZWYyOwogICAgICAgICAgcmV0dXJuIHV1aWQgPT09IGRhdGEudXVpZDsKICAgICAgICB9KS5tYXAoYyA9PiBzdGF0ZS53b3JsZC5yZW1vdmVDb25zdHJhaW50KGMpKTsKICAgICAgICBpZiAoc3RhdGUuY29uc3RyYWludHNbZGF0YS51dWlkXSkgewogICAgICAgICAgc3RhdGUud29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzdGF0ZS5jb25zdHJhaW50c1tkYXRhLnV1aWRdKTsKICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5jb25zdHJhaW50c1tkYXRhLnV1aWRdOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludCc6CiAgICAgICAgc3RhdGUud29ybGQuY29uc3RyYWludHMuZmlsdGVyKGMgPT4gYy51dWlkID09PSBkYXRhLnV1aWQpLm1hcChjID0+IGMuZW5hYmxlKCkpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdkaXNhYmxlQ29uc3RyYWludCc6CiAgICAgICAgc3RhdGUud29ybGQuY29uc3RyYWludHMuZmlsdGVyKGMgPT4gYy51dWlkID09PSBkYXRhLnV1aWQpLm1hcChjID0+IGMuZGlzYWJsZSgpKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnZW5hYmxlQ29uc3RyYWludE1vdG9yJzoKICAgICAgICBzdGF0ZS53b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoYyA9PiBjLnV1aWQgPT09IGRhdGEudXVpZCkuZmlsdGVyKGlzSGluZ2VDb25zdHJhaW50KS5tYXAoYyA9PiBjLmVuYWJsZU1vdG9yKCkpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdkaXNhYmxlQ29uc3RyYWludE1vdG9yJzoKICAgICAgICBzdGF0ZS53b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoYyA9PiBjLnV1aWQgPT09IGRhdGEudXVpZCkuZmlsdGVyKGlzSGluZ2VDb25zdHJhaW50KS5tYXAoYyA9PiBjLmRpc2FibGVNb3RvcigpKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnc2V0Q29uc3RyYWludE1vdG9yU3BlZWQnOgogICAgICAgIHN0YXRlLndvcmxkLmNvbnN0cmFpbnRzLmZpbHRlcihjID0+IGMudXVpZCA9PT0gZGF0YS51dWlkKS5maWx0ZXIoaXNIaW5nZUNvbnN0cmFpbnQpLm1hcChjID0+IGMuc2V0TW90b3JTcGVlZChkYXRhLnByb3BzKSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3NldENvbnN0cmFpbnRNb3Rvck1heEZvcmNlJzoKICAgICAgICBzdGF0ZS53b3JsZC5jb25zdHJhaW50cy5maWx0ZXIoYyA9PiBjLnV1aWQgPT09IGRhdGEudXVpZCkuZmlsdGVyKGlzSGluZ2VDb25zdHJhaW50KS5tYXAoYyA9PiBjLnNldE1vdG9yTWF4Rm9yY2UoZGF0YS5wcm9wcykpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdhZGRTcHJpbmcnOgogICAgICAgIHsKICAgICAgICAgIGFkZFNwcmluZyhzdGF0ZSwgZGF0YSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3NldFNwcmluZ1N0aWZmbmVzcyc6CiAgICAgICAgewogICAgICAgICAgc3RhdGUuc3ByaW5nSW5zdGFuY2VzW2RhdGEudXVpZF0uc3RpZmZuZXNzID0gZGF0YS5wcm9wczsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAnc2V0U3ByaW5nUmVzdExlbmd0aCc6CiAgICAgICAgewogICAgICAgICAgc3RhdGUuc3ByaW5nSW5zdGFuY2VzW2RhdGEudXVpZF0ucmVzdExlbmd0aCA9IGRhdGEucHJvcHM7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3NldFNwcmluZ0RhbXBpbmcnOgogICAgICAgIHsKICAgICAgICAgIHN0YXRlLnNwcmluZ0luc3RhbmNlc1tkYXRhLnV1aWRdLmRhbXBpbmcgPSBkYXRhLnByb3BzOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdyZW1vdmVTcHJpbmcnOgogICAgICAgIHsKICAgICAgICAgIHN0YXRlLndvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bvc3RTdGVwJywgc3RhdGUuc3ByaW5nc1tkYXRhLnV1aWRdKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAnYWRkUmF5JzoKICAgICAgICB7CiAgICAgICAgICBhZGRSYXkoc3RhdGUsIGRhdGEpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdyZW1vdmVSYXknOgogICAgICAgIHsKICAgICAgICAgIHN0YXRlLndvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCBzdGF0ZS5yYXlzW2RhdGEudXVpZF0pOwogICAgICAgICAgZGVsZXRlIHN0YXRlLnJheXNbZGF0YS51dWlkXTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAnYWRkUmF5Y2FzdFZlaGljbGUnOgogICAgICAgIHsKICAgICAgICAgIGFkZFJheWNhc3RWZWhpY2xlKHN0YXRlLCBkYXRhKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAncmVtb3ZlUmF5Y2FzdFZlaGljbGUnOgogICAgICAgIHsKICAgICAgICAgIHN0YXRlLndvcmxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ByZVN0ZXAnLCBzdGF0ZS52ZWhpY2xlc1tkYXRhLnV1aWRdLnByZVN0ZXApOwogICAgICAgICAgc3RhdGUud29ybGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9zdFN0ZXAnLCBzdGF0ZS52ZWhpY2xlc1tkYXRhLnV1aWRdLnBvc3RTdGVwKTsKICAgICAgICAgIHN0YXRlLnZlaGljbGVzW2RhdGEudXVpZF0udmVoaWNsZS53b3JsZCA9IG51bGw7CiAgICAgICAgICBkZWxldGUgc3RhdGUudmVoaWNsZXNbZGF0YS51dWlkXTsKICAgICAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKHN0YXRlLnN1YnNjcmlwdGlvbnMpLmZpbmQoayA9PiBzdGF0ZS5zdWJzY3JpcHRpb25zW2tdWzBdID09PSBkYXRhLnV1aWQpOwogICAgICAgICAgaWYgKGtleSkgewogICAgICAgICAgICBkZWxldGUgc3RhdGUuc3Vic2NyaXB0aW9uc1trZXldOwogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdzZXRSYXljYXN0VmVoaWNsZVN0ZWVyaW5nVmFsdWUnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgd2hlZWxJbmRleF0gPSBkYXRhLnByb3BzOwogICAgICAgICAgc3RhdGUudmVoaWNsZXNbZGF0YS51dWlkXS52ZWhpY2xlLnNldFN0ZWVyaW5nVmFsdWUodmFsdWUsIHdoZWVsSW5kZXgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdhcHBseVJheWNhc3RWZWhpY2xlRW5naW5lRm9yY2UnOgogICAgICAgIHsKICAgICAgICAgIGNvbnN0IFt2YWx1ZSwgd2hlZWxJbmRleF0gPSBkYXRhLnByb3BzOwogICAgICAgICAgc3RhdGUudmVoaWNsZXNbZGF0YS51dWlkXS52ZWhpY2xlLmFwcGx5RW5naW5lRm9yY2UodmFsdWUsIHdoZWVsSW5kZXgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICBjYXNlICdzZXRSYXljYXN0VmVoaWNsZUJyYWtlJzoKICAgICAgICB7CiAgICAgICAgICBjb25zdCBbYnJha2UsIHdoZWVsSW5kZXhdID0gZGF0YS5wcm9wczsKICAgICAgICAgIHN0YXRlLnZlaGljbGVzW2RhdGEudXVpZF0udmVoaWNsZS5zZXRCcmFrZShicmFrZSwgd2hlZWxJbmRleCk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ2FkZENvbnRhY3RNYXRlcmlhbCc6CiAgICAgICAgewogICAgICAgICAgYWRkQ29udGFjdE1hdGVyaWFsKHN0YXRlLndvcmxkLCBjcmVhdGVNYXRlcmlhbCwgZGF0YS5wcm9wcywgZGF0YS51dWlkKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgY2FzZSAncmVtb3ZlQ29udGFjdE1hdGVyaWFsJzoKICAgICAgICB7CiAgICAgICAgICByZW1vdmVDb250YWN0TWF0ZXJpYWwoc3RhdGUud29ybGQsIGRhdGEudXVpZCk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3dha2VVcCc6CiAgICAgICAgewogICAgICAgICAgc3RhdGUuYm9kaWVzW2RhdGEudXVpZF0ud2FrZVVwKCk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIGNhc2UgJ3NsZWVwJzoKICAgICAgICB7CiAgICAgICAgICBzdGF0ZS5ib2RpZXNbZGF0YS51dWlkXS5zbGVlcCgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgfQogIH07Cgp9KSgpOwoK");class EIe extends WIe{constructor(t){let{allowSleep:i=!1,axisIndex:r=0,broadphase:o="Naive",defaultContactMaterial:a={contactEquationStiffness:1e6},frictionGravity:s=null,gravity:l=[0,-9.81,0],iterations:c=5,quatNormalizeFast:g=!1,quatNormalizeSkip:u=0,size:d=1e3,solver:C="GS",tolerance:f=.001}=t;super();v9(this,"messageQueue",[]);v9(this,"worker",null);this.config={allowSleep:i,axisIndex:r,broadphase:o,defaultContactMaterial:a,frictionGravity:s,gravity:l,iterations:c,quatNormalizeFast:g,quatNormalizeSkip:u,size:d,solver:C,tolerance:f},this.buffers={positions:new Float32Array(d*3),quaternions:new Float32Array(d*4)}}get axisIndex(){return this.config.axisIndex}set axisIndex(t){this.config.axisIndex=t,this.postMessage({op:"setAxisIndex",props:t})}get broadphase(){return this.config.broadphase}set broadphase(t){this.config.broadphase=t,this.postMessage({op:"setBroadphase",props:t})}get frictionGravity(){return this.config.frictionGravity}set frictionGravity(t){this.config.frictionGravity=t,this.postMessage({op:"setFrictionGravity",props:t})}get gravity(){return this.config.gravity}set gravity(t){this.config.gravity=t,this.postMessage({op:"setGravity",props:t})}get iterations(){return this.config.iterations}set iterations(t){this.config.iterations=t,this.postMessage({op:"setIterations",props:t})}get tolerance(){return this.config.tolerance}set tolerance(t){this.config.tolerance=t,this.postMessage({op:"setTolerance",props:t})}addBodies(t){let{props:i,type:r,uuid:o}=t;this.postMessage({op:"addBodies",props:i,type:r,uuid:o})}addConstraint(t){let{props:[i,r,o],type:a,uuid:s}=t;this.postMessage({op:"addConstraint",props:[i,r,o],type:a,uuid:s})}addContactMaterial(t){let{props:i,uuid:r}=t;this.postMessage({op:"addContactMaterial",props:i,uuid:r})}addRay(t){let{props:i,uuid:r}=t;this.postMessage({op:"addRay",props:i,uuid:r})}addRaycastVehicle(t){let{props:[i,r,o,a,s,l],uuid:c}=t;this.postMessage({op:"addRaycastVehicle",props:[i,r,o,a,s,l],uuid:c})}addSpring(t){let{props:[i,r,o],uuid:a}=t;this.postMessage({op:"addSpring",props:[i,r,o],uuid:a})}applyForce(t){let{props:i,uuid:r}=t;this.postMessage({op:"applyForce",props:i,uuid:r})}applyImpulse(t){let{props:i,uuid:r}=t;this.postMessage({op:"applyImpulse",props:i,uuid:r})}applyLocalForce(t){let{props:i,uuid:r}=t;this.postMessage({op:"applyLocalForce",props:i,uuid:r})}applyLocalImpulse(t){let{props:i,uuid:r}=t;this.postMessage({op:"applyLocalImpulse",props:i,uuid:r})}applyRaycastVehicleEngineForce(t){let{props:i,uuid:r}=t;this.postMessage({op:"applyRaycastVehicleEngineForce",props:i,uuid:r})}applyTorque(t){let{props:i,uuid:r}=t;this.postMessage({op:"applyTorque",props:i,uuid:r})}connect(){this.worker=new HIe,this.worker.onmessage=t=>{if(t.data.op==="frame"){this.buffers.positions=t.data.positions,this.buffers.quaternions=t.data.quaternions,this.emit(t.data.op,t.data);return}this.emit(t.data.type,t.data)};for(const t of this.messageQueue)this.worker.postMessage(t);this.messageQueue.length=0}disableConstraint(t){let{uuid:i}=t;this.postMessage({op:"disableConstraint",uuid:i})}disableConstraintMotor(t){let{uuid:i}=t;this.postMessage({op:"disableConstraintMotor",uuid:i})}disconnect(){this.worker&&(this.worker.onmessage=null)}enableConstraint(t){let{uuid:i}=t;this.postMessage({op:"enableConstraint",uuid:i})}enableConstraintMotor(t){let{uuid:i}=t;this.postMessage({op:"enableConstraintMotor",uuid:i})}init(){const{allowSleep:t,axisIndex:i,broadphase:r,defaultContactMaterial:o,frictionGravity:a,gravity:s,iterations:l,quatNormalizeFast:c,quatNormalizeSkip:g,solver:u,tolerance:d}=this.config;this.postMessage({op:"init",props:{allowSleep:t,axisIndex:i,broadphase:r,defaultContactMaterial:o,frictionGravity:a,gravity:s,iterations:l,quatNormalizeFast:c,quatNormalizeSkip:g,solver:u,tolerance:d}})}removeBodies(t){let{uuid:i}=t;this.postMessage({op:"removeBodies",uuid:i})}removeConstraint(t){let{uuid:i}=t;this.postMessage({op:"removeConstraint",uuid:i})}removeContactMaterial(t){let{uuid:i}=t;this.postMessage({op:"removeContactMaterial",uuid:i})}removeRay(t){let{uuid:i}=t;this.postMessage({op:"removeRay",uuid:i})}removeRaycastVehicle(t){let{uuid:i}=t;this.postMessage({op:"removeRaycastVehicle",uuid:i})}removeSpring(t){let{uuid:i}=t;this.postMessage({op:"removeSpring",uuid:i})}setAllowSleep(t){let{props:i,uuid:r}=t;this.postMessage({op:"setAllowSleep",props:i,uuid:r})}setAngularDamping(t){let{props:i,uuid:r}=t;this.postMessage({op:"setAngularDamping",props:i,uuid:r})}setAngularFactor(t){let{props:i,uuid:r}=t;this.postMessage({op:"setAngularFactor",props:i,uuid:r})}setAngularVelocity(t){let{props:i,uuid:r}=t;this.postMessage({op:"setAngularVelocity",props:i,uuid:r})}setCollisionFilterGroup(t){let{props:i,uuid:r}=t;this.postMessage({op:"setCollisionFilterGroup",props:i,uuid:r})}setCollisionFilterMask(t){let{props:i,uuid:r}=t;this.postMessage({op:"setCollisionFilterMask",props:i,uuid:r})}setCollisionResponse(t){let{props:i,uuid:r}=t;this.postMessage({op:"setCollisionResponse",props:i,uuid:r})}setConstraintMotorMaxForce(t){let{props:i,uuid:r}=t;this.postMessage({op:"setConstraintMotorMaxForce",props:i,uuid:r})}setConstraintMotorSpeed(t){let{props:i,uuid:r}=t;this.postMessage({op:"setConstraintMotorSpeed",props:i,uuid:r})}setFixedRotation(t){let{props:i,uuid:r}=t;this.postMessage({op:"setFixedRotation",props:i,uuid:r})}setIsTrigger(t){let{props:i,uuid:r}=t;this.postMessage({op:"setIsTrigger",props:i,uuid:r})}setLinearDamping(t){let{props:i,uuid:r}=t;this.postMessage({op:"setLinearDamping",props:i,uuid:r})}setLinearFactor(t){let{props:i,uuid:r}=t;this.postMessage({op:"setLinearFactor",props:i,uuid:r})}setMass(t){let{props:i,uuid:r}=t;this.postMessage({op:"setMass",props:i,uuid:r})}setMaterial(t){let{props:i,uuid:r}=t;this.postMessage({op:"setMaterial",props:i,uuid:r})}setPosition(t){let{props:i,uuid:r}=t;this.postMessage({op:"setPosition",props:i,uuid:r})}setQuaternion(t){let{props:[i,r,o,a],uuid:s}=t;this.postMessage({op:"setQuaternion",props:[i,r,o,a],uuid:s})}setRaycastVehicleBrake(t){let{props:i,uuid:r}=t;this.postMessage({op:"setRaycastVehicleBrake",props:i,uuid:r})}setRaycastVehicleSteeringValue(t){let{props:i,uuid:r}=t;this.postMessage({op:"setRaycastVehicleSteeringValue",props:i,uuid:r})}setRotation(t){let{props:i,uuid:r}=t;this.postMessage({op:"setRotation",props:i,uuid:r})}setSleepSpeedLimit(t){let{props:i,uuid:r}=t;this.postMessage({op:"setSleepSpeedLimit",props:i,uuid:r})}setSleepTimeLimit(t){let{props:i,uuid:r}=t;this.postMessage({op:"setSleepTimeLimit",props:i,uuid:r})}setSpringDamping(t){let{props:i,uuid:r}=t;this.postMessage({op:"setSpringDamping",props:i,uuid:r})}setSpringRestLength(t){let{props:i,uuid:r}=t;this.postMessage({op:"setSpringRestLength",props:i,uuid:r})}setSpringStiffness(t){let{props:i,uuid:r}=t;this.postMessage({op:"setSpringStiffness",props:i,uuid:r})}setUserData(t){let{props:i,uuid:r}=t;this.postMessage({op:"setUserData",props:i,uuid:r})}setVelocity(t){let{props:i,uuid:r}=t;this.postMessage({op:"setVelocity",props:i,uuid:r})}sleep(t){let{uuid:i}=t;this.postMessage({op:"sleep",uuid:i})}step(t){var i;const{buffers:{positions:r,quaternions:o}}=this;!r.byteLength&&!o.byteLength||(i=this.worker)==null||i.postMessage({op:"step",positions:r,props:t,quaternions:o},[r.buffer,o.buffer])}subscribe(t){let{props:{id:i,target:r,type:o},uuid:a}=t;this.postMessage({op:"subscribe",props:{id:i,target:r,type:o},uuid:a})}terminate(){var t;(t=this.worker)==null||t.terminate(),this.worker=null}unsubscribe(t){let{props:i}=t;this.postMessage({op:"unsubscribe",props:i})}wakeUp(t){let{uuid:i}=t;this.postMessage({op:"wakeUp",uuid:i})}postMessage(t){if(this.worker)return this.worker.postMessage(t);this.messageQueue.push(t)}}class zl{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){e===void 0&&(e=new oe);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){t===void 0&&(t=new oe);const i=this.elements,r=e.x,o=e.y,a=e.z;return t.x=i[0]*r+i[1]*o+i[2]*a,t.y=i[3]*r+i[4]*o+i[5]*a,t.z=i[6]*r+i[7]*o+i[8]*a,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){t===void 0&&(t=new zl);const i=this.elements,r=e.elements,o=t.elements,a=i[0],s=i[1],l=i[2],c=i[3],g=i[4],u=i[5],d=i[6],C=i[7],f=i[8],b=r[0],A=r[1],p=r[2],y=r[3],B=r[4],x=r[5],w=r[6],S=r[7],Z=r[8];return o[0]=a*b+s*y+l*w,o[1]=a*A+s*B+l*S,o[2]=a*p+s*x+l*Z,o[3]=c*b+g*y+u*w,o[4]=c*A+g*B+u*S,o[5]=c*p+g*x+u*Z,o[6]=d*b+C*y+f*w,o[7]=d*A+C*B+f*S,o[8]=d*p+C*x+f*Z,t}scale(e,t){t===void 0&&(t=new zl);const i=this.elements,r=t.elements;for(let o=0;o!==3;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){t===void 0&&(t=new oe);const i=3,r=4,o=[];let a,s;for(a=0;a<i*r;a++)o.push(0);for(a=0;a<3;a++)for(s=0;s<3;s++)o[a+r*s]=this.elements[a+3*s];o[3+4*0]=e.x,o[3+4*1]=e.y,o[3+4*2]=e.z;let l=3;const c=l;let g;const u=4;let d;do{if(a=c-l,o[a+r*a]===0){for(s=a+1;s<c;s++)if(o[a+r*s]!==0){g=u;do d=u-g,o[d+r*a]+=o[d+r*s];while(--g);break}}if(o[a+r*a]!==0)for(s=a+1;s<c;s++){const C=o[a+r*s]/o[a+r*a];g=u;do d=u-g,o[d+r*s]=d<=a?0:o[d+r*s]-o[d+r*a]*C;while(--g)}}while(--l);if(t.z=o[2*r+3]/o[2*r+2],t.y=(o[1*r+3]-o[1*r+2]*t.z)/o[1*r+1],t.x=(o[0*r+3]-o[0*r+2]*t.z-o[0*r+1]*t.y)/o[0*r+0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(i===void 0)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";const t=",";for(let i=0;i<9;i++)e+=this.elements[i]+t;return e}reverse(e){e===void 0&&(e=new zl);const t=3,i=6,r=XIe;let o,a;for(o=0;o<3;o++)for(a=0;a<3;a++)r[o+i*a]=this.elements[o+3*a];r[3+6*0]=1,r[3+6*1]=0,r[3+6*2]=0,r[4+6*0]=0,r[4+6*1]=1,r[4+6*2]=0,r[5+6*0]=0,r[5+6*1]=0,r[5+6*2]=1;let s=3;const l=s;let c;const g=i;let u;do{if(o=l-s,r[o+i*o]===0){for(a=o+1;a<l;a++)if(r[o+i*a]!==0){c=g;do u=g-c,r[u+i*o]+=r[u+i*a];while(--c);break}}if(r[o+i*o]!==0)for(a=o+1;a<l;a++){const d=r[o+i*a]/r[o+i*o];c=g;do u=g-c,r[u+i*a]=u<=o?0:r[u+i*a]-r[u+i*o]*d;while(--c)}}while(--s);o=2;do{a=o-1;do{const d=r[o+i*a]/r[o+i*o];c=i;do u=i-c,r[u+i*a]=r[u+i*a]-r[u+i*o]*d;while(--c)}while(a--)}while(--o);o=2;do{const d=1/r[o+i*o];c=i;do u=i-c,r[u+i*o]=r[u+i*o]*d;while(--c)}while(o--);o=2;do{a=2;do{if(u=r[t+a+i*o],isNaN(u)||u===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,a,u)}while(a--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,a=t+t,s=i+i,l=r+r,c=t*a,g=t*s,u=t*l,d=i*s,C=i*l,f=r*l,b=o*a,A=o*s,p=o*l,y=this.elements;return y[3*0+0]=1-(d+f),y[3*0+1]=g-p,y[3*0+2]=u+A,y[3*1+0]=g+p,y[3*1+1]=1-(c+f),y[3*1+2]=C-b,y[3*2+0]=u-A,y[3*2+1]=C+b,y[3*2+2]=1-(c+d),this}transpose(e){e===void 0&&(e=new zl);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const XIe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class oe{constructor(e,t,i){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){t===void 0&&(t=new oe);const i=e.x,r=e.y,o=e.z,a=this.x,s=this.y,l=this.z;return t.x=s*o-l*r,t.y=l*i-a*o,t.z=a*r-s*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(t)t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z;else return new oe(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,t){if(t)t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z;else return new oe(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new zl([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){e===void 0&&(e=new oe);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,a=e.y,s=e.z;return Math.sqrt((o-t)*(o-t)+(a-i)*(a-i)+(s-r)*(s-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,a=e.y,s=e.z;return(o-t)*(o-t)+(a-i)*(a-i)+(s-r)*(s-r)}scale(e,t){t===void 0&&(t=new oe);const i=this.x,r=this.y,o=this.z;return t.x=e*i,t.y=e*r,t.z=e*o,t}vmul(e,t){return t===void 0&&(t=new oe),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return i===void 0&&(i=new oe),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new oe),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=zIe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const a=YIe;Math.abs(r.x)<.9?(a.set(1,0,0),r.cross(a,e)):(a.set(0,1,0),r.cross(a,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,a=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=a+(e.z-a)*t}almostEquals(e,t){return t===void 0&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(yM),yM.almostEquals(e,t)}clone(){return new oe(this.x,this.y,this.z)}}oe.ZERO=new oe(0,0,0);oe.UNIT_X=new oe(1,0,0);oe.UNIT_Y=new oe(0,1,0);oe.UNIT_Z=new oe(0,0,1);const zIe=new oe,YIe=new oe,yM=new oe;class es{constructor(e){e===void 0&&(e={}),this.lowerBound=new oe,this.upperBound=new oe,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,a=this.upperBound,s=i;o.copy(e[0]),s&&s.vmult(o,o),a.copy(o);for(let l=1;l<e.length;l++){let c=e[l];s&&(s.vmult(c,BM),c=BM),c.x>a.x&&(a.x=c.x),c.x<o.x&&(o.x=c.x),c.y>a.y&&(a.y=c.y),c.y<o.y&&(o.y=c.y),c.z>a.z&&(a.z=c.z),c.z<o.z&&(o.z=c.z)}return t&&(t.vadd(o,o),t.vadd(a,a)),r&&(o.x-=r,o.y-=r,o.z-=r,a.x+=r,a.y+=r,a.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new es().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound,a=r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x,s=r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y,l=r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z;return a&&s&&l}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,a,s,l){const c=this.lowerBound,g=this.upperBound;e.copy(c),t.set(g.x,c.y,c.z),i.set(g.x,g.y,c.z),r.set(c.x,g.y,g.z),o.set(g.x,c.y,g.z),a.set(c.x,g.y,c.z),s.set(c.x,c.y,g.z),l.copy(g)}toLocalFrame(e,t){const i=xM,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],g=i[6],u=i[7];this.getCorners(r,o,a,s,l,c,g,u);for(let d=0;d!==8;d++){const C=i[d];e.pointToLocal(C,C)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=xM,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],g=i[6],u=i[7];this.getCorners(r,o,a,s,l,c,g,u);for(let d=0;d!==8;d++){const C=i[d];e.pointToWorld(C,C)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,a=1/t.z,s=(this.lowerBound.x-i.x)*r,l=(this.upperBound.x-i.x)*r,c=(this.lowerBound.y-i.y)*o,g=(this.upperBound.y-i.y)*o,u=(this.lowerBound.z-i.z)*a,d=(this.upperBound.z-i.z)*a,C=Math.max(Math.max(Math.min(s,l),Math.min(c,g)),Math.min(u,d)),f=Math.min(Math.min(Math.max(s,l),Math.max(c,g)),Math.max(u,d));return!(f<0||C>f)}}const BM=new oe,xM=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe];class ho{constructor(e,t,i,r){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(t*.5);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(t*.5),this}toAxisAngle(e){e===void 0&&(e=new oe),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=KIe,r=LIe;e.tangents(i,r),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){t===void 0&&(t=new ho);const i=this.x,r=this.y,o=this.z,a=this.w,s=e.x,l=e.y,c=e.z,g=e.w;return t.x=i*g+a*s+r*c-o*l,t.y=r*g+a*l+o*s-i*c,t.z=o*g+a*c+i*l-r*s,t.w=a*g-i*s-r*l-o*c,t}inverse(e){e===void 0&&(e=new ho);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const a=1/(t*t+i*i+r*r+o*o);return e.x*=a,e.y*=a,e.z*=a,e.w*=a,e}conjugate(e){return e===void 0&&(e=new ho),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){t===void 0&&(t=new oe);const i=e.x,r=e.y,o=e.z,a=this.x,s=this.y,l=this.z,c=this.w,g=c*i+s*o-l*r,u=c*r+l*i-a*o,d=c*o+a*r-s*i,C=-a*i-s*r-l*o;return t.x=g*c+C*-a+u*-l-d*-s,t.y=u*c+C*-s+d*-a-g*-l,t.z=d*c+C*-l+g*-s-u*-a,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){t===void 0&&(t="YZX");let i,r,o;const a=this.x,s=this.y,l=this.z,c=this.w;switch(t){case"YZX":const g=a*s+l*c;if(g>.499&&(i=2*Math.atan2(a,c),r=Math.PI/2,o=0),g<-.499&&(i=-2*Math.atan2(a,c),r=-Math.PI/2,o=0),i===void 0){const u=a*a,d=s*s,C=l*l;i=Math.atan2(2*s*c-2*a*l,1-2*d-2*C),r=Math.asin(2*g),o=Math.atan2(2*a*c-2*s*l,1-2*u-2*C)}break;default:throw new Error(`Euler order ${t} not supported yet.`)}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){r===void 0&&(r="XYZ");const o=Math.cos(e/2),a=Math.cos(t/2),s=Math.cos(i/2),l=Math.sin(e/2),c=Math.sin(t/2),g=Math.sin(i/2);return r==="XYZ"?(this.x=l*a*s+o*c*g,this.y=o*c*s-l*a*g,this.z=o*a*g+l*c*s,this.w=o*a*s-l*c*g):r==="YXZ"?(this.x=l*a*s+o*c*g,this.y=o*c*s-l*a*g,this.z=o*a*g-l*c*s,this.w=o*a*s+l*c*g):r==="ZXY"?(this.x=l*a*s-o*c*g,this.y=o*c*s+l*a*g,this.z=o*a*g+l*c*s,this.w=o*a*s-l*c*g):r==="ZYX"?(this.x=l*a*s-o*c*g,this.y=o*c*s+l*a*g,this.z=o*a*g-l*c*s,this.w=o*a*s+l*c*g):r==="YZX"?(this.x=l*a*s+o*c*g,this.y=o*c*s+l*a*g,this.z=o*a*g-l*c*s,this.w=o*a*s-l*c*g):r==="XZY"&&(this.x=l*a*s-o*c*g,this.y=o*c*s-l*a*g,this.z=o*a*g+l*c*s,this.w=o*a*s+l*c*g),this}clone(){return new ho(this.x,this.y,this.z,this.w)}slerp(e,t,i){i===void 0&&(i=new ho);const r=this.x,o=this.y,a=this.z,s=this.w;let l=e.x,c=e.y,g=e.z,u=e.w,d,C,f,b,A;return C=r*l+o*c+a*g+s*u,C<0&&(C=-C,l=-l,c=-c,g=-g,u=-u),1-C>1e-6?(d=Math.acos(C),f=Math.sin(d),b=Math.sin((1-t)*d)/f,A=Math.sin(t*d)/f):(b=1-t,A=t),i.x=b*r+A*l,i.y=b*o+A*c,i.z=b*a+A*g,i.w=b*s+A*u,i}integrate(e,t,i,r){r===void 0&&(r=new ho);const o=e.x*i.x,a=e.y*i.y,s=e.z*i.z,l=this.x,c=this.y,g=this.z,u=this.w,d=t*.5;return r.x+=d*(o*u+a*g-s*c),r.y+=d*(a*u+s*l-o*g),r.z+=d*(s*u+o*c-a*l),r.w+=d*(-o*l-a*c-s*g),r}}const KIe=new oe,LIe=new oe,TIe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class tn{constructor(e){e===void 0&&(e={}),this.id=tn.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,t){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,t,i,r){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}tn.idCounter=0;tn.types=TIe;class Wo{constructor(e){e===void 0&&(e={}),this.position=new oe,this.quaternion=new ho,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return Wo.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return Wo.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return t===void 0&&(t=new oe),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return r===void 0&&(r=new oe),i.vsub(e,r),t.conjugate(GM),GM.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return r===void 0&&(r=new oe),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return i===void 0&&(i=new oe),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return r===void 0&&(r=new oe),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const GM=new ho;new oe;new oe;new oe;new oe;new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe;new oe;new ho;new es;new zl;new zl;new zl;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new ho;new oe;new oe;new oe;new oe;class qv{constructor(){this.rayFromWorld=new oe,this.rayToWorld=new oe,this.hitNormalWorld=new oe,this.hitPointWorld=new oe,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,a,s){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=a,this.distance=s}}let Fz,Hz,Ez,Xz,zz,Yz,Kz;const FB={CLOSEST:1,ANY:2,ALL:4};Fz=tn.types.SPHERE;Hz=tn.types.PLANE;Ez=tn.types.BOX;Xz=tn.types.CYLINDER;zz=tn.types.CONVEXPOLYHEDRON;Yz=tn.types.HEIGHTFIELD;Kz=tn.types.TRIMESH;class Dr{get[Fz](){return this._intersectSphere}get[Hz](){return this._intersectPlane}get[Ez](){return this._intersectBox}get[Xz](){return this._intersectConvex}get[zz](){return this._intersectConvex}get[Yz](){return this._intersectHeightfield}get[Kz](){return this._intersectTrimesh}constructor(e,t){e===void 0&&(e=new oe),t===void 0&&(t=new oe),this.from=e.clone(),this.to=t.clone(),this.direction=new oe,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=Dr.ANY,this.result=new qv,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||Dr.ANY,this.result=t.result||new qv,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=typeof t.checkCollisionResponse<"u"?t.checkCollisionResponse:!0,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(wM),Wb.length=0,e.broadphase.aabbQuery(e,wM,Wb),this.intersectBodies(Wb),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=kIe,o=PIe;for(let a=0,s=e.shapes.length;a<s;a++){const l=e.shapes[a];if(!(i&&!l.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[a],o),e.quaternion.vmult(e.shapeOffsets[a],r),r.vadd(e.position,r),this.intersectShape(l,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){const o=this.from;if(aCe(o,this.direction,i)>e.boundingSphereRadius)return;const s=this[e.type];s&&s.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const a=this.from,s=this.to,l=this.direction,c=new oe(0,0,1);t.vmult(c,c);const g=new oe;a.vsub(i,g);const u=g.dot(c);s.vsub(i,g);const d=g.dot(c);if(u*d>0||a.distanceTo(s)<u)return;const C=c.dot(l);if(Math.abs(C)<this.precision)return;const f=new oe,b=new oe,A=new oe;a.vsub(i,f);const p=-c.dot(f)/C;l.scale(p,b),a.vadd(b,A),this.reportIntersection(c,A,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){e.data,e.elementSize;const a=DIe;a.from.copy(this.from),a.to.copy(this.to),Wo.pointToLocalFrame(i,t,a.from,a.from),Wo.pointToLocalFrame(i,t,a.to,a.to),a.updateDirection();const s=UIe;let l,c,g,u;l=c=0,g=u=e.data.length-1;const d=new es;a.getAABB(d),e.getIndexOfPosition(d.lowerBound.x,d.lowerBound.y,s,!0),l=Math.max(l,s[0]),c=Math.max(c,s[1]),e.getIndexOfPosition(d.upperBound.x,d.upperBound.y,s,!0),g=Math.min(g,s[0]+1),u=Math.min(u,s[1]+1);for(let C=l;C<g;C++)for(let f=c;f<u;f++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(C,f,d),!!d.overlapsRay(a)){if(e.getConvexTrianglePillar(C,f,!1),Wo.pointToWorldFrame(i,t,e.pillarOffset,Gf),this._intersectConvex(e.pillarConvex,t,Gf,r,o,SM),this.result.shouldStop)return;e.getConvexTrianglePillar(C,f,!0),Wo.pointToWorldFrame(i,t,e.pillarOffset,Gf),this._intersectConvex(e.pillarConvex,t,Gf,r,o,SM)}}}_intersectSphere(e,t,i,r,o){const a=this.from,s=this.to,l=e.radius,c=(s.x-a.x)**2+(s.y-a.y)**2+(s.z-a.z)**2,g=2*((s.x-a.x)*(a.x-i.x)+(s.y-a.y)*(a.y-i.y)+(s.z-a.z)*(a.z-i.z)),u=(a.x-i.x)**2+(a.y-i.y)**2+(a.z-i.z)**2-l**2,d=g**2-4*c*u,C=OIe,f=jIe;if(!(d<0))if(d===0)a.lerp(s,d,C),C.vsub(i,f),f.normalize(),this.reportIntersection(f,C,o,r,-1);else{const b=(-g-Math.sqrt(d))/(2*c),A=(-g+Math.sqrt(d))/(2*c);if(b>=0&&b<=1&&(a.lerp(s,b,C),C.vsub(i,f),f.normalize(),this.reportIntersection(f,C,o,r,-1)),this.result.shouldStop)return;A>=0&&A<=1&&(a.lerp(s,A,C),C.vsub(i,f),f.normalize(),this.reportIntersection(f,C,o,r,-1))}}_intersectConvex(e,t,i,r,o,a){const s=JIe,l=ZM,c=a&&a.faceList||null,g=e.faces,u=e.vertices,d=e.faceNormals,C=this.direction,f=this.from,b=this.to,A=f.distanceTo(b),p=c?c.length:g.length,y=this.result;for(let B=0;!y.shouldStop&&B<p;B++){const x=c?c[B]:B,w=g[x],S=d[x],Z=t,M=i;l.copy(u[w[0]]),Z.vmult(l,l),l.vadd(M,l),l.vsub(f,l),Z.vmult(S,s);const q=C.dot(s);if(Math.abs(q)<this.precision)continue;const _=s.dot(l)/q;if(!(_<0)){C.scale(_,Ro),Ro.vadd(f,Ro),gs.copy(u[w[0]]),Z.vmult(gs,gs),M.vadd(gs,gs);for(let V=1;!y.shouldStop&&V<w.length-1;V++){zs.copy(u[w[V]]),Ys.copy(u[w[V+1]]),Z.vmult(zs,zs),Z.vmult(Ys,Ys),M.vadd(zs,zs),M.vadd(Ys,Ys);const Y=Ro.distanceTo(f);!(Dr.pointInTriangle(Ro,gs,zs,Ys)||Dr.pointInTriangle(Ro,zs,gs,Ys))||Y>A||this.reportIntersection(s,Ro,o,r,x)}}}}_intersectTrimesh(e,t,i,r,o,a){const s=QIe,l=rCe,c=oCe,g=ZM,u=$Ie,d=eCe,C=tCe,f=iCe,b=nCe,A=e.indices;e.vertices;const p=this.from,y=this.to,B=this.direction;c.position.copy(i),c.quaternion.copy(t),Wo.vectorToLocalFrame(i,t,B,u),Wo.pointToLocalFrame(i,t,p,d),Wo.pointToLocalFrame(i,t,y,C),C.x*=e.scale.x,C.y*=e.scale.y,C.z*=e.scale.z,d.x*=e.scale.x,d.y*=e.scale.y,d.z*=e.scale.z,C.vsub(d,u),u.normalize();const x=d.distanceSquared(C);e.tree.rayQuery(this,c,l);for(let w=0,S=l.length;!this.result.shouldStop&&w!==S;w++){const Z=l[w];e.getNormal(Z,s),e.getVertex(A[Z*3],gs),gs.vsub(d,g);const M=u.dot(s),q=s.dot(g)/M;if(q<0)continue;u.scale(q,Ro),Ro.vadd(d,Ro),e.getVertex(A[Z*3+1],zs),e.getVertex(A[Z*3+2],Ys);const _=Ro.distanceSquared(d);!(Dr.pointInTriangle(Ro,zs,gs,Ys)||Dr.pointInTriangle(Ro,gs,zs,Ys))||_>x||(Wo.vectorToWorldFrame(t,s,b),Wo.pointToWorldFrame(i,t,Ro,f),this.reportIntersection(b,f,o,r,Z))}l.length=0}reportIntersection(e,t,i,r,o){const a=this.from,s=this.to,l=a.distanceTo(t),c=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(c.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case Dr.ALL:this.hasHit=!0,c.set(a,s,e,t,i,r,l),c.hasHit=!0,this.callback(c);break;case Dr.CLOSEST:(l<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(a,s,e,t,i,r,l));break;case Dr.ANY:this.hasHit=!0,c.hasHit=!0,c.set(a,s,e,t,i,r,l),c.shouldStop=!0;break}}static pointInTriangle(e,t,i,r){r.vsub(t,ou),i.vsub(t,EI),e.vsub(t,Vb);const o=ou.dot(ou),a=ou.dot(EI),s=ou.dot(Vb),l=EI.dot(EI),c=EI.dot(Vb);let g,u;return(g=l*s-a*c)>=0&&(u=o*c-a*s)>=0&&g+u<o*l-a*a}}Dr.CLOSEST=FB.CLOSEST;Dr.ANY=FB.ANY;Dr.ALL=FB.ALL;const wM=new es,Wb=[],EI=new oe,Vb=new oe,kIe=new oe,PIe=new ho,Ro=new oe,gs=new oe,zs=new oe,Ys=new oe;new oe;new qv;const SM={faceList:[0]},Gf=new oe,DIe=new Dr,UIe=[],OIe=new oe,jIe=new oe,JIe=new oe;new oe;new oe;const ZM=new oe,QIe=new oe,$Ie=new oe,eCe=new oe,tCe=new oe,nCe=new oe,iCe=new oe;new es;const rCe=[],oCe=new Wo,ou=new oe,wf=new oe;function aCe(n,e,t){t.vsub(n,ou);const i=ou.dot(e);return e.scale(i,wf),wf.vadd(n,wf),t.distanceTo(wf)}new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new Dr;new oe;new oe;new oe;new oe(1,0,0),new oe(0,1,0),new oe(0,0,1);new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new es;new oe;new es;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new es;new oe;new Wo;new es;tn.types.SPHERE,tn.types.SPHERE|tn.types.PLANE,tn.types.BOX|tn.types.BOX,tn.types.SPHERE|tn.types.BOX,tn.types.PLANE|tn.types.BOX,tn.types.CONVEXPOLYHEDRON,tn.types.SPHERE|tn.types.CONVEXPOLYHEDRON,tn.types.PLANE|tn.types.CONVEXPOLYHEDRON,tn.types.BOX|tn.types.CONVEXPOLYHEDRON,tn.types.SPHERE|tn.types.HEIGHTFIELD,tn.types.BOX|tn.types.HEIGHTFIELD,tn.types.CONVEXPOLYHEDRON|tn.types.HEIGHTFIELD,tn.types.PARTICLE|tn.types.SPHERE,tn.types.PLANE|tn.types.PARTICLE,tn.types.BOX|tn.types.PARTICLE,tn.types.PARTICLE|tn.types.CONVEXPOLYHEDRON,tn.types.CYLINDER,tn.types.SPHERE|tn.types.CYLINDER,tn.types.PLANE|tn.types.CYLINDER,tn.types.BOX|tn.types.CYLINDER,tn.types.CONVEXPOLYHEDRON|tn.types.CYLINDER,tn.types.HEIGHTFIELD|tn.types.CYLINDER,tn.types.PARTICLE|tn.types.CYLINDER,tn.types.SPHERE|tn.types.TRIMESH,tn.types.PLANE|tn.types.TRIMESH;new oe;new oe;new oe;new oe;new oe;new ho;new ho;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new es;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe,new oe,new oe,new oe,new oe,new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new ho;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new oe;new es;new Dr;const XI=globalThis.performance||{};if(!XI.now){let n=Date.now();XI.timing&&XI.timing.navigationStart&&(n=XI.timing.navigationStart),XI.now=()=>Date.now()-n}new oe;class Yl{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){e===void 0&&(e=new ae);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){t===void 0&&(t=new ae);const i=this.elements,r=e.x,o=e.y,a=e.z;return t.x=i[0]*r+i[1]*o+i[2]*a,t.y=i[3]*r+i[4]*o+i[5]*a,t.z=i[6]*r+i[7]*o+i[8]*a,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){t===void 0&&(t=new Yl);const i=this.elements,r=e.elements,o=t.elements,a=i[0],s=i[1],l=i[2],c=i[3],g=i[4],u=i[5],d=i[6],C=i[7],f=i[8],b=r[0],A=r[1],p=r[2],y=r[3],B=r[4],x=r[5],w=r[6],S=r[7],Z=r[8];return o[0]=a*b+s*y+l*w,o[1]=a*A+s*B+l*S,o[2]=a*p+s*x+l*Z,o[3]=c*b+g*y+u*w,o[4]=c*A+g*B+u*S,o[5]=c*p+g*x+u*Z,o[6]=d*b+C*y+f*w,o[7]=d*A+C*B+f*S,o[8]=d*p+C*x+f*Z,t}scale(e,t){t===void 0&&(t=new Yl);const i=this.elements,r=t.elements;for(let o=0;o!==3;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){t===void 0&&(t=new ae);const i=3,r=4,o=[];let a,s;for(a=0;a<i*r;a++)o.push(0);for(a=0;a<3;a++)for(s=0;s<3;s++)o[a+r*s]=this.elements[a+3*s];o[3+4*0]=e.x,o[3+4*1]=e.y,o[3+4*2]=e.z;let l=3;const c=l;let g;const u=4;let d;do{if(a=c-l,o[a+r*a]===0){for(s=a+1;s<c;s++)if(o[a+r*s]!==0){g=u;do d=u-g,o[d+r*a]+=o[d+r*s];while(--g);break}}if(o[a+r*a]!==0)for(s=a+1;s<c;s++){const C=o[a+r*s]/o[a+r*a];g=u;do d=u-g,o[d+r*s]=d<=a?0:o[d+r*s]-o[d+r*a]*C;while(--g)}}while(--l);if(t.z=o[2*r+3]/o[2*r+2],t.y=(o[1*r+3]-o[1*r+2]*t.z)/o[1*r+1],t.x=(o[0*r+3]-o[0*r+2]*t.z-o[0*r+1]*t.y)/o[0*r+0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(i===void 0)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";const t=",";for(let i=0;i<9;i++)e+=this.elements[i]+t;return e}reverse(e){e===void 0&&(e=new Yl);const t=3,i=6,r=sCe;let o,a;for(o=0;o<3;o++)for(a=0;a<3;a++)r[o+i*a]=this.elements[o+3*a];r[3+6*0]=1,r[3+6*1]=0,r[3+6*2]=0,r[4+6*0]=0,r[4+6*1]=1,r[4+6*2]=0,r[5+6*0]=0,r[5+6*1]=0,r[5+6*2]=1;let s=3;const l=s;let c;const g=i;let u;do{if(o=l-s,r[o+i*o]===0){for(a=o+1;a<l;a++)if(r[o+i*a]!==0){c=g;do u=g-c,r[u+i*o]+=r[u+i*a];while(--c);break}}if(r[o+i*o]!==0)for(a=o+1;a<l;a++){const d=r[o+i*a]/r[o+i*o];c=g;do u=g-c,r[u+i*a]=u<=o?0:r[u+i*a]-r[u+i*o]*d;while(--c)}}while(--s);o=2;do{a=o-1;do{const d=r[o+i*a]/r[o+i*o];c=i;do u=i-c,r[u+i*a]=r[u+i*a]-r[u+i*o]*d;while(--c)}while(a--)}while(--o);o=2;do{const d=1/r[o+i*o];c=i;do u=i-c,r[u+i*o]=r[u+i*o]*d;while(--c)}while(o--);o=2;do{a=2;do{if(u=r[t+a+i*o],isNaN(u)||u===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,a,u)}while(a--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,a=t+t,s=i+i,l=r+r,c=t*a,g=t*s,u=t*l,d=i*s,C=i*l,f=r*l,b=o*a,A=o*s,p=o*l,y=this.elements;return y[3*0+0]=1-(d+f),y[3*0+1]=g-p,y[3*0+2]=u+A,y[3*1+0]=g+p,y[3*1+1]=1-(c+f),y[3*1+2]=C-b,y[3*2+0]=u-A,y[3*2+1]=C+b,y[3*2+2]=1-(c+d),this}transpose(e){e===void 0&&(e=new Yl);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const sCe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class ae{constructor(e,t,i){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){t===void 0&&(t=new ae);const i=e.x,r=e.y,o=e.z,a=this.x,s=this.y,l=this.z;return t.x=s*o-l*r,t.y=l*i-a*o,t.z=a*r-s*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(t)t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z;else return new ae(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,t){if(t)t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z;else return new ae(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new Yl([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){e===void 0&&(e=new ae);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,a=e.y,s=e.z;return Math.sqrt((o-t)*(o-t)+(a-i)*(a-i)+(s-r)*(s-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,a=e.y,s=e.z;return(o-t)*(o-t)+(a-i)*(a-i)+(s-r)*(s-r)}scale(e,t){t===void 0&&(t=new ae);const i=this.x,r=this.y,o=this.z;return t.x=e*i,t.y=e*r,t.z=e*o,t}vmul(e,t){return t===void 0&&(t=new ae),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return i===void 0&&(i=new ae),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new ae),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=lCe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const a=cCe;Math.abs(r.x)<.9?(a.set(1,0,0),r.cross(a,e)):(a.set(0,1,0),r.cross(a,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,a=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=a+(e.z-a)*t}almostEquals(e,t){return t===void 0&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(qM),qM.almostEquals(e,t)}clone(){return new ae(this.x,this.y,this.z)}}ae.ZERO=new ae(0,0,0);ae.UNIT_X=new ae(1,0,0);ae.UNIT_Y=new ae(0,1,0);ae.UNIT_Z=new ae(0,0,1);const lCe=new ae,cCe=new ae,qM=new ae;class ts{constructor(e){e===void 0&&(e={}),this.lowerBound=new ae,this.upperBound=new ae,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,a=this.upperBound,s=i;o.copy(e[0]),s&&s.vmult(o,o),a.copy(o);for(let l=1;l<e.length;l++){let c=e[l];s&&(s.vmult(c,RM),c=RM),c.x>a.x&&(a.x=c.x),c.x<o.x&&(o.x=c.x),c.y>a.y&&(a.y=c.y),c.y<o.y&&(o.y=c.y),c.z>a.z&&(a.z=c.z),c.z<o.z&&(o.z=c.z)}return t&&(t.vadd(o,o),t.vadd(a,a)),r&&(o.x-=r,o.y-=r,o.z-=r,a.x+=r,a.y+=r,a.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new ts().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound,a=r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x,s=r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y,l=r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z;return a&&s&&l}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,a,s,l){const c=this.lowerBound,g=this.upperBound;e.copy(c),t.set(g.x,c.y,c.z),i.set(g.x,g.y,c.z),r.set(c.x,g.y,g.z),o.set(g.x,c.y,g.z),a.set(c.x,g.y,c.z),s.set(c.x,c.y,g.z),l.copy(g)}toLocalFrame(e,t){const i=MM,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],g=i[6],u=i[7];this.getCorners(r,o,a,s,l,c,g,u);for(let d=0;d!==8;d++){const C=i[d];e.pointToLocal(C,C)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=MM,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],g=i[6],u=i[7];this.getCorners(r,o,a,s,l,c,g,u);for(let d=0;d!==8;d++){const C=i[d];e.pointToWorld(C,C)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,a=1/t.z,s=(this.lowerBound.x-i.x)*r,l=(this.upperBound.x-i.x)*r,c=(this.lowerBound.y-i.y)*o,g=(this.upperBound.y-i.y)*o,u=(this.lowerBound.z-i.z)*a,d=(this.upperBound.z-i.z)*a,C=Math.max(Math.max(Math.min(s,l),Math.min(c,g)),Math.min(u,d)),f=Math.min(Math.min(Math.max(s,l),Math.max(c,g)),Math.max(u,d));return!(f<0||C>f)}}const RM=new ae,MM=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae];class mo{constructor(e,t,i,r){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(t*.5);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(t*.5),this}toAxisAngle(e){e===void 0&&(e=new ae),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=gCe,r=uCe;e.tangents(i,r),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){t===void 0&&(t=new mo);const i=this.x,r=this.y,o=this.z,a=this.w,s=e.x,l=e.y,c=e.z,g=e.w;return t.x=i*g+a*s+r*c-o*l,t.y=r*g+a*l+o*s-i*c,t.z=o*g+a*c+i*l-r*s,t.w=a*g-i*s-r*l-o*c,t}inverse(e){e===void 0&&(e=new mo);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const a=1/(t*t+i*i+r*r+o*o);return e.x*=a,e.y*=a,e.z*=a,e.w*=a,e}conjugate(e){return e===void 0&&(e=new mo),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){t===void 0&&(t=new ae);const i=e.x,r=e.y,o=e.z,a=this.x,s=this.y,l=this.z,c=this.w,g=c*i+s*o-l*r,u=c*r+l*i-a*o,d=c*o+a*r-s*i,C=-a*i-s*r-l*o;return t.x=g*c+C*-a+u*-l-d*-s,t.y=u*c+C*-s+d*-a-g*-l,t.z=d*c+C*-l+g*-s-u*-a,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){t===void 0&&(t="YZX");let i,r,o;const a=this.x,s=this.y,l=this.z,c=this.w;switch(t){case"YZX":const g=a*s+l*c;if(g>.499&&(i=2*Math.atan2(a,c),r=Math.PI/2,o=0),g<-.499&&(i=-2*Math.atan2(a,c),r=-Math.PI/2,o=0),i===void 0){const u=a*a,d=s*s,C=l*l;i=Math.atan2(2*s*c-2*a*l,1-2*d-2*C),r=Math.asin(2*g),o=Math.atan2(2*a*c-2*s*l,1-2*u-2*C)}break;default:throw new Error(`Euler order ${t} not supported yet.`)}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){r===void 0&&(r="XYZ");const o=Math.cos(e/2),a=Math.cos(t/2),s=Math.cos(i/2),l=Math.sin(e/2),c=Math.sin(t/2),g=Math.sin(i/2);return r==="XYZ"?(this.x=l*a*s+o*c*g,this.y=o*c*s-l*a*g,this.z=o*a*g+l*c*s,this.w=o*a*s-l*c*g):r==="YXZ"?(this.x=l*a*s+o*c*g,this.y=o*c*s-l*a*g,this.z=o*a*g-l*c*s,this.w=o*a*s+l*c*g):r==="ZXY"?(this.x=l*a*s-o*c*g,this.y=o*c*s+l*a*g,this.z=o*a*g+l*c*s,this.w=o*a*s-l*c*g):r==="ZYX"?(this.x=l*a*s-o*c*g,this.y=o*c*s+l*a*g,this.z=o*a*g-l*c*s,this.w=o*a*s+l*c*g):r==="YZX"?(this.x=l*a*s+o*c*g,this.y=o*c*s+l*a*g,this.z=o*a*g-l*c*s,this.w=o*a*s-l*c*g):r==="XZY"&&(this.x=l*a*s-o*c*g,this.y=o*c*s-l*a*g,this.z=o*a*g+l*c*s,this.w=o*a*s+l*c*g),this}clone(){return new mo(this.x,this.y,this.z,this.w)}slerp(e,t,i){i===void 0&&(i=new mo);const r=this.x,o=this.y,a=this.z,s=this.w;let l=e.x,c=e.y,g=e.z,u=e.w,d,C,f,b,A;return C=r*l+o*c+a*g+s*u,C<0&&(C=-C,l=-l,c=-c,g=-g,u=-u),1-C>1e-6?(d=Math.acos(C),f=Math.sin(d),b=Math.sin((1-t)*d)/f,A=Math.sin(t*d)/f):(b=1-t,A=t),i.x=b*r+A*l,i.y=b*o+A*c,i.z=b*a+A*g,i.w=b*s+A*u,i}integrate(e,t,i,r){r===void 0&&(r=new mo);const o=e.x*i.x,a=e.y*i.y,s=e.z*i.z,l=this.x,c=this.y,g=this.z,u=this.w,d=t*.5;return r.x+=d*(o*u+a*g-s*c),r.y+=d*(a*u+s*l-o*g),r.z+=d*(s*u+o*c-a*l),r.w+=d*(-o*l-a*c-s*g),r}}const gCe=new ae,uCe=new ae,dCe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class nn{constructor(e){e===void 0&&(e={}),this.id=nn.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,t){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,t,i,r){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}nn.idCounter=0;nn.types=dCe;class Vo{constructor(e){e===void 0&&(e={}),this.position=new ae,this.quaternion=new mo,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return Vo.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return Vo.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return t===void 0&&(t=new ae),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return r===void 0&&(r=new ae),i.vsub(e,r),t.conjugate(_M),_M.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return r===void 0&&(r=new ae),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return i===void 0&&(i=new ae),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return r===void 0&&(r=new ae),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const _M=new mo;new ae;new ae;new ae;new ae;new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae;new ae;new mo;new ts;new Yl;new Yl;new Yl;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new mo;new ae;new ae;new ae;new ae;class Rv{constructor(){this.rayFromWorld=new ae,this.rayToWorld=new ae,this.hitNormalWorld=new ae,this.hitPointWorld=new ae,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,a,s){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=a,this.distance=s}}let Lz,Tz,kz,Pz,Dz,Uz,Oz;const HB={CLOSEST:1,ANY:2,ALL:4};Lz=nn.types.SPHERE;Tz=nn.types.PLANE;kz=nn.types.BOX;Pz=nn.types.CYLINDER;Dz=nn.types.CONVEXPOLYHEDRON;Uz=nn.types.HEIGHTFIELD;Oz=nn.types.TRIMESH;class Ur{get[Lz](){return this._intersectSphere}get[Tz](){return this._intersectPlane}get[kz](){return this._intersectBox}get[Pz](){return this._intersectConvex}get[Dz](){return this._intersectConvex}get[Uz](){return this._intersectHeightfield}get[Oz](){return this._intersectTrimesh}constructor(e,t){e===void 0&&(e=new ae),t===void 0&&(t=new ae),this.from=e.clone(),this.to=t.clone(),this.direction=new ae,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=Ur.ANY,this.result=new Rv,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||Ur.ANY,this.result=t.result||new Rv,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=typeof t.checkCollisionResponse<"u"?t.checkCollisionResponse:!0,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(WM),Nb.length=0,e.broadphase.aabbQuery(e,WM,Nb),this.intersectBodies(Nb),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=ICe,o=CCe;for(let a=0,s=e.shapes.length;a<s;a++){const l=e.shapes[a];if(!(i&&!l.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[a],o),e.quaternion.vmult(e.shapeOffsets[a],r),r.vadd(e.position,r),this.intersectShape(l,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){const o=this.from;if(ZCe(o,this.direction,i)>e.boundingSphereRadius)return;const s=this[e.type];s&&s.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const a=this.from,s=this.to,l=this.direction,c=new ae(0,0,1);t.vmult(c,c);const g=new ae;a.vsub(i,g);const u=g.dot(c);s.vsub(i,g);const d=g.dot(c);if(u*d>0||a.distanceTo(s)<u)return;const C=c.dot(l);if(Math.abs(C)<this.precision)return;const f=new ae,b=new ae,A=new ae;a.vsub(i,f);const p=-c.dot(f)/C;l.scale(p,b),a.vadd(b,A),this.reportIntersection(c,A,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){e.data,e.elementSize;const a=hCe;a.from.copy(this.from),a.to.copy(this.to),Vo.pointToLocalFrame(i,t,a.from,a.from),Vo.pointToLocalFrame(i,t,a.to,a.to),a.updateDirection();const s=mCe;let l,c,g,u;l=c=0,g=u=e.data.length-1;const d=new ts;a.getAABB(d),e.getIndexOfPosition(d.lowerBound.x,d.lowerBound.y,s,!0),l=Math.max(l,s[0]),c=Math.max(c,s[1]),e.getIndexOfPosition(d.upperBound.x,d.upperBound.y,s,!0),g=Math.min(g,s[0]+1),u=Math.min(u,s[1]+1);for(let C=l;C<g;C++)for(let f=c;f<u;f++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(C,f,d),!!d.overlapsRay(a)){if(e.getConvexTrianglePillar(C,f,!1),Vo.pointToWorldFrame(i,t,e.pillarOffset,Sf),this._intersectConvex(e.pillarConvex,t,Sf,r,o,VM),this.result.shouldStop)return;e.getConvexTrianglePillar(C,f,!0),Vo.pointToWorldFrame(i,t,e.pillarOffset,Sf),this._intersectConvex(e.pillarConvex,t,Sf,r,o,VM)}}}_intersectSphere(e,t,i,r,o){const a=this.from,s=this.to,l=e.radius,c=(s.x-a.x)**2+(s.y-a.y)**2+(s.z-a.z)**2,g=2*((s.x-a.x)*(a.x-i.x)+(s.y-a.y)*(a.y-i.y)+(s.z-a.z)*(a.z-i.z)),u=(a.x-i.x)**2+(a.y-i.y)**2+(a.z-i.z)**2-l**2,d=g**2-4*c*u,C=fCe,f=pCe;if(!(d<0))if(d===0)a.lerp(s,d,C),C.vsub(i,f),f.normalize(),this.reportIntersection(f,C,o,r,-1);else{const b=(-g-Math.sqrt(d))/(2*c),A=(-g+Math.sqrt(d))/(2*c);if(b>=0&&b<=1&&(a.lerp(s,b,C),C.vsub(i,f),f.normalize(),this.reportIntersection(f,C,o,r,-1)),this.result.shouldStop)return;A>=0&&A<=1&&(a.lerp(s,A,C),C.vsub(i,f),f.normalize(),this.reportIntersection(f,C,o,r,-1))}}_intersectConvex(e,t,i,r,o,a){const s=ACe,l=NM,c=a&&a.faceList||null,g=e.faces,u=e.vertices,d=e.faceNormals,C=this.direction,f=this.from,b=this.to,A=f.distanceTo(b),p=c?c.length:g.length,y=this.result;for(let B=0;!y.shouldStop&&B<p;B++){const x=c?c[B]:B,w=g[x],S=d[x],Z=t,M=i;l.copy(u[w[0]]),Z.vmult(l,l),l.vadd(M,l),l.vsub(f,l),Z.vmult(S,s);const q=C.dot(s);if(Math.abs(q)<this.precision)continue;const _=s.dot(l)/q;if(!(_<0)){C.scale(_,Mo),Mo.vadd(f,Mo),us.copy(u[w[0]]),Z.vmult(us,us),M.vadd(us,us);for(let V=1;!y.shouldStop&&V<w.length-1;V++){Ks.copy(u[w[V]]),Ls.copy(u[w[V+1]]),Z.vmult(Ks,Ks),Z.vmult(Ls,Ls),M.vadd(Ks,Ks),M.vadd(Ls,Ls);const Y=Mo.distanceTo(f);!(Ur.pointInTriangle(Mo,us,Ks,Ls)||Ur.pointInTriangle(Mo,Ks,us,Ls))||Y>A||this.reportIntersection(s,Mo,o,r,x)}}}}_intersectTrimesh(e,t,i,r,o,a){const s=bCe,l=wCe,c=SCe,g=NM,u=vCe,d=yCe,C=BCe,f=GCe,b=xCe,A=e.indices;e.vertices;const p=this.from,y=this.to,B=this.direction;c.position.copy(i),c.quaternion.copy(t),Vo.vectorToLocalFrame(i,t,B,u),Vo.pointToLocalFrame(i,t,p,d),Vo.pointToLocalFrame(i,t,y,C),C.x*=e.scale.x,C.y*=e.scale.y,C.z*=e.scale.z,d.x*=e.scale.x,d.y*=e.scale.y,d.z*=e.scale.z,C.vsub(d,u),u.normalize();const x=d.distanceSquared(C);e.tree.rayQuery(this,c,l);for(let w=0,S=l.length;!this.result.shouldStop&&w!==S;w++){const Z=l[w];e.getNormal(Z,s),e.getVertex(A[Z*3],us),us.vsub(d,g);const M=u.dot(s),q=s.dot(g)/M;if(q<0)continue;u.scale(q,Mo),Mo.vadd(d,Mo),e.getVertex(A[Z*3+1],Ks),e.getVertex(A[Z*3+2],Ls);const _=Mo.distanceSquared(d);!(Ur.pointInTriangle(Mo,Ks,us,Ls)||Ur.pointInTriangle(Mo,us,Ks,Ls))||_>x||(Vo.vectorToWorldFrame(t,s,b),Vo.pointToWorldFrame(i,t,Mo,f),this.reportIntersection(b,f,o,r,Z))}l.length=0}reportIntersection(e,t,i,r,o){const a=this.from,s=this.to,l=a.distanceTo(t),c=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(c.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case Ur.ALL:this.hasHit=!0,c.set(a,s,e,t,i,r,l),c.hasHit=!0,this.callback(c);break;case Ur.CLOSEST:(l<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(a,s,e,t,i,r,l));break;case Ur.ANY:this.hasHit=!0,c.hasHit=!0,c.set(a,s,e,t,i,r,l),c.shouldStop=!0;break}}static pointInTriangle(e,t,i,r){r.vsub(t,au),i.vsub(t,zI),e.vsub(t,Fb);const o=au.dot(au),a=au.dot(zI),s=au.dot(Fb),l=zI.dot(zI),c=zI.dot(Fb);let g,u;return(g=l*s-a*c)>=0&&(u=o*c-a*s)>=0&&g+u<o*l-a*a}}Ur.CLOSEST=HB.CLOSEST;Ur.ANY=HB.ANY;Ur.ALL=HB.ALL;const WM=new ts,Nb=[],zI=new ae,Fb=new ae,ICe=new ae,CCe=new mo,Mo=new ae,us=new ae,Ks=new ae,Ls=new ae;new ae;new Rv;const VM={faceList:[0]},Sf=new ae,hCe=new Ur,mCe=[],fCe=new ae,pCe=new ae,ACe=new ae;new ae;new ae;const NM=new ae,bCe=new ae,vCe=new ae,yCe=new ae,BCe=new ae,xCe=new ae,GCe=new ae;new ts;const wCe=[],SCe=new Vo,au=new ae,Zf=new ae;function ZCe(n,e,t){t.vsub(n,au);const i=au.dot(e);return e.scale(i,Zf),Zf.vadd(n,Zf),t.distanceTo(Zf)}new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new Ur;new ae;new ae;new ae;new ae(1,0,0),new ae(0,1,0),new ae(0,0,1);new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ts;new ae;new ts;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ts;new ae;new Vo;new ts;nn.types.SPHERE,nn.types.SPHERE|nn.types.PLANE,nn.types.BOX|nn.types.BOX,nn.types.SPHERE|nn.types.BOX,nn.types.PLANE|nn.types.BOX,nn.types.CONVEXPOLYHEDRON,nn.types.SPHERE|nn.types.CONVEXPOLYHEDRON,nn.types.PLANE|nn.types.CONVEXPOLYHEDRON,nn.types.BOX|nn.types.CONVEXPOLYHEDRON,nn.types.SPHERE|nn.types.HEIGHTFIELD,nn.types.BOX|nn.types.HEIGHTFIELD,nn.types.CONVEXPOLYHEDRON|nn.types.HEIGHTFIELD,nn.types.PARTICLE|nn.types.SPHERE,nn.types.PLANE|nn.types.PARTICLE,nn.types.BOX|nn.types.PARTICLE,nn.types.PARTICLE|nn.types.CONVEXPOLYHEDRON,nn.types.CYLINDER,nn.types.SPHERE|nn.types.CYLINDER,nn.types.PLANE|nn.types.CYLINDER,nn.types.BOX|nn.types.CYLINDER,nn.types.CONVEXPOLYHEDRON|nn.types.CYLINDER,nn.types.HEIGHTFIELD|nn.types.CYLINDER,nn.types.PARTICLE|nn.types.CYLINDER,nn.types.SPHERE|nn.types.TRIMESH,nn.types.PLANE|nn.types.TRIMESH;new ae;new ae;new ae;new ae;new ae;new mo;new mo;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ts;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae,new ae,new ae,new ae,new ae,new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new mo;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ae;new ts;new Ur;const YI=globalThis.performance||{};if(!YI.now){let n=Date.now();YI.timing&&YI.timing.navigationStart&&(n=YI.timing.navigationStart),YI.now=()=>Date.now()-n}new ae;const qCe=v.createContext(null),RCe=()=>v.useContext(qCe),jz=v.createContext(null),MCe=()=>{const n=v.useContext(jz);if(!n)throw new Error("Physics context not found. @react-three/cannon & components can only be used within a Physics provider");return n};new k(1,1,1);new k;new vt;const FM=new Sn;function _Ce(n){const e=v.useRef(null);return n&&typeof n!="function"?n:e}function HM(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Zr(n,e){const t=e===void 0?"":`/${e}`;return typeof n=="function"?null:n&&n.current&&`${n.current.uuid}${t}`}const WCe=new rn,VCe=new Qt,NCe=n=>e=>n(WCe.setFromQuaternion(VCe.fromArray(e)).toArray());let Jz=0;function Hb(n,e,t,i,r,o){return o===void 0&&(o="bodies"),a=>{const s=Jz++;t[s]={[i]:a};const l=Zr(n,r);return l&&e.subscribe({props:{id:s,target:o,type:i},uuid:l}),()=>{delete t[s],e.unsubscribe({props:s})}}}function EM(n,e){let{position:t=[0,0,0],rotation:i=[0,0,0],userData:r={}}=e;n.userData=r,n.position.set(...t),n.rotation.set(...i),n.updateMatrix()}function XM(n,e,t){let{onCollide:i,onCollideBegin:r,onCollideEnd:o}=e;n[t]={collide:i,collideBegin:r,collideEnd:o}}function EB(n,e,t,i,r){i===void 0&&(i=null),r===void 0&&(r=[]);const o=_Ce(i),{events:a,refs:s,scaleOverrides:l,subscriptions:c,worker:g}=MCe(),u=RCe();v.useLayoutEffect(()=>{o.current||(o.current=new Sn);const C=o.current,f=g,b=C instanceof qu?(C.instanceMatrix.setUsage(fN),C.count):1,A=C instanceof qu?new Array(b).fill(0).map((y,B)=>`${C.uuid}/${B}`):[C.uuid],p=C instanceof qu?A.map((y,B)=>{const x=e(B);return EM(FM,x),C.setMatrixAt(B,FM.matrix),C.instanceMatrix.needsUpdate=!0,s[y]=C,u==null||u.add(y,x,n),XM(a,x,y),{...x,args:t(x.args)}}):A.map((y,B)=>{const x=e(B);return EM(C,x),s[y]=C,u==null||u.add(y,x,n),XM(a,x,y),{...x,args:t(x.args)}});return f.addBodies({props:p.map(y=>{let{onCollide:B,onCollideBegin:x,onCollideEnd:w,...S}=y;return{onCollide:!!B,...S}}),type:n,uuid:A}),()=>{A.forEach(y=>{delete s[y],u==null||u.remove(y),delete a[y]}),f.removeBodies({uuid:A})}},r);const d=v.useMemo(()=>{const C=(B,x)=>{const w=`set${HM(B)}`;return{set:S=>{const Z=Zr(o,x);Z&&g[w]({props:S,uuid:Z})},subscribe:Hb(o,g,c,B,x)}},f=B=>({copy:w=>{let{w:S,x:Z,y:M,z:q}=w;const _=Zr(o,B);_&&g.setQuaternion({props:[Z,M,q,S],uuid:_})},set:(w,S,Z,M)=>{const q=Zr(o,B);q&&g.setQuaternion({props:[w,S,Z,M],uuid:q})},subscribe:Hb(o,g,c,"quaternion",B)}),b=B=>({copy:x=>{let{x:w,y:S,z:Z}=x;const M=Zr(o,B);M&&g.setRotation({props:[w,S,Z],uuid:M})},set:(x,w,S)=>{const Z=Zr(o,B);Z&&g.setRotation({props:[x,w,S],uuid:Z})},subscribe:x=>{const w=Jz++,S="bodies",Z="quaternion",M=Zr(o,B);return c[w]={[Z]:NCe(x)},M&&g.subscribe({props:{id:w,target:S,type:Z},uuid:M}),()=>{delete c[w],g.unsubscribe({props:w})}}}),A=(B,x)=>{const w=`set${HM(B)}`;return{copy:S=>{let{x:Z,y:M,z:q}=S;const _=Zr(o,x);_&&g[w]({props:[Z,M,q],uuid:_})},set:(S,Z,M)=>{const q=Zr(o,x);q&&g[w]({props:[S,Z,M],uuid:q})},subscribe:Hb(o,g,c,B,x)}};function p(B){return{allowSleep:C("allowSleep",B),angularDamping:C("angularDamping",B),angularFactor:A("angularFactor",B),angularVelocity:A("angularVelocity",B),applyForce(x,w){const S=Zr(o,B);S&&g.applyForce({props:[x,w],uuid:S})},applyImpulse(x,w){const S=Zr(o,B);S&&g.applyImpulse({props:[x,w],uuid:S})},applyLocalForce(x,w){const S=Zr(o,B);S&&g.applyLocalForce({props:[x,w],uuid:S})},applyLocalImpulse(x,w){const S=Zr(o,B);S&&g.applyLocalImpulse({props:[x,w],uuid:S})},applyTorque(x){const w=Zr(o,B);w&&g.applyTorque({props:[x],uuid:w})},collisionFilterGroup:C("collisionFilterGroup",B),collisionFilterMask:C("collisionFilterMask",B),collisionResponse:C("collisionResponse",B),fixedRotation:C("fixedRotation",B),isTrigger:C("isTrigger",B),linearDamping:C("linearDamping",B),linearFactor:A("linearFactor",B),mass:C("mass",B),material:C("material",B),position:A("position",B),quaternion:f(B),rotation:b(B),scaleOverride(x){const w=Zr(o,B);w&&(l[w]=new k(...x))},sleep(){const x=Zr(o,B);x&&g.sleep({uuid:x})},sleepSpeedLimit:C("sleepSpeedLimit",B),sleepTimeLimit:C("sleepTimeLimit",B),userData:C("userData",B),velocity:A("velocity",B),wakeUp(){const x=Zr(o,B);x&&g.wakeUp({uuid:x})}}}const y={};return{...p(void 0),at:B=>y[B]||(y[B]=p(B))}},[]);return[o,d]}function Eb(n){return n instanceof k?[n.x,n.y,n.z]:n}function Kn(n,e,t){const i=[1,1,1];return EB("Box",n,function(r){return r===void 0&&(r=i),r},e,t)}function FCe(n,e,t){return EB("Sphere",n,function(i){if(i===void 0&&(i=[1]),!Array.isArray(i))throw new Error("useSphere args must be an array");return[i[0]]},e,t)}function qi(n,e,t){return EB("ConvexPolyhedron",n,function(i){let[r,o,a,s,l]=i===void 0?[]:i;return[r&&r.map(Eb),o,a&&a.map(Eb),s&&s.map(Eb),l]},e,t)}const HCe=new k,ECe=new k(1,1,1),XCe=new Qt,qf=new vt;function zM(n,e,t,i,r){return i===void 0&&(i=ECe),n!==void 0?(qf.compose(HCe.fromArray(e,n*3),XCe.fromArray(t,n*4),i),r&&(r.matrixAutoUpdate=!1,r.matrix.copy(qf)),qf):qf.identity()}const zCe=()=>{const n=[];return e=>n.includes(e)?!1:!!n.push(e)};function YCe(n){let{allowSleep:e=!1,axisIndex:t=0,broadphase:i="Naive",children:r,defaultContactMaterial:o={contactEquationStiffness:1e6},frictionGravity:a=null,gravity:s=[0,-9.81,0],isPaused:l=!1,iterations:c=5,maxSubSteps:g=10,quatNormalizeFast:u=!1,quatNormalizeSkip:d=0,shouldInvalidate:C=!0,size:f=1e3,solver:b="GS",stepSize:A=1/60,tolerance:p=.001}=n;const{invalidate:y}=Qn(),[{bodies:B,events:x,refs:w,scaleOverrides:S,subscriptions:Z,worker:M}]=v.useState(()=>({bodies:{},events:{},refs:{},scaleOverrides:{},subscriptions:{},worker:new EIe({allowSleep:e,axisIndex:t,broadphase:i,defaultContactMaterial:o,frictionGravity:a,gravity:s,iterations:c,quatNormalizeFast:u,quatNormalizeSkip:d,size:f,solver:b,tolerance:p})}));let q=0;const _=v.useCallback((D,N)=>{l||(q+=N,M.step({maxSubSteps:g,stepSize:A,timeSinceLastCalled:q}),q=0)},[l,g,A]),V=D=>{var N;let{body:L,contact:{bi:P,bj:O,...ie},target:ge,...J}=D;const Ce=(N=x[ge])==null?void 0:N.collide;Ce&&Ce({body:w[L],contact:{bi:w[P],bj:w[O],...ie},target:w[ge],...J})},Y=D=>{var N,L;let{bodyA:P,bodyB:O}=D;const ie=(N=x[P])==null?void 0:N.collideBegin;ie&&ie({body:w[O],op:"event",target:w[P],type:"collideBegin"});const ge=(L=x[O])==null?void 0:L.collideBegin;ge&&ge({body:w[P],op:"event",target:w[O],type:"collideBegin"})},X=D=>{var N,L;let{bodyA:P,bodyB:O}=D;const ie=(N=x[P])==null?void 0:N.collideEnd;ie&&ie({body:w[O],op:"event",target:w[P],type:"collideEnd"});const ge=(L=x[O])==null?void 0:L.collideEnd;ge&&ge({body:w[P],op:"event",target:w[O],type:"collideEnd"})},K=D=>{let{active:N,bodies:L=[],observations:P,positions:O,quaternions:ie}=D;for(let ge=0;ge<L.length;ge++)B[L[ge]]=ge;if(P.forEach(ge=>{let[J,Ce,ve]=ge;const Xe=(Z[J]||{})[ve];Xe&&Xe(Ce)}),!!N){for(const ge of Object.values(w).filter(zCe()))if(ge instanceof qu)for(let J=0;J<ge.count;J++){const Ce=`${ge.uuid}/${J}`,ve=B[Ce];ve!==void 0&&(ge.setMatrixAt(J,zM(ve,O,ie,S[Ce])),ge.instanceMatrix.needsUpdate=!0)}else{const J=S[ge.uuid]||ge.scale;zM(B[ge.uuid],O,ie,J,ge)}C&&y()}},Q=D=>{var N;let{body:L,ray:{uuid:P,...O},...ie}=D;const ge=(N=x[P])==null?void 0:N.rayhit;ge&&ge({body:L?w[L]:null,ray:{uuid:P,...O},...ie})};Pi(_),v.useEffect(()=>(M.connect(),M.init(),M.on("collide",V),M.on("collideBegin",Y),M.on("collideEnd",X),M.on("frame",K),M.on("rayhit",Q),()=>{M.terminate(),M.removeAllListeners()}),[]),v.useEffect(()=>{M.axisIndex=t},[t]),v.useEffect(()=>{M.broadphase=i},[i]),v.useEffect(()=>{M.gravity=s},[s]),v.useEffect(()=>{M.iterations=c},[c]),v.useEffect(()=>{M.tolerance=p},[p]);const z=v.useMemo(()=>({bodies:B,events:x,refs:w,scaleOverrides:S,subscriptions:Z,worker:M}),[B,x,w,Z,M]);return I.jsx(jz.Provider,{value:z,children:r})}const KCe=()=>{const n={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",ShiftLeft:"run"},e=r=>n[r],[t,i]=v.useState({forward:!1,backward:!1,left:!1,right:!1,run:!1});return v.useEffect(()=>{const r=a=>i(s=>({...s,[e(a.code)]:!0})),o=a=>i(s=>({...s,[e(a.code)]:!1}));return document.addEventListener("keydown",r),document.addEventListener("keyup",o),()=>{document.removeEventListener("keydown",r),document.removeEventListener("keyup",o)}},[]),t},LCe=({positionCharacter:n,velocidad:e,altura:t,args:i,position:r})=>{const o=new k,a=new k,s=new k,l=e,{camera:c}=Qn(),[g,u]=FCe(()=>({mass:1,type:"Dynamic",position:r,args:i})),{forward:d,backward:C,left:f,right:b,run:A}=KCe(),p=v.useRef([0,0,0]);return v.useEffect(()=>u.velocity.subscribe(y=>p.current=y),[]),v.useEffect(()=>{n&&u.position.set(n[0],n[1],n[2])},[n,u]),Pi(y=>{let B=new k;g.current.getWorldPosition(B),c.position.set(B.x,B.y+t,B.z),a.set(0,0,Number(C)-Number(d)),s.set(Number(f)-Number(b),0,0),A&&Math.abs(p.current[1])<.05?o.subVectors(a,s).normalize().multiplyScalar(l*3.5).applyEuler(c.rotation):o.subVectors(a,s).normalize().multiplyScalar(l).applyEuler(c.rotation),u.velocity.set(o.x,p.current[1],o.z)}),I.jsx("group",{children:I.jsxs("mesh",{castShadow:!0,ref:g,children:[I.jsx("sphereGeometry",{args:i}),I.jsx("meshStandardMaterial",{color:"#FFFF00",transparent:!0,opacity:0})]})})};function TCe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/pasamanos/pasamanos.glb"),i=a=>{var u;const s=[],l=[],c=a.attributes.position.array,g=(u=a.index)==null?void 0:u.array;for(let d=0;d<c.length;d+=3)s.push(new k(c[d],c[d+1],c[d+2]));if(g)for(let d=0;d<g.length;d+=3)l.push([g[d],g[d+1],g[d+2]]);return{vertices:s,faces:l}},{vertices:r,faces:o}=i(e.Cilindro001.geometry);return qi(()=>({mass:0,args:[r,o],position:[-33.42,5,-303.893]})),I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"Cilindro001",geometry:e.Cilindro001.geometry,material:t.barras,position:[-33.42,3.988,-303.893]})})}fe.preload("/recorrido-virtual-espe/models/pasamanos/pasamanos.glb");const ri=n=>{const{camera:e}=Qn(),[t,i]=v.useState(1/0);return Pi(()=>{const r=new k;e.getWorldPosition(r);const o=new k(...n),a=r.distanceTo(o);i(a)}),t};function kCe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/pasamanos/pasamanos2.glb");return ri([-33.44,4.739,-303.897])>300?null:I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"Cilindro016",castShadow:!0,receiveShadow:!0,geometry:e.Cilindro016.geometry,material:t.barras,position:[-33.44,4.739,-303.897]})})}fe.preload("/recorrido-virtual-espe/models/pasamanos/pasamanos2.glb");function PCe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/taller.glb");return Kn(()=>({type:"Static",mass:1,args:[36,7,22],position:[195,6,-14.82]})),ri([174.756,9.376,-5.95])>270?null:(t.vidrio=new Qr({color:"white",opacity:.9,transparent:!0,fog:!0}),t["madera clara 2"].roughness=.8,t["madera paredes"].roughness=.8,I.jsxs("group",{...n,dispose:null,children:[I.jsxs("group",{name:"columna1016",position:[174.756,9.376,-5.72],children:[I.jsx("mesh",{name:"Cubo360",castShadow:!0,receiveShadow:!0,geometry:e.Cubo360.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo360_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo360_1.geometry,material:t["madera clara 2"]}),I.jsx("mesh",{name:"Cubo360_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo360_2.geometry,material:t["madera paredes"]})]}),I.jsx("mesh",{name:"pared_derecha002",castShadow:!0,receiveShadow:!0,geometry:e.pared_derecha002.geometry,material:t["pared blanca"],position:[212.812,9.376,-17.001]}),I.jsxs("group",{name:"columna1018",position:[174.756,9.376,-25.586],children:[I.jsx("mesh",{name:"Cubo370",castShadow:!0,receiveShadow:!0,geometry:e.Cubo370.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo370_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo370_1.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo370_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo370_2.geometry,material:t["madera clara 2"]})]}),I.jsx("mesh",{name:"columna1019",castShadow:!0,receiveShadow:!0,geometry:e.columna1019.geometry,material:t["pared blanca"],position:[212.12,9.376,-5.72]}),I.jsxs("group",{name:"pared_frente006",position:[196.736,9.376,-4.184],children:[I.jsx("mesh",{name:"Cubo378",castShadow:!0,receiveShadow:!0,geometry:e.Cubo378.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo378_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo378_1.geometry,material:t.vidrio})]}),I.jsxs("group",{name:"pared_frente012",position:[193.816,9.376,-27.103],rotation:[Math.PI,0,Math.PI],children:[I.jsx("mesh",{name:"Cubo384",castShadow:!0,receiveShadow:!0,geometry:e.Cubo384.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo384_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo384_1.geometry,material:t.vidrio})]}),I.jsxs("group",{name:"pared_frente002",position:[175.647,7.542,-19.854],children:[I.jsx("mesh",{name:"Cubo385",castShadow:!0,receiveShadow:!0,geometry:e.Cubo385.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo385_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo385_1.geometry,material:t.vidrio})]}),I.jsxs("group",{name:"pared_frente003",position:[175.439,7.542,-11.452],children:[I.jsx("mesh",{name:"Cubo386",castShadow:!0,receiveShadow:!0,geometry:e.Cubo386.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo386_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo386_1.geometry,material:t.vidrio})]}),I.jsxs("group",{name:"pared_frente005",position:[175.439,15.442,-15.653],children:[I.jsx("mesh",{name:"Cubo387",castShadow:!0,receiveShadow:!0,geometry:e.Cubo387.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo387_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo387_1.geometry,material:t.vidrio})]})]}))}fe.preload("/recorrido-virtual-espe/models/planta_baja/taller.glb");function DCe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/zona_edificio.glb"),[i]=Kn(()=>({type:"Static",mass:1,args:[57,7,24],position:[124.758,6,-15.748]}));return ri([124.758,9.376,-15.748])>320?null:(t["Material.021"]=new ii({color:8421504,metalness:.8,roughness:.2}),I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{ref:i,visible:!1}),I.jsx("mesh",{name:"pared",castShadow:!0,receiveShadow:!0,geometry:e.pared.geometry,material:t["pared blanca"],position:[124.758,9.376,-15.748]}),I.jsx("mesh",{name:"columna1001",castShadow:!0,receiveShadow:!0,geometry:e.columna1001.geometry,material:e.columna1001.material,position:[152.871,9.376,-18.628]}),I.jsx("mesh",{name:"columna1002",castShadow:!0,receiveShadow:!0,geometry:e.columna1002.geometry,material:e.columna1002.material,position:[96.646,9.376,-18.628]}),I.jsx("mesh",{name:"alfombra",geometry:e.alfombra.geometry,material:t.verde,position:[124.582,1.489,-26.437]}),I.jsxs("group",{name:"puerra_ascensor",position:[124.581,7.573,-25.248],children:[I.jsx("mesh",{name:"Cubo149",geometry:e.Cubo149.geometry,material:t["plateado ascensor"]}),I.jsx("mesh",{name:"Cubo149_1",geometry:e.Cubo149_1.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo149_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo149_2.geometry,material:t.barras})]}),I.jsxs("group",{name:"puerta_3",position:[100.074,7.692,-27.442],children:[I.jsx("mesh",{name:"Círculo001",castShadow:!0,receiveShadow:!0,geometry:e.Círculo001.geometry,material:t["Material.021"]}),I.jsx("mesh",{name:"Círculo001_1",castShadow:!0,receiveShadow:!0,geometry:e.Círculo001_1.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Círculo001_2",castShadow:!0,receiveShadow:!0,geometry:e.Círculo001_2.geometry,material:t["cafe oscuro"]})]}),I.jsx("mesh",{name:"puerta_gruesa",castShadow:!0,receiveShadow:!0,geometry:e.puerta_gruesa.geometry,material:t["barras cuartos"],position:[133.35,7.692,-27.78]})]}))}fe.preload("/recorrido-virtual-espe/models/planta_baja/zona_edificio.glb");function UCe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/zona_estudiantes/banca1.glb");e["madera paredes"].roughness=.8;const t=v.useRef(null),i=v.useRef(null),r=[{position:[-151,2.918,-11.303],rotation:[0,0,0],scale:[1,1,1]},{position:[-140.443,2.92,-7.382],rotation:[0,0,0],scale:[1,1,1]},{position:[190.44,3.14,-29.8],rotation:[0,Math.PI/1.53,0],scale:[1,1,.6]},{position:[140.44,3.14,-52],rotation:[0,Math.PI/1.47,0],scale:[1,1,.5]},{position:[-71.639,-16.228,-37.9],rotation:[0,Math.PI/1.34,0],scale:[1,1,.2]},{position:[145,3.14,-2.4],rotation:[0,Math.PI/1.41,0],scale:[1,1,.4]},{position:[105,3.14,-2.4],rotation:[0,Math.PI/1.41,0],scale:[1,1,.4]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,castShadow:!0,receiveShadow:!0,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo030.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo030_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["Metal_Rough.002"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/zona_estudiantes/banca1.glb");function OCe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/zona_estudiantes/banca_cubiculo.glb");return ri([-145.959,7.485,-9.366])>200?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"mesa_principal",position:[-145.959,7.485,-9.366],rotation:[Math.PI/2,0,.213],children:[I.jsx("mesh",{name:"Plano005",geometry:e.Plano005.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Plano005_1",geometry:e.Plano005_1.geometry,material:t["Metal_Rough.002"]}),I.jsx("mesh",{name:"Plano005_2",geometry:e.Plano005_2.geometry,material:t["madera clara 2"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/zona_estudiantes/banca_cubiculo.glb");function jCe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/zona_estudiantes/columna.glb"),t=v.useRef(null),i=[{position:[-123.627,9.376,-28],rotation:[0,0,0],scale:[1,1,1]},{position:[-133.567,9.376,-7],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.columna_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/zona_estudiantes/columna.glb");function JCe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/zona_limpieza.glb"),i=u=>{var A;const d=[],C=[],f=u.attributes.position.array,b=(A=u.index)==null?void 0:A.array;for(let p=0;p<f.length;p+=3)d.push(new k(f[p],f[p+1],f[p+2]));if(b)for(let p=0;p<b.length;p+=3)C.push([b[p],b[p+1],b[p+2]]);return{vertices:d,faces:C}},{vertices:r,faces:o}=i(e.Cubo124.geometry),{vertices:a,faces:s}=i(e.Cubo124_3.geometry),{vertices:l,faces:c}=i(e.Cubo124_4.geometry);return qi(()=>({mass:0,args:[r,o],position:[-104.776,10.264,-61.923]})),qi(()=>({mass:0,args:[a,s],position:[-104.776,10.264,-61.923]})),qi(()=>({mass:0,args:[l,c],position:[-104.776,10.264,-61.923]})),ri([-104.776,10.264,-61.923])>300?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"zona_limpieza",position:[-104.776,10.264,-61.923],children:[I.jsx("mesh",{name:"Cubo124",castShadow:!0,receiveShadow:!0,geometry:e.Cubo124.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo124_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo124_1.geometry,material:t["madera clara 2"]}),I.jsx("mesh",{name:"Cubo124_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo124_2.geometry,material:t["madera clara 2.004"]}),I.jsx("mesh",{name:"Cubo124_3",castShadow:!0,receiveShadow:!0,geometry:e.Cubo124_3.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo124_4",castShadow:!0,receiveShadow:!0,geometry:e.Cubo124_4.geometry,material:t["pared blanca"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/zona_limpieza.glb");function QCe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_1_arriba.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=v.useRef(null),s=v.useRef(null),l=[{position:[-100.123,10.284,-86.037],rotation:[0,0,0],scale:[1,1,1]},{position:[-72.38,10.295,-195.9],rotation:[0,0,0],scale:[1,1,.998]},{position:[-31.24,10.3,-357.825],rotation:[0,0,0],scale:[1,1,.998]},{position:[-3.4,10.484,-467.654],rotation:[0,4e-4,0],scale:[1,1,1]}];return e.vidrio=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),v.useEffect(()=>{l.forEach((c,g)=>{const u=new k(...c.position),d=new rn(...c.rotation),C=new k(c.scale[0],c.scale[1],c.scale[2]),f=new vt;f.compose(u,new Qt().setFromEuler(d),C),t.current.setMatrixAt(g,f),i.current.setMatrixAt(g,f),r.current.setMatrixAt(g,f),o.current.setMatrixAt(g,f),a.current.setMatrixAt(g,f),s.current.setMatrixAt(g,f)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0,a.current.instanceMatrix.needsUpdate=!0,s.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1,a.current.frustumCulled=!1,s.current.frustumCulled=!1},[l]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo012.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo012_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.vidrio})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo012_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo012_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]}),I.jsxs("instancedMesh",{ref:a,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo012_4.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:s,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo012_5.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["piso aulas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_1_arriba.glb");function $Ce(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_2_arriba.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=v.useRef(null),s=v.useRef(null),l=[{position:[-93.171,10.294,-113.749],rotation:[0,0,0],scale:[1,1,1]},{position:[-65.38,10.294,-223.56],rotation:[0,0,0],scale:[1,1,1]},{position:[-24.288,10.294,-385.535],rotation:[0,0,0],scale:[1,1,1]}];return e.vidrio=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),v.useEffect(()=>{l.forEach((c,g)=>{const u=new k(...c.position),d=new rn(...c.rotation),C=new k(c.scale[0],c.scale[1],c.scale[2]),f=new vt;f.compose(u,new Qt().setFromEuler(d),C),t.current.setMatrixAt(g,f),i.current.setMatrixAt(g,f),r.current.setMatrixAt(g,f),o.current.setMatrixAt(g,f),a.current.setMatrixAt(g,f),s.current.setMatrixAt(g,f)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0,a.current.instanceMatrix.needsUpdate=!0,s.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1,a.current.frustumCulled=!1,s.current.frustumCulled=!1},[l]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo206.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo206_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.vidrio})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo206_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo206_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]}),I.jsxs("instancedMesh",{ref:a,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo206_4.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:s,args:[null,null,l.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo206_5.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["piso aulas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_2_arriba.glb");function ehe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_3_arriba.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=v.useRef(null),s=[{position:[-83.729,10.186,-140.592],rotation:[0,0,0],scale:[1,1,1]},{position:[-76.885,10.186,-167.815],rotation:[0,-4e-4,0],scale:[1,1,.999]},{position:[-55.884,10.186,-250.419],rotation:[0,0,0],scale:[1,1,1]},{position:[-35.77,10.186,-329.7],rotation:[0,-65e-5,0],scale:[1,1,1]},{position:[-14.831,10.186,-412.37],rotation:[0,0,0],scale:[1,1,1]},{position:[-7.89,10.186,-439.556],rotation:[0,0,0],scale:[1,1,.999]}];return v.useEffect(()=>{s.forEach((l,c)=>{const g=new k(...l.position),u=new rn(...l.rotation),d=new k(l.scale[0],l.scale[1],l.scale[2]),C=new vt;C.compose(g,new Qt().setFromEuler(u),d),t.current.setMatrixAt(c,C),i.current.setMatrixAt(c,C),r.current.setMatrixAt(c,C),o.current.setMatrixAt(c,C),a.current.setMatrixAt(c,C)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0,a.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1,a.current.frustumCulled=!1},[s]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo123.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo123_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo123_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo123_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]}),I.jsxs("instancedMesh",{ref:a,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo123_4.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["piso aulas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_3_arriba.glb");function the(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_a1.glb");return t.vidrio=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),ri([3.526,10.484,-495.336])>350?null:I.jsxs("group",{...n,dispose:null,children:[I.jsxs("group",{name:"aula_ultima",position:[3.576,10.484,-495.373],children:[I.jsx("mesh",{name:"Cubo246",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo246_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246_1.geometry,material:t.vidrio}),I.jsx("mesh",{name:"Cubo246_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246_2.geometry,material:t["madera clara 2"]}),I.jsx("mesh",{name:"Cubo246_3",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246_3.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo246_4",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246_4.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo246_5",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246_5.geometry,material:t.vidrio}),I.jsx("mesh",{name:"Cubo246_6",castShadow:!0,receiveShadow:!0,geometry:e.Cubo246_6.geometry,material:t["piso aulas"]})]}),I.jsxs("group",{name:"aula_ultima_2",position:[13.016,10.485,-522.196],children:[I.jsx("mesh",{name:"Cubo245",castShadow:!0,receiveShadow:!0,geometry:e.Cubo245.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo245_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo245_1.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo245_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo245_2.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo245_3",castShadow:!0,receiveShadow:!0,geometry:e.Cubo245_3.geometry,material:t.vidrio}),I.jsx("mesh",{name:"Cubo245_4",castShadow:!0,receiveShadow:!0,geometry:e.Cubo245_4.geometry,material:t["piso aulas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/aula_a1.glb");function nhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/banca_aula.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[-73.048,2.776,-72.509],rotation:[0,0,0],scale:[1,1,1]},{position:[-62.794,2.783,-112.863],rotation:[0,Math.PI/1.19,0],scale:[-1,1,1]},{position:[-45.312,2.776,-182.258],rotation:[0,0,0],scale:[1,1,1]},{position:[-35.008,2.783,-222.695],rotation:[0,Math.PI/1.19,0],scale:[-1,1,1]},{position:[-4.252,2.776,-344.225],rotation:[0,0,0],scale:[1,1,1]},{position:[23.572,2.776,-454.042],rotation:[0,0,0],scale:[1,1,1]},{position:[6.068,2.783,-384.601],rotation:[0,Math.PI/1.182,0],scale:[-1,1,1]},{position:[33.904,2.783,-494.461],rotation:[0,Math.PI/1.184,0],scale:[-1,1,1]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo142.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo142_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["Material.021"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/banca_aula.glb");function ihe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna1.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[-68.858,9.576,-92.866],rotation:[0,0,0],scale:[1,1,1]},{position:[-68.871,-9.807,-92.869],rotation:[0,0,0],scale:[1,1,1]},{position:[-41.142,-9.807,-202.724],rotation:[0,0,0],scale:[1,1,1]},{position:[-.505,-9.77,-364.821],rotation:[0,0,0],scale:[1,1,1]},{position:[27.305,-9.823,-474.591],rotation:[0,0,0],scale:[1,1,1]},{position:[-41.13,9.609,-202.721],rotation:[0,0,0],scale:[1,1,1]},{position:[-.505,9.605,-364.821],rotation:[0,0,0],scale:[1,1,1]},{position:[27.305,9.551,-474.591],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo128.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo128_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["plateado columnas"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo128_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna1.glb");function rhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna2.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[-121.185,10.361,-106.549],rotation:[0,0,0],scale:[1,1,1]},{position:[-114.181,10.309,-134.263],rotation:[0,0,0],scale:[1,1,1]},{position:[-107.35,10.316,-161.46],rotation:[0,0,0],scale:[1,1,1]},{position:[-93.431,10.375,-216.369],rotation:[0,0,0],scale:[1,1,1]},{position:[-86.427,10.337,-244.083],rotation:[0,0,0],scale:[1,1,1]},{position:[-52.301,10.459,-378.334],rotation:[0,0,0],scale:[1,1,1]},{position:[-45.132,10.472,-406.577],rotation:[0,0,0],scale:[1,1,1]},{position:[-38.241,10.485,-433.762],rotation:[0,0,0],scale:[1,1,1]},{position:[-24.519,10.512,-488.143],rotation:[0,0,0],scale:[1,1,1]},{position:[-100.436,10.332,-188.651],rotation:[0,0,0],scale:[1,1,1]},{position:[-17.435,10.332,-515.88],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo233.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["plateado columnas"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo233_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna2.glb");function ohe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna3.glb"),t=v.useRef(null),i=[{position:[-128.526,-9.021,-77.552],rotation:[0,0,0],scale:[1,1,1]},{position:[-121.197,-9.021,-106.552],rotation:[0,0,0],scale:[1,1,1]},{position:[-114.193,-9.072,-134.266],rotation:[0,0,0],scale:[1,1,1]},{position:[-107.32,-9.066,-161.463],rotation:[0,0,0],scale:[1,1,1]},{position:[-100.448,-9.047,-188.654],rotation:[0,0,0],scale:[1,1,1]},{position:[-93.443,-8.999,-216.372],rotation:[0,0,0],scale:[1,1,1]},{position:[-86.439,-9.034,-244.086],rotation:[0,0,0],scale:[1,1,1]},{position:[-66.506,-9.006,-322.96],rotation:[0,0,0],scale:[1,1,1]},{position:[-59.5,-9.006,-350.685],rotation:[0,0,0],scale:[1,1,1]},{position:[-17.52,-8.823,-515.891],rotation:[0,0,0],scale:[1,1,1]},{position:[-52.314,-8.901,-378.337],rotation:[0,0,0],scale:[1,1,1]},{position:[-45.145,-8.884,-406.58],rotation:[0,0,0],scale:[1,1,1]},{position:[-38.254,-8.871,-433.765],rotation:[0,0,0],scale:[1,1,1]},{position:[-31.709,-8.871,-459.663],rotation:[0,0,0],scale:[1,1,1]},{position:[-24.531,-8.836,-488.146],rotation:[0,0,0],scale:[1,1,1]},{position:[-10.998,-8.823,-541.695],rotation:[0,0,0],scale:[1,1,1]},{position:[-73.11,-9,-296.887],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c)}),t.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.columna025.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna3.glb");function ahe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna4.glb");return ri([-104.047,-9.06,-58.11])>320?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"especiales",position:[-73.45,.675,-295.117],children:[I.jsx("mesh",{name:"Cubo144",castShadow:!0,receiveShadow:!0,geometry:e.Cubo144.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo144_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo144_1.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo144_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo144_2.geometry,material:t["pared blanca"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/columnas/columna4.glb");function she(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/lab_0_abajo.glb");return t.vidrio=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),ri([-104.047,-9.06,-58.11])>300?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"aula_base008",position:[-98.477,-9.109,-85.621],children:[I.jsx("mesh",{name:"Cubo131",castShadow:!0,receiveShadow:!0,geometry:e.Cubo131.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo131_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo131_1.geometry,material:t.vidrio}),I.jsx("mesh",{name:"Cubo131_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo131_2.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo131_3",castShadow:!0,receiveShadow:!0,geometry:e.Cubo131_3.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo131_4",castShadow:!0,receiveShadow:!0,geometry:e.Cubo131_4.geometry,material:t["madera clara 2"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/lab_0_abajo.glb");function lhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/lab_1_abajo.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=v.useRef(null),s=[{position:[-82.897,-9.039,-140.407],rotation:[0,0,0],scale:[1,1,1]},{position:[-82.897,-9.039,-140.407],rotation:[0,0,0],scale:[1,1,1]},{position:[-55.054,-9.126,-250.237],rotation:[0,0,0],scale:[1,1,1]},{position:[-13.987,-9.1,-412.182],rotation:[0,0,0],scale:[1,1,1]},{position:[13.858,-9.126,-522.011],rotation:[0,0,0],scale:[1,1,1]}];return e.vidrio=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),v.useEffect(()=>{s.forEach((l,c)=>{const g=new k(...l.position),u=new rn(...l.rotation),d=new k(l.scale[0],l.scale[1],l.scale[2]),C=new vt;C.compose(g,new Qt().setFromEuler(u),d),t.current.setMatrixAt(c,C),i.current.setMatrixAt(c,C),r.current.setMatrixAt(c,C),o.current.setMatrixAt(c,C),a.current.setMatrixAt(c,C)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0,a.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1,a.current.frustumCulled=!1},[s]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo268.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo268_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo268_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.vidrio})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo268_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2"]})]}),I.jsxs("instancedMesh",{ref:a,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo268_4.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/lab_1_abajo.glb");function che(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/lab_2_abajo.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=v.useRef(null),s=[{position:[-71.672,-9.123,-195.681],rotation:[0,0,0],scale:[1,1,1]},{position:[-30.574,-9.25,-357.654],rotation:[0,0,0],scale:[1,1,1]},{position:[-2.75,-9.2,-467.45],rotation:[0,0,0],scale:[1,1,1]}];return e.vidrio=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),v.useEffect(()=>{s.forEach((l,c)=>{const g=new k(...l.position),u=new rn(...l.rotation),d=new k(l.scale[0],l.scale[1],l.scale[2]),C=new vt;C.compose(g,new Qt().setFromEuler(u),d),t.current.setMatrixAt(c,C),i.current.setMatrixAt(c,C),r.current.setMatrixAt(c,C),o.current.setMatrixAt(c,C),a.current.setMatrixAt(c,C)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0,a.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1,a.current.frustumCulled=!1},[s]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo132.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo132_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.vidrio})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo132_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo132_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]}),I.jsxs("instancedMesh",{ref:a,args:[null,null,s.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo132_4.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/lab_2_abajo.glb");function ghe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/puertas/puerta_aula1.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[-72.241,8.454,-86.5],rotation:[0,0,0],scale:[1,1,1]},{position:[-69.237,8.357,-100.17],rotation:[0,0,0],scale:[1,1,1]},{position:[-41.152,8.419,-209.927],rotation:[0,0,0],scale:[1,1,1]},{position:[.08,8.438,-371.908],rotation:[0,0,0],scale:[1,1,1]},{position:[27.912,8.434,-481.683],rotation:[0,0,0],scale:[1,1,1]},{position:[-44.346,8.454,-196.25],rotation:[0,0,0],scale:[1,1,1]},{position:[-3.335,8.45,-358.231],rotation:[0,0,0],scale:[1,1,1]},{position:[24.489,8.446,-468.048],rotation:[0,0,0],scale:[1,1,1]}];return e["Material.009"]=new ii({color:8421504,metalness:.8,roughness:.2}),v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo011.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo011_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["Material.009"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/puertas/puerta_aula1.glb");function uhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/puertas/puerta_lab.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[30.5,-10.977,-481.6],rotation:[0,0,0],scale:[1,1,1]},{position:[2.765,-10.977,-371.781],rotation:[0,0,0],scale:[1,1,1]},{position:[-.679,-10.977,-358.234],rotation:[0,0,0],scale:[1,1,1]},{position:[27.091,-10.977,-468.048],rotation:[0,0,0],scale:[1,1,1]},{position:[-38.375,-10.976,-209.775],rotation:[0,0,0],scale:[1,1,1]},{position:[-41.765,-10.976,-196.326],rotation:[0,0,0],scale:[1,1,1]},{position:[-66.11,-10.976,-100],rotation:[0,0,0],scale:[1,1,1]},{position:[-69.556,-10.976,-86.452],rotation:[0,0,0],scale:[1,1,1]}];return e["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.ID5001.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.ID5001_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.ID5001_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["plateado columnas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/aulas_laboratorios/puertas/puerta_lab.glb");function dhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja_2/banios.glb");return ri([-104.047,-9.06,-58.11])>370?null:I.jsxs("group",{...n,dispose:null,children:[I.jsxs("group",{name:"aula_base034",position:[-104.047,-9.06,-58.11],children:[I.jsx("mesh",{name:"Cubo140",castShadow:!0,receiveShadow:!0,geometry:e.Cubo140.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo140_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo140_1.geometry,material:t["pared blanca externa"]})]}),I.jsxs("group",{name:"aula_base015",position:[-41.76,-9.82,-302.316],children:[I.jsx("mesh",{name:"Cubo141",castShadow:!0,receiveShadow:!0,geometry:e.Cubo141.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo141_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo141_1.geometry,material:t["madera paredes"]})]}),I.jsxs("group",{name:"aula_base019",position:[-40.993,9.571,-302.122],children:[I.jsx("mesh",{name:"Cubo256",castShadow:!0,receiveShadow:!0,geometry:e.Cubo256.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo256_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo256_1.geometry,material:t["madera paredes"]})]}),I.jsx("mesh",{name:"marco_puerta003",castShadow:!0,receiveShadow:!0,geometry:e.marco_puerta003.geometry,material:t["plateado columnas"],position:[-24.932,7.659,-285.699]}),I.jsxs("group",{name:"puerra_ascensor001",position:[-24.949,7.607,-285.684],children:[I.jsx("mesh",{name:"Cubo215",castShadow:!0,receiveShadow:!0,geometry:e.Cubo215.geometry,material:t["plateado ascensor"]}),I.jsx("mesh",{name:"Cubo215_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo215_1.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo215_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo215_2.geometry,material:t.barras})]}),I.jsx("mesh",{name:"marco_puerta004",castShadow:!0,receiveShadow:!0,geometry:e.marco_puerta004.geometry,material:t["plateado columnas"],position:[-24.944,-11.674,-285.702]}),I.jsxs("group",{name:"puerra_ascensor002",position:[-24.954,-11.738,-285.713],children:[I.jsx("mesh",{name:"Cubo237",castShadow:!0,receiveShadow:!0,geometry:e.Cubo237.geometry,material:t["plateado ascensor"]}),I.jsx("mesh",{name:"Cubo237_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo237_1.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo237_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo237_2.geometry,material:t.barras})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/banios.glb");function Ihe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/casillero.glb"),t=v.useRef(null),i=[{position:[-74.3,6.649,-48.5],rotation:[0,0,0],scale:[1,1,1]},{position:[-71.7,6.7,-60.5],rotation:[0,0,0],scale:[1,1,1]},{position:[-70.5,6.85,-305.52],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[-68.908,6.85,-314.498],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[-23.072,6.8,-251.395],rotation:[0,0,0],scale:[1,1,1]},{position:[-24.795,6.8,-244.685],rotation:[0,0,0],scale:[1,1,1]},{position:[-26.59,6.8,-237.685],rotation:[0,0,0],scale:[1,1,1]},{position:[41.05,7,-506.179],rotation:[0,0,0],scale:[1,1,1]},{position:[43.25,7,-514.795],rotation:[0,0,0],scale:[1,1,1]},{position:[45.762,7,-523.291],rotation:[0,0,0],scale:[1,1,1]},{position:[24.93,6.85,-441.8],rotation:[0,0,0],scale:[1,1,1]},{position:[13.575,6.9,-396.257],rotation:[0,0,0],scale:[1,1,1]},{position:[-69.501,6.8,-270],rotation:[0,Math.PI/2.02,0],scale:[1,1,1]},{position:[-60.337,6.8,-268],rotation:[0,Math.PI/2.02,0],scale:[1,1,1]},{position:[-39.338,6.8,-262.3],rotation:[0,Math.PI/2.02,0],scale:[1,1,1]},{position:[-30.5,6.8,-260.3],rotation:[0,Math.PI/2.02,0],scale:[1,1,1]},{position:[-73.75,-12.417,-68.75],rotation:[0,0,0],scale:[1,1,1]},{position:[-72.2,-12.417,-75.332],rotation:[0,0,0],scale:[1,1,1]},{position:[-64.193,-12.627,-110.5],rotation:[0,0,0],scale:[1,1,1]},{position:[-62.6,-12.6,-117],rotation:[0,0,0],scale:[1,1,1]},{position:[-53.358,-12.417,-132.21],rotation:[0,0,0],scale:[1,1,1]},{position:[-46.68,-12.63,-178.51],rotation:[0,0,0],scale:[1,1,1]},{position:[-45.13,-12.63,-184.92],rotation:[0,0,0],scale:[1,1,1]},{position:[-34.94,-12.45,-226.25],rotation:[0,0,0],scale:[1,1,1]},{position:[-27.18,-12.32,-235.43],rotation:[0,0,0],scale:[1,1,1]},{position:[-23.45,-12.32,-249.99],rotation:[0,0,0],scale:[1,1,1]},{position:[-25.31,-12.32,-242.73],rotation:[0,0,0],scale:[1,1,1]},{position:[-5.847,-12.307,-340.943],rotation:[0,0,0],scale:[1,1,1]},{position:[-5,-12.57,-323.27],rotation:[0,0,0],scale:[1,1,1]},{position:[-3.23,-12.57,-330.19],rotation:[0,0,0],scale:[1,1,1]},{position:[4.624,-12.293,-381.87],rotation:[0,0,0],scale:[1,1,1]},{position:[6.244,-12.293,-388.4],rotation:[0,0,0],scale:[1,1,1]},{position:[22.081,-12.3,-450.15],rotation:[0,0,0],scale:[1,1,1]},{position:[23.683,-12.3,-456.7],rotation:[0,0,0],scale:[1,1,1]},{position:[24.421,-12.3,-439.196],rotation:[0,0,0],scale:[1,1,1]},{position:[33.957,-12.3,-498.7],rotation:[0,0,0],scale:[1,1,1]},{position:[32.4,-12.3,-492.2],rotation:[0,0,0],scale:[1,1,1]},{position:[55,-12.3,-505],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[56.7,-12.3,-512],rotation:[0,Math.PI,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c)}),t.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,e.casillero_color.roughness=.8},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.casilleros.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.casillero_color})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/casillero.glb");function Che(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja_2/puerta_banio.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[-41.162,7.826,-288.517],rotation:[0,0,0],scale:[1,1,1]},{position:[-47.422,7.83,-290.106],rotation:[0,0,0],scale:[1,1,1]},{position:[-62.354,7.84,-293.878],rotation:[0,0,0],scale:[1,1,1]},{position:[-45.109,-11.418,-289.514],rotation:[0,0,0],scale:[1,1,1]},{position:[-51.369,-11.418,-291.104],rotation:[0,0,0],scale:[1,1,1]},{position:[-73.766,-11.637,-59.426],rotation:[0,1.55,0],scale:[1,1,1]},{position:[-76.55,-11.637,-48.915],rotation:[0,1.55,0],scale:[1,1,1]}];return e["Material.021"]=new ii({color:8421504,metalness:.8,roughness:.2}),v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo234.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["cafe oscuro"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo234_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["Material.021"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo234_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja_2/puerta_banio.glb");const hhe=()=>I.jsxs(I.Fragment,{children:[I.jsx(QCe,{}),I.jsx($Ce,{}),I.jsx(ehe,{}),I.jsx(the,{}),I.jsx(dhe,{}),I.jsx(Che,{}),I.jsx(ihe,{}),I.jsx(rhe,{}),I.jsx(ohe,{}),I.jsx(ahe,{}),I.jsx(she,{}),I.jsx(lhe,{}),I.jsx(che,{}),I.jsx(uhe,{}),I.jsx(ghe,{}),I.jsx(nhe,{}),I.jsx(Ihe,{})]});function Xb({texture:n,position:e=[0,0,0],scale:t=[1,1,1],rotation:i=[0,0,0],poleColor:r="#B2ADAB",...o}){const a=v.useRef(null),[s]=v.useState({h:.5,v:.3,w:.2,s:.4}),l=30,c=20,g=Ai(Fr,n);return Pi(()=>{const{h:u,v:d,w:C,s:f}=s,b=Date.now()*f/50;if(a.current){const A=a.current.geometry.attributes.position;for(let p=0;p<=c;p++)for(let y=0;y<=l;y++){const B=3*(y+p*(l+1)),x=Math.sin(u*y+d*p-b)*C*y/4;A.array[B+2]=x}A.needsUpdate=!0}}),I.jsxs("group",{position:e,scale:t,rotation:i,...o,dispose:null,children:[I.jsxs("mesh",{position:[-15,-10,0],children:[I.jsx("cylinderGeometry",{args:[.5,.5,40,16,1]}),I.jsx("meshPhongMaterial",{color:r,specular:"#999999",shininess:30})]}),I.jsxs("mesh",{ref:a,children:[I.jsx("planeGeometry",{args:[30,20,l,c]}),I.jsx("meshLambertMaterial",{color:"#ffffff",side:Fo,map:g})]})]})}function mhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/banderas/bandera_pasillo.glb");return t.vidrio=new ii({color:"white",opacity:.2,transparent:!0,roughness:.7,metalness:.1}),I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"Object_8001",castShadow:!0,receiveShadow:!0,geometry:e.Object_8001.geometry,material:t["cafe oscuro"],position:[124.347,7.997,-.2]}),I.jsx("mesh",{name:"Object_10",castShadow:!0,receiveShadow:!0,geometry:e.Object_10.geometry,material:t.color_flag1,position:[124.435,7.741,-.137]}),I.jsxs("group",{name:"Cubo",position:[124.407,8.207,-.472],children:[I.jsx("mesh",{name:"Cubo355",castShadow:!0,receiveShadow:!0,geometry:e.Cubo355.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo355_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo355_1.geometry,material:t.vidrio})]})]})}fe.preload("/recorrido-virtual-espe/models/banderas/bandera_pasillo.glb");const fhe=()=>I.jsxs(I.Fragment,{children:[I.jsx(mhe,{}),I.jsx(Xb,{texture:"/recorrido-virtual-espe/img/bandera_prov_santo_domingo.webp",position:[116.4,35.9,29],scale:[.5,.5,.5],rotation:[0,.5,0]}),I.jsx(Xb,{texture:"/recorrido-virtual-espe/img/bandera_ecuador.webp",position:[129.9,35.9,29],scale:[.5,.5,.5],rotation:[0,.5,0]}),I.jsx(Xb,{texture:"/recorrido-virtual-espe/img/bandera_santo_domingo.webp",position:[143.205,35.9,29],scale:[.5,.5,.5],rotation:[0,.5,0]})]});function phe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/barras_edificio.glb"),t=v.useRef(null),i=[{position:[91.814,10.264,-101.393],rotation:[0,0,0],scale:[1,1,1]},{position:[157.554,10.264,-101.34],rotation:[0,0,0],scale:[1,1,1]},{position:[91.814,48.883,-101.393],rotation:[0,0,0],scale:[1,1,1]},{position:[91.814,29.595,-101.393],rotation:[0,0,0],scale:[1,1,1]},{position:[157.554,48.883,-101.34],rotation:[0,0,0],scale:[1,1,1]},{position:[157.554,29.595,-101.34],rotation:[0,0,0],scale:[1,1,1]},{position:[157.554,68.192,-101.34],rotation:[0,0,0],scale:[1,1,1]},{position:[91.814,68.192,-101.34],rotation:[0,0,0],scale:[1,1,1]},{position:[91.814,87.5,-93],rotation:[0,0,0],scale:[1,1,.77]},{position:[157.554,87.5,-93],rotation:[0,0,0],scale:[1,1,.79]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.barras_edificio002.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 1"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/barras_edificio.glb");function Ahe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/pared_externa.glb");Kn(()=>({type:"Static",mass:1,args:[60,98,2],position:[124.694,43,-147.9]})),Kn(()=>({type:"Static",mass:1,args:[60,98,2],position:[124.694,43,-27]})),Kn(()=>({type:"Static",mass:1,args:[2,98,90],position:[93.5,43,-100.9]})),Kn(()=>({type:"Static",mass:1,args:[2,98,89],position:[156,43,-100.9]})),Kn(()=>({type:"Static",mass:1,args:[2,75,40],position:[93.5,53,-40]})),Kn(()=>({type:"Static",mass:1,args:[2,75,40],position:[156,53,-40]}));const t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[124.694,9.397,-101.331],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,28.707,-101.331],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,48.017,-101.331],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,67.326,-101.331],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,86.636,-101.331],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo104.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["verde.001"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo104_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo104_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.barras})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/pared_externa.glb");function bhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/pared_externa_2.glb"),t=v.useRef(null),i=[{position:[124.694,29.573,-29.145],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,48.883,-29.145],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,68.192,-29.145],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,87.5,-29.145],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.columna1007.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca externa"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/pared_externa_2.glb");function vhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/pared_frente.glb");return Kn(()=>({type:"Static",mass:1,args:[23,9,2],position:[108.5,6,-55.354]})),Kn(()=>({type:"Static",mass:1,args:[23,9,2],position:[141.7,6,-55.354]})),I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"pared_frente",castShadow:!0,receiveShadow:!0,geometry:e.pared_frente.geometry,material:t["pared blanca"],position:[124.694,9.376,-54.898]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/pared_frente.glb");function yhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/pared_vidrio.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[94.326,10.264,-101.328],rotation:[0,0,0],scale:[1,1,1]},{position:[94.36,29.573,-101.328],rotation:[0,0,0],scale:[1,1,1]},{position:[94.36,48.883,-101.328],rotation:[0,0,0],scale:[1,1,1]},{position:[94.36,68.192,-101.328],rotation:[0,0,0],scale:[1,1,1]},{position:[94.36,87.5,-101.328],rotation:[0,0,0],scale:[1,1,1]},{position:[155.021,87.5,-101.333],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[155.021,68.192,-101.333],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[155.021,48.883,-101.333],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[155.021,29.573,-101.333],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[155.021,10.264,-101.333],rotation:[0,Math.PI,0],scale:[1,1,1]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),e["vidrio sala"]=new ii({color:"white",opacity:.35,transparent:!0,roughness:.8,metalness:.1}),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo169.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.001"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo169_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.techo})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo169_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/pared_vidrio.glb");function Bhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/paredes_interno.glb");return t["vidrio sala"]=new ii({color:"white",opacity:.1,transparent:!0,roughness:.8,metalness:.1}),Kn(()=>({type:"Static",mass:1,args:[23,5,1],position:[108.5,7,-84]})),Kn(()=>({type:"Static",mass:1,args:[22,5,1],position:[142.5,7,-84]})),Kn(()=>({type:"Static",mass:1,args:[22,5,1],position:[142.5,7,-113.5]})),Kn(()=>({type:"Static",mass:1,args:[22,5,1],position:[142.5,7,-129.5]})),Kn(()=>({type:"Static",mass:1,args:[23,5,1],position:[108.5,7,-100]})),Kn(()=>({type:"Static",mass:1,args:[23,5,1],position:[108.5,7,-113.5]})),Kn(()=>({type:"Static",mass:1,args:[1,5,20],position:[131.612,7,-66.996]})),Kn(()=>({type:"Static",mass:1,args:[1,5,20],position:[131.612,7,-103]})),Kn(()=>({type:"Static",mass:1,args:[1,5,16],position:[121,7,-101]})),Kn(()=>({type:"Static",mass:1,args:[1,5,20],position:[131.612,7,-130]})),Kn(()=>({type:"Static",mass:1,args:[1,5,23],position:[121,7,-127]})),ri([97.049,10.271,-84.087])>300?null:I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"pared_vidrio_1008",castShadow:!0,receiveShadow:!0,geometry:e.pared_vidrio_1008.geometry,material:t["barras cuartos.001"],position:[97.049,10.271,-84.087]}),I.jsxs("group",{name:"a_1_export001",position:[109.992,9.383,-84.859],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo356",castShadow:!0,receiveShadow:!0,geometry:e.Cubo356.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo356_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo356_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export002",position:[109.992,9.383,-113.959],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo362",castShadow:!0,receiveShadow:!0,geometry:e.Cubo362.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo362_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo362_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export003",position:[131.612,9.376,-66.996],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo361",castShadow:!0,receiveShadow:!0,geometry:e.Cubo361.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo361_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo361_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export004",position:[108.19,9.383,-99.672],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo364",castShadow:!0,receiveShadow:!0,geometry:e.Cubo364.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo364_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo364_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export005",position:[121.186,9.376,-95.234],scale:[1,1.04,.401],children:[I.jsx("mesh",{name:"Cubo365",castShadow:!0,receiveShadow:!0,geometry:e.Cubo365.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo365_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo365_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export006",position:[121.186,9.376,-104.207],scale:[1,1.04,.401],children:[I.jsx("mesh",{name:"Cubo366",castShadow:!0,receiveShadow:!0,geometry:e.Cubo366.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo366_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo366_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export007",position:[121.186,9.376,-126.99],scale:[1,1.04,1.168],children:[I.jsx("mesh",{name:"Cubo367",castShadow:!0,receiveShadow:!0,geometry:e.Cubo367.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo367_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo367_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export008",position:[131.612,9.376,-101.8],scale:[1,1.04,.931],children:[I.jsx("mesh",{name:"Cubo369",castShadow:!0,receiveShadow:!0,geometry:e.Cubo369.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo369_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo369_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export009",position:[142.899,9.383,-129.85],rotation:[0,1.571,0],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo371",castShadow:!0,receiveShadow:!0,geometry:e.Cubo371.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo371_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo371_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export010",position:[131.706,9.376,-135.05],rotation:[Math.PI,0,Math.PI],scale:[1,1.04,.46],children:[I.jsx("mesh",{name:"Cubo372",castShadow:!0,receiveShadow:!0,geometry:e.Cubo372.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo372_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo372_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export011",position:[131.706,9.376,-124.425],rotation:[Math.PI,0,Math.PI],scale:[1,1.04,.48],children:[I.jsx("mesh",{name:"Cubo373",castShadow:!0,receiveShadow:!0,geometry:e.Cubo373.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo373_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo373_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"columna1013",position:[142.85,9.376,-84.166],rotation:[Math.PI,0,Math.PI],scale:[.938,5.699,.631],children:[I.jsx("mesh",{name:"Cubo358",castShadow:!0,receiveShadow:!0,geometry:e.Cubo358.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo358_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo358_1.geometry,material:t["plateado columnas"]})]}),I.jsxs("group",{name:"columna1015",position:[142.85,9.376,-113.108],rotation:[Math.PI,0,Math.PI],scale:[.938,5.699,.631],children:[I.jsx("mesh",{name:"Cubo359",castShadow:!0,receiveShadow:!0,geometry:e.Cubo359.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo359_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo359_1.geometry,material:t["plateado columnas"]})]}),I.jsx("mesh",{name:"pared_vidrio_1009",castShadow:!0,receiveShadow:!0,geometry:e.pared_vidrio_1009.geometry,material:t["barras cuartos.001"],position:[97.049,10.271,-113.187]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/paredes_interno.glb");function xhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso_base.glb");Kn(()=>({type:"Static",mass:1,args:[61,1.7,96.5],position:[124.694,.4,-98.354]})),Kn(()=>({type:"Static",mass:1,args:[61,1.7,140],position:[124.694,20,-74]})),Kn(()=>({type:"Static",mass:1,args:[61,1.7,140],position:[124.694,40,-74]})),Kn(()=>({type:"Static",mass:1,args:[61,1.7,140],position:[124.694,59,-74]})),Kn(()=>({type:"Static",mass:1,args:[61,1.7,140],position:[124.694,78,-74]}));const t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[124.694,.609,-98.354],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Plano016.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pisos edificio"]})]}),I.jsxs("instancedMesh",{ref:i,castShadow:!0,receiveShadow:!0,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Plano016_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["piso base"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Plano016_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["entrada piso edificio"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso_base.glb");function Ghe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso_base_2.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[124.694,19.918,-75.577],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,39.228,-75.577],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,58.538,-75.577],rotation:[0,0,0],scale:[1,1,1]},{position:[124.694,77.8,-75.577],rotation:[0,0,0],scale:[1,1,1]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,castShadow:!0,receiveShadow:!0,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Plano017.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared blanca"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Plano017_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["blanca externa pisos"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso_base_2.glb");function whe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/tapas.glb");return I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"tapas_entrada",geometry:e.tapas_entrada.geometry,material:t.barras,position:[124.694,0,-52.258]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/tapas.glb");function She(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/techo_edificio.glb");return I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"techo_edificio",position:[124.694,97.157,-76.475],children:[I.jsx("mesh",{name:"Plano014",receiveShadow:!0,geometry:e.Plano014.geometry,material:t["blanca externa pisos"]}),I.jsx("mesh",{name:"Plano014_1",geometry:e.Plano014_1.geometry,material:t["04_-_Default"]})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/techo_edificio.glb");function Zhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/asiento1.glb"),t=v.useRef(null),i=[{position:[114.314,1.48,-58],rotation:[-Math.PI/2,0,-Math.PI],scale:[3.1,6.8,6.8]},{position:[108,1.48,-58],rotation:[-Math.PI/2,0,-Math.PI],scale:[3.1,6.8,6.8]},{position:[98.5,1.48,-72],rotation:[-Math.PI/2,0,Math.PI/2],scale:[3.1,6.8,6.8]},{position:[98.5,1.48,-66],rotation:[-Math.PI/2,0,Math.PI/2],scale:[3.1,6.8,6.8]},{position:[109.041,1.48,-81.896],rotation:[-Math.PI/2,0,0],scale:[3.1,6.8,6.8]},{position:[115,1.48,-81.896],rotation:[-Math.PI/2,0,0],scale:[3.1,6.8,6.8]},{position:[135.215,21,-35.215],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.215,21,-39.903],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.383,21,-30.826],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.215,40.1,-35.215],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.215,40.1,-39.903],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.3,40.1,-30.826],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.215,60.1,-35.215],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.215,60.1,-39.903],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.3,60.1,-30.826],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[103.215,60.1,-56.5],rotation:[-Math.PI/2,0,-Math.PI],scale:[3.1,6.8,6.8]},{position:[108,60.1,-56.5],rotation:[-Math.PI/2,0,-Math.PI],scale:[3.1,6.8,6.8]},{position:[113,60.1,-56.5],rotation:[-Math.PI/2,0,-Math.PI],scale:[3.1,6.8,6.8]},{position:[135.215,79,-35.215],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.215,79,-39.903],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]},{position:[135.3,79,-30.826],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[3.1,6.8,6.8]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.CouchMesh_PBR_0.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.material})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/asiento1.glb");function qhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/asiento2.glb"),t=v.useRef(null),i=[{position:[132.949,3.8,-75.146],rotation:[0,Math.PI/2,0],scale:[.03,.03,.03]},{position:[132.949,3.8,-70],rotation:[0,Math.PI/2,0],scale:[.03,.03,.03]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Back_Seat_low_Base_id_0.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.Base_id})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/asiento2.glb");function Rhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/asiento3.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[98.655,3.6,-91.228],rotation:[0,0,0],scale:[1,1,1]},{position:[105.768,3.6,-91.228],rotation:[Math.PI,-.167,Math.PI],scale:[1,1,1]},{position:[110.875,3.6,-111.062],rotation:[Math.PI,-.402,Math.PI],scale:[1,1,1]},{position:[110.875,3.6,-107.167],rotation:[Math.PI,-.048,Math.PI],scale:[1,1,1]},{position:[101.511,3.6,-109.239],rotation:[0,0,0],scale:[1,1,1]},{position:[137.899,3.593,-67.474],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[147.872,3.593,-67.781],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[152.102,3.593,-67.781],rotation:[0,-1.7,0],scale:[1,1,1]},{position:[151.847,3.593,-80.803],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[137.273,3.593,-60.24],rotation:[0,1.5,0],scale:[1,1,1]},{position:[147.915,3.593,-60.24],rotation:[0,1.6,0],scale:[1,1,1]},{position:[143.361,3.593,-78.52],rotation:[0,0,0],scale:[1,1,1]},{position:[100.92,3.6,-143.259],rotation:[0,-1.278,0],scale:[1,1,1]},{position:[102.448,3.6,-118.886],rotation:[0,1.196,0],scale:[1,1,1]},{position:[103.642,3.6,-127.68],rotation:[Math.PI,-1.502,Math.PI],scale:[1,1,1]},{position:[100.168,3.6,-127.68],rotation:[0,-1.375,0],scale:[1,1,1]},{position:[139.728,3.593,-124.319],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[147.872,3.593,-124.625],rotation:[0,-1.6,0],scale:[1,1,1]},{position:[152.102,3.593,-124.625],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[139.514,3.593,-117.19],rotation:[0,1.8,0],scale:[1,1,1]},{position:[147.915,3.593,-117.084],rotation:[0,1.4,-0],scale:[1,1,1]},{position:[149.161,3.6,-140.335],rotation:[Math.PI,0,Math.PI],scale:[1,1,1]},{position:[141.137,3.6,-140.335],rotation:[0,-.16,0],scale:[1,1,1]},{position:[147.678,3.593,-101.713],rotation:[0,1.5,0],scale:[1,1,1]},{position:[137.705,3.593,-101.407],rotation:[0,1.5,0],scale:[1,1,1]},{position:[133.474,3.593,-101.407],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148.303,3.593,-108.947],rotation:[0,-1.8,0],scale:[1,1,1]},{position:[137.661,3.593,-108.947],rotation:[0,-1.7,0],scale:[1,1,1]},{position:[147.714,22.8,-29.301],rotation:[0,1.5,0],scale:[1,1,1]},{position:[147.577,22.8,-36.84],rotation:[0,-1,0],scale:[1,1,1]},{position:[147.915,22.8,-59],rotation:[0,1.5,0],scale:[1,1,1]},{position:[137.273,22.8,-60.24],rotation:[0,1.5,0],scale:[1,1,1]},{position:[142.864,22.8,-71.653],rotation:[0,-1.7,0],scale:[1,1,1]},{position:[143.361,22.8,-78.52],rotation:[0,0,0],scale:[1,1,1]},{position:[151.847,22.8,-79.312],rotation:[0,3,0],scale:[1,1,1]},{position:[110.09,22.8,-108.551],rotation:[0,0,0],scale:[1,1,1]},{position:[100.92,22.8,-143.259],rotation:[0,-1.278,0],scale:[1,1,1]},{position:[102.448,22.8,-118.886],rotation:[0,1.196,0],scale:[1,1,1]},{position:[103.642,22.8,-127.68],rotation:[Math.PI,-1.502,Math.PI],scale:[1,1,1]},{position:[147.872,22.8,-122.5],rotation:[0,1.5,0],scale:[1,1,1]},{position:[149,22.8,-130.388],rotation:[0,-1.7,0],scale:[1,1,1]},{position:[138,22.8,-101.874],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[137.702,22.8,-94.639],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148.344,22.8,-94.639],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148.3,22.8,-102.18],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[114.921,22.8,-93.027],rotation:[Math.PI,-1.191,Math.PI],scale:[1,1,1]},{position:[108.355,22.8,-79.083],rotation:[0,-1,0],scale:[1,1,1]},{position:[103.727,22.8,-74.239],rotation:[0,0,0],scale:[1,1,1]},{position:[103.727,22.8,-70.495],rotation:[0,0,0],scale:[1,1,1]},{position:[103.727,22.8,-66.378],rotation:[0,0,0],scale:[1,1,1]},{position:[113.293,22.8,-66.627],rotation:[Math.PI,0,Math.PI],scale:[1,1,1]},{position:[113.293,22.8,-72.048],rotation:[Math.PI,0,Math.PI],scale:[1,1,1]},{position:[134.154,22.8,-136.55],rotation:[0,0,0],scale:[1,1,1]},{position:[134.154,22.8,-132.807],rotation:[0,0,0],scale:[1,1,1]},{position:[134.154,22.8,-128.689],rotation:[0,0,0],scale:[1,1,1]},{position:[147.712,42.212,-29],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151.719,42.212,-60.899],rotation:[0,3,0],scale:[1,1,1]},{position:[143,42.212,-60.899],rotation:[0,3,0],scale:[1,1,1]},{position:[151.719,42.212,-79],rotation:[0,3,0],scale:[1,1,1]},{position:[148.341,42.212,-92.976],rotation:[0,1.5,0],scale:[1,1,1]},{position:[137,42.212,-92.976],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151.716,42.212,-108.519],rotation:[0,3,0],scale:[1,1,1]},{position:[143,42.212,-108.519],rotation:[0,3,0],scale:[1,1,1]},{position:[151.716,42.212,-123.946],rotation:[0,3,0],scale:[1,1,1]},{position:[143,42.212,-123.946],rotation:[0,3,0],scale:[1,1,1]},{position:[151.716,42.212,-138.646],rotation:[0,3,0],scale:[1,1,1]},{position:[143,42.212,-138.646],rotation:[0,3,0],scale:[1,1,1]},{position:[101.007,42.219,-143.134],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[102.575,42.219,-119.037],rotation:[0,1.5,0],scale:[1,1,1]},{position:[114.846,42.219,-127.676],rotation:[0,3,0],scale:[1,1,1]},{position:[114.846,42.219,-120],rotation:[0,3,0],scale:[1,1,1]},{position:[114.846,42.219,-124],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,42.219,-106.947],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,42.219,-103],rotation:[0,3,0],scale:[1,1,1]},{position:[102.5,42.219,-106.947],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[113.304,42.219,-96.591],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[110,42.219,-96.591],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[114.905,42.219,-90],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,42.219,-87],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,42.219,-72],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,42.219,-58],rotation:[0,3,0],scale:[1,1,1]},{position:[103,42.219,-61],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[103,42.219,-77],rotation:[0,-1.5,0],scale:[1,1,1]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Chair_Minotti_Mills_N040519013.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.st_gold})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Chair_Minotti_Mills_N040519013_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.black_st})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Chair_Minotti_Mills_N040519013_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.st_leather})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/asiento3.glb");function Mhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/cajonera.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[108.965,5.209,-98.28],rotation:[Math.PI/2,0,.001],scale:[.213,.213,.213]},{position:[114.617,5.209,-98.28],rotation:[Math.PI/2,0,.001],scale:[.213,.213,.213]},{position:[102.113,5.209,-101.738],rotation:[Math.PI/2,0,3.136],scale:[.213,.213,.213]},{position:[150.154,5.209,-86.656],rotation:[Math.PI/2,0,3.136],scale:[.213,.213,.213]},{position:[144.061,5.209,-86.656],rotation:[Math.PI/2,0,3.136],scale:[.213,.213,.213]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Locker_1001.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared bordes negro"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Locker_1001_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["black_st.001"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Locker_1001_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.barras})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/cajonera.glb");function _he(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/escritorios.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"a_mesa044",geometry:e.a_mesa044.geometry,material:t.DefaultMaterial,position:[104.586,3.58,-109.648],scale:1.052}),I.jsx("mesh",{name:"a_mesa045",geometry:e.a_mesa045.geometry,material:t.DefaultMaterial,position:[100.629,3.786,-89.589],scale:1.155}),I.jsx("mesh",{name:"a_mesa248",geometry:e.a_mesa248.geometry,material:t.DefaultMaterial,position:[148.859,3.786,-61.864],rotation:[0,1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa253",geometry:e.a_mesa253.geometry,material:t.DefaultMaterial,position:[136.288,3.58,-62.292],rotation:[0,1.571,0],scale:1.052}),I.jsx("mesh",{name:"a_mesa254",geometry:e.a_mesa254.geometry,material:t.DefaultMaterial,position:[148.998,3.58,-77.923],rotation:[-Math.PI,0,-Math.PI],scale:1.052}),I.jsx("mesh",{name:"Object001_Material_#1_0001",geometry:e["Object001_Material_#1_0001"].geometry,material:t.Material_1,position:[113.972,3.455,-124.797],rotation:[-1.571,-.022,1.574],scale:[.038,.038,.011]}),I.jsx("mesh",{name:"a_mesa255",geometry:e.a_mesa255.geometry,material:t.DefaultMaterial,position:[101.761,3.58,-140.34],rotation:[0,-1.571,0],scale:1.052}),I.jsx("mesh",{name:"a_mesa256",geometry:e.a_mesa256.geometry,material:t.DefaultMaterial,position:[101.761,3.58,-121.768],rotation:[-Math.PI,1.56,-Math.PI],scale:1.052}),I.jsx("mesh",{name:"a_mesa257",geometry:e.a_mesa257.geometry,material:t.DefaultMaterial,position:[148.859,3.786,-118.708],rotation:[0,1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa258",geometry:e.a_mesa258.geometry,material:t.DefaultMaterial,position:[140.137,3.786,-118.708],rotation:[0,1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa259",geometry:e.a_mesa259.geometry,material:t.DefaultMaterial,position:[147.251,3.58,-139.451],rotation:[Math.PI,-.018,Math.PI],scale:1.052}),I.jsx("mesh",{name:"a_mesa260",geometry:e.a_mesa260.geometry,material:t.DefaultMaterial,position:[136.717,3.786,-107.323],rotation:[0,-1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa261",geometry:e.a_mesa261.geometry,material:t.DefaultMaterial,position:[149.288,3.58,-106.895],rotation:[0,-1.571,0],scale:1.052})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/escritorios.glb");const Whe=()=>ri([124.586,3.58,-60])>100?null:I.jsxs(I.Fragment,{children:[I.jsx(Zhe,{}),I.jsx(qhe,{}),I.jsx(Rhe,{}),I.jsx(_he,{}),I.jsx(Mhe,{})]});function Vhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso1/escritorios_p1.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"a_mesa263",geometry:e.a_mesa263.geometry,material:t.DefaultMaterial,position:[113.596,23.096,-107.629],scale:1.155}),I.jsx("mesh",{name:"a_mesa264",geometry:e.a_mesa264.geometry,material:t.DefaultMaterial,position:[148.859,23.096,-61.864],rotation:[0,1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa265",geometry:e.a_mesa265.geometry,material:t.DefaultMaterial,position:[136.288,22.89,-62.292],rotation:[0,1.571,0],scale:1.052}),I.jsx("mesh",{name:"a_mesa266",geometry:e.a_mesa266.geometry,material:t.DefaultMaterial,position:[148.998,22.89,-77.923],rotation:[-Math.PI,0,-Math.PI],scale:1.052}),I.jsx("mesh",{name:"Object001_Material_#1_0003",geometry:e["Object001_Material_#1_0003"].geometry,material:t.Material_1,position:[108.14,22.765,-70.905],rotation:[-1.571,-.022,1.574],scale:[.038,.038,.011]}),I.jsx("mesh",{name:"a_mesa267",geometry:e.a_mesa267.geometry,material:t.DefaultMaterial,position:[101.761,22.89,-140.34],rotation:[0,-1.571,0],scale:1.052}),I.jsx("mesh",{name:"a_mesa268",geometry:e.a_mesa268.geometry,material:t.DefaultMaterial,position:[101.761,22.89,-121.768],rotation:[-Math.PI,1.56,-Math.PI],scale:1.052}),I.jsx("mesh",{name:"a_mesa269",geometry:e.a_mesa269.geometry,material:t.DefaultMaterial,position:[148.859,23.096,-124.472],rotation:[0,1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa272",geometry:e.a_mesa272.geometry,material:t.DefaultMaterial,position:[149.288,23.096,-96.263],rotation:[0,1.571,0],scale:1.155}),I.jsx("mesh",{name:"a_mesa273",geometry:e.a_mesa273.geometry,material:t.DefaultMaterial,position:[136.717,22.89,-96.692],rotation:[0,1.571,0],scale:1.052}),I.jsx("mesh",{name:"a_mesa274",geometry:e.a_mesa274.geometry,material:t.DefaultMaterial,position:[148.638,23.096,-30.936],rotation:[-Math.PI,1.558,-Math.PI],scale:1.155}),I.jsx("mesh",{name:"a_mesa262",geometry:e.a_mesa262.geometry,material:t.DefaultMaterial,position:[113.596,23.096,-90.439],rotation:[0,-1.571,0],scale:1.155})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso1/escritorios_p1.glb");function Nhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso1/paredes_p1.glb");return t["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.8,metalness:.1}),I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"pared_frente001",geometry:e.pared_frente001.geometry,material:t["pared blanca"],position:[124.694,28.685,-25.882]}),I.jsx("mesh",{name:"pared_frente002",geometry:e.pared_frente002.geometry,material:t["pared blanca"],position:[124.694,28.685,-54.898]}),I.jsx("mesh",{name:"pared_frente003",geometry:e.pared_frente003.geometry,material:t["pared blanca"],position:[117.173,28.685,-37.996],rotation:[0,Math.PI/2,0]}),I.jsx("mesh",{name:"pared_frente004",geometry:e.pared_frente004.geometry,material:t["pared blanca"],position:[106.608,28.685,-53.104]}),I.jsx("mesh",{name:"pared_vidrio_1010",geometry:e.pared_vidrio_1010.geometry,material:t["barras cuartos.001"],position:[97.049,29.581,-84.087]}),I.jsxs("group",{name:"a_1_export013",position:[109.992,28.693,-113.959],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo379",geometry:e.Cubo379.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo379_1",geometry:e.Cubo379_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export014",position:[131.612,28.685,-66.996],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo380",geometry:e.Cubo380.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo380_1",geometry:e.Cubo380_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export016",position:[118.12,28.685,-93.439],scale:[1,1.04,.401],children:[I.jsx("mesh",{name:"Cubo382",geometry:e.Cubo382.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo382_1",geometry:e.Cubo382_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export018",position:[118.218,28.685,-126.99],scale:[1,1.04,1.168],children:[I.jsx("mesh",{name:"Cubo388",geometry:e.Cubo388.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo388_1",geometry:e.Cubo388_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export019",position:[131.612,28.685,-100.704],scale:[1,1.04,.931],children:[I.jsx("mesh",{name:"Cubo389",geometry:e.Cubo389.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo389_1",geometry:e.Cubo389_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export021",position:[131.706,28.685,-141.714],rotation:[Math.PI,0,Math.PI],scale:[1,1.04,.46],children:[I.jsx("mesh",{name:"Cubo391",geometry:e.Cubo391.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo391_1",geometry:e.Cubo391_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"columna1021",position:[142.85,28.685,-89.396],rotation:[Math.PI,0,Math.PI],scale:[.938,5.699,.631],children:[I.jsx("mesh",{name:"Cubo393",geometry:e.Cubo393.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo393_1",geometry:e.Cubo393_1.geometry,material:t["plateado columnas"]})]}),I.jsxs("group",{name:"columna1022",position:[142.85,28.685,-118.496],rotation:[Math.PI,0,Math.PI],scale:[.938,5.699,.631],children:[I.jsx("mesh",{name:"Cubo394",geometry:e.Cubo394.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo394_1",geometry:e.Cubo394_1.geometry,material:t["plateado columnas"]})]}),I.jsx("mesh",{name:"pared_vidrio_1011",geometry:e.pared_vidrio_1011.geometry,material:t["barras cuartos.001"],position:[97.049,29.581,-113.187]}),I.jsxs("group",{name:"a_1_export023",position:[138.316,28.685,-37.979],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo398",geometry:e.Cubo398.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo398_1",geometry:e.Cubo398_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export012",position:[142.899,28.693,-73.878],rotation:[0,1.571,0],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo403",geometry:e.Cubo403.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo403_1",geometry:e.Cubo403_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export015",position:[131.612,28.685,-85.029],scale:[1,1.04,1],children:[I.jsx("mesh",{name:"Cubo404",geometry:e.Cubo404.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo404_1",geometry:e.Cubo404_1.geometry,material:t["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso1/paredes_p1.glb");const Fhe=()=>ri([104.586,10,-109.648])>100?null:I.jsxs(I.Fragment,{children:[I.jsx(Nhe,{}),I.jsx(Vhe,{})]});function Hhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso2/escritorios_p2.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"a_mesa275",geometry:e.a_mesa275.geometry,material:t.DefaultMaterial,position:[140.973,42.199,-60.719]}),I.jsx("mesh",{name:"a_mesa276",geometry:e.a_mesa276.geometry,material:t.DefaultMaterial,position:[148.998,42.199,-77.923]}),I.jsx("mesh",{name:"a_mesa277",geometry:e.a_mesa277.geometry,material:t.DefaultMaterial,position:[101.761,42.199,-140.34]}),I.jsx("mesh",{name:"a_mesa278",geometry:e.a_mesa278.geometry,material:t.DefaultMaterial,position:[101.746,42.199,-121.768]}),I.jsx("mesh",{name:"a_mesa280",geometry:e.a_mesa280.geometry,material:t.DefaultMaterial,position:[149.288,42.405,-94.582]}),I.jsx("mesh",{name:"a_mesa281",geometry:e.a_mesa281.geometry,material:t.DefaultMaterial,position:[136.717,42.199,-95.01]}),I.jsx("mesh",{name:"a_mesa282",geometry:e.a_mesa282.geometry,material:t.DefaultMaterial,position:[148.638,42.405,-30.973]}),I.jsx("mesh",{name:"a_mesa284",geometry:e.a_mesa284.geometry,material:t.DefaultMaterial,position:[148.638,42.405,-48.458]}),I.jsx("mesh",{name:"a_mesa271",geometry:e.a_mesa271.geometry,material:t.DefaultMaterial,position:[150.042,42.199,-60.719]}),I.jsx("mesh",{name:"a_mesa285",geometry:e.a_mesa285.geometry,material:t.DefaultMaterial,position:[140.972,42.199,-108.435]}),I.jsx("mesh",{name:"a_mesa286",geometry:e.a_mesa286.geometry,material:t.DefaultMaterial,position:[150.041,42.199,-108.362]}),I.jsx("mesh",{name:"a_mesa279",geometry:e.a_mesa279.geometry,material:t.DefaultMaterial,position:[140.972,42.199,-123.862]}),I.jsx("mesh",{name:"a_mesa287",geometry:e.a_mesa287.geometry,material:t.DefaultMaterial,position:[150.041,42.199,-123.788]}),I.jsx("mesh",{name:"a_mesa288",geometry:e.a_mesa288.geometry,material:t.DefaultMaterial,position:[140.972,42.199,-138.562]}),I.jsx("mesh",{name:"a_mesa289",geometry:e.a_mesa289.geometry,material:t.DefaultMaterial,position:[150.041,42.199,-138.488]}),I.jsx("mesh",{name:"a_mesa270",geometry:e.a_mesa270.geometry,material:t.DefaultMaterial,position:[103.474,42.199,-104.323]}),I.jsx("mesh",{name:"a_mesa283",geometry:e.a_mesa283.geometry,material:t.DefaultMaterial,position:[105.204,42.199,-87.544]}),I.jsx("mesh",{name:"a_mesa290",geometry:e.a_mesa290.geometry,material:t.DefaultMaterial,position:[103.474,42.199,-74.134]}),I.jsx("mesh",{name:"a_mesa291",geometry:e.a_mesa291.geometry,material:t.DefaultMaterial,position:[103.474,42.199,-58.741]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso2/escritorios_p2.glb");function Ehe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso2/paredes_p2.glb");return t["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.8,metalness:.1}),I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"pared_frente005",geometry:e.pared_frente005.geometry,material:t["pared blanca"],position:[124.694,47.382,-25.882]}),I.jsx("mesh",{name:"pared_frente006",geometry:e.pared_frente006.geometry,material:t["pared blanca"],position:[117.173,47.995,-39.493]}),I.jsx("mesh",{name:"pared_frente007",geometry:e.pared_frente007.geometry,material:t["pared blanca"],position:[106.731,47.995,-53.104]}),I.jsx("mesh",{name:"pared_frente008",geometry:e.pared_frente008.geometry,material:t["pared blanca"],position:[142.78,47.995,-54.898]}),I.jsx("mesh",{name:"pared_vidrio_1012",geometry:e.pared_vidrio_1012.geometry,material:t["barras cuartos.001"],position:[97.049,48.891,-84.087]}),I.jsxs("group",{name:"a_1_export017",position:[108.508,48.002,-113.959],children:[I.jsx("mesh",{name:"Cubo381",geometry:e.Cubo381.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo381_1",geometry:e.Cubo381_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export020",position:[131.612,47.995,-63.037],children:[I.jsx("mesh",{name:"Cubo383",geometry:e.Cubo383.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo383_1",geometry:e.Cubo383_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export024",position:[118.218,47.995,-126.99],children:[I.jsx("mesh",{name:"Cubo392",geometry:e.Cubo392.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo392_1",geometry:e.Cubo392_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export025",position:[131.612,47.995,-100.704],children:[I.jsx("mesh",{name:"Cubo401",geometry:e.Cubo401.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo401_1",geometry:e.Cubo401_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"columna1025",position:[142.85,47.995,-89.396],children:[I.jsx("mesh",{name:"Cubo405",geometry:e.Cubo405.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo405_1",geometry:e.Cubo405_1.geometry,material:t["plateado columnas"]})]}),I.jsxs("group",{name:"columna1026",position:[142.85,47.995,-118.496],children:[I.jsx("mesh",{name:"Cubo406",geometry:e.Cubo406.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo406_1",geometry:e.Cubo406_1.geometry,material:t["plateado columnas"]})]}),I.jsx("mesh",{name:"pared_vidrio_1013",geometry:e.pared_vidrio_1013.geometry,material:t["barras cuartos.001"],position:[97.049,48.891,-113.187]}),I.jsxs("group",{name:"a_1_export027",position:[138.316,47.995,-37.979],children:[I.jsx("mesh",{name:"Cubo408",geometry:e.Cubo408.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo408_1",geometry:e.Cubo408_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export028",position:[142.899,48.002,-73.878],children:[I.jsx("mesh",{name:"Cubo409",geometry:e.Cubo409.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo409_1",geometry:e.Cubo409_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export029",position:[131.612,47.995,-78.808],children:[I.jsx("mesh",{name:"Cubo410",geometry:e.Cubo410.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo410_1",geometry:e.Cubo410_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export030",position:[142.899,48.002,-133.474],children:[I.jsx("mesh",{name:"Cubo415",geometry:e.Cubo415.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo415_1",geometry:e.Cubo415_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export026",position:[142.899,48.002,-104.374],children:[I.jsx("mesh",{name:"Cubo416",geometry:e.Cubo416.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo416_1",geometry:e.Cubo416_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export031",position:[131.612,47.995,-129.355],children:[I.jsx("mesh",{name:"Cubo417",geometry:e.Cubo417.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo417_1",geometry:e.Cubo417_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export032",position:[131.612,47.995,-136.659],children:[I.jsx("mesh",{name:"Cubo418",geometry:e.Cubo418.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo418_1",geometry:e.Cubo418_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export033",position:[106.386,48.002,-98.986],children:[I.jsx("mesh",{name:"Cubo419",geometry:e.Cubo419.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo419_1",geometry:e.Cubo419_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export022",position:[106.386,48.002,-83.189],children:[I.jsx("mesh",{name:"Cubo420",geometry:e.Cubo420.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo420_1",geometry:e.Cubo420_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export034",position:[106.486,48.002,-69.586],children:[I.jsx("mesh",{name:"Cubo421",geometry:e.Cubo421.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo421_1",geometry:e.Cubo421_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export035",position:[117.581,47.995,-65.038],children:[I.jsx("mesh",{name:"Cubo422",geometry:e.Cubo422.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo422_1",geometry:e.Cubo422_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export036",position:[117.581,47.995,-74.134],children:[I.jsx("mesh",{name:"Cubo423",geometry:e.Cubo423.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo423_1",geometry:e.Cubo423_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export037",position:[117.581,47.995,-87.781],children:[I.jsx("mesh",{name:"Cubo424",geometry:e.Cubo424.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo424_1",geometry:e.Cubo424_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export038",position:[117.581,47.995,-103.534],children:[I.jsx("mesh",{name:"Cubo425",geometry:e.Cubo425.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo425_1",geometry:e.Cubo425_1.geometry,material:t["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso2/paredes_p2.glb");const Xhe=()=>ri([104.586,20,-109.648])>100?null:I.jsxs(I.Fragment,{children:[I.jsx(Ehe,{}),I.jsx(Hhe,{})]});function zhe(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/asiento3.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[147.712,62.212,-29],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151.719,62.212,-70],rotation:[0,3,0],scale:[1,1,1]},{position:[147,62.212,-85],rotation:[0,3,0],scale:[1,1,1]},{position:[148.341,62.212,-92.976],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151.716,62.212,-108.519],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[143,62.212,-108.519],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[137,62.212,-129],rotation:[0,0,0],scale:[1,1,1]},{position:[137,62.212,-133],rotation:[0,0,0],scale:[1,1,1]},{position:[137,62.212,-137],rotation:[0,0,0],scale:[1,1,1]},{position:[148,62.212,-129],rotation:[0,3,0],scale:[1,1,1]},{position:[148,62.212,-133],rotation:[0,3,0],scale:[1,1,1]},{position:[148,62.212,-137],rotation:[0,3,0],scale:[1,1,1]},{position:[101.007,62.212,-143.134],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[114.846,62.212,-127.676],rotation:[0,3,0],scale:[1,1,1]},{position:[114.846,62.212,-120],rotation:[0,3,0],scale:[1,1,1]},{position:[114.846,62.212,-124],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,62.212,-106.947],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,62.212,-103],rotation:[0,3,0],scale:[1,1,1]},{position:[102.5,62.212,-106.947],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[113.304,62.212,-96.591],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[110,62.212,-96.591],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[114.905,62.212,-90],rotation:[0,3,0],scale:[1,1,1]},{position:[114.905,62.212,-87],rotation:[0,3,0],scale:[1,1,1]},{position:[112,62.212,-72.7],rotation:[0,3,0],scale:[1,1,1]},{position:[103,62.212,-77],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[103,80.5,-57],rotation:[0,1.5,0],scale:[1,1,1]},{position:[107,80.5,-57],rotation:[0,1.5,0],scale:[1,1,1]},{position:[111,80.5,-57],rotation:[0,1.5,0],scale:[1,1,1]},{position:[100,80.5,-65],rotation:[0,0,0],scale:[1,1,1]},{position:[100,80.5,-69],rotation:[0,0,0],scale:[1,1,1]},{position:[100,80.5,-73],rotation:[0,0,0],scale:[1,1,1]},{position:[148,80.5,-77],rotation:[0,-1.5,0],scale:[1,1,1]},{position:[152,80.5,-48],rotation:[0,3,0],scale:[1,1,1]},{position:[102,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[105,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[108,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[111,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[102,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[105,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[108,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[111,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[102,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[105,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[108,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[111,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[102,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[105,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[108,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[111,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[102,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[105,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[108,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[111,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[142,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[145,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151,80.5,-90],rotation:[0,1.5,0],scale:[1,1,1]},{position:[142,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[145,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151,80.5,-95],rotation:[0,1.5,0],scale:[1,1,1]},{position:[142,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[145,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151,80.5,-100],rotation:[0,1.5,0],scale:[1,1,1]},{position:[142,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[145,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151,80.5,-105],rotation:[0,1.5,0],scale:[1,1,1]},{position:[142,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[145,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[148,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]},{position:[151,80.5,-110],rotation:[0,1.5,0],scale:[1,1,1]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Chair_Minotti_Mills_N040519013.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.st_gold})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Chair_Minotti_Mills_N040519013_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.black_st})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Chair_Minotti_Mills_N040519013_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.st_leather})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/asiento3.glb");function Yhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso3/escritorios_p3.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"Object001_Material_#1_0002",geometry:e["Object001_Material_#1_0002"].geometry,material:t.Material_1,position:[142.349,61.366,-134.228]}),I.jsx("mesh",{name:"a_mesa293",geometry:e.a_mesa293.geometry,material:t.DefaultMaterial,position:[143.476,61.509,-84.449]}),I.jsx("mesh",{name:"a_mesa294",geometry:e.a_mesa294.geometry,material:t.DefaultMaterial,position:[101.761,61.509,-140.34]}),I.jsx("mesh",{name:"a_mesa296",geometry:e.a_mesa296.geometry,material:t.DefaultMaterial,position:[149.288,61.715,-94.582]}),I.jsx("mesh",{name:"a_mesa298",geometry:e.a_mesa298.geometry,material:t.DefaultMaterial,position:[148.638,61.715,-30.973]}),I.jsx("mesh",{name:"a_mesa299",geometry:e.a_mesa299.geometry,material:t.DefaultMaterial,position:[148.638,61.715,-48.458]}),I.jsx("mesh",{name:"a_mesa300",geometry:e.a_mesa300.geometry,material:t.DefaultMaterial,position:[150.042,61.509,-68.934]}),I.jsx("mesh",{name:"a_mesa307",geometry:e.a_mesa307.geometry,material:t.DefaultMaterial,position:[103.474,61.509,-104.323]}),I.jsx("mesh",{name:"a_mesa308",geometry:e.a_mesa308.geometry,material:t.DefaultMaterial,position:[105.204,61.509,-87.544]}),I.jsx("mesh",{name:"a_mesa309",geometry:e.a_mesa309.geometry,material:t.DefaultMaterial,position:[103.474,61.509,-75.23]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso3/escritorios_p3.glb");function Khe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso3/paredes_p3.glb");return t["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.8,metalness:.1}),I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"pared_frente009",geometry:e.pared_frente009.geometry,material:t["pared blanca"],position:[124.694,66.692,-25.882]}),I.jsx("mesh",{name:"pared_frente010",geometry:e.pared_frente010.geometry,material:t["pared blanca"],position:[117.173,67.304,-39.493]}),I.jsx("mesh",{name:"pared_frente011",geometry:e.pared_frente011.geometry,material:t["pared blanca"],position:[106.731,67.304,-53.104]}),I.jsx("mesh",{name:"pared_frente012",geometry:e.pared_frente012.geometry,material:t["pared blanca"],position:[142.78,67.304,-54.898]}),I.jsx("mesh",{name:"pared_vidrio_1014",geometry:e.pared_vidrio_1014.geometry,material:t["barras cuartos.001"],position:[97.049,68.2,-84.087]}),I.jsxs("group",{name:"a_1_export039",position:[108.508,67.312,-113.959],children:[I.jsx("mesh",{name:"Cubo402",geometry:e.Cubo402.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo402_1",geometry:e.Cubo402_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export040",position:[131.612,67.304,-63.037],children:[I.jsx("mesh",{name:"Cubo426",geometry:e.Cubo426.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo426_1",geometry:e.Cubo426_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export041",position:[118.218,67.304,-126.99],children:[I.jsx("mesh",{name:"Cubo427",geometry:e.Cubo427.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo427_1",geometry:e.Cubo427_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export042",position:[131.612,67.304,-100.704],children:[I.jsx("mesh",{name:"Cubo428",geometry:e.Cubo428.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo428_1",geometry:e.Cubo428_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"columna1062",position:[142.85,67.304,-89.396],children:[I.jsx("mesh",{name:"Cubo429",geometry:e.Cubo429.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo429_1",geometry:e.Cubo429_1.geometry,material:t["plateado columnas"]})]}),I.jsxs("group",{name:"columna1067",position:[142.85,67.304,-118.496],children:[I.jsx("mesh",{name:"Cubo430",geometry:e.Cubo430.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo430_1",geometry:e.Cubo430_1.geometry,material:t["plateado columnas"]})]}),I.jsxs("group",{name:"a_1_export043",position:[138.316,67.304,-37.979],children:[I.jsx("mesh",{name:"Cubo432",geometry:e.Cubo432.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo432_1",geometry:e.Cubo432_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export044",position:[142.899,67.312,-73.878],children:[I.jsx("mesh",{name:"Cubo433",geometry:e.Cubo433.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo433_1",geometry:e.Cubo433_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export045",position:[131.612,67.304,-78.808],children:[I.jsx("mesh",{name:"Cubo434",geometry:e.Cubo434.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo434_1",geometry:e.Cubo434_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export049",position:[131.612,67.304,-143.729],children:[I.jsx("mesh",{name:"Cubo438",geometry:e.Cubo438.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo438_1",geometry:e.Cubo438_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export050",position:[106.386,67.312,-98.986],children:[I.jsx("mesh",{name:"Cubo439",geometry:e.Cubo439.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo439_1",geometry:e.Cubo439_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export051",position:[106.386,67.312,-83.233],children:[I.jsx("mesh",{name:"Cubo440",geometry:e.Cubo440.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo440_1",geometry:e.Cubo440_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export055",position:[117.581,67.304,-87.781],children:[I.jsx("mesh",{name:"Cubo444",geometry:e.Cubo444.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo444_1",geometry:e.Cubo444_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export056",position:[117.581,67.304,-103.534],children:[I.jsx("mesh",{name:"Cubo445",geometry:e.Cubo445.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo445_1",geometry:e.Cubo445_1.geometry,material:t["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso3/paredes_p3.glb");const Lhe=()=>ri([124.586,70,-60])>100?null:I.jsxs(I.Fragment,{children:[I.jsx(Khe,{}),I.jsx(Yhe,{}),I.jsx(zhe,{})]});function The(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso4/escritorios_p4.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"Object_8002",geometry:e.Object_8002.geometry,material:t["cafe oscuro"],position:[135.542,85.2,-80.633]}),I.jsx("mesh",{name:"Object_10001",geometry:e.Object_10001.geometry,material:t.color_flag1,position:[135.63,84.72,-80.57]}),I.jsx("mesh",{name:"Object_8003",geometry:e.Object_8003.geometry,material:t["cafe oscuro"],position:[138.413,85.2,-80.633]}),I.jsx("mesh",{name:"Object_10002",geometry:e.Object_10002.geometry,material:t.color_flag1,position:[138.501,84.72,-80.57]}),I.jsx("mesh",{name:"Object_8004",geometry:e.Object_8004.geometry,material:t["cafe oscuro"],position:[141.524,85.2,-80.633]}),I.jsx("mesh",{name:"Object_10003",geometry:e.Object_10003.geometry,material:t.color_flag1,position:[141.612,84.72,-80.57]}),I.jsx("mesh",{name:"a_mesa311",geometry:e.a_mesa311.geometry,material:t.DefaultMaterial,position:[146.18,80.803,-140.34]}),I.jsx("mesh",{name:"a_mesa314",geometry:e.a_mesa314.geometry,material:t.DefaultMaterial,position:[148.638,81.009,-48.458]}),I.jsx("mesh",{name:"a_mesa315",geometry:e.a_mesa315.geometry,material:t.DefaultMaterial,position:[148.066,80.803,-71.655],rotation:[-Math.PI,1.565,-Math.PI]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso4/escritorios_p4.glb");function khe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/edificio/piso4/paredes_p4.glb");return t["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.8,metalness:.1}),I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"pared_frente013",geometry:e.pared_frente013.geometry,material:t["pared blanca"],position:[124.694,86.001,-25.882]}),I.jsx("mesh",{name:"pared_frente014",geometry:e.pared_frente014.geometry,material:t["pared blanca"],position:[117.173,86.614,-39.493]}),I.jsx("mesh",{name:"pared_frente015",geometry:e.pared_frente015.geometry,material:t["pared blanca"],position:[106.731,86.614,-53.104]}),I.jsx("mesh",{name:"pared_frente016",geometry:e.pared_frente016.geometry,material:t["pared blanca"],position:[142.78,86.614,-54.898]}),I.jsx("mesh",{name:"pared_vidrio_1019",geometry:e.pared_vidrio_1019.geometry,material:t["barras cuartos.001"],position:[97.049,87.495,-84.087]}),I.jsxs("group",{name:"a_1_export064",position:[131.612,86.599,-75.943],children:[I.jsx("mesh",{name:"Cubo465",geometry:e.Cubo465.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo465_1",geometry:e.Cubo465_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"columna1072",position:[142.85,86.599,-84.068],children:[I.jsx("mesh",{name:"Cubo468",geometry:e.Cubo468.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo468_1",geometry:e.Cubo468_1.geometry,material:t["plateado columnas"]})]}),I.jsx("mesh",{name:"pared_vidrio_1018",geometry:e.pared_vidrio_1018.geometry,material:t["barras cuartos.001"],position:[97.049,87.495,-113.187]}),I.jsxs("group",{name:"a_1_export067",position:[138.316,86.599,-42.801],children:[I.jsx("mesh",{name:"Cubo471",geometry:e.Cubo471.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo471_1",geometry:e.Cubo471_1.geometry,material:t["vidrio sala"]})]}),I.jsxs("group",{name:"a_1_export072",position:[106.386,86.606,-83.233],children:[I.jsx("mesh",{name:"Cubo476",geometry:e.Cubo476.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo476_1",geometry:e.Cubo476_1.geometry,material:t["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/edificio/piso4/paredes_p4.glb");const Phe=()=>ri([124.586,80,-60])>100?null:I.jsxs(I.Fragment,{children:[I.jsx(khe,{}),I.jsx(The,{})]}),Dhe=()=>I.jsxs(I.Fragment,{children:[I.jsx(xhe,{}),I.jsx(Ghe,{}),I.jsx(vhe,{}),I.jsx(Ahe,{}),I.jsx(bhe,{}),I.jsx(phe,{}),I.jsx(She,{}),I.jsx(whe,{}),I.jsx(yhe,{}),I.jsx(Bhe,{}),I.jsx(Whe,{}),I.jsx(Fhe,{}),I.jsx(Xhe,{}),I.jsx(Lhe,{}),I.jsx(Phe,{})]});function Uhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_1_2.glb");return ri([26.081,-6.108,-269.709])>235?null:I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"escalon001",castShadow:!0,receiveShadow:!0,geometry:e.escalon001.geometry,material:t.barras,position:[26.081,-6.108,-269.709]})})}fe.preload("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_1_2.glb");function Ohe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_2_2.glb");return ri([20.925,-5.525,-416.178])>300?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"escalon003",position:[20.925,-5.525,-416.178],children:[I.jsx("mesh",{name:"Cubo176",castShadow:!0,receiveShadow:!0,geometry:e.Cubo176.geometry,material:t.barras}),I.jsx("mesh",{name:"Cubo176_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo176_1.geometry,material:t["piso base"]})]})})}fe.preload("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_2_2.glb");function jhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_3_2.glb");return ri([-47.778,-5.566,-147.137])>195?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"escalon004",position:[-47.778,-5.566,-147.137],children:[I.jsx("mesh",{name:"Cubo179",castShadow:!0,receiveShadow:!0,geometry:e.Cubo179.geometry,material:t.barras}),I.jsx("mesh",{name:"Cubo179_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo179_1.geometry,material:t["piso base"]})]})})}fe.preload("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_3_2.glb");const Jhe=()=>I.jsxs(I.Fragment,{children:[I.jsx(Uhe,{}),I.jsx(Ohe,{}),I.jsx(jhe,{})]});function Qhe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/barras.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"entrada",castShadow:!0,receiveShadow:!0,geometry:e.entrada.geometry,material:t.barras,position:[2.14,10.278,32.758],scale:[5.458,5.558,.773]}),I.jsx("mesh",{name:"pasillos_arriba_2",castShadow:!0,receiveShadow:!0,geometry:e.pasillos_arriba_2.geometry,material:t.barras,position:[-51.605,10.307,-254.717],rotation:[0,1.327,0],scale:[5.458,5.558,.773]}),I.jsx("mesh",{name:"pasillos_atras",castShadow:!0,receiveShadow:!0,geometry:e.pasillos_atras.geometry,material:t.barras,position:[72.099,10.285,-70.155]}),I.jsx("mesh",{name:"pasillos_arriba_1",castShadow:!0,receiveShadow:!0,geometry:e.pasillos_arriba_1.geometry,material:t.barras,position:[72.325,10.285,-70.155],rotation:[0,-.003,0]})]})}fe.preload("/recorrido-virtual-espe/models/barras.glb");function $he(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/columna_metal.glb"),t=v.useRef(null),i=[{position:[211.46,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-152.526,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[183.461,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[155.462,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[127.463,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[99.464,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[71.465,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[43.466,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[15.467,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-12.532,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-40.53,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-68.529,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-96.528,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-124.527,10.248,30.644],rotation:[0,0,0],scale:[1,1,1]},{position:[-164.371,10.233,25.047],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-140.415,10.218,-69.43],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-158.388,10.233,1.426],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-152.408,10.218,-22.195],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-146.411,10.218,-45.813],rotation:[0,1.37,0],scale:[1,1,1]},{position:[32.31,10.247,-413.594],rotation:[0,1.37,0],scale:[1,1,1]},{position:[59.681,10.251,-523.986],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-56.449,10.248,-60.596],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-49.622,10.248,-87.75],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-42.794,10.248,-114.904],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-35.966,10.248,-142.057],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-29.139,10.247,-169.211],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-22.311,10.247,-196.365],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-15.483,10.247,-223.518],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-8.656,10.247,-250.672],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-1.828,10.247,-277.826],rotation:[0,1.37,0],scale:[1,1,1]},{position:[5,10.247,-304.979],rotation:[0,1.37,0],scale:[1,1,1]},{position:[11.827,10.247,-332.133],rotation:[0,1.37,0],scale:[1,1,1]},{position:[18.655,10.247,-359.287],rotation:[0,1.37,0],scale:[1,1,1]},{position:[25.483,10.247,-386.44],rotation:[0,1.37,0],scale:[1,1,1]},{position:[32.719,10.251,-415.285],rotation:[0,1.37,0],scale:[1,1,1]},{position:[39.459,10.251,-442.46],rotation:[0,1.37,0],scale:[1,1,1]},{position:[46.2,10.251,-469.635],rotation:[0,1.37,0],scale:[1,1,1]},{position:[52.94,10.251,-496.811],rotation:[0,1.37,0],scale:[1,1,1]},{position:[32.31,-9.072,-413.594],rotation:[0,1.37,0],scale:[1,1,1]},{position:[59.681,-9.072,-523.986],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-56.449,-9.072,-60.596],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-49.622,-9.072,-87.75],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-42.794,-9.072,-114.904],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-35.966,-9.072,-142.057],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-29.139,-9.072,-169.211],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-22.311,-9.072,-196.365],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-15.483,-9.072,-223.518],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-8.656,-9.072,-250.672],rotation:[0,1.37,0],scale:[1,1,1]},{position:[-1.828,-9.072,-277.826],rotation:[0,1.37,0],scale:[1,1,1]},{position:[5,-9.072,-304.979],rotation:[0,1.37,0],scale:[1,1,1]},{position:[11.827,-9.072,-332.133],rotation:[0,1.37,0],scale:[1,1,1]},{position:[18.655,-9.072,-359.287],rotation:[0,1.37,0],scale:[1,1,1]},{position:[25.483,-9.072,-386.44],rotation:[0,1.37,0],scale:[1,1,1]},{position:[32.719,-9.072,-415.285],rotation:[0,1.37,0],scale:[1,1,1]},{position:[39.459,-9.072,-442.46],rotation:[0,1.37,0],scale:[1,1,1]},{position:[46.2,-9.072,-469.635],rotation:[0,1.37,0],scale:[1,1,1]},{position:[52.94,-9.072,-496.811],rotation:[0,1.37,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,e.barras.roughness=.8},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,castShadow:!0,receiveShadow:!0,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.a_viga_export.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.barras})]})})}fe.preload("/recorrido-virtual-espe/models/columna_metal.glb");function e2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/techo_subtecho_plantabaja.glb");return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"planta_baja",geometry:e.planta_baja.geometry,material:t["04_-_Default"],position:[30.332,20.831,-263.539]}),I.jsxs("group",{name:"techo",position:[30.673,19.94,-263.506],children:[I.jsx("mesh",{name:"Plano039",geometry:e.Plano039.geometry,material:t["techo.001"]}),I.jsx("mesh",{name:"Plano039_1",geometry:e.Plano039_1.geometry,material:t.barras})]}),I.jsx("mesh",{name:"subtechos",geometry:e.subtechos.geometry,material:t.techo,position:[37.327,8.507,-267.53]})]})}fe.preload("/recorrido-virtual-espe/models/techo_subtecho_plantabaja.glb");function t2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/viga_metal.glb"),t=v.useRef(null),i=[{position:[197.46,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[169.461,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[141.462,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[113.463,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[85.465,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[57.465,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[29.467,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[1.468,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[-26.531,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[-54.53,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[-82.529,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[-110.528,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[-138.527,18.044,30.723],rotation:[0,0,0],scale:[1,1,1]},{position:[-158.426,18.029,28.49],rotation:[0,-.4,0],scale:[.5,1,1]},{position:[-161.373,18.029,13.23],rotation:[0,1.317,0],scale:[.864,1,1]},{position:[-155.393,18.014,-10.392],rotation:[0,1.317,0],scale:[.864,1,1]},{position:[-149.395,18.014,-34.009],rotation:[0,1.317,0],scale:[.864,1,1]},{position:[-143.4,18.014,-57.627],rotation:[0,1.317,0],scale:[.864,1,1]},{position:[-53.029,18.044,-74.18],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-46.201,18.044,-101.334],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-39.374,18.044,-128.488],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-32.546,18.044,-155.641],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-25.718,18.044,-182.795],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-18.89,18.044,-209.948],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-12.063,18.044,-237.102],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-5.235,18.044,-264.256],rotation:[0,1.317,0],scale:[1,1,1]},{position:[1.593,18.044,-291.409],rotation:[0,1.317,0],scale:[1,1,1]},{position:[8.42,18.044,-318.563],rotation:[0,1.317,0],scale:[1,1,1]},{position:[15.248,18.044,-345.717],rotation:[0,1.317,0],scale:[1,1,1]},{position:[22.076,18.043,-372.87],rotation:[0,1.317,0],scale:[1,1,1]},{position:[28.903,18.043,-400.024],rotation:[0,1.317,0],scale:[1,1,1]},{position:[36.096,18.047,-428.879],rotation:[0,1.317,0],scale:[1,1,1]},{position:[42.837,18.047,-456.055],rotation:[0,1.317,0],scale:[1,1,1]},{position:[49.577,18.047,-483.23],rotation:[0,1.317,0],scale:[1,1,1]},{position:[56.318,18.047,-510.405],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-53.029,-1.285,-74.18],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-46.201,-1.285,-101.334],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-39.374,-1.285,-128.488],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-32.546,-1.285,-155.641],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-25.718,-1.285,-182.795],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-18.89,-1.285,-209.948],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-12.063,-1.285,-237.102],rotation:[0,1.317,0],scale:[1,1,1]},{position:[-5.235,-1.285,-264.256],rotation:[0,1.317,0],scale:[1,1,1]},{position:[1.593,-1.285,-291.409],rotation:[0,1.317,0],scale:[1,1,1]},{position:[8.42,-1.285,-318.563],rotation:[0,1.317,0],scale:[1,1,1]},{position:[15.248,-1.285,-345.717],rotation:[0,1.317,0],scale:[1,1,1]},{position:[22.076,-1.285,-372.87],rotation:[0,1.317,0],scale:[1,1,1]},{position:[28.903,-1.285,-400.024],rotation:[0,1.317,0],scale:[1,1,1]},{position:[36.096,-1.285,-428.879],rotation:[0,1.317,0],scale:[1,1,1]},{position:[42.837,-1.285,-456.055],rotation:[0,1.317,0],scale:[1,1,1]},{position:[49.577,-1.285,-483.23],rotation:[0,1.317,0],scale:[1,1,1]},{position:[56.318,-1.285,-510.405],rotation:[0,1.317,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.a_viga2export.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.barras})]})})}fe.preload("/recorrido-virtual-espe/models/viga_metal.glb");const n2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(e2e,{}),I.jsx($he,{}),I.jsx(t2e,{}),I.jsx(Qhe,{})]}),i2e=()=>I.jsxs(I.Fragment,{children:[I.jsx("ambientLight",{intensity:.45}),I.jsx("hemisphereLight",{groundColor:"#888888",intensity:.9}),I.jsx(Lne,{background:!0,files:"/recorrido-virtual-espe/autumn_park_1k.hdr",backgroundBlurriness:.06,environmentIntensity:.2,backgroundIntensity:1.5,environmentRotation:[-.2,.15,-.1]})]});function r2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/luces_techo1.glb");return ri([62.852,17.275,-14.179])>180?null:I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"luces0",position:[62.852,17.275,-14.179],scale:[1.004,1,1],children:[I.jsx("mesh",{name:"Plano114",castShadow:!0,receiveShadow:!0,geometry:n.Plano114.geometry,material:e["led techo"]}),I.jsx("mesh",{name:"Plano114_1",castShadow:!0,receiveShadow:!0,geometry:n.Plano114_1.geometry,material:e["caja led"]})]})})}fe.preload("/recorrido-virtual-espe/models/postes_luces/luces_techo1.glb");function o2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/luces_techo2.glb");return ri([-110.505,17.275,-12.332])>105?null:I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"luces0001",position:[-111,17.275,-12.332],scale:[1.004,1,1],children:[I.jsx("mesh",{name:"Plano002",castShadow:!0,receiveShadow:!0,geometry:n.Plano002.geometry,material:e["led techo"]}),I.jsx("mesh",{name:"Plano002_1",castShadow:!0,receiveShadow:!0,geometry:n.Plano002_1.geometry,material:e["caja led"]})]})})}fe.preload("/recorrido-virtual-espe/models/postes_luces/luces_techo2.glb");function a2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/luces_techo3.glb");return ri([-23.201,17.275,-238.706])>215?null:I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"luces0018",position:[-23.201,17.275,-238.706],scale:[1.004,1,1],children:[I.jsx("mesh",{name:"Plano045",castShadow:!0,receiveShadow:!0,geometry:n.Plano045.geometry,material:e["led techo"]}),I.jsx("mesh",{name:"Plano045_1",castShadow:!0,receiveShadow:!0,geometry:n.Plano045_1.geometry,material:e["caja led"]})]})})}fe.preload("/recorrido-virtual-espe/models/postes_luces/luces_techo3.glb");function s2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/luces_techo4.glb");return ri([33.232,17.464,-458.938])>215?null:I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"luces0002",position:[33.232,17.464,-458.938],scale:[1.004,1,1],children:[I.jsx("mesh",{name:"Plano004",castShadow:!0,receiveShadow:!0,geometry:n.Plano004.geometry,material:e["led techo"]}),I.jsx("mesh",{name:"Plano004_1",castShadow:!0,receiveShadow:!0,geometry:n.Plano004_1.geometry,material:e["caja led"]})]})})}fe.preload("/recorrido-virtual-espe/models/postes_luces/luces_techo4.glb");function l2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/luces_techo5.glb");return ri([-44,-2.102,-157.927])>205?null:I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"luces0004",position:[-44,-2.102,-157.927],scale:[1.004,1,1],children:[I.jsx("mesh",{name:"Plano009",castShadow:!0,receiveShadow:!0,geometry:n.Plano009.geometry,material:e["led techo"]}),I.jsx("mesh",{name:"Plano009_1",castShadow:!0,receiveShadow:!0,geometry:n.Plano009_1.geometry,material:e["caja led"]})]})})}fe.preload("/recorrido-virtual-espe/models/postes_luces/luces_techo5.glb");function c2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/luces_techo6.glb");return ri([18.443,-2.104,-402.873])>205?null:I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"luces0003",position:[18.443,-2.104,-402.873],scale:[1.004,1,1],children:[I.jsx("mesh",{name:"Plano006",castShadow:!0,receiveShadow:!0,geometry:n.Plano006.geometry,material:e["led techo"]}),I.jsx("mesh",{name:"Plano006_1",castShadow:!0,receiveShadow:!0,geometry:n.Plano006_1.geometry,material:e["caja led"]})]})})}fe.preload("/recorrido-virtual-espe/models/postes_luces/luces_techo6.glb");function g2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/postes_luces/minifaro.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=[{position:[59.552,3,-84.132],rotation:[0,0,0]},{position:[59.815,3,-128.621],rotation:[0,0,0]},{position:[67.48,3,-171.628],rotation:[Math.PI,-1.3,Math.PI]},{position:[78.8,3,-213.527],rotation:[Math.PI,-1.3,Math.PI]},{position:[90.484,3,-257.376],rotation:[Math.PI,-1.3,Math.PI]},{position:[67.842,3.1,-260.876],rotation:[Math.PI,-1.3,Math.PI]},{position:[7.096,-16.3,-273.849],rotation:[Math.PI,-1.3,Math.PI]}];return v.useEffect(()=>{a.forEach((s,l)=>{const c=new k(...s.position),g=new rn(...s.rotation),u=new k(.7,.73,.7),d=new vt;d.compose(c,new Qt().setFromEuler(g),u),t.current.setMatrixAt(l,d),i.current.setMatrixAt(l,d),r.current.setMatrixAt(l,d),o.current.setMatrixAt(l,d)}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0},[a]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo113.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["pared negro"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo113_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1})})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo113_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["led techo"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo113_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.acera})]})]})}fe.preload("/recorrido-virtual-espe/models/postes_luces/minifaro.glb");const u2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(g2e,{}),I.jsx(r2e,{}),I.jsx(o2e,{}),I.jsx(a2e,{}),I.jsx(s2e,{}),I.jsx(l2e,{}),I.jsx(c2e,{})]});function d2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/logos_letras/dibujo_atras.glb");return I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"Plano001",castShadow:!0,receiveShadow:!0,geometry:e.Plano001.geometry,material:t.figura,position:[123.513,45,-148.928],rotation:[0,Math.PI,0]})})}fe.preload("/recorrido-virtual-espe/models/logos_letras/dibujo_atras.glb");function I2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/logos_letras/letra1.glb");return I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"letra1",castShadow:!0,receiveShadow:!0,geometry:e.letra1.geometry,material:t["plateado columnas"],position:[125.347,80,-3.72],rotation:[Math.PI/2,0,0],scale:12.032})})}fe.preload("/recorrido-virtual-espe/models/logos_letras/letra1.glb");function C2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/logos_letras/letra2.glb");return I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.letra2.geometry,material:t["plateado columnas"],position:[125.347,48,-3.72],rotation:[Math.PI/2,0,0],scale:2.709})})}fe.preload("/recorrido-virtual-espe/models/logos_letras/letra2.glb");function Rf(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/logos_letras/logo.glb");return I.jsx("group",{dispose:null,children:I.jsxs("group",{name:"logo",position:n.position,rotation:n.rotation,scale:n.scale,children:[I.jsx("mesh",{name:"Círculo005",castShadow:!0,receiveShadow:!0,geometry:e.Círculo005.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Círculo005_1",castShadow:!0,receiveShadow:!0,geometry:e.Círculo005_1.geometry,material:t.logo})]})})}fe.preload("/recorrido-virtual-espe/models/logos_letras/logo.glb");function h2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/logos_letras/logo_entrada.glb");return ri([431.413,-1.642,17.68])>600?null:I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"base_logo",castShadow:!0,receiveShadow:!0,geometry:e.base_logo.geometry,material:t["Material.001"],position:[431.413,-1.642,17.68],scale:.812}),I.jsx("mesh",{name:"letra1001",castShadow:!0,receiveShadow:!0,geometry:e.letra1001.geometry,material:t.verde,position:[430.551,-2.98,17.826],rotation:[Math.PI/2,-.022,-.245],scale:18.9})]})}fe.preload("/recorrido-virtual-espe/models/logos_letras/logo_entrada.glb");function m2e(n){const{nodes:e}=fe("/recorrido-virtual-espe/models/logos_letras/flecha.glb"),t=new Qr({color:"green"});return I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"flecha",geometry:e.flecha.geometry,material:t,position:[360,3,20],scale:[.8,.7,.5],rotation:[0,.2,0]})})}fe.preload("/recorrido-virtual-espe/models/logos_letras/flecha.glb");function f2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/parte_fuera/plantas/arbol1.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[31.95,8.224,-57.601],rotation:[0,0,0],scale:[1,1,1]},{position:[17.108,3.235,-57.337],rotation:[0,0,0],scale:[.5,.5,.5]},{position:[10.299,4.622,-58.043],rotation:[0,.8,0],scale:[.7,.7,.7]},{position:[63.347,8.224,-56.394],rotation:[0,0,0],scale:[1,1,1]},{position:[62.604,8.224,-65.806],rotation:[0,2.3,0],scale:[1,1,1]},{position:[62.205,6,-120.074],rotation:[0,2.3,0],scale:[.7,.7,.7]},{position:[56.3,7,-229.77],rotation:[0,2.3,0],scale:[.9,.9,.9]},{position:[54.3,7,-222.77],rotation:[0,-2,0],scale:[.9,.9,.9]},{position:[-1.684,-6.146,-137.036],rotation:[0,-2,0],scale:[.5,.5,.5]},{position:[32.264,5.2,-76.453],rotation:[0,-2,0],scale:[.6,.7,.8]},{position:[32.264,5,-70],rotation:[0,1,0],scale:[.6,.6,.6]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.tree01_1001.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.Mat})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.tree01_1001_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.tronco})]})]})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/plantas/arbol1.glb");function p2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/parte_fuera/plantas/arbol2.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[1.015,-1.968,-134.568],rotation:[0,0,0],scale:[1,1,1]},{position:[205.945,15,-399],rotation:[0,.3,0],scale:[1,2,1.2]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.mesh1573540807001.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.mat10})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.mesh1573540807001_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.mat20})]})]})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/plantas/arbol2.glb");function A2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/parte_fuera/plantas/hierba1.glb"),t=v.useRef(null),i=[{position:[-22.877,-9.917,-57.288],rotation:[0,0,0],scale:[1,1,1]},{position:[68.211,2,-161.052],rotation:[0,0,0],scale:[1,1.5,1]},{position:[-16.913,-9.917,-82.834],rotation:[0,1,0],scale:[1,1,1]},{position:[-10.091,-9.917,-111.07],rotation:[0,-1.2,0],scale:[1,1,1]},{position:[3.724,-9.917,-168.963],rotation:[0,.5,0],scale:[1,1,1]},{position:[16.399,-9.682,-215.772],rotation:[0,.8,0],scale:[1,1,1]},{position:[97.822,3.4,-156.804],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[123.549,3.2,-156.814],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[147.07,3,-157.093],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[200.945,3,-393.184],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[166.365,3,-77.743],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[166.527,3,-103.469],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[166.408,3,-126.971],rotation:[0,0,0],scale:[1.5,2,1.5]},{position:[40.415,-9.738,-312.945],rotation:[0,0,0],scale:[1,1,1]},{position:[49.209,-9.809,-346.808],rotation:[0,1,0],scale:[1,1,1]},{position:[58.112,-9.809,-382.492],rotation:[0,.5,0],scale:[1,1,1]},{position:[69.839,-8.722,-430.356],rotation:[0,-1,0],scale:[1,1,1]},{position:[83.803,-9.574,-478.071],rotation:[0,0,0],scale:[1,1,1]},{position:[92.478,-9.574,-513.092],rotation:[0,.4,0],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.hierba1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.mat10})]})})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/plantas/hierba1.glb");function b2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/parte_fuera/postes.glb");return t.barras.roughness=.9,I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{name:"postes",castShadow:!0,receiveShadow:!0,geometry:e.postes.geometry,material:t.barras,position:[183.953,14.055,74.74]}),I.jsx("mesh",{name:"postes001",castShadow:!0,receiveShadow:!0,geometry:e.postes001.geometry,material:t.barras,position:[351.263,12,48.825],rotation:[0,.222,0]}),I.jsx("mesh",{name:"postes002",castShadow:!0,receiveShadow:!0,geometry:e.postes002.geometry,material:t.barras,position:[-70.649,14.055,74.74]}),I.jsx("mesh",{name:"postes003",castShadow:!0,receiveShadow:!0,geometry:e.postes003.geometry,material:t.barras,position:[-4.028,14.055,74.74]}),I.jsx("mesh",{name:"postes004",castShadow:!0,receiveShadow:!0,geometry:e.postes004.geometry,material:t.barras,position:[85.673,14.055,74.74]}),I.jsx("mesh",{name:"postes005",castShadow:!0,receiveShadow:!0,geometry:e.postes005.geometry,material:t.barras,position:[263.754,13.512,68.533],rotation:[0,.222,0]})]})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/postes.glb");const v2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(Rf,{position:[124.641,64,-4.289],rotation:[Math.PI/2,0,0],scale:[8.781,8.781,8.781]}),I.jsx(Rf,{position:[126.66,11,-147],rotation:[Math.PI/2,0,0],scale:[1.5,1.5,1.5]}),I.jsx(Rf,{position:[125,32,-147],rotation:[Math.PI/2,0,0],scale:[1.5,1.5,1.5]}),I.jsx(Rf,{position:[125,52,-147],rotation:[Math.PI/2,0,0],scale:[1.5,1.5,1.5]}),I.jsx(I2e,{}),I.jsx(C2e,{}),I.jsx(h2e,{}),I.jsx(d2e,{}),I.jsx(f2e,{}),I.jsx(p2e,{}),I.jsx(A2e,{}),I.jsx(b2e,{}),I.jsx(m2e,{})]});function y2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/mesas/mesa1.glb"),t=v.useRef(null),i=[{position:[65.341,3.475,-28.349],rotation:[0,0,0],scale:[1,1,1]},{position:[65.341,3.475,-11.721],rotation:[0,0,0],scale:[1,1,1]},{position:[64.428,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[64.41,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[57.127,3.475,20.804],rotation:[0,Math.PI/2,0],scale:[1,1,1.4]},{position:[49.387,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[49.387,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[50.982,3.475,-20.518],rotation:[0,1.571,0],scale:[1,1,1]},{position:[52.8,3.475,-15.5],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[52.8,3.475,-25.5],rotation:[0,Math.PI,0],scale:[1,1,1]},{position:[41.51,3.475,-23.308],rotation:[0,0,0],scale:[1,1,1]},{position:[41.636,3.475,-11.735],rotation:[0,0,0],scale:[1,1,1]},{position:[39.294,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[39.276,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[26,3.475,-19.988],rotation:[0,Math.PI/2,0],scale:[1,1,1]},{position:[28,3.475,-25.195],rotation:[0,0,0],scale:[.8,1,1]},{position:[28,3.475,-15.381],rotation:[0,0,0],scale:[.8,1,1]},{position:[28.936,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[28.936,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[19.01,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[20,3.475,-19.988],rotation:[0,Math.PI/2,0],scale:[1,1,.8]},{position:[18.815,3.475,-25.195],rotation:[0,0,0],scale:[1,1,1]},{position:[18.6,3.475,-15.381],rotation:[0,0,0],scale:[.8,1,1]},{position:[18.992,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[2,3.475,-19.988],rotation:[0,Math.PI/2,0],scale:[1,1,1]},{position:[4,3.475,-25.195],rotation:[0,0,0],scale:[.8,1,1]},{position:[4,3.475,-15.381],rotation:[0,0,0],scale:[.8,1,1]},{position:[8.652,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[8.652,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-1.274,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-1.292,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[-23,3.475,-19.988],rotation:[0,Math.PI/2,0],scale:[1,1,1]},{position:[-21,3.475,-25.195],rotation:[0,0,0],scale:[.8,1,1]},{position:[-21,3.475,-15.381],rotation:[0,0,0],scale:[.8,1,1]},{position:[-46,3.475,-19.988],rotation:[0,Math.PI/2,0],scale:[1,1,1]},{position:[-44,3.475,-25.195],rotation:[0,0,0],scale:[.8,1,1]},{position:[-44,3.475,-15.381],rotation:[0,0,0],scale:[.8,1,1]},{position:[-6.459,3.475,-19.988],rotation:[0,Math.PI/2,0],scale:[1,1,1]},{position:[-8.164,3.475,-25.195],rotation:[0,0,0],scale:[1,1,1]},{position:[-8.149,3.475,-15.381],rotation:[0,0,0],scale:[1,1,1]},{position:[-11.631,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[-11.631,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-21.558,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-21.576,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[-74.235,3.475,-8.249],rotation:[0,0,0],scale:[1,1,1]},{position:[-56.235,3.475,-12.249],rotation:[0,0,0],scale:[1,1,1]},{position:[-64.235,3.475,-12.249],rotation:[0,0,0],scale:[1,1,1]},{position:[-56.235,3.475,-23],rotation:[0,0,0],scale:[1,1,1]},{position:[-64.235,3.475,-23],rotation:[0,0,0],scale:[1,1,1]},{position:[-31.461,3.475,-23.308],rotation:[0,0,0],scale:[1,1,1]},{position:[-31.336,3.475,-11.735],rotation:[0,0,0],scale:[1,1,1]},{position:[-31.915,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[-31.915,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-41.841,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-41.859,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[-52.199,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[-52.199,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-62.125,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-62.143,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[-71.188,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[-71.188,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-81.115,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-81.133,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[-90.178,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[-90.178,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-100.104,3.475,8.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-100.122,3.475,19.245],rotation:[0,0,0],scale:[1,1,1]},{position:[-109.624,3.475,19.531],rotation:[0,0,0],scale:[1,1,1]},{position:[-109.624,3.475,8.162],rotation:[0,0,0],scale:[1,1,1]},{position:[-81.346,3.843,-77.334],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-92.984,3.867,-80.197],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-104.721,3.853,-83.057],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-116.156,3.868,-86.077],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-122.719,3.841,-81.511],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-79.646,3.846,-84.663],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-91.284,3.869,-87.525],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-103.021,3.856,-90.386],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-114.455,3.871,-93.406],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-77.742,3.834,-91.611],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-89.38,3.857,-94.474],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-101.117,3.844,-97.334],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-112.551,3.858,-100.354],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-74.11,3.865,-104.103],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-84.939,3.908,-106.961],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-97.568,3.921,-109.882],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-108.039,3.962,-112.709],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-115.483,3.862,-108.28],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-72.409,3.868,-111.432],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-83.238,3.911,-114.29],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-95.867,3.924,-117.211],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-106.339,3.965,-120.038],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-70.506,3.855,-118.38],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-81.335,3.899,-121.238],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-93.964,3.912,-124.159],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-104.435,3.953,-126.986],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-66.055,3.833,-131.081],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-76.885,3.877,-133.939],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-89.513,3.89,-136.861],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-99.985,3.93,-139.688],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-107.428,3.831,-135.259],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-64.355,3.836,-138.41],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-75.184,3.88,-141.268],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-87.813,3.893,-144.19],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-98.284,3.933,-147.016],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-62.451,3.824,-145.358],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-73.28,3.867,-148.217],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-85.909,3.88,-151.138],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-96.381,3.921,-153.965],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-58.903,3.72,-158.781],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-69.733,3.763,-161.639],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-82.361,3.776,-164.56],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-92.833,3.817,-167.387],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-100.276,3.717,-162.958],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-57.203,3.723,-166.109],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-68.032,3.766,-168.968],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-80.661,3.779,-171.889],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-91.132,3.82,-174.716],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-55.299,3.71,-173.058],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-66.128,3.754,-175.916],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-78.757,3.767,-178.837],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-89.229,3.808,-181.664],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-53.594,3.847,-186.691],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-64.423,3.89,-189.549],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-77.052,3.903,-192.47],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-87.523,3.944,-195.297],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-94.967,3.844,-190.868],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-51.893,3.849,-194.02],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-62.722,3.893,-196.878],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-75.351,3.906,-199.799],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-85.823,3.947,-202.626],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-49.989,3.837,-200.968],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-60.819,3.881,-203.826],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-73.448,3.893,-206.747],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-83.919,3.934,-209.574],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-47.213,3.843,-214.083],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-58.042,3.886,-216.941],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-70.671,3.899,-219.863],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-81.143,3.94,-222.689],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-88.586,3.84,-218.261],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-45.512,3.845,-221.412],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-56.342,3.889,-224.27],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-68.97,3.902,-227.191],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-79.442,3.943,-230.018],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-43.609,3.833,-228.36],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-54.438,3.877,-231.218],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-67.067,3.889,-234.14],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-77.539,3.93,-236.967],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-38.386,3.774,-241.312],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-49.215,3.817,-244.171],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-61.844,3.83,-247.092],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-72.315,3.871,-249.919],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-79.758,3.771,-245.49],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-36.685,3.777,-248.641],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-47.514,3.82,-251.499],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-60.143,3.833,-254.421],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-70.615,3.874,-257.248],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-34.781,3.764,-255.589],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-45.611,3.808,-258.448],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-58.239,3.821,-261.369],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-68.711,3.861,-264.196],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-18.755,3.867,-321.285],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-29.584,3.911,-324.144],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-42.213,3.924,-327.065],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-52.685,3.964,-329.892],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-60.128,3.865,-325.463],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-17.054,3.87,-328.614],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-27.884,3.914,-331.472],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-40.512,3.927,-334.394],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-50.984,3.967,-337.221],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-15.151,3.858,-335.562],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-25.98,3.901,-338.421],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-38.609,3.914,-341.342],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-49.08,3.955,-344.169],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-12.092,3.814,-348.911],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-22.921,3.857,-351.769],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-35.55,3.87,-354.69],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-46.021,3.911,-357.517],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-53.465,3.811,-353.088],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-10.391,3.817,-356.239],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-21.22,3.86,-359.098],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-33.849,3.873,-362.019],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-44.321,3.914,-364.846],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-8.488,3.804,-363.188],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-19.317,3.848,-366.046],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-31.946,3.861,-368.967],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-42.417,3.901,-371.794],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-6.037,3.829,-376.896],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-16.866,3.873,-379.755],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-29.495,3.886,-382.676],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-39.966,3.926,-385.503],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-47.409,3.827,-381.074],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-4.336,3.832,-384.225],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-15.165,3.876,-387.084],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-27.794,3.888,-390.005],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-38.266,3.929,-392.832],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-2.432,3.82,-391.174],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-13.262,3.863,-394.032],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-25.89,3.876,-396.953],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-36.362,3.917,-399.78],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[1.8,3.878,-404.437],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-9.029,3.921,-407.295],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-21.658,3.934,-410.217],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-32.13,3.975,-413.043],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-39.573,3.875,-408.615],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[3.501,3.881,-411.766],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-7.328,3.924,-414.624],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-19.957,3.937,-417.545],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-30.429,3.978,-420.372],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[5.404,3.868,-418.714],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-5.425,3.912,-421.572],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-18.054,3.924,-424.494],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-28.525,3.965,-427.321],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[9.861,3.886,-430.858],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-.968,3.93,-433.716],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-13.597,3.943,-436.638],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-24.069,3.983,-439.464],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-31.512,3.884,-435.036],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[11.562,3.889,-438.187],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[.732,3.933,-441.045],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-11.897,3.945,-443.966],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-22.368,3.986,-446.793],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[13.465,3.877,-445.135],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[2.636,3.92,-447.993],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-9.993,3.933,-450.915],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-20.465,3.974,-453.742],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[15.235,3.805,-458.623],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[4.405,3.848,-461.481],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-8.223,3.861,-464.402],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-18.695,3.902,-467.229],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-26.138,3.802,-462.8],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[16.935,3.808,-465.952],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[6.106,3.851,-468.81],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-6.523,3.864,-471.731],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-16.994,3.905,-474.558],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[18.839,3.795,-472.9],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[8.01,3.839,-475.758],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-4.619,3.852,-478.679],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-15.091,3.892,-481.506],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[19.362,3.989,-488.046],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[8.532,4.033,-490.904],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-4.096,4.046,-493.826],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-14.568,4.087,-496.652],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[21.062,3.992,-495.375],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[10.233,4.036,-498.233],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-2.396,4.049,-501.154],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-12.867,4.089,-503.981],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[22.966,3.98,-502.323],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[12.137,4.024,-505.181],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-.492,4.036,-508.103],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-10.964,4.077,-510.929],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[24.322,3.939,-508.687],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[13.493,3.983,-511.545],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[.864,3.996,-514.466],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-9.607,4.036,-517.293],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[26.023,3.942,-516.016],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[15.194,3.986,-518.874],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[2.565,3.999,-521.795],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-7.907,4.039,-524.622],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]},{position:[-4.249,4.071,-537.839],rotation:[-Math.PI,1.8,-Math.PI],scale:[1,1,1]}];return v.useEffect(()=>{i.forEach((r,o)=>{const a=new k(...r.position),s=new rn(...r.rotation),l=new k(r.scale[0],r.scale[1],r.scale[2]),c=new vt;c.compose(a,new Qt().setFromEuler(s),l),t.current.setMatrixAt(o,c),t.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0},[i]),I.jsx("group",{children:I.jsxs("instancedMesh",{ref:t,args:[null,null,i.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.mesa_1_export.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.DefaultMaterial})]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/mesas/mesa1.glb");function B2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_1.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[66.635,5.975,-8.058],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[66.635,5.975,-24.758],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[49.449,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,.56]},{position:[43.65,5.975,-19.044],rotation:[0,1.571,0],scale:[.638,.896,.685]},{position:[43.65,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,.685]},{position:[41.227,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[41.227,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[25.55,5.975,-8.226],rotation:[0,1.571,0],scale:[.6,.896,.56]},{position:[20.943,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[20.943,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[19,5.975,-8.221],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[.737,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,.685]},{position:[.659,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[.659,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-5.51,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,.685]},{position:[-22.48,5.975,-8.226],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-19.624,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-19.624,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-29.4,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,.685]},{position:[-28.7,5.975,-18.909],rotation:[0,1.571,0],scale:[.638,.896,.685]},{position:[-39.908,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-39.908,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-46.37,5.975,-8.226],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-54.96,5.975,-18.909],rotation:[0,1.571,0],scale:[.638,.896,1.21]},{position:[-54.96,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,1.21]},{position:[-60.192,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-60,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-62.51,5.975,-8.153],rotation:[0,1.571,0],scale:[.638,.896,1.1]},{position:[-61.51,5.975,-18.909],rotation:[0,1.571,0],scale:[.638,.896,1.1]},{position:[-79.181,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-79.181,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-98.171,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-98.171,5.975,14.42],rotation:[0,1.571,0],scale:[.638,.896,.896]},{position:[-111.085,5.975,4.598],rotation:[0,1.571,0],scale:[.638,.896,.896]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo205.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.002"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo205_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2.001"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_1.glb");function x2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_2.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[66.412,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo061.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2.001"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo061_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.002"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_2.glb");function G2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_3.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[56.517,5.975,-20.241],rotation:[0,0,0],scale:[.896,.896,.896]},{position:[32.566,5.975,-20.205],rotation:[0,0,0],scale:[.896,.896,.896]},{position:[9.369,5.975,-20.247],rotation:[0,0,0],scale:[.896,.896,.896]},{position:[-15.521,5.975,-20.085],rotation:[0,0,0],scale:[.896,.896,.896]},{position:[-39.406,5.975,-20.202],rotation:[0,0,0],scale:[.896,.896,.896]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo163.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2.001"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo163_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.002"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_3.glb");function w2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_4.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[47.079,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[26.795,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[6.511,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[-13.773,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[-34.056,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[-54.34,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[-73.33,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]},{position:[-92.319,5.975,13.525],rotation:[Math.PI,0,Math.PI],scale:[.896,.896,.896]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo164.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2.001"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo164_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.002"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/cubiculos/separadores/cubiculo_4.glb");function S2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/a_2.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[65.18,10.598,23.126],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[43.5,10.598,23.126],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[18.4,10.598,23.126],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-10.683,10.598,23.126],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-129.655,10.598,23.126],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-118.84,10.598,23.126],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-4.345,9.71,-32.9],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[28.101,9.71,-32.9],rotation:[0,Math.PI/2,0],scale:[1,.93,1]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),e["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo051.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.techo})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo051_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/a_2.glb");function Z2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/a_3.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[60.548,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[54.3,11.4,23.31],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[49.733,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[38.917,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[17.286,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[6.47,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[-15.161,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[-25.977,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[-36.792,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1]},{position:[-48.05,10.3,-33.09],rotation:[0,Math.PI/2,0],scale:[1,.93,1.12]},{position:[-43.13,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-32.315,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-21.499,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[.132,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[10.948,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[32.579,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-75.577,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-108.024,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-97.208,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-86.393,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-64.761,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]},{position:[-53.946,11.4,23.284],rotation:[0,-Math.PI/2,0],scale:[1,1.04,1]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),e["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo069.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e.techo})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo069_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/a_3.glb");function q2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/b_0_verticales.glb");return I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{name:"b_0_verticales_export",castShadow:!0,receiveShadow:!0,geometry:e.b_0_verticales_export.geometry,material:t["barras cuartos"],position:[-114.437,9.376,3.904],scale:[.631,5.699,.631]})})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/b_0_verticales.glb");function R2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/c_3.glb"),t=v.useRef(null),i=v.useRef(null),r=[{position:[70.621,9.711,5.044],rotation:[0,0,0],scale:[1,.9,1.107]},{position:[70.616,9.711,13.28],rotation:[0,0,0],scale:[1,.9,1]},{position:[70.616,9.711,9.276],rotation:[0,0,0],scale:[1,.9,1.082]},{position:[-114.427,9.711,13.28],rotation:[0,0,0],scale:[1,.9,1]},{position:[-114.427,9.711,9.674],rotation:[0,0,0],scale:[1,.9,1]},{position:[-114.427,9.711,6.069],rotation:[0,0,0],scale:[1,.9,1]},{position:[-114.432,10.599,20.495],rotation:[0,0,0],scale:[1,1,1]},{position:[-114.432,10.599,16.89],rotation:[0,0,0],scale:[1,1,.87]},{position:[70.621,10.599,20.495],rotation:[0,0,0],scale:[1,1,1]},{position:[70.621,10.599,16.89],rotation:[0,0,0],scale:[1,1,.87]},{position:[-50.341,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-46.735,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-39.525,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-35.92,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-28.709,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-25.104,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-17.894,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-14.289,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-7.078,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-3.473,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[3.738,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[7.343,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[14.553,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[21.764,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[25.369,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[28.974,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[36.184,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[39.79,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[47,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[50.605,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[57.816,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[61.421,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[68.631,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-82.787,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-79.182,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-71.972,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-68.367,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-61.156,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-57.551,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-104.419,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-100.814,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-93.603,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-89.998,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-126.05,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-122.445,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-115.234,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-111.629,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-136.866,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[-133.26,10.599,22.904],rotation:[0,-Math.PI/2,0],scale:[1,1,1]},{position:[67.75,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[.94,.9,1]},{position:[64.153,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[56.943,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[53.338,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[46.127,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[42.522,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[35.312,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[31.707,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[24.496,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[20.891,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[13.681,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[10.075,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[2.865,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-.74,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-7.951,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-11.556,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-18.766,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-22.372,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-29.582,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-33.187,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-40.398,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-44.003,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-51.851,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-55.7,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-59.5,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-63.3,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[-67,9.71,-32.7],rotation:[0,Math.PI/2,0],scale:[1,.9,1]},{position:[96,31.321,-42.226],rotation:[0,0,0],scale:[1.5,.4,1.7]},{position:[96,50.6,-42.226],rotation:[0,0,0],scale:[1.5,.4,1.7]},{position:[96,70,-42.226],rotation:[0,0,0],scale:[1.5,.4,1.7]},{position:[153.5,31.321,-42],rotation:[0,0,0],scale:[1.5,.4,1.7]},{position:[153.5,50.6,-42],rotation:[0,0,0],scale:[1.5,.4,1.7]},{position:[153.5,70,-42],rotation:[0,0,0],scale:[1.5,.4,1.7]}];return v.useEffect(()=>{r.forEach((o,a)=>{const s=new k(...o.position),l=new rn(...o.rotation),c=new k(o.scale[0],o.scale[1],o.scale[2]),g=new vt;g.compose(s,new Qt().setFromEuler(l),c),t.current.setMatrixAt(a,g),i.current.setMatrixAt(a,g),t.current.frustumCulled=!1,i.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0},[r]),e["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo277.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,r.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo277_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["techo.002"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/c_3.glb");function M2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/pared_interna_2.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=[{position:[22.816,9.376,-20.268],rotation:[0,Math.PI/2,0],scale:[.938,5.699,.631]},{position:[-26.298,9.376,-20.268],rotation:[0,Math.PI/2,0],scale:[.938,5.699,.631]}];return v.useEffect(()=>{a.forEach((s,l)=>{const c=new k(...s.position),g=new rn(...s.rotation),u=new k(s.scale[0],s.scale[1],s.scale[2]),d=new vt;d.compose(c,new Qt().setFromEuler(g),u),t.current.setMatrixAt(l,d),i.current.setMatrixAt(l,d),r.current.setMatrixAt(l,d),o.current.setMatrixAt(l,d),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0},[a]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo287.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo287_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.002"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo287_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2.001"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo287_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["plateado columnas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/pared_interna_2.glb");function _2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/pared_interna.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=v.useRef(null),a=[{position:[47.524,9.376,-28.313],rotation:[0,Math.PI/2,0],scale:[.938,5.699,.631]},{position:[-1.589,9.376,-28.313],rotation:[0,Math.PI/2,0],scale:[.938,5.699,.631]},{position:[-49.391,9.376,-28.313],rotation:[0,Math.PI/2,0],scale:[.938,5.699,.631]}];return v.useEffect(()=>{a.forEach((s,l)=>{const c=new k(...s.position),g=new rn(...s.rotation),u=new k(s.scale[0],s.scale[1],s.scale[2]),d=new vt;d.compose(c,new Qt().setFromEuler(g),u),t.current.setMatrixAt(l,d),i.current.setMatrixAt(l,d),r.current.setMatrixAt(l,d),o.current.setMatrixAt(l,d),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1,o.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0,o.current.instanceMatrix.needsUpdate=!0},[a]),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo285.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera paredes"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo285_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos.002"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo285_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["madera clara 2.001"]})]}),I.jsxs("instancedMesh",{ref:o,args:[null,null,a.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo285_3.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["plateado columnas"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/pared_interna.glb");function W2e(){const{nodes:n,materials:e}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/puerta.glb"),t=v.useRef(null),i=v.useRef(null),r=v.useRef(null),o=[{position:[68.9,9.464,-2.258],rotation:[0,Math.PI,0],scale:[-1,.99,1]},{position:[-72.85,9.5,-30.96],rotation:[0,1.588,0],scale:[1,.99,-.87]},{position:[-116.058,9.464,-.2],rotation:[0,-Math.PI,0],scale:[-1,.99,-.87]},{position:[125.036,9.464,-56],rotation:[0,Math.PI/2,0],scale:[-1,.99,-.9]}];return v.useEffect(()=>{o.forEach((a,s)=>{const l=new k(...a.position),c=new rn(...a.rotation),g=new k(a.scale[0],a.scale[1],a.scale[2]),u=new vt;u.compose(l,new Qt().setFromEuler(c),g),t.current.setMatrixAt(s,u),i.current.setMatrixAt(s,u),r.current.setMatrixAt(s,u),t.current.frustumCulled=!1,i.current.frustumCulled=!1,r.current.frustumCulled=!1}),t.current.instanceMatrix.needsUpdate=!0,i.current.instanceMatrix.needsUpdate=!0,r.current.instanceMatrix.needsUpdate=!0},[o]),e["vidrio sala"]=new ii({color:"white",opacity:.15,transparent:!0,roughness:.7,metalness:.1}),I.jsxs("group",{children:[I.jsxs("instancedMesh",{ref:t,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo021.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["barras cuartos"]})]}),I.jsxs("instancedMesh",{ref:i,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo021_1.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["vidrio sala"]})]}),I.jsxs("instancedMesh",{ref:r,args:[null,null,o.length],children:[I.jsx("bufferGeometry",{attach:"geometry",...n.Cubo021_2.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...e["Material.009"]})]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/a_3.glb");const V2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(q2e,{}),I.jsx(R2e,{})," ",I.jsx(S2e,{})," ",I.jsx(Z2e,{})," ",I.jsx(_2e,{}),I.jsx(M2e,{}),I.jsx(W2e,{}),I.jsx(B2e,{}),I.jsx(x2e,{}),I.jsx(G2e,{}),I.jsx(w2e,{}),I.jsx(y2e,{})]});function N2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_1.glb"),i=l=>{var C;const c=[],g=[],u=l.attributes.position.array,d=(C=l.index)==null?void 0:C.array;for(let f=0;f<u.length;f+=3)c.push(new k(u[f],u[f+1],u[f+2]));if(d)for(let f=0;f<d.length;f+=3)g.push([d[f],d[f+1],d[f+2]]);return{vertices:c,faces:g}},{vertices:r,faces:o}=i(e.Cubo189_1.geometry),{vertices:a,faces:s}=i(e.Cubo189.geometry);return qi(()=>({mass:0,args:[r,o],position:[30.181,-9.002,-274.785]})),qi(()=>({mass:0,args:[a,s],position:[30.181,-9.002,-274.785]})),I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"escalon002",position:[30.181,-9.002,-274.785],children:[I.jsx("mesh",{name:"Cubo189",castShadow:!0,receiveShadow:!0,geometry:e.Cubo189.geometry,material:t.acera}),I.jsx("mesh",{name:"Cubo189_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo189_1.geometry,material:t.escaleras})]})})}fe.preload("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_1.glb");function F2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_2.glb"),i=s=>{var d;const l=[],c=[],g=s.attributes.position.array,u=(d=s.index)==null?void 0:d.array;for(let C=0;C<g.length;C+=3)l.push(new k(g[C],g[C+1],g[C+2]));if(u)for(let C=0;C<u.length;C+=3)c.push([u[C],u[C+1],u[C+2]]);return{vertices:l,faces:c}},{vertices:r,faces:o}=i(e.Cubo105_1.geometry);return qi(()=>({mass:0,args:[r,o],position:[21.226,-7.792,-417.263]})),ri([21.226,-7.792,-417.263])>200?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"escalon005",position:[21.226,-7.792,-417.263],children:[I.jsx("mesh",{name:"Cubo105",castShadow:!0,receiveShadow:!0,geometry:e.Cubo105.geometry,material:t.barras}),I.jsx("mesh",{name:"Cubo105_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo105_1.geometry,material:t["piso base"]})]})})}fe.preload("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_2.glb");function H2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_3.glb"),i=s=>{var d;const l=[],c=[],g=s.attributes.position.array,u=(d=s.index)==null?void 0:d.array;for(let C=0;C<g.length;C+=3)l.push(new k(g[C],g[C+1],g[C+2]));if(u)for(let C=0;C<u.length;C+=3)c.push([u[C],u[C+1],u[C+2]]);return{vertices:l,faces:c}},{vertices:r,faces:o}=i(e.Cubo072.geometry);return qi(()=>({mass:0,args:[r,o],position:[-47.778,-7.808,-145.144]})),ri([-47.778,-7.808,-145.144])>195?null:I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"escalon006",position:[-47.778,-7.808,-145.144],children:[I.jsx("mesh",{name:"Cubo072",castShadow:!0,receiveShadow:!0,geometry:e.Cubo072.geometry,material:t.barras}),I.jsx("mesh",{name:"Cubo072_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo072_1.geometry,material:t["piso base"]})]})})}fe.preload("/recorrido-virtual-espe/models/escaleras/escaleras_pasillo_3.glb");const E2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(N2e,{}),I.jsx(F2e,{}),I.jsx(H2e,{})]});function X2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/pared_derecha.glb"),i=l=>{var C;const c=[],g=[],u=l.attributes.position.array,d=(C=l.index)==null?void 0:C.array;for(let f=0;f<u.length;f+=3)c.push(new k(u[f],u[f+1],u[f+2]));if(d)for(let f=0;f<d.length;f+=3)g.push([d[f],d[f+1],d[f+2]]);return{vertices:c,faces:g}},{vertices:r,faces:o}=i(e.pared_derecha.geometry);qi(()=>({mass:0,args:[r,o],position:[217.359,10.264,-9.227]}));const a=v.useRef(null);return I.jsx("group",{...n,position:[217.359,10.264,-9.227],dispose:null,children:I.jsxs("instancedMesh",{ref:a,args:[null,null,1],children:[I.jsx("bufferGeometry",{attach:"geometry",...e.pared_derecha.geometry}),I.jsx("meshStandardMaterial",{attach:"material",...t["pared blanca"]})]})})}fe.preload("/recorrido-virtual-espe/models/pared_derecha.glb");function z2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/pasillo_entrada_media.glb"),i=g=>{var b;const u=[],d=[],C=g.attributes.position.array,f=(b=g.index)==null?void 0:b.array;for(let A=0;A<C.length;A+=3)u.push(new k(C[A],C[A+1],C[A+2]));if(f)for(let A=0;A<f.length;A+=3)d.push([f[A],f[A+1],f[A+2]]);return{vertices:u,faces:d}},{vertices:r,faces:o}=i(e.Cubo134.geometry),{vertices:a,faces:s}=i(e.Cubo134_1.geometry),{vertices:l,faces:c}=i(e.Cubo134_2.geometry);return qi(()=>({mass:0,args:[r,o],position:[46.977,-9.07,-175.008]})),qi(()=>({mass:0,args:[a,s],position:[46.977,-9.07,-175.008]})),qi(()=>({mass:0,args:[l,c],position:[46.977,-9.07,-175.008]})),I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"pasillo_entrada_media",position:[46.977,-9.07,-175.008],children:[I.jsx("mesh",{name:"Cubo134",castShadow:!0,receiveShadow:!0,geometry:e.Cubo134.geometry,material:t["piso base"]}),I.jsx("mesh",{name:"Cubo134_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo134_1.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo134_2",castShadow:!0,receiveShadow:!0,geometry:e.Cubo134_2.geometry,material:t.acera})]})})}fe.preload("/recorrido-virtual-espe/models/pasillo_entrada_media.glb");function Y2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/espe_base1.glb"),i=a=>{var u;const s=[],l=[],c=a.attributes.position.array,g=(u=a.index)==null?void 0:u.array;for(let d=0;d<c.length;d+=3)s.push(new k(c[d],c[d+1],c[d+2]));if(g)for(let d=0;d<g.length;d+=3)l.push([g[d],g[d+1],g[d+2]]);return{vertices:s,faces:l}},{vertices:r,faces:o}=i(e.Plano041.geometry);return qi(()=>({mass:0,args:[r,o],position:[30.397,.752,-263.781]})),I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"piso_base",position:[30.397,.752,-263.781],children:[I.jsx("mesh",{name:"Plano041",geometry:e.Plano041.geometry,material:t["piso base"]}),I.jsx("mesh",{name:"Plano041_1",geometry:e.Plano041_1.geometry,material:t.barras}),I.jsx("mesh",{name:"Plano041_2",geometry:e.Plano041_2.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Plano041_3",geometry:e.Plano041_3.geometry,material:t["madera paredes"]})]})})}fe.preload("/recorrido-virtual-espe/models/espe_base1.glb");function K2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/espe_base2.glb"),i=l=>{var C;const c=[],g=[],u=l.attributes.position.array,d=(C=l.index)==null?void 0:C.array;for(let f=0;f<u.length;f+=3)c.push(new k(u[f],u[f+1],u[f+2]));if(d)for(let f=0;f<d.length;f+=3)g.push([d[f],d[f+1],d[f+2]]);return{vertices:c,faces:g}},{vertices:r,faces:o}=i(e.Plano008.geometry),{vertices:a,faces:s}=i(e.Plano008_2.geometry);return qi(()=>({mass:0,args:[r,o],position:[-39.481,-18.593,-296.244]})),qi(()=>({mass:0,args:[a,s],position:[-39.481,-18.593,-296.244]})),I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"piso_base_abajo",position:[-39.481,-18.593,-296.244],children:[I.jsx("mesh",{name:"Plano008",castShadow:!0,receiveShadow:!0,geometry:e.Plano008.geometry,material:t["piso base"]}),I.jsx("mesh",{name:"Plano008_1",castShadow:!0,receiveShadow:!0,geometry:e.Plano008_1.geometry,material:t.barras}),I.jsx("mesh",{name:"Plano008_2",castShadow:!0,receiveShadow:!0,geometry:e.Plano008_2.geometry,material:t.acera})]})})}fe.preload("/recorrido-virtual-espe/models/espe_base2.glb");function L2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/espe_base_pared.glb"),i=a=>{var u;const s=[],l=[],c=a.attributes.position.array,g=(u=a.index)==null?void 0:u.array;for(let d=0;d<c.length;d+=3)s.push(new k(c[d],c[d+1],c[d+2]));if(g)for(let d=0;d<g.length;d+=3)l.push([g[d],g[d+1],g[d+2]]);return{vertices:s,faces:l}},{vertices:r,faces:o}=i(e.piso_base_abajo001.geometry);return qi(()=>({mass:0,args:[r,o],position:[-83.748,-9.947,-45.97]})),I.jsx("group",{...n,dispose:null,children:I.jsx("group",{name:"piso_base_abajo001",position:[-83.748,-9.947,-45.97],children:I.jsx("mesh",{name:"Plano008",castShadow:!0,receiveShadow:!0,geometry:e.piso_base_abajo001.geometry,material:t["pared blanca"]})})})}fe.preload("/recorrido-virtual-espe/models/espe_base_pared.glb");const T2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(Y2e,{}),I.jsx(K2e,{}),I.jsx(L2e,{}),I.jsx(X2e,{}),I.jsx(z2e,{})]});function k2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/parte_fuera/gradas.glb"),i=a=>{var u;const s=[],l=[],c=a.attributes.position.array,g=(u=a.index)==null?void 0:u.array;for(let d=0;d<c.length;d+=3)s.push(new k(c[d],c[d+1],c[d+2]));if(g)for(let d=0;d<g.length;d+=3)l.push([g[d],g[d+1],g[d+2]]);return{vertices:s,faces:l}},{vertices:r,faces:o}=i(e.base_grada.geometry);return qi(()=>({mass:0,args:[r,o],position:[220.698,-.403,33]})),t.Material.roughness=.8,I.jsx("group",{...n,dispose:null,children:I.jsx("mesh",{geometry:e.base_grada.geometry,material:t.Material,position:[220.698,-.403,33]})})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/gradas.glb");function P2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/parte_fuera/terreno.glb");t.terreno.roughness=.8,t.terreno2.roughness=.8,t.terreno3.roughness=.8;const i=g=>{var b;const u=[],d=[],C=g.attributes.position.array,f=(b=g.index)==null?void 0:b.array;for(let A=0;A<C.length;A+=3)u.push(new k(C[A],C[A+1],C[A+2]));if(f)for(let A=0;A<f.length;A+=3)d.push([f[A],f[A+1],f[A+2]]);return{vertices:u,faces:d}},{vertices:r,faces:o}=i(e.Plano010.geometry),{vertices:a,faces:s}=i(e.Plano010_1.geometry),{vertices:l,faces:c}=i(e.Plano010_2.geometry);return qi(()=>({mass:0,args:[r,o],position:[123.966,-8.423,-231.8]})),qi(()=>({mass:0,args:[a,s],position:[123.966,-8.423,-231.8]})),qi(()=>({mass:0,args:[l,c],position:[123.966,-8.423,-231.8]})),I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"Plano",position:[123.966,-8.423,-231.8],children:[I.jsx("mesh",{name:"Plano010",geometry:e.Plano010.geometry,material:t.terreno}),I.jsx("mesh",{name:"Plano010_1",geometry:e.Plano010_1.geometry,material:t.terreno2}),I.jsx("mesh",{name:"Plano010_2",geometry:e.Plano010_2.geometry,material:t.terreno3})]})})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/terreno.glb");function D2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/parte_fuera/vereda_asfalto.glb"),i=g=>{var b;const u=[],d=[],C=g.attributes.position.array,f=(b=g.index)==null?void 0:b.array;for(let A=0;A<C.length;A+=3)u.push(new k(C[A],C[A+1],C[A+2]));if(f)for(let A=0;A<f.length;A+=3)d.push([f[A],f[A+1],f[A+2]]);return{vertices:u,faces:d}},{vertices:r,faces:o}=i(e.Plano001.geometry),{vertices:a,faces:s}=i(e.Plano001_1.geometry),{vertices:l,faces:c}=i(e.Plano001_2.geometry);return qi(()=>({mass:0,args:[r,o],position:[208.235,-2.817,83.5]})),qi(()=>({mass:0,args:[a,s],position:[208.235,-2.817,83.5]})),qi(()=>({mass:0,args:[l,c],position:[208.235,-2.817,83.5]})),I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"base_cisterna",position:[208.235,-2.817,83.5],children:[I.jsx("mesh",{name:"Plano001",castShadow:!0,receiveShadow:!0,geometry:e.Plano001.geometry,material:t["Material.001"]}),I.jsx("mesh",{name:"Plano001_1",castShadow:!0,receiveShadow:!0,geometry:e.Plano001_1.geometry,material:t["Material.002"]}),I.jsx("mesh",{name:"Plano001_2",castShadow:!0,receiveShadow:!0,geometry:e.Plano001_2.geometry,material:t.terreno})]})})}fe.preload("/recorrido-virtual-espe/models/parte_fuera/vereda_asfalto.glb");const U2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(k2e,{}),I.jsx(D2e,{}),I.jsx(P2e,{})]});function O2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/banios/banios1.glb");return Kn(()=>({type:"Static",mass:1,args:[37,7,27],position:[-96.475,6,-18.565]})),I.jsxs("group",{...n,dispose:null,children:[I.jsxs("group",{name:"paredes",position:[-96.475,9.376,-32.565],children:[I.jsx("mesh",{name:"Cubo090",castShadow:!0,receiveShadow:!0,geometry:e.Cubo090.geometry,material:t["madera clara 2"]}),I.jsx("mesh",{name:"Cubo090_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo090_1.geometry,material:t["madera paredes"]})]}),I.jsxs("group",{name:"caja",position:[-96.475,9.376,-18.249],children:[I.jsx("mesh",{name:"Cubo091",castShadow:!0,receiveShadow:!0,geometry:e.Cubo091.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo091_1",castShadow:!0,receiveShadow:!0,geometry:e.Cubo091_1.geometry,material:t["cafe oscuro"]})]}),I.jsx("mesh",{name:"puertas0",castShadow:!0,receiveShadow:!0,geometry:e.puertas0.geometry,material:t["cafe oscuro"],position:[-96.475,8.186,-31.653]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/banios/banios1.glb");function j2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/b_0.glb"),[i]=Kn(()=>({type:"Static",mass:1,args:[2,7,25],position:[70.368,6,-19.761]}));return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{ref:i,visible:!1}),I.jsx("mesh",{name:"b_0_export",castShadow:!0,receiveShadow:!0,geometry:e.b_0_export.geometry,material:t["madera paredes"],position:[70.368,9.376,-19.761]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/b_0.glb");function J2e(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/barras_suelo.glb"),[i]=Kn(()=>({type:"Static",mass:1,args:[1,7,20],position:[70.659,6,12.6]})),[r]=Kn(()=>({type:"Static",mass:1,args:[7,1,140],position:[1.5,6,-31.774],rotation:[-Math.PI/2,Math.PI/2,0]})),[o]=Kn(()=>({type:"Static",mass:1,args:[7,1,208],position:[-34,6,23.109],rotation:[-Math.PI/2,Math.PI/2,0]})),[a]=Kn(()=>({type:"Static",mass:1,args:[1,7,19],position:[-114.389,6,12.8]}));return I.jsxs("group",{...n,dispose:null,children:[I.jsx("mesh",{ref:i,visible:!1}),I.jsx("mesh",{ref:r,visible:!1}),I.jsx("mesh",{ref:o,visible:!1}),I.jsx("mesh",{ref:a,visible:!1}),I.jsx("mesh",{name:"barra_suelo_0",castShadow:!0,receiveShadow:!0,geometry:e.barra_suelo_0.geometry,material:t["barras cuartos.001"],position:[70.659,1.81,13.247],rotation:[-Math.PI/2,Math.PI/2,0],scale:[.631,5.699,.631]}),I.jsx("mesh",{name:"barra_suelo_2",castShadow:!0,receiveShadow:!0,geometry:e.barra_suelo_2.geometry,material:t["barras cuartos.001"],position:[7.476,1.81,-32.774],rotation:[Math.PI,0,Math.PI/2],scale:[.631,5.699,.631]}),I.jsx("mesh",{name:"barra_suelo_1",castShadow:!0,receiveShadow:!0,geometry:e.barra_suelo_1.geometry,material:t["barras cuartos.001"],position:[-34.001,1.81,23.109],rotation:[0,0,-Math.PI/2],scale:[.631,5.699,.631]}),I.jsx("mesh",{name:"barra_suelo_3",castShadow:!0,receiveShadow:!0,geometry:e.barra_suelo_3.geometry,material:t["barras cuartos.001"],position:[-114.389,1.81,13.247],rotation:[-Math.PI/2,Math.PI/2,0],scale:[.631,5.699,.631]})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/sala_profesores/paredes/barras_suelo.glb");const Q2e=()=>I.jsxs(I.Fragment,{children:[I.jsx(j2e,{}),I.jsx(J2e,{}),I.jsx(O2e,{})]});class oo extends Br{constructor(e){super(e)}load(e,t,i,r){const o=this,a=new vr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){const l=o.parse(JSON.parse(s));t&&t(l)},i,r)}parse(e){return new $2e(e)}}class $2e{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=eme(e,t,this.data);for(let o=0,a=r.length;o<a;o++)i.push(...r[o].toShapes());return i}}function eme(n,e,t){const i=Array.from(n),r=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,a=[];let s=0,l=0;for(let c=0;c<i.length;c++){const g=i[c];if(g===`
`)s=0,l-=o;else{const u=tme(g,r,s,l,t);s+=u.offsetX,a.push(u.path)}}return a}function tme(n,e,t,i,r){const o=r.glyphs[n]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const a=new bF;let s,l,c,g,u,d,C,f;if(o.o){const b=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let A=0,p=b.length;A<p;)switch(b[A++]){case"m":s=b[A++]*e+t,l=b[A++]*e+i,a.moveTo(s,l);break;case"l":s=b[A++]*e+t,l=b[A++]*e+i,a.lineTo(s,l);break;case"q":c=b[A++]*e+t,g=b[A++]*e+i,u=b[A++]*e+t,d=b[A++]*e+i,a.quadraticCurveTo(u,d,c,g);break;case"b":c=b[A++]*e+t,g=b[A++]*e+i,u=b[A++]*e+t,d=b[A++]*e+i,C=b[A++]*e+t,f=b[A++]*e+i,a.bezierCurveTo(u,d,C,f,c,g);break}}return{offsetX:o.ha*e,path:a}}class ao extends Th{constructor(e,t={}){const i=t.font;if(i===void 0)super();else{const r=i.generateShapes(e,t.size);t.depth===void 0&&t.height!==void 0&&console.warn("THREE.TextGeometry: .height is now depreciated. Please use .depth instead"),t.depth=t.depth!==void 0?t.depth:t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}const nme={0:{ha:690,x_min:61,x_max:629,o:"m 346 -17 q 136 103 211 -17 q 61 446 61 222 q 136 786 61 669 q 346 903 211 903 q 554 786 479 903 q 629 446 629 669 q 554 103 629 222 q 346 -17 479 -17 m 346 75 q 416 97 385 75 q 470 163 447 118 q 506 278 493 208 q 518 446 518 349 q 506 613 518 543 q 470 726 493 682 q 416 790 447 769 q 346 811 385 811 q 275 790 307 811 q 220 726 243 769 q 185 613 197 682 q 172 446 172 543 q 220 163 172 251 q 346 75 268 75 z "},1:{ha:690,x_min:110,x_max:610,o:"m 110 94 l 313 94 l 313 747 l 151 747 l 151 821 q 258 848 213 832 q 339 886 303 864 l 426 886 l 426 94 l 610 94 l 610 0 l 110 0 l 110 94 z "},2:{ha:690,x_min:50,x_max:628,o:"m 56 68 q 233 249 156 168 q 364 398 311 329 q 444 524 417 467 q 472 636 472 582 q 431 761 472 713 q 304 810 389 810 q 201 778 249 810 q 115 703 154 747 l 50 768 q 168 866 106 829 q 318 903 231 903 q 513 831 442 903 q 583 642 583 760 q 556 516 583 579 q 481 385 529 453 q 367 245 433 318 q 222 90 301 172 q 297 96 258 93 q 371 99 336 99 l 628 99 l 628 0 l 56 0 l 56 68 z "},3:{ha:690,x_min:36,x_max:619,o:"m 94 183 q 188 110 135 142 q 321 78 242 78 q 453 122 401 78 q 504 240 504 165 q 490 312 504 279 q 442 368 475 344 q 354 404 408 392 q 221 417 300 417 l 221 504 q 340 517 292 504 q 417 551 388 529 q 460 604 447 574 q 472 669 472 635 q 431 772 472 735 q 319 810 390 810 q 217 785 264 810 q 131 719 171 760 l 69 792 q 183 872 121 840 q 324 903 244 903 q 431 888 382 903 q 515 844 479 872 q 569 774 550 815 q 589 678 589 732 q 544 546 589 597 q 428 467 500 494 l 428 461 q 503 433 468 451 q 564 385 538 414 q 605 319 590 357 q 619 236 619 282 q 597 131 619 178 q 534 51 574 83 q 442 1 494 18 q 328 -17 389 -17 q 231 -6 275 -17 q 151 22 188 4 q 87 61 115 39 q 36 108 58 83 l 94 183 z "},4:{ha:690,x_min:24,x_max:651,o:"m 422 336 l 422 593 q 424 678 422 629 q 429 764 426 728 l 424 764 q 389 701 407 732 q 351 639 371 671 l 144 336 l 422 336 m 651 244 l 531 244 l 531 0 l 422 0 l 422 244 l 24 244 l 24 319 l 403 886 l 531 886 l 531 336 l 651 336 l 651 244 z "},5:{ha:690,x_min:35,x_max:624,o:"m 90 179 q 183 108 129 139 q 314 78 236 78 q 390 92 354 78 q 451 133 425 107 q 493 197 478 160 q 508 281 508 235 q 457 424 508 372 q 319 475 406 475 q 241 461 274 475 q 168 421 208 447 l 107 460 l 136 886 l 579 886 l 579 788 l 236 788 l 213 525 q 276 551 244 542 q 349 561 308 561 q 456 544 406 561 q 543 494 506 528 q 602 408 581 460 q 624 283 624 356 q 599 156 624 211 q 532 62 574 100 q 437 3 490 24 q 325 -17 383 -17 q 228 -6 272 -17 q 149 21 185 4 q 85 59 114 38 q 35 104 57 81 l 90 179 z "},6:{ha:690,x_min:67,x_max:635,o:"m 372 74 q 433 88 406 74 q 482 127 461 101 q 515 188 503 153 q 526 268 526 224 q 486 406 526 356 q 363 456 446 456 q 272 428 321 456 q 178 339 222 401 q 238 141 189 208 q 372 74 288 74 m 554 738 q 488 788 526 769 q 408 807 450 807 q 321 788 363 807 q 247 724 279 768 q 196 608 215 679 q 175 431 176 536 q 272 512 217 482 q 382 542 328 542 q 566 474 497 542 q 635 268 635 406 q 614 152 635 204 q 557 63 593 100 q 474 4 521 25 q 372 -17 426 -17 q 251 10 307 -17 q 155 90 196 36 q 90 223 114 143 q 67 410 67 303 q 94 637 67 543 q 169 790 122 731 q 277 876 217 849 q 404 903 338 903 q 528 876 476 903 q 618 808 581 849 l 554 738 z "},7:{ha:690,x_min:61,x_max:632,o:"m 246 0 q 268 229 251 125 q 315 427 285 333 q 391 608 344 521 q 503 788 438 696 l 61 788 l 61 886 l 632 886 l 632 815 q 503 624 553 715 q 425 437 454 532 q 383 235 396 342 q 364 0 369 129 l 246 0 l 246 0 z "},8:{ha:690,x_min:57,x_max:633,o:"m 160 238 q 174 169 160 200 q 215 116 189 139 q 275 81 240 93 q 350 68 310 68 q 476 111 428 68 q 524 224 524 154 q 504 297 524 267 q 451 351 485 328 q 374 392 418 374 q 283 431 331 411 q 195 347 231 394 q 160 238 160 299 m 410 483 q 478 568 454 524 q 503 661 503 613 q 463 773 503 728 q 349 818 422 818 q 246 779 286 818 q 206 675 206 740 q 222 606 206 635 q 267 556 239 578 q 333 516 296 533 q 410 483 369 499 m 57 226 q 72 306 57 269 q 109 373 86 343 q 162 426 132 403 q 224 465 192 449 l 224 471 q 138 555 175 506 q 100 675 100 604 q 119 768 100 726 q 172 840 139 810 q 251 886 206 869 q 351 903 297 903 q 456 885 410 903 q 534 837 501 868 q 584 762 567 806 q 601 667 601 718 q 590 600 601 632 q 560 540 578 568 q 522 490 543 513 q 479 453 500 468 l 479 447 q 536 409 508 431 q 585 360 564 388 q 620 299 607 333 q 633 219 633 264 q 613 126 633 169 q 554 51 592 83 q 464 1 517 19 q 347 -17 411 -17 q 231 1 285 -17 q 140 52 178 19 q 79 129 101 85 q 57 226 57 174 z "},9:{ha:690,x_min:56,x_max:622,o:"m 326 431 q 419 458 369 431 q 513 549 468 485 q 451 746 501 679 q 317 813 401 813 q 256 799 285 813 q 207 759 228 785 q 174 697 186 733 q 163 618 163 661 q 203 481 163 531 q 326 431 243 431 m 135 149 q 201 97 163 117 q 281 78 239 78 q 369 97 328 78 q 443 162 411 117 q 494 279 475 207 q 515 458 514 351 q 418 375 474 406 q 307 344 363 344 q 124 413 192 344 q 56 618 56 481 q 76 734 56 682 q 133 824 97 786 q 216 882 168 861 q 317 903 264 903 q 438 876 382 903 q 535 797 494 850 q 599 663 576 743 q 622 476 622 583 q 594 249 622 343 q 519 97 567 156 q 412 10 472 38 q 285 -17 351 -17 q 160 10 214 -17 q 71 76 107 36 l 135 149 z "},"\0":{ha:0,x_min:0,x_max:0,o:""},"\r":{ha:281,x_min:0,x_max:0,o:""}," ":{ha:281,x_min:0,x_max:0,o:""},A:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 z "},B:{ha:810,x_min:121,x_max:757,o:"m 121 911 l 392 911 q 519 899 461 911 q 618 860 576 886 q 683 791 660 833 q 706 689 706 749 q 667 566 706 621 q 546 490 628 511 l 546 485 q 701 415 646 469 q 757 267 757 361 q 732 150 757 200 q 661 67 707 100 q 552 17 615 33 q 413 0 489 0 l 121 0 l 121 911 m 372 522 q 540 563 489 522 q 592 679 592 603 q 538 787 592 754 q 378 819 483 819 l 238 819 l 238 522 l 372 522 m 396 92 q 578 135 514 92 q 643 272 643 179 q 580 397 643 357 q 396 436 517 436 l 238 436 l 238 92 l 396 92 z "},C:{ha:786,x_min:68,x_max:744,o:"m 68 456 q 99 653 68 565 q 184 801 129 740 q 313 895 239 863 q 475 928 388 928 q 620 894 557 928 q 724 815 683 860 l 658 742 q 578 803 622 781 q 476 826 533 826 q 358 801 411 826 q 267 727 304 775 q 208 611 229 679 q 188 458 188 543 q 208 303 188 372 q 265 186 228 235 q 353 111 301 138 q 471 85 406 85 q 585 111 536 85 q 679 186 635 138 l 744 115 q 624 18 692 53 q 468 -17 556 -17 q 309 15 382 -17 q 183 108 236 47 q 99 256 129 168 q 68 456 68 344 z "},D:{ha:850,x_min:121,x_max:779,o:"m 121 911 l 349 911 q 669 794 560 911 q 779 460 779 678 q 751 266 779 351 q 669 122 724 181 q 536 31 615 63 q 354 0 457 0 l 121 0 l 121 911 m 340 94 q 581 190 501 94 q 660 460 660 286 q 581 725 660 633 q 340 817 501 817 l 238 817 l 238 94 l 340 94 z "},E:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 z "},F:{ha:679,x_min:121,x_max:647,o:"m 121 911 l 647 911 l 647 814 l 238 814 l 238 506 l 585 506 l 585 408 l 238 408 l 238 0 l 121 0 l 121 911 z "},G:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 z "},H:{ha:899,x_min:121,x_max:776,o:"m 121 911 l 238 911 l 238 529 l 661 529 l 661 911 l 776 911 l 776 0 l 661 0 l 661 429 l 238 429 l 238 0 l 121 0 l 121 911 z "},I:{ha:358,x_min:121,x_max:238,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 z "},J:{ha:658,x_min:40,x_max:542,o:"m 122 188 q 193 109 154 133 q 281 85 232 85 q 390 130 354 85 q 426 279 426 175 l 426 911 l 542 911 l 542 268 q 528 158 542 210 q 483 67 514 106 q 405 6 453 28 q 290 -17 357 -17 q 40 129 121 -17 l 122 188 z "},K:{ha:797,x_min:121,x_max:794,o:"m 121 911 l 238 911 l 238 454 l 240 454 l 619 911 l 751 911 l 465 564 l 794 0 l 665 0 l 393 474 l 238 289 l 238 0 l 121 0 l 121 911 z "},L:{ha:668,x_min:121,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 z "},M:{ha:1003,x_min:121,x_max:881,o:"m 121 911 l 258 911 l 435 422 l 500 236 l 506 236 l 569 422 l 744 911 l 881 911 l 881 0 l 771 0 l 771 501 q 776 636 771 563 q 786 771 782 710 l 781 771 l 708 568 l 533 92 l 467 92 l 292 568 l 219 771 l 214 771 q 223 636 218 710 q 228 501 228 563 l 228 0 l 121 0 l 121 911 z "},N:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 z "},O:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 z "},P:{ha:793,x_min:121,x_max:738,o:"m 121 911 l 401 911 q 539 897 476 911 q 645 852 601 883 q 713 769 689 821 q 738 643 738 718 q 713 518 738 571 q 644 431 689 465 q 538 378 600 396 q 401 361 476 361 l 238 361 l 238 0 l 121 0 l 121 911 m 386 456 q 565 501 507 456 q 622 643 622 546 q 563 780 622 742 q 386 818 504 818 l 238 818 l 238 456 l 386 456 z "},Q:{ha:915,x_min:67,x_max:865,o:"m 186 460 q 206 305 186 374 q 260 187 225 236 q 345 111 296 138 q 456 85 394 85 q 566 111 517 85 q 651 187 615 138 q 706 305 686 236 q 725 460 725 374 q 706 613 725 544 q 651 728 686 681 q 566 801 615 775 q 456 826 517 826 q 345 801 394 826 q 260 728 296 775 q 206 613 225 681 q 186 460 186 544 m 865 -207 q 810 -221 844 -214 q 735 -228 775 -228 q 524 -167 608 -228 q 399 -12 439 -107 q 263 35 324 -3 q 158 133 201 72 q 90 277 114 194 q 67 460 67 360 q 95 656 67 569 q 175 803 124 743 q 298 896 226 864 q 456 928 369 928 q 613 895 542 928 q 737 802 685 863 q 817 655 789 742 q 846 460 846 568 q 823 280 846 361 q 758 138 800 199 q 656 40 715 78 q 524 -11 596 1 q 614 -101 556 -72 q 747 -131 672 -131 q 801 -126 778 -131 q 843 -117 824 -122 l 865 -207 z "},R:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 z "},S:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 z "},T:{ha:738,x_min:35,x_max:703,o:"m 311 814 l 35 814 l 35 911 l 703 911 l 703 814 l 426 814 l 426 0 l 311 0 l 311 814 z "},U:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 z "},V:{ha:708,x_min:-3,x_max:711,o:"m -3 911 l 119 911 l 267 419 q 310 268 290 338 q 354 118 329 199 l 360 118 q 383 195 372 158 q 405 268 394 232 q 426 342 415 304 q 447 419 436 379 l 593 911 l 711 911 l 422 0 l 288 0 l -3 911 z "},W:{ha:1085,x_min:28,x_max:1056,o:"m 28 911 l 147 911 l 243 415 q 270 268 257 340 q 297 121 283 196 l 303 121 q 334 269 318 196 q 367 415 350 342 l 493 911 l 599 911 l 725 415 q 757 269 740 343 q 790 121 774 196 l 796 121 q 822 269 810 196 q 847 415 835 342 l 943 911 l 1056 911 l 867 0 l 726 0 l 589 549 q 567 652 578 601 q 546 756 556 703 l 540 756 q 517 652 529 703 q 494 549 506 601 l 358 0 l 221 0 l 28 911 z "},X:{ha:706,x_min:18,x_max:689,o:"m 283 471 l 35 911 l 163 911 l 288 678 q 320 616 304 646 q 358 546 336 586 l 364 546 q 397 616 383 586 q 428 678 411 646 l 549 911 l 671 911 l 424 465 l 689 0 l 561 0 l 426 246 q 390 315 408 279 q 349 392 371 350 l 343 392 q 306 315 324 350 q 271 246 289 279 l 139 0 l 18 0 l 283 471 z "},Y:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 z "},Z:{ha:742,x_min:58,x_max:686,o:"m 58 69 l 539 814 l 101 814 l 101 911 l 682 911 l 682 843 l 201 99 l 686 99 l 686 0 l 58 0 l 58 69 z "},a:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 z "},b:{ha:771,x_min:114,x_max:704,o:"m 114 989 l 228 989 l 228 719 l 225 597 q 325 665 271 638 q 436 692 379 692 q 551 667 501 692 q 635 598 601 643 q 687 490 669 553 q 704 349 704 426 q 681 194 704 263 q 617 79 657 126 q 524 8 576 32 q 413 -17 471 -17 q 315 5 365 -17 q 219 67 264 26 l 215 67 l 206 0 l 114 0 l 114 989 m 228 150 q 316 95 272 111 q 393 79 360 79 q 470 98 435 79 q 531 151 506 117 q 572 235 557 185 q 586 347 586 285 q 576 449 586 403 q 545 527 567 494 q 490 578 524 560 q 408 596 456 596 q 228 504 326 596 l 228 150 z "},c:{ha:633,x_min:64,x_max:600,o:"m 64 336 q 90 487 64 421 q 161 599 117 553 q 265 668 206 644 q 389 692 324 692 q 503 667 456 692 q 586 611 551 643 l 529 538 q 466 581 499 564 q 393 597 433 597 q 308 578 347 597 q 242 525 269 560 q 198 442 214 490 q 182 336 182 394 q 197 231 182 278 q 240 149 213 183 q 306 97 267 115 q 390 78 344 78 q 478 98 439 78 q 549 146 518 118 l 600 71 q 498 7 554 31 q 381 -17 442 -17 q 256 7 314 -17 q 155 76 197 31 q 88 187 113 121 q 64 336 64 253 z "},d:{ha:771,x_min:65,x_max:657,o:"m 65 336 q 90 484 65 418 q 154 596 114 550 q 247 667 194 642 q 358 692 300 692 q 460 671 417 692 q 547 614 503 650 l 542 729 l 542 989 l 657 989 l 657 0 l 563 0 l 553 79 l 549 79 q 456 12 508 40 q 344 -17 404 -17 q 141 75 217 -17 q 65 336 65 167 m 183 338 q 232 147 183 215 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 525 q 459 580 499 564 q 378 596 419 596 q 302 577 338 596 q 240 524 267 558 q 199 443 214 490 q 183 338 183 396 z "},e:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 z "},f:{ha:406,x_min:42,x_max:443,o:"m 418 896 q 342 913 381 913 q 247 782 247 913 l 247 675 l 390 675 l 390 582 l 247 582 l 247 0 l 133 0 l 133 582 l 42 582 l 42 668 l 133 675 l 133 782 q 181 946 133 886 q 331 1006 229 1006 q 391 999 363 1006 q 443 983 419 993 l 418 896 z "},g:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 z "},h:{ha:756,x_min:114,x_max:654,o:"m 114 989 l 228 989 l 228 719 l 224 581 q 325 659 272 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 989 z "},i:{ha:342,x_min:93,x_max:251,o:"m 172 814 q 116 835 139 814 q 93 888 93 856 q 116 941 93 921 q 172 961 139 961 q 228 941 206 961 q 251 888 251 921 q 228 835 251 856 q 172 814 206 814 m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 z "},j:{ha:343,x_min:-56,x_max:251,o:"m 115 675 l 229 675 l 229 -76 q 188 -240 229 -179 q 44 -301 146 -301 q -12 -296 13 -301 q -56 -283 -37 -290 l -32 -197 q -3 -205 -19 -201 q 32 -208 14 -208 q 99 -174 82 -208 q 115 -76 115 -139 l 115 675 m 174 814 q 117 835 140 814 q 94 888 94 856 q 117 941 94 921 q 174 961 140 961 q 228 941 206 961 q 251 888 251 921 q 228 835 251 856 q 174 814 206 814 z "},k:{ha:688,x_min:114,x_max:675,o:"m 114 989 l 226 989 l 226 319 l 231 319 l 518 675 l 644 675 l 418 404 l 675 0 l 550 0 l 353 325 l 226 178 l 226 0 l 114 0 l 114 989 z "},l:{ha:354,x_min:114,x_max:300,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 z "},m:{ha:1151,x_min:114,x_max:1046,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 319 659 267 626 q 432 692 371 692 q 553 658 510 692 q 618 563 597 624 q 724 656 671 621 q 840 692 778 692 q 995 625 944 692 q 1046 428 1046 558 l 1046 0 l 932 0 l 932 413 q 901 551 932 508 q 807 593 871 593 q 638 489 731 593 l 638 0 l 524 0 l 524 413 q 493 551 524 508 q 397 593 463 593 q 228 489 321 593 l 228 0 l 114 0 l 114 675 z "},n:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 z "},o:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 z "},p:{ha:771,x_min:114,x_max:704,o:"m 228 -57 l 228 -285 l 114 -285 l 114 675 l 208 675 l 218 597 l 222 597 q 323 664 268 636 q 438 692 378 692 q 553 667 503 692 q 636 598 603 643 q 687 490 669 553 q 704 347 704 426 q 681 194 704 261 q 617 79 657 126 q 524 8 576 32 q 413 -17 471 -17 q 319 4 365 -17 q 225 61 272 25 l 228 -57 m 228 150 q 317 95 274 111 q 393 79 360 79 q 470 98 435 79 q 531 151 506 117 q 572 235 557 185 q 586 347 586 285 q 576 449 586 403 q 545 527 567 494 q 490 578 524 560 q 408 596 456 596 q 322 572 365 596 q 228 504 278 549 l 228 150 z "},q:{ha:764,x_min:65,x_max:657,o:"m 65 336 q 90 484 65 418 q 154 596 114 550 q 247 667 194 642 q 358 692 300 692 q 461 672 417 692 q 551 611 506 651 l 554 611 l 565 675 l 657 675 l 657 -285 l 542 -285 l 542 -44 l 547 75 q 455 10 507 38 q 344 -17 403 -17 q 141 75 217 -17 q 65 336 65 167 m 183 338 q 232 147 183 215 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 525 q 459 580 499 564 q 378 596 419 596 q 302 577 338 596 q 240 524 267 558 q 199 443 214 490 q 183 338 183 396 z "},r:{ha:482,x_min:114,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 z "},s:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 z "},t:{ha:469,x_min:33,x_max:451,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 z "},u:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 z "},v:{ha:649,x_min:17,x_max:632,o:"m 17 675 l 135 675 l 263 292 q 294 192 278 242 q 325 93 310 142 l 331 93 q 361 192 346 142 q 392 292 376 242 l 519 675 l 632 675 l 393 0 l 260 0 l 17 675 z "},w:{ha:997,x_min:33,x_max:964,o:"m 33 675 l 150 675 l 250 285 q 271 190 261 236 q 290 97 281 144 l 296 97 q 318 191 307 144 q 342 285 329 238 l 446 675 l 557 675 l 663 285 q 687 190 675 236 q 710 97 699 144 l 715 97 q 736 190 726 144 q 757 285 746 236 l 856 675 l 964 675 l 783 0 l 644 0 l 547 363 q 524 458 535 411 q 501 557 514 506 l 496 557 q 474 458 485 506 q 449 361 463 410 l 354 0 l 221 0 l 33 675 z "},x:{ha:619,x_min:19,x_max:600,o:"m 240 353 l 36 675 l 160 675 l 250 526 q 282 470 265 499 q 317 414 299 442 l 322 414 q 353 470 338 442 q 383 526 368 499 l 465 675 l 585 675 l 381 340 l 600 0 l 476 0 l 378 157 q 342 218 360 188 q 304 278 324 249 l 299 278 q 264 219 281 249 q 231 157 247 189 l 139 0 l 19 0 l 240 353 z "},y:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 z "},z:{ha:590,x_min:43,x_max:554,o:"m 43 61 l 399 582 l 82 582 l 82 675 l 543 675 l 543 614 l 188 93 l 554 93 l 554 0 l 43 0 l 43 61 z "},À:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 190 1136 l 321 1136 l 443 981 l 347 981 l 190 1136 z "},Á:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 397 981 l 301 981 l 424 1136 l 554 1136 l 397 981 z "},Â:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 183 981 l 317 1136 l 428 1136 l 561 981 l 468 981 l 375 1075 l 369 1075 l 276 981 l 183 981 z "},Ã:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 456 988 q 406 999 428 988 q 365 1024 383 1010 q 328 1049 346 1038 q 290 1060 310 1060 q 256 1042 271 1060 q 235 988 240 1024 l 171 988 q 208 1095 178 1053 q 289 1138 239 1138 q 339 1126 317 1138 q 380 1101 361 1115 q 417 1076 399 1088 q 454 1065 435 1065 q 489 1084 474 1065 q 510 1138 504 1103 l 574 1138 q 536 1031 567 1074 q 456 988 506 988 z "},Ä:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 253 993 q 203 1013 222 993 q 185 1061 185 1032 q 203 1110 185 1092 q 253 1129 222 1129 q 301 1110 282 1129 q 321 1061 321 1092 q 301 1013 321 1032 q 253 993 282 993 m 492 993 q 443 1013 463 993 q 424 1061 424 1032 q 443 1110 424 1092 q 492 1129 463 1129 q 541 1110 522 1129 q 560 1061 560 1092 q 541 1013 560 1032 q 492 993 522 993 z "},Ā:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 200 1092 l 544 1092 l 544 1013 l 200 1013 l 200 1092 z "},Ă:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 372 983 q 300 997 331 983 q 249 1031 269 1010 q 217 1079 228 1051 q 201 1136 206 1107 l 271 1136 q 301 1076 278 1103 q 372 1049 325 1049 q 443 1076 419 1049 q 474 1136 467 1103 l 543 1136 q 528 1079 539 1107 q 496 1031 517 1051 q 444 997 475 1010 q 372 983 414 983 z "},Å:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 372 971 q 279 1003 315 971 q 243 1093 243 1036 q 279 1182 243 1149 q 372 1215 315 1215 q 465 1182 428 1215 q 501 1093 501 1149 q 465 1003 501 1036 q 372 971 428 971 m 372 1021 q 418 1040 399 1021 q 438 1093 438 1058 q 418 1144 438 1125 q 372 1164 399 1164 q 325 1144 344 1164 q 306 1093 306 1125 q 325 1040 306 1058 q 372 1021 344 1021 z "},Ǎ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 561 1136 l 428 981 l 317 981 l 183 1136 l 276 1136 l 369 1042 l 375 1042 l 468 1136 l 561 1136 z "},Ạ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 372 -286 q 319 -265 340 -286 q 297 -211 297 -244 q 319 -158 297 -179 q 372 -137 340 -137 q 426 -158 404 -137 q 447 -211 447 -179 q 426 -265 447 -244 q 372 -286 404 -286 z "},Ả:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 321 1022 q 376 1046 354 1032 q 399 1086 399 1060 q 283 1144 399 1140 l 296 1211 q 438 1180 388 1208 q 488 1099 488 1151 q 475 1047 488 1068 q 441 1009 463 1025 q 392 984 419 993 q 333 969 364 975 l 321 1022 z "},Ấ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 597 1224 l 697 1224 l 571 1069 l 499 1069 l 597 1224 m 322 1128 l 422 1128 l 550 981 l 463 981 l 375 1067 l 369 1067 l 282 981 l 194 981 l 322 1128 z "},Ầ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 628 1069 l 556 1069 l 429 1224 l 529 1224 l 628 1069 m 322 1128 l 422 1128 l 550 981 l 463 981 l 375 1067 l 369 1067 l 282 981 l 194 981 l 322 1128 z "},Ẩ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 517 1096 q 561 1113 543 1103 q 579 1146 579 1124 q 556 1185 579 1174 q 481 1200 533 1197 l 493 1258 q 617 1231 575 1256 q 660 1157 660 1206 q 621 1080 660 1104 q 532 1047 582 1056 l 517 1096 m 322 1128 l 422 1128 l 550 981 l 463 981 l 375 1067 l 369 1067 l 282 981 l 194 981 l 322 1128 z "},Ẫ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 322 1128 l 422 1128 l 550 981 l 463 981 l 375 1067 l 369 1067 l 282 981 l 194 981 l 322 1128 m 189 1175 q 222 1267 194 1231 q 299 1304 250 1304 q 343 1294 324 1304 q 378 1273 363 1285 q 410 1251 394 1261 q 442 1242 425 1242 q 477 1258 463 1242 q 497 1304 492 1275 l 556 1304 q 522 1213 550 1250 q 446 1175 494 1175 q 401 1185 421 1175 q 366 1206 382 1194 q 335 1228 350 1218 q 303 1238 319 1238 q 247 1175 258 1238 l 189 1175 z "},Ậ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 183 981 l 317 1136 l 428 1136 l 561 981 l 468 981 l 375 1075 l 369 1075 l 276 981 l 183 981 m 372 -286 q 319 -265 340 -286 q 297 -211 297 -244 q 319 -158 297 -179 q 372 -137 340 -137 q 426 -158 404 -137 q 447 -211 447 -179 q 426 -265 447 -244 q 372 -286 404 -286 z "},Ắ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 421 1260 l 521 1260 l 386 1114 l 318 1114 l 421 1260 m 372 983 q 302 996 332 983 q 251 1029 272 1008 q 219 1076 231 1050 q 203 1132 207 1103 l 265 1132 q 298 1069 274 1096 q 372 1043 322 1043 q 447 1069 422 1043 q 479 1132 471 1096 l 542 1132 q 526 1076 538 1103 q 493 1029 514 1050 q 442 996 472 1008 q 372 983 413 983 z "},Ằ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 426 1114 l 358 1114 l 224 1260 l 324 1260 l 426 1114 m 372 983 q 302 996 332 983 q 251 1029 272 1008 q 219 1076 231 1050 q 203 1132 207 1103 l 265 1132 q 298 1069 274 1096 q 372 1043 322 1043 q 447 1069 422 1043 q 479 1132 471 1096 l 542 1132 q 526 1076 538 1103 q 493 1029 514 1050 q 442 996 472 1008 q 372 983 413 983 z "},Ẳ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 326 1160 q 369 1177 351 1167 q 388 1210 388 1188 q 365 1249 388 1238 q 290 1264 342 1261 l 301 1322 q 426 1294 383 1319 q 469 1221 469 1269 q 458 1176 469 1194 q 430 1144 447 1157 q 389 1123 413 1131 q 340 1111 365 1115 l 326 1160 m 372 983 q 302 996 332 983 q 251 1029 272 1008 q 219 1076 231 1050 q 203 1132 207 1103 l 265 1132 q 298 1069 274 1096 q 372 1043 322 1043 q 447 1069 422 1043 q 479 1132 471 1096 l 542 1132 q 526 1076 538 1103 q 493 1029 514 1050 q 442 996 472 1008 q 372 983 413 983 z "},Ẵ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 372 983 q 302 996 332 983 q 251 1029 272 1008 q 219 1076 231 1050 q 203 1132 207 1103 l 265 1132 q 298 1069 274 1096 q 372 1043 322 1043 q 447 1069 422 1043 q 479 1132 471 1096 l 542 1132 q 526 1076 538 1103 q 493 1029 514 1050 q 442 996 472 1008 q 372 983 413 983 m 189 1175 q 222 1267 194 1231 q 299 1304 250 1304 q 343 1294 324 1304 q 378 1273 363 1285 q 410 1251 394 1261 q 442 1242 425 1242 q 477 1258 463 1242 q 497 1304 492 1275 l 556 1304 q 522 1213 550 1250 q 446 1175 494 1175 q 401 1185 421 1175 q 366 1206 382 1194 q 335 1228 350 1218 q 303 1238 319 1238 q 247 1175 258 1238 l 189 1175 z "},Ặ:{ha:747,x_min:0,x_max:747,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 l 625 0 l 538 278 m 372 983 q 300 997 331 983 q 249 1031 269 1010 q 217 1079 228 1051 q 201 1136 206 1107 l 271 1136 q 301 1076 278 1103 q 372 1049 325 1049 q 443 1076 419 1049 q 474 1136 467 1103 l 543 1136 q 528 1079 539 1107 q 496 1031 517 1051 q 444 997 475 1010 q 372 983 414 983 m 372 -286 q 319 -265 340 -286 q 297 -211 297 -244 q 319 -158 297 -179 q 372 -137 340 -137 q 426 -158 404 -137 q 447 -211 447 -179 q 426 -265 447 -244 q 372 -286 404 -286 z "},Ą:{ha:747,x_min:0,x_max:790,o:"m 508 371 l 465 510 q 419 662 442 586 q 375 817 397 738 l 369 817 q 325 662 347 738 q 279 510 303 586 l 235 371 l 508 371 m 790 -256 q 739 -283 771 -271 q 679 -294 707 -294 q 585 -264 624 -294 q 547 -174 547 -233 q 557 -119 547 -146 q 581 -71 567 -93 q 615 -31 596 -49 q 651 0 633 -12 l 625 0 l 538 278 l 206 278 l 118 0 l 0 0 l 308 911 l 439 911 l 747 0 q 667 -62 699 -19 q 636 -149 636 -104 q 656 -197 636 -181 q 700 -212 676 -212 q 758 -193 732 -212 l 790 -256 z "},Æ:{ha:1135,x_min:8,x_max:1071,o:"m 554 358 l 554 819 l 549 819 q 474 671 513 744 q 399 522 435 597 l 314 358 l 554 358 m 1071 99 l 1071 0 l 554 0 l 554 265 l 265 265 l 128 0 l 8 0 l 486 911 l 1057 911 l 1057 814 l 669 814 l 669 528 l 993 528 l 993 429 l 669 429 l 669 99 l 1071 99 z "},Ç:{ha:786,x_min:68,x_max:744,o:"m 68 456 q 99 653 68 565 q 184 801 129 740 q 313 895 239 863 q 475 928 388 928 q 620 894 557 928 q 724 815 683 860 l 658 742 q 578 803 622 781 q 476 826 533 826 q 358 801 411 826 q 267 727 304 775 q 208 611 229 679 q 188 458 188 543 q 208 303 188 372 q 265 186 228 235 q 353 111 301 138 q 471 85 406 85 q 585 111 536 85 q 679 186 635 138 l 744 115 q 624 18 692 53 q 468 -17 556 -17 q 309 15 382 -17 q 183 108 236 47 q 99 256 129 168 q 68 456 68 344 m 447 4 l 521 4 l 486 -69 q 544 -103 519 -81 q 568 -168 568 -125 q 551 -221 568 -199 q 507 -258 535 -243 q 442 -283 479 -274 q 367 -296 406 -292 l 356 -239 q 445 -216 411 -232 q 479 -172 479 -200 q 456 -130 479 -144 q 392 -104 433 -115 l 447 4 z "},Ć:{ha:786,x_min:68,x_max:744,o:"m 68 456 q 99 653 68 565 q 184 801 129 740 q 313 895 239 863 q 475 928 388 928 q 620 894 557 928 q 724 815 683 860 l 658 742 q 578 803 622 781 q 476 826 533 826 q 358 801 411 826 q 267 727 304 775 q 208 611 229 679 q 188 458 188 543 q 208 303 188 372 q 265 186 228 235 q 353 111 301 138 q 471 85 406 85 q 585 111 536 85 q 679 186 635 138 l 744 115 q 624 18 692 53 q 468 -17 556 -17 q 309 15 382 -17 q 183 108 236 47 q 99 256 129 168 q 68 456 68 344 m 481 981 l 385 981 l 507 1136 l 638 1136 l 481 981 z "},Ĉ:{ha:786,x_min:68,x_max:744,o:"m 68 456 q 99 653 68 565 q 184 801 129 740 q 313 895 239 863 q 475 928 388 928 q 620 894 557 928 q 724 815 683 860 l 658 742 q 578 803 622 781 q 476 826 533 826 q 358 801 411 826 q 267 727 304 775 q 208 611 229 679 q 188 458 188 543 q 208 303 188 372 q 265 186 228 235 q 353 111 301 138 q 471 85 406 85 q 585 111 536 85 q 679 186 635 138 l 744 115 q 624 18 692 53 q 468 -17 556 -17 q 309 15 382 -17 q 183 108 236 47 q 99 256 129 168 q 68 456 68 344 m 267 981 l 400 1136 l 511 1136 l 644 981 l 551 981 l 458 1075 l 453 1075 l 360 981 l 267 981 z "},Č:{ha:786,x_min:68,x_max:744,o:"m 68 456 q 99 653 68 565 q 184 801 129 740 q 313 895 239 863 q 475 928 388 928 q 620 894 557 928 q 724 815 683 860 l 658 742 q 578 803 622 781 q 476 826 533 826 q 358 801 411 826 q 267 727 304 775 q 208 611 229 679 q 188 458 188 543 q 208 303 188 372 q 265 186 228 235 q 353 111 301 138 q 471 85 406 85 q 585 111 536 85 q 679 186 635 138 l 744 115 q 624 18 692 53 q 468 -17 556 -17 q 309 15 382 -17 q 183 108 236 47 q 99 256 129 168 q 68 456 68 344 m 644 1136 l 511 981 l 400 981 l 267 1136 l 360 1136 l 453 1042 l 458 1042 l 551 1136 l 644 1136 z "},Ċ:{ha:786,x_min:68,x_max:744,o:"m 68 456 q 99 653 68 565 q 184 801 129 740 q 313 895 239 863 q 475 928 388 928 q 620 894 557 928 q 724 815 683 860 l 658 742 q 578 803 622 781 q 476 826 533 826 q 358 801 411 826 q 267 727 304 775 q 208 611 229 679 q 188 458 188 543 q 208 303 188 372 q 265 186 228 235 q 353 111 301 138 q 471 85 406 85 q 585 111 536 85 q 679 186 635 138 l 744 115 q 624 18 692 53 q 468 -17 556 -17 q 309 15 382 -17 q 183 108 236 47 q 99 256 129 168 q 68 456 68 344 m 456 992 q 399 1013 422 992 q 376 1067 376 1033 q 399 1119 376 1099 q 456 1140 422 1140 q 512 1119 489 1140 q 535 1067 535 1099 q 512 1013 535 1033 q 456 992 489 992 z "},Ď:{ha:850,x_min:121,x_max:779,o:"m 121 911 l 349 911 q 669 794 560 911 q 779 460 779 678 q 751 266 779 351 q 669 122 724 181 q 536 31 615 63 q 354 0 457 0 l 121 0 l 121 911 m 340 94 q 581 190 501 94 q 660 460 660 286 q 581 725 660 633 q 340 817 501 817 l 238 817 l 238 94 l 340 94 m 614 1136 l 481 981 l 369 981 l 236 1136 l 329 1136 l 422 1042 l 428 1042 l 521 1136 l 614 1136 z "},Ḍ:{ha:850,x_min:121,x_max:779,o:"m 121 911 l 349 911 q 669 794 560 911 q 779 460 779 678 q 751 266 779 351 q 669 122 724 181 q 536 31 615 63 q 354 0 457 0 l 121 0 l 121 911 m 340 94 q 581 190 501 94 q 660 460 660 286 q 581 725 660 633 q 340 817 501 817 l 238 817 l 238 94 l 340 94 m 419 -286 q 366 -265 388 -286 q 344 -211 344 -244 q 366 -158 344 -179 q 419 -137 388 -137 q 473 -158 451 -137 q 494 -211 494 -179 q 473 -265 494 -244 q 419 -286 451 -286 z "},Ḏ:{ha:850,x_min:121,x_max:779,o:"m 121 911 l 349 911 q 669 794 560 911 q 779 460 779 678 q 751 266 779 351 q 669 122 724 181 q 536 31 615 63 q 354 0 457 0 l 121 0 l 121 911 m 340 94 q 581 190 501 94 q 660 460 660 286 q 581 725 660 633 q 340 817 501 817 l 238 817 l 238 94 l 340 94 m 590 -237 l 247 -237 l 247 -157 l 590 -157 l 590 -237 z "},Đ:{ha:876,x_min:42,x_max:807,o:"m 368 94 q 608 190 528 94 q 688 460 688 286 q 608 725 688 633 q 368 817 528 817 l 264 817 l 264 511 l 475 511 l 475 446 l 264 446 l 264 94 l 368 94 m 376 911 q 697 794 588 911 q 807 460 807 678 q 779 266 807 351 q 697 122 751 181 q 564 31 643 63 q 382 0 485 0 l 149 0 l 149 446 l 42 446 l 42 506 l 149 511 l 149 911 l 376 911 z "},È:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 210 1136 l 340 1136 l 463 981 l 367 981 l 210 1136 z "},É:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 417 981 l 321 981 l 443 1136 l 574 1136 l 417 981 z "},Ê:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 203 981 l 336 1136 l 447 1136 l 581 981 l 488 981 l 394 1075 l 389 1075 l 296 981 l 203 981 z "},Ě:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 581 1136 l 447 981 l 336 981 l 203 1136 l 296 1136 l 389 1042 l 394 1042 l 488 1136 l 581 1136 z "},Ë:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 272 993 q 223 1013 242 993 q 204 1061 204 1032 q 223 1110 204 1092 q 272 1129 242 1129 q 321 1110 301 1129 q 340 1061 340 1092 q 321 1013 340 1032 q 272 993 301 993 m 511 993 q 463 1013 482 993 q 443 1061 443 1032 q 463 1110 443 1092 q 511 1129 482 1129 q 560 1110 542 1129 q 579 1061 579 1092 q 560 1013 579 1032 q 511 993 542 993 z "},Ē:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 219 1092 l 564 1092 l 564 1013 l 219 1013 l 219 1092 z "},Ĕ:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 392 983 q 319 997 350 983 q 268 1031 289 1010 q 236 1079 247 1051 q 221 1136 225 1107 l 290 1136 q 321 1076 297 1103 q 392 1049 344 1049 q 463 1076 439 1049 q 493 1136 486 1103 l 563 1136 q 547 1079 558 1107 q 515 1031 536 1051 q 464 997 494 1010 q 392 983 433 983 z "},Ė:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 392 992 q 335 1013 358 992 q 313 1067 313 1033 q 335 1119 313 1099 q 392 1140 358 1140 q 448 1119 425 1140 q 471 1067 471 1099 q 448 1013 471 1033 q 392 992 425 992 z "},Ẹ:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 407 -286 q 353 -265 375 -286 q 332 -211 332 -244 q 353 -158 332 -179 q 407 -137 375 -137 q 460 -158 439 -137 q 482 -211 482 -179 q 460 -265 482 -244 q 407 -286 439 -286 z "},Ẻ:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 340 1022 q 396 1046 374 1032 q 418 1086 418 1060 q 303 1144 418 1140 l 315 1211 q 457 1180 407 1208 q 507 1099 507 1151 q 494 1047 507 1068 q 460 1009 482 1025 q 411 984 439 993 q 353 969 383 975 l 340 1022 z "},Ẽ:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 475 988 q 425 999 447 988 q 384 1024 403 1010 q 347 1049 365 1038 q 310 1060 329 1060 q 275 1042 290 1060 q 254 988 260 1024 l 190 988 q 228 1095 197 1053 q 308 1138 258 1138 q 358 1126 336 1138 q 399 1101 381 1115 q 436 1076 418 1088 q 474 1065 454 1065 q 508 1084 493 1065 q 529 1138 524 1103 l 593 1138 q 556 1031 586 1074 q 475 988 525 988 z "},Ế:{ha:725,x_min:121,x_max:717,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 617 1224 l 717 1224 l 590 1069 l 518 1069 l 617 1224 m 342 1128 l 442 1128 l 569 981 l 482 981 l 394 1067 l 389 1067 l 301 981 l 214 981 l 342 1128 z "},Ề:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 647 1069 l 575 1069 l 449 1224 l 549 1224 l 647 1069 m 342 1128 l 442 1128 l 569 981 l 482 981 l 394 1067 l 389 1067 l 301 981 l 214 981 l 342 1128 z "},Ể:{ha:725,x_min:121,x_max:679,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 536 1096 q 581 1113 563 1103 q 599 1146 599 1124 q 576 1185 599 1174 q 500 1200 553 1197 l 513 1258 q 637 1231 594 1256 q 679 1157 679 1206 q 640 1080 679 1104 q 551 1047 601 1056 l 536 1096 m 342 1128 l 442 1128 l 569 981 l 482 981 l 394 1067 l 389 1067 l 301 981 l 214 981 l 342 1128 z "},Ễ:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 342 1128 l 442 1128 l 569 981 l 482 981 l 394 1067 l 389 1067 l 301 981 l 214 981 l 342 1128 m 208 1175 q 242 1267 214 1231 q 318 1304 269 1304 q 363 1294 343 1304 q 398 1273 382 1285 q 429 1251 414 1261 q 461 1242 444 1242 q 497 1258 482 1242 q 517 1304 511 1275 l 575 1304 q 542 1213 569 1250 q 465 1175 514 1175 q 421 1185 440 1175 q 385 1206 401 1194 q 354 1228 369 1218 q 322 1238 339 1238 q 267 1175 278 1238 l 208 1175 z "},Ệ:{ha:725,x_min:121,x_max:660,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 121 0 l 121 911 m 203 981 l 336 1136 l 447 1136 l 581 981 l 488 981 l 394 1075 l 389 1075 l 296 981 l 203 981 m 407 -286 q 353 -265 375 -286 q 332 -211 332 -244 q 353 -158 332 -179 q 407 -137 375 -137 q 460 -158 439 -137 q 482 -211 482 -179 q 460 -265 482 -244 q 407 -286 439 -286 z "},Ę:{ha:725,x_min:121,x_max:682,o:"m 121 911 l 646 911 l 646 814 l 238 814 l 238 528 l 582 528 l 582 429 l 238 429 l 238 99 l 660 99 l 660 0 l 656 0 q 609 -16 632 -3 q 568 -49 586 -29 q 539 -95 550 -69 q 528 -149 528 -121 q 549 -197 528 -181 q 594 -212 569 -212 q 624 -208 611 -212 q 650 -193 638 -203 l 682 -256 q 631 -283 663 -271 q 571 -294 599 -294 q 477 -264 515 -294 q 439 -174 439 -233 q 471 -70 439 -115 q 543 0 503 -25 l 121 0 l 121 911 z "},Ĝ:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 m 299 981 l 432 1136 l 543 1136 l 676 981 l 583 981 l 490 1075 l 485 1075 l 392 981 l 299 981 z "},Ğ:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 m 488 983 q 415 997 446 983 q 364 1031 385 1010 q 332 1079 343 1051 q 317 1136 321 1107 l 386 1136 q 417 1076 393 1103 q 488 1049 440 1049 q 558 1076 535 1049 q 589 1136 582 1103 l 658 1136 q 643 1079 654 1107 q 611 1031 632 1051 q 560 997 590 1010 q 488 983 529 983 z "},Ġ:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 m 488 992 q 431 1013 454 992 q 408 1067 408 1033 q 431 1119 408 1099 q 488 1140 454 1140 q 544 1119 521 1140 q 567 1067 567 1099 q 544 1013 567 1033 q 488 992 521 992 z "},Ģ:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 m 440 -67 q 543 -102 511 -78 q 575 -174 575 -126 q 558 -226 575 -204 q 514 -264 542 -249 q 449 -288 486 -279 q 374 -300 413 -297 l 363 -244 q 452 -223 418 -237 q 486 -181 486 -208 q 465 -140 486 -153 q 415 -119 444 -126 l 440 -67 l 440 -67 z "},Ǧ:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 m 676 1136 l 543 981 l 432 981 l 299 1136 l 392 1136 l 485 1042 l 490 1042 l 583 1136 l 676 1136 z "},Ḡ:{ha:850,x_min:68,x_max:761,o:"m 68 456 q 99 653 68 565 q 187 801 131 740 q 320 895 243 863 q 489 928 397 928 q 646 892 582 928 q 750 815 710 857 l 683 742 q 603 802 649 778 q 490 826 558 826 q 365 801 421 826 q 270 727 310 775 q 209 611 231 679 q 188 458 188 543 q 208 303 188 372 q 266 186 228 235 q 360 111 304 138 q 490 85 417 85 q 583 99 539 85 q 656 139 628 114 l 656 376 l 463 376 l 463 472 l 761 472 l 761 89 q 643 14 717 44 q 478 -17 569 -17 q 313 15 388 -17 q 183 108 238 47 q 99 256 129 168 q 68 456 68 344 m 315 1092 l 660 1092 l 660 1013 l 315 1013 l 315 1092 z "},Ĥ:{ha:899,x_min:121,x_max:776,o:"m 121 911 l 238 911 l 238 529 l 661 529 l 661 911 l 776 911 l 776 0 l 661 0 l 661 429 l 238 429 l 238 0 l 121 0 l 121 911 m 260 981 l 393 1136 l 504 1136 l 638 981 l 544 981 l 451 1075 l 446 1075 l 353 981 l 260 981 z "},Ḥ:{ha:899,x_min:121,x_max:776,o:"m 121 911 l 238 911 l 238 529 l 661 529 l 661 911 l 776 911 l 776 0 l 661 0 l 661 429 l 238 429 l 238 0 l 121 0 l 121 911 m 449 -286 q 395 -265 417 -286 q 374 -211 374 -244 q 395 -158 374 -179 q 449 -137 417 -137 q 502 -158 481 -137 q 524 -211 524 -179 q 502 -265 524 -244 q 449 -286 481 -286 z "},Ḫ:{ha:899,x_min:121,x_max:776,o:"m 121 911 l 238 911 l 238 529 l 661 529 l 661 911 l 776 911 l 776 0 l 661 0 l 661 429 l 238 429 l 238 0 l 121 0 l 121 911 m 449 -286 q 372 -270 404 -286 q 318 -228 339 -254 q 286 -172 297 -203 q 274 -110 275 -140 l 344 -110 q 375 -183 350 -150 q 449 -215 400 -215 q 522 -183 497 -215 q 553 -110 547 -150 l 624 -110 q 610 -172 621 -140 q 579 -228 600 -203 q 526 -270 558 -254 q 449 -286 493 -286 z "},Ħ:{ha:947,x_min:42,x_max:906,o:"m 685 683 l 261 683 l 261 529 l 685 529 l 685 683 m 906 683 l 801 683 l 801 0 l 685 0 l 685 429 l 261 429 l 261 0 l 146 0 l 146 683 l 42 683 l 42 742 l 146 749 l 146 911 l 261 911 l 261 749 l 685 749 l 685 911 l 801 911 l 801 749 l 906 749 l 906 683 z "},Ì:{ha:358,x_min:-3,x_max:250,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m -3 1136 l 128 1136 l 250 981 l 154 981 l -3 1136 z "},Í:{ha:358,x_min:108,x_max:361,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 204 981 l 108 981 l 231 1136 l 361 1136 l 204 981 z "},Î:{ha:358,x_min:-10,x_max:368,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m -10 981 l 124 1136 l 235 1136 l 368 981 l 275 981 l 182 1075 l 176 1075 l 83 981 l -10 981 z "},Ĩ:{ha:358,x_min:-22,x_max:381,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 263 988 q 213 999 235 988 q 172 1024 190 1010 q 135 1049 153 1038 q 97 1060 117 1060 q 63 1042 78 1060 q 42 988 47 1024 l -22 988 q 15 1095 -15 1053 q 96 1138 46 1138 q 146 1126 124 1138 q 187 1101 168 1115 q 224 1076 206 1088 q 261 1065 242 1065 q 296 1084 281 1065 q 317 1138 311 1103 l 381 1138 q 343 1031 374 1074 q 263 988 313 988 z "},Ï:{ha:358,x_min:-8,x_max:367,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 60 993 q 10 1013 29 993 q -8 1061 -8 1032 q 10 1110 -8 1092 q 60 1129 29 1129 q 108 1110 89 1129 q 128 1061 128 1092 q 108 1013 128 1032 q 60 993 89 993 m 299 993 q 250 1013 269 993 q 231 1061 231 1032 q 250 1110 231 1092 q 299 1129 269 1129 q 348 1110 329 1129 q 367 1061 367 1092 q 348 1013 367 1032 q 299 993 329 993 z "},Ī:{ha:358,x_min:7,x_max:351,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 7 1092 l 351 1092 l 351 1013 l 7 1013 l 7 1092 z "},İ:{ha:358,x_min:100,x_max:258,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 179 992 q 123 1013 146 992 q 100 1067 100 1033 q 123 1119 100 1099 q 179 1140 146 1140 q 235 1119 213 1140 q 258 1067 258 1099 q 235 1013 258 1033 q 179 992 213 992 z "},Ǐ:{ha:358,x_min:-10,x_max:368,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 368 1136 l 235 981 l 124 981 l -10 1136 l 83 1136 l 176 1042 l 182 1042 l 275 1136 l 368 1136 z "},Ỉ:{ha:358,x_min:90,x_max:294,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 128 1022 q 183 1046 161 1032 q 206 1086 206 1060 q 90 1144 206 1140 l 103 1211 q 244 1180 194 1208 q 294 1099 294 1151 q 282 1047 294 1068 q 248 1009 269 1025 q 199 984 226 993 q 140 969 171 975 l 128 1022 z "},Ị:{ha:358,x_min:106,x_max:256,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 181 -286 q 127 -265 149 -286 q 106 -211 106 -244 q 127 -158 106 -179 q 181 -137 149 -137 q 234 -158 213 -137 q 256 -211 256 -179 q 234 -265 256 -244 q 181 -286 213 -286 z "},Į:{ha:358,x_min:57,x_max:300,o:"m 121 911 l 238 911 l 238 0 q 169 -69 193 -33 q 146 -149 146 -106 q 167 -197 146 -181 q 213 -212 188 -212 q 242 -208 229 -212 q 268 -193 256 -203 l 300 -256 q 249 -283 281 -271 q 189 -294 217 -294 q 95 -264 133 -294 q 57 -174 57 -233 q 86 -72 57 -114 q 149 0 115 -31 l 121 0 l 121 911 z "},Ĵ:{ha:658,x_min:40,x_max:668,o:"m 122 188 q 193 109 154 133 q 281 85 232 85 q 390 130 354 85 q 426 279 426 175 l 426 911 l 542 911 l 542 268 q 528 158 542 210 q 483 67 514 106 q 405 6 453 28 q 290 -17 357 -17 q 40 129 121 -17 l 122 188 m 290 981 l 424 1136 l 535 1136 l 668 981 l 575 981 l 482 1075 l 476 1075 l 383 981 l 290 981 z "},Ķ:{ha:797,x_min:121,x_max:794,o:"m 121 911 l 238 911 l 238 454 l 240 454 l 619 911 l 751 911 l 465 564 l 794 0 l 665 0 l 393 474 l 238 289 l 238 0 l 121 0 l 121 911 m 408 -67 q 511 -102 479 -78 q 543 -174 543 -126 q 526 -226 543 -204 q 482 -264 510 -249 q 417 -288 454 -279 q 342 -300 381 -297 l 331 -244 q 420 -223 386 -237 q 454 -181 454 -208 q 433 -140 454 -153 q 383 -119 413 -126 l 408 -67 l 408 -67 z "},Ĺ:{ha:668,x_min:111,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 207 981 l 111 981 l 233 1136 l 364 1136 l 207 981 z "},Ľ:{ha:668,x_min:121,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 460 715 l 454 1010 l 536 1010 l 535 931 l 515 715 l 460 715 z "},Ļ:{ha:668,x_min:121,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 356 -67 q 458 -102 426 -78 q 490 -174 490 -126 q 474 -226 490 -204 q 429 -264 457 -249 q 365 -288 401 -279 q 289 -300 328 -297 l 278 -244 q 367 -223 333 -237 q 401 -181 401 -208 q 381 -140 401 -153 q 331 -119 360 -126 l 356 -67 l 356 -67 z "},Ŀ:{ha:668,x_min:121,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 438 451 q 462 516 438 492 q 521 540 486 540 q 578 516 554 540 q 603 451 603 492 q 578 390 603 414 q 521 365 554 365 q 462 390 486 365 q 438 451 438 414 z "},Ḷ:{ha:668,x_min:121,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 396 -286 q 342 -265 364 -286 q 321 -211 321 -244 q 342 -158 321 -179 q 396 -137 364 -137 q 449 -158 428 -137 q 471 -211 471 -179 q 449 -265 471 -244 q 396 -286 428 -286 z "},Ḹ:{ha:668,x_min:10,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 10 1092 l 354 1092 l 354 1013 l 10 1013 l 10 1092 m 396 -286 q 342 -265 364 -286 q 321 -211 321 -244 q 342 -158 321 -179 q 396 -137 364 -137 q 449 -158 428 -137 q 471 -211 471 -179 q 449 -265 471 -244 q 396 -286 428 -286 z "},Ḻ:{ha:668,x_min:121,x_max:635,o:"m 121 911 l 238 911 l 238 99 l 635 99 l 635 0 l 121 0 l 121 911 m 567 -237 l 224 -237 l 224 -157 l 567 -157 l 567 -237 z "},Ł:{ha:672,x_min:14,x_max:639,o:"m 639 99 l 639 0 l 125 0 l 125 328 l 14 269 l 14 363 l 125 421 l 125 911 l 242 911 l 242 478 l 503 618 l 503 524 l 242 385 l 242 99 l 639 99 z "},Ṃ:{ha:1003,x_min:121,x_max:881,o:"m 121 911 l 258 911 l 435 422 l 500 236 l 506 236 l 569 422 l 744 911 l 881 911 l 881 0 l 771 0 l 771 501 q 776 636 771 563 q 786 771 782 710 l 781 771 l 708 568 l 533 92 l 467 92 l 292 568 l 219 771 l 214 771 q 223 636 218 710 q 228 501 228 563 l 228 0 l 121 0 l 121 911 m 503 -286 q 449 -265 471 -286 q 428 -211 428 -244 q 449 -158 428 -179 q 503 -137 471 -137 q 556 -158 535 -137 q 578 -211 578 -179 q 556 -265 578 -244 q 503 -286 535 -286 z "},Ń:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 475 981 l 379 981 l 501 1136 l 632 1136 l 475 981 z "},Ň:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 639 1136 l 506 981 l 394 981 l 261 1136 l 354 1136 l 447 1042 l 453 1042 l 546 1136 l 639 1136 z "},Ñ:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 533 988 q 483 999 506 988 q 442 1024 461 1010 q 406 1049 424 1038 q 368 1060 388 1060 q 333 1042 349 1060 q 313 988 318 1024 l 249 988 q 286 1095 256 1053 q 367 1138 317 1138 q 417 1126 394 1138 q 458 1101 439 1115 q 494 1076 476 1088 q 532 1065 513 1065 q 567 1084 551 1065 q 588 1138 582 1103 l 651 1138 q 614 1031 644 1074 q 533 988 583 988 z "},Ņ:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 413 -67 q 515 -102 483 -78 q 547 -174 547 -126 q 531 -226 547 -204 q 486 -264 514 -249 q 422 -288 458 -279 q 346 -300 385 -297 l 335 -244 q 424 -223 390 -237 q 458 -181 458 -208 q 438 -140 458 -153 q 388 -119 417 -126 l 413 -67 l 413 -67 z "},Ṅ:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 450 992 q 394 1013 417 992 q 371 1067 371 1033 q 394 1119 371 1099 q 450 1140 417 1140 q 506 1119 483 1140 q 529 1067 529 1099 q 506 1013 529 1033 q 450 992 483 992 z "},Ṇ:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 453 -286 q 399 -265 421 -286 q 378 -211 378 -244 q 399 -158 378 -179 q 453 -137 421 -137 q 506 -158 485 -137 q 528 -211 528 -179 q 506 -265 528 -244 q 453 -286 485 -286 z "},Ṉ:{ha:892,x_min:121,x_max:769,o:"m 121 911 l 240 911 l 571 339 l 669 150 l 675 150 q 665 294 671 219 q 660 440 660 368 l 660 911 l 769 911 l 769 0 l 650 0 l 321 574 l 222 761 l 217 761 q 226 620 221 692 q 231 476 231 549 l 231 0 l 121 0 l 121 911 m 624 -237 l 281 -237 l 281 -157 l 624 -157 l 624 -237 z "},Ò:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 275 1136 l 406 1136 l 528 981 l 432 981 l 275 1136 z "},Ó:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 482 981 l 386 981 l 508 1136 l 639 1136 l 482 981 z "},Ô:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 268 981 l 401 1136 l 513 1136 l 646 981 l 553 981 l 460 1075 l 454 1075 l 361 981 l 268 981 z "},Õ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 540 988 q 490 999 513 988 q 449 1024 468 1010 q 413 1049 431 1038 q 375 1060 394 1060 q 340 1042 356 1060 q 319 988 325 1024 l 256 988 q 293 1095 263 1053 q 374 1138 324 1138 q 424 1126 401 1138 q 465 1101 446 1115 q 501 1076 483 1088 q 539 1065 519 1065 q 574 1084 558 1065 q 594 1138 589 1103 l 658 1138 q 621 1031 651 1074 q 540 988 590 988 z "},Ö:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 338 993 q 288 1013 307 993 q 269 1061 269 1032 q 288 1110 269 1092 q 338 1129 307 1129 q 386 1110 367 1129 q 406 1061 406 1092 q 386 1013 406 1032 q 338 993 367 993 m 576 993 q 528 1013 547 993 q 508 1061 508 1032 q 528 1110 508 1092 q 576 1129 547 1129 q 626 1110 607 1129 q 644 1061 644 1092 q 626 1013 644 1032 q 576 993 607 993 z "},Ō:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 285 1092 l 629 1092 l 629 1013 l 285 1013 l 285 1092 z "},Ő:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 306 981 l 397 1136 l 504 1136 l 389 981 l 306 981 m 617 1136 l 724 1136 l 607 981 l 525 981 l 617 1136 z "},Ǒ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 646 1136 l 513 981 l 401 981 l 268 1136 l 361 1136 l 454 1042 l 460 1042 l 553 1136 l 646 1136 z "},Ọ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 457 -286 q 403 -265 425 -286 q 382 -211 382 -244 q 403 -158 382 -179 q 457 -137 425 -137 q 510 -158 489 -137 q 532 -211 532 -179 q 510 -265 532 -244 q 457 -286 489 -286 z "},Ỏ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 406 1022 q 461 1046 439 1032 q 483 1086 483 1060 q 368 1144 483 1140 l 381 1211 q 522 1180 472 1208 q 572 1099 572 1151 q 560 1047 572 1068 q 526 1009 547 1025 q 476 984 504 993 q 418 969 449 975 l 406 1022 z "},Ố:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 682 1224 l 782 1224 l 656 1069 l 583 1069 l 682 1224 m 407 1128 l 507 1128 l 635 981 l 547 981 l 460 1067 l 454 1067 l 367 981 l 279 981 l 407 1128 z "},Ồ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 713 1069 l 640 1069 l 514 1224 l 614 1224 l 713 1069 m 407 1128 l 507 1128 l 635 981 l 547 981 l 460 1067 l 454 1067 l 367 981 l 279 981 l 407 1128 z "},Ổ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 601 1096 q 646 1113 628 1103 q 664 1146 664 1124 q 641 1185 664 1174 q 565 1200 618 1197 l 578 1258 q 702 1231 660 1256 q 744 1157 744 1206 q 706 1080 744 1104 q 617 1047 667 1056 l 601 1096 m 407 1128 l 507 1128 l 635 981 l 547 981 l 460 1067 l 454 1067 l 367 981 l 279 981 l 407 1128 z "},Ỗ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 407 1128 l 507 1128 l 635 981 l 547 981 l 460 1067 l 454 1067 l 367 981 l 279 981 l 407 1128 m 274 1175 q 307 1267 279 1231 q 383 1304 335 1304 q 428 1294 408 1304 q 463 1273 447 1285 q 494 1251 479 1261 q 526 1242 510 1242 q 562 1258 547 1242 q 582 1304 576 1275 l 640 1304 q 607 1213 635 1250 q 531 1175 579 1175 q 486 1185 506 1175 q 451 1206 467 1194 q 419 1228 435 1218 q 388 1238 404 1238 q 332 1175 343 1238 l 274 1175 z "},Ộ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 268 981 l 401 1136 l 513 1136 l 646 981 l 553 981 l 460 1075 l 454 1075 l 361 981 l 268 981 m 457 -286 q 403 -265 425 -286 q 382 -211 382 -244 q 403 -158 382 -179 q 457 -137 425 -137 q 510 -158 489 -137 q 532 -211 532 -179 q 510 -265 532 -244 q 457 -286 489 -286 z "},Ø:{ha:915,x_min:65,x_max:857,o:"m 285 158 q 458 85 354 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 683 679 728 590 l 285 158 m 636 750 q 458 826 567 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 236 229 188 322 l 636 750 m 758 776 q 824 638 801 717 q 847 460 847 558 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 217 71 317 -17 l 131 -42 l 65 8 l 161 133 q 92 276 117 194 q 68 460 68 358 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 593 905 531 928 q 704 838 656 882 l 792 953 l 857 904 l 758 776 z "},Œ:{ha:1169,x_min:68,x_max:1106,o:"m 68 460 q 185 794 68 678 q 514 911 301 911 l 1092 911 l 1092 814 l 706 814 l 706 528 l 1028 528 l 1028 429 l 706 429 l 706 99 l 1106 99 l 1106 0 l 508 0 q 323 31 404 0 q 185 122 242 63 q 98 266 128 181 q 68 460 68 351 m 188 460 q 272 190 188 285 q 522 94 357 94 l 589 94 l 589 817 l 522 817 q 272 725 357 817 q 188 460 188 633 z "},Ơ:{ha:915,x_min:68,x_max:847,o:"m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 814 1074 q 837 1032 828 1054 q 846 983 846 1010 q 808 888 846 924 q 704 838 769 853 q 809 681 771 776 q 847 460 847 586 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 639 883 558 928 q 724 916 697 894 q 751 976 751 938 q 746 1006 751 992 q 732 1033 740 1019 l 814 1074 z "},Ớ:{ha:915,x_min:68,x_max:847,o:"m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 814 1074 q 837 1032 828 1054 q 846 983 846 1010 q 808 888 846 924 q 704 838 769 853 q 809 681 771 776 q 847 460 847 586 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 639 883 558 928 q 724 916 697 894 q 751 976 751 938 q 746 1006 751 992 q 732 1033 740 1019 l 814 1074 m 482 981 l 386 981 l 508 1136 l 639 1136 l 482 981 z "},Ờ:{ha:915,x_min:68,x_max:847,o:"m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 814 1074 q 837 1032 828 1054 q 846 983 846 1010 q 808 888 846 924 q 704 838 769 853 q 809 681 771 776 q 847 460 847 586 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 639 883 558 928 q 724 916 697 894 q 751 976 751 938 q 746 1006 751 992 q 732 1033 740 1019 l 814 1074 m 275 1136 l 406 1136 l 528 981 l 432 981 l 275 1136 z "},Ở:{ha:915,x_min:68,x_max:847,o:"m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 814 1074 q 837 1032 828 1054 q 846 983 846 1010 q 808 888 846 924 q 704 838 769 853 q 809 681 771 776 q 847 460 847 586 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 639 883 558 928 q 724 916 697 894 q 751 976 751 938 q 746 1006 751 992 q 732 1033 740 1019 l 814 1074 m 406 1022 q 461 1046 439 1032 q 483 1086 483 1060 q 368 1144 483 1140 l 381 1211 q 522 1180 472 1208 q 572 1099 572 1151 q 560 1047 572 1068 q 526 1009 547 1025 q 476 984 504 993 q 418 969 449 975 l 406 1022 z "},Ỡ:{ha:915,x_min:68,x_max:847,o:"m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 814 1074 q 837 1032 828 1054 q 846 983 846 1010 q 808 888 846 924 q 704 838 769 853 q 809 681 771 776 q 847 460 847 586 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 639 883 558 928 q 724 916 697 894 q 751 976 751 938 q 746 1006 751 992 q 732 1033 740 1019 l 814 1074 m 540 988 q 490 999 513 988 q 449 1024 468 1010 q 413 1049 431 1038 q 375 1060 394 1060 q 340 1042 356 1060 q 319 988 325 1024 l 256 988 q 293 1095 263 1053 q 374 1138 324 1138 q 424 1126 401 1138 q 465 1101 446 1115 q 501 1076 483 1088 q 539 1065 519 1065 q 574 1084 558 1065 q 594 1138 589 1103 l 658 1138 q 621 1031 651 1074 q 540 988 590 988 z "},Ợ:{ha:915,x_min:68,x_max:847,o:"m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 814 1074 q 837 1032 828 1054 q 846 983 846 1010 q 808 888 846 924 q 704 838 769 853 q 809 681 771 776 q 847 460 847 586 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 639 883 558 928 q 724 916 697 894 q 751 976 751 938 q 746 1006 751 992 q 732 1033 740 1019 l 814 1074 m 457 -286 q 403 -265 425 -286 q 382 -211 382 -244 q 403 -158 382 -179 q 457 -137 425 -137 q 510 -158 489 -137 q 532 -211 532 -179 q 510 -265 532 -244 q 457 -286 489 -286 z "},Ǫ:{ha:915,x_min:68,x_max:847,o:"m 365 -174 q 390 -87 365 -128 q 451 -15 414 -46 q 293 21 364 -14 q 172 117 222 56 q 95 266 122 179 q 68 460 68 353 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 828 293 847 367 q 774 163 810 219 q 685 63 738 106 q 564 -10 632 21 q 481 -74 507 -35 q 456 -149 456 -112 q 476 -197 456 -181 q 521 -212 497 -212 q 578 -193 551 -212 l 608 -256 q 558 -283 589 -271 q 499 -294 526 -294 q 404 -264 443 -294 q 365 -174 365 -233 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 z "},Ŕ:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 m 431 981 l 335 981 l 457 1136 l 588 1136 l 431 981 z "},Ř:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 m 594 1136 l 461 981 l 350 981 l 217 1136 l 310 1136 l 403 1042 l 408 1042 l 501 1136 l 594 1136 z "},Ŗ:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 m 386 -67 q 489 -102 457 -78 q 521 -174 521 -126 q 504 -226 521 -204 q 460 -264 488 -249 q 395 -288 432 -279 q 319 -300 358 -297 l 308 -244 q 398 -223 364 -237 q 432 -181 432 -208 q 411 -140 432 -153 q 361 -119 390 -126 l 386 -67 l 386 -67 z "},Ṛ:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 m 426 -286 q 373 -265 394 -286 q 351 -211 351 -244 q 373 -158 351 -179 q 426 -137 394 -137 q 480 -158 458 -137 q 501 -211 501 -179 q 480 -265 501 -244 q 426 -286 458 -286 z "},Ṝ:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 m 233 1092 l 578 1092 l 578 1013 l 233 1013 l 233 1092 m 426 -286 q 373 -265 394 -286 q 351 -211 351 -244 q 373 -158 351 -179 q 426 -137 394 -137 q 480 -158 458 -137 q 501 -211 501 -179 q 480 -265 501 -244 q 426 -286 458 -286 z "},Ṟ:{ha:800,x_min:121,x_max:753,o:"m 238 479 l 390 479 q 553 523 497 479 q 610 656 610 567 q 553 782 610 746 q 390 818 497 818 l 238 818 l 238 479 m 621 0 l 401 385 l 238 385 l 238 0 l 121 0 l 121 911 l 407 911 q 535 898 476 911 q 635 854 593 885 q 701 775 678 824 q 725 656 725 726 q 669 485 725 549 q 521 397 614 421 l 753 0 l 621 0 m 597 -237 l 254 -237 l 254 -157 l 597 -157 l 597 -237 z "},Ś:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 408 981 l 313 981 l 435 1136 l 565 1136 l 408 981 z "},Ŝ:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 194 981 l 328 1136 l 439 1136 l 572 981 l 479 981 l 386 1075 l 381 1075 l 288 981 l 194 981 z "},Š:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 572 1136 l 439 981 l 328 981 l 194 1136 l 288 1136 l 381 1042 l 386 1042 l 479 1136 l 572 1136 z "},Ş:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 349 4 l 422 4 l 388 -69 q 445 -103 421 -81 q 469 -168 469 -125 q 453 -221 469 -199 q 408 -258 436 -243 q 344 -283 381 -274 q 268 -296 307 -292 l 257 -239 q 347 -216 313 -232 q 381 -172 381 -200 q 358 -130 381 -144 q 293 -104 335 -115 l 349 4 z "},Ș:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 335 -67 q 438 -102 406 -78 q 469 -174 469 -126 q 453 -226 469 -204 q 408 -264 436 -249 q 344 -288 381 -279 q 268 -300 307 -297 l 257 -244 q 347 -223 313 -237 q 381 -181 381 -208 q 360 -140 381 -153 q 310 -119 339 -126 l 335 -67 l 335 -67 z "},Ṡ:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 383 992 q 327 1013 350 992 q 304 1067 304 1033 q 327 1119 304 1099 q 383 1140 350 1140 q 440 1119 417 1140 q 463 1067 463 1099 q 440 1013 463 1033 q 383 992 417 992 z "},Ṣ:{ha:735,x_min:56,x_max:685,o:"m 125 199 q 239 116 174 147 q 376 85 304 85 q 517 126 467 85 q 567 233 567 167 q 555 292 567 268 q 522 334 543 317 q 474 365 501 351 q 414 394 446 379 l 283 451 q 219 485 251 465 q 159 532 186 504 q 115 598 132 560 q 99 686 99 636 q 120 782 99 738 q 181 859 142 826 q 272 910 219 892 q 386 928 324 928 q 537 897 468 928 q 654 815 606 865 l 593 740 q 500 803 551 781 q 386 826 449 826 q 262 791 308 826 q 215 693 215 756 q 229 637 215 660 q 265 597 243 614 q 313 566 286 579 q 367 542 340 553 l 497 486 q 571 448 536 469 q 631 398 606 426 q 670 331 656 369 q 685 243 685 293 q 663 142 685 189 q 601 59 642 94 q 503 3 561 24 q 374 -17 446 -17 q 197 19 278 -17 q 56 118 115 56 l 125 199 m 375 -286 q 322 -265 343 -286 q 300 -211 300 -244 q 322 -158 300 -179 q 375 -137 343 -137 q 428 -158 407 -137 q 450 -211 450 -179 q 428 -265 450 -244 q 375 -286 407 -286 z "},"ẞ":{ha:919,x_min:124,x_max:863,o:"m 124 579 q 145 717 124 653 q 210 827 167 781 q 322 901 254 874 q 479 928 389 928 q 669 869 596 928 q 781 714 743 811 l 589 503 q 799 406 735 474 q 863 238 863 338 q 844 137 863 183 q 790 56 825 90 q 707 3 756 22 q 599 -17 658 -17 q 455 13 519 -17 q 349 89 390 42 l 414 164 q 497 100 454 119 q 589 81 539 81 q 703 124 663 81 q 743 238 743 168 q 731 299 743 269 q 690 353 719 328 q 608 397 660 378 q 476 431 556 417 l 468 506 l 658 718 q 590 799 635 765 q 475 832 546 832 q 301 766 364 832 q 239 558 239 700 l 239 0 l 124 0 l 124 579 z "},Ť:{ha:738,x_min:35,x_max:703,o:"m 311 814 l 35 814 l 35 911 l 703 911 l 703 814 l 426 814 l 426 0 l 311 0 l 311 814 m 556 1136 l 422 981 l 311 981 l 178 1136 l 271 1136 l 364 1042 l 369 1042 l 463 1136 l 556 1136 z "},Ţ:{ha:738,x_min:35,x_max:703,o:"m 311 814 l 35 814 l 35 911 l 703 911 l 703 814 l 426 814 l 426 0 l 311 0 l 311 814 m 336 4 l 410 4 l 375 -69 q 433 -103 408 -81 q 457 -168 457 -125 q 440 -221 457 -199 q 396 -258 424 -243 q 331 -283 368 -274 q 256 -296 294 -292 l 244 -239 q 334 -216 300 -232 q 368 -172 368 -200 q 345 -130 368 -144 q 281 -104 322 -115 l 336 4 z "},Ț:{ha:738,x_min:35,x_max:703,o:"m 311 814 l 35 814 l 35 911 l 703 911 l 703 814 l 426 814 l 426 0 l 311 0 l 311 814 m 329 -67 q 432 -102 400 -78 q 464 -174 464 -126 q 447 -226 464 -204 q 403 -264 431 -249 q 338 -288 375 -279 q 263 -300 301 -297 l 251 -244 q 341 -223 307 -237 q 375 -181 375 -208 q 354 -140 375 -153 q 304 -119 333 -126 l 329 -67 l 329 -67 z "},Ṭ:{ha:738,x_min:35,x_max:703,o:"m 311 814 l 35 814 l 35 911 l 703 911 l 703 814 l 426 814 l 426 0 l 311 0 l 311 814 m 369 -286 q 316 -265 338 -286 q 294 -211 294 -244 q 316 -158 294 -179 q 369 -137 338 -137 q 423 -158 401 -137 q 444 -211 444 -179 q 423 -265 444 -244 q 369 -286 401 -286 z "},Ṯ:{ha:738,x_min:35,x_max:703,o:"m 311 814 l 35 814 l 35 911 l 703 911 l 703 814 l 426 814 l 426 0 l 311 0 l 311 814 m 540 -237 l 197 -237 l 197 -157 l 540 -157 l 540 -237 z "},Ù:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 263 1136 l 393 1136 l 515 981 l 419 981 l 263 1136 z "},Ú:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 469 981 l 374 981 l 496 1136 l 626 1136 l 469 981 z "},Û:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 256 981 l 389 1136 l 500 1136 l 633 981 l 540 981 l 447 1075 l 442 1075 l 349 981 l 256 981 z "},Ũ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 528 988 q 478 999 500 988 q 437 1024 456 1010 q 400 1049 418 1038 q 363 1060 382 1060 q 328 1042 343 1060 q 307 988 313 1024 l 243 988 q 281 1095 250 1053 q 361 1138 311 1138 q 411 1126 389 1138 q 452 1101 433 1115 q 489 1076 471 1088 q 526 1065 507 1065 q 561 1084 546 1065 q 582 1138 576 1103 l 646 1138 q 608 1031 639 1074 q 528 988 578 988 z "},Ü:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 325 993 q 276 1013 294 993 q 257 1061 257 1032 q 276 1110 257 1092 q 325 1129 294 1129 q 374 1110 354 1129 q 393 1061 393 1092 q 374 1013 393 1032 q 325 993 354 993 m 564 993 q 515 1013 535 993 q 496 1061 496 1032 q 515 1110 496 1092 q 564 1129 535 1129 q 613 1110 594 1129 q 632 1061 632 1092 q 613 1013 632 1032 q 564 993 594 993 z "},Ū:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 272 1092 l 617 1092 l 617 1013 l 272 1013 l 272 1092 z "},Ŭ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 444 983 q 372 997 403 983 q 321 1031 342 1010 q 289 1079 300 1051 q 274 1136 278 1107 l 343 1136 q 374 1076 350 1103 q 444 1049 397 1049 q 515 1076 492 1049 q 546 1136 539 1103 l 615 1136 q 600 1079 611 1107 q 568 1031 589 1051 q 517 997 547 1010 q 444 983 486 983 z "},Ů:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 444 971 q 351 1003 388 971 q 315 1093 315 1036 q 351 1182 315 1149 q 444 1215 388 1215 q 537 1182 500 1215 q 574 1093 574 1149 q 537 1003 574 1036 q 444 971 500 971 m 444 1021 q 490 1040 471 1021 q 510 1093 510 1058 q 490 1144 510 1125 q 444 1164 471 1164 q 397 1144 417 1164 q 378 1093 378 1125 q 397 1040 378 1058 q 444 1021 417 1021 z "},Ű:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 293 981 l 385 1136 l 492 1136 l 376 981 l 293 981 m 604 1136 l 711 1136 l 594 981 l 513 981 l 604 1136 z "},Ǔ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 633 1136 l 500 981 l 389 981 l 256 1136 l 349 1136 l 442 1042 l 447 1042 l 540 1136 l 633 1136 z "},Ǖ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 272 1260 l 617 1260 l 617 1196 l 272 1196 l 272 1260 m 325 993 q 279 1011 297 993 q 261 1057 261 1029 q 279 1102 261 1085 q 325 1119 297 1119 q 370 1102 353 1119 q 388 1057 388 1085 q 370 1011 388 1029 q 325 993 353 993 m 564 993 q 519 1011 536 993 q 501 1057 501 1029 q 519 1102 501 1085 q 564 1119 536 1119 q 610 1102 592 1119 q 628 1057 628 1085 q 610 1011 628 1029 q 564 993 592 993 z "},Ǘ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 497 1319 l 624 1319 l 468 1165 l 374 1165 l 497 1319 m 325 993 q 279 1011 297 993 q 261 1057 261 1029 q 279 1102 261 1085 q 325 1119 297 1119 q 370 1102 353 1119 q 388 1057 388 1085 q 370 1011 388 1029 q 325 993 353 993 m 564 993 q 519 1011 536 993 q 501 1057 501 1029 q 519 1102 501 1085 q 564 1119 536 1119 q 610 1102 592 1119 q 628 1057 628 1085 q 610 1011 628 1029 q 564 993 592 993 z "},Ǚ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 325 993 q 279 1011 297 993 q 261 1057 261 1029 q 279 1102 261 1085 q 325 1119 297 1119 q 370 1102 353 1119 q 388 1057 388 1085 q 370 1011 388 1029 q 325 993 353 993 m 564 993 q 519 1011 536 993 q 501 1057 501 1029 q 519 1102 501 1085 q 564 1119 536 1119 q 610 1102 592 1119 q 628 1057 628 1085 q 610 1011 628 1029 q 564 993 592 993 m 633 1319 l 500 1165 l 389 1165 l 256 1319 l 349 1319 l 442 1225 l 447 1225 l 540 1319 l 633 1319 z "},Ǜ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 515 1165 l 421 1165 l 265 1319 l 392 1319 l 515 1165 m 564 993 q 519 1011 536 993 q 501 1057 501 1029 q 519 1102 501 1085 q 564 1119 536 1119 q 610 1102 592 1119 q 628 1057 628 1085 q 610 1011 628 1029 q 564 993 592 993 m 325 993 q 279 1011 297 993 q 261 1057 261 1029 q 279 1102 261 1085 q 325 1119 297 1119 q 370 1102 353 1119 q 388 1057 388 1085 q 370 1011 388 1029 q 325 993 353 993 z "},Ụ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 444 -286 q 391 -265 413 -286 q 369 -211 369 -244 q 391 -158 369 -179 q 444 -137 413 -137 q 498 -158 476 -137 q 519 -211 519 -179 q 498 -265 519 -244 q 444 -286 476 -286 z "},Ủ:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 m 393 1022 q 449 1046 426 1032 q 471 1086 471 1060 q 356 1144 471 1140 l 368 1211 q 510 1180 460 1208 q 560 1099 560 1151 q 547 1047 560 1068 q 513 1009 535 1025 q 464 984 492 993 q 406 969 436 975 l 393 1022 z "},Ų:{ha:889,x_min:117,x_max:772,o:"m 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 772 911 l 772 376 q 756 222 772 285 q 711 115 740 158 q 641 42 682 71 q 550 -10 600 14 q 467 -75 496 -36 q 439 -149 439 -114 q 460 -197 439 -181 q 506 -212 481 -212 q 535 -208 522 -212 q 561 -193 549 -203 l 593 -256 q 542 -283 574 -271 q 482 -294 510 -294 q 389 -264 428 -294 q 350 -174 350 -233 q 359 -122 350 -144 q 381 -79 368 -99 q 410 -44 394 -60 q 439 -15 426 -28 q 308 8 367 -14 q 206 77 249 31 q 140 197 164 124 q 117 376 117 271 l 117 911 z "},Ư:{ha:908,x_min:117,x_max:925,o:"m 893 1101 q 916 1060 907 1082 q 925 1011 925 1038 q 913 951 925 976 q 879 908 900 926 q 831 879 858 890 q 772 861 803 868 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 710 911 q 798 937 765 918 q 831 1004 831 956 q 825 1033 831 1019 q 810 1061 819 1047 l 893 1101 z "},Ứ:{ha:908,x_min:117,x_max:925,o:"m 893 1101 q 916 1060 907 1082 q 925 1011 925 1038 q 913 951 925 976 q 879 908 900 926 q 831 879 858 890 q 772 861 803 868 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 710 911 q 798 937 765 918 q 831 1004 831 956 q 825 1033 831 1019 q 810 1061 819 1047 l 893 1101 m 469 981 l 374 981 l 496 1136 l 626 1136 l 469 981 z "},Ừ:{ha:908,x_min:117,x_max:925,o:"m 893 1101 q 916 1060 907 1082 q 925 1011 925 1038 q 913 951 925 976 q 879 908 900 926 q 831 879 858 890 q 772 861 803 868 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 710 911 q 798 937 765 918 q 831 1004 831 956 q 825 1033 831 1019 q 810 1061 819 1047 l 893 1101 m 263 1136 l 393 1136 l 515 981 l 419 981 l 263 1136 z "},Ử:{ha:908,x_min:117,x_max:925,o:"m 893 1101 q 916 1060 907 1082 q 925 1011 925 1038 q 913 951 925 976 q 879 908 900 926 q 831 879 858 890 q 772 861 803 868 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 710 911 q 798 937 765 918 q 831 1004 831 956 q 825 1033 831 1019 q 810 1061 819 1047 l 893 1101 m 393 1022 q 449 1046 426 1032 q 471 1086 471 1060 q 356 1144 471 1140 l 368 1211 q 510 1180 460 1208 q 560 1099 560 1151 q 547 1047 560 1068 q 513 1009 535 1025 q 464 984 492 993 q 406 969 436 975 l 393 1022 z "},Ữ:{ha:908,x_min:117,x_max:925,o:"m 893 1101 q 916 1060 907 1082 q 925 1011 925 1038 q 913 951 925 976 q 879 908 900 926 q 831 879 858 890 q 772 861 803 868 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 710 911 q 798 937 765 918 q 831 1004 831 956 q 825 1033 831 1019 q 810 1061 819 1047 l 893 1101 m 528 988 q 478 999 500 988 q 437 1024 456 1010 q 400 1049 418 1038 q 363 1060 382 1060 q 328 1042 343 1060 q 307 988 313 1024 l 243 988 q 281 1095 250 1053 q 361 1138 311 1138 q 411 1126 389 1138 q 452 1101 433 1115 q 489 1076 471 1088 q 526 1065 507 1065 q 561 1084 546 1065 q 582 1138 576 1103 l 646 1138 q 608 1031 639 1074 q 528 988 578 988 z "},Ự:{ha:908,x_min:117,x_max:925,o:"m 893 1101 q 916 1060 907 1082 q 925 1011 925 1038 q 913 951 925 976 q 879 908 900 926 q 831 879 858 890 q 772 861 803 868 l 772 376 q 747 192 772 267 q 678 70 722 117 q 574 3 635 24 q 444 -17 514 -17 q 315 3 375 -17 q 210 70 254 24 q 142 192 167 117 q 117 376 117 267 l 117 911 l 233 911 l 233 374 q 250 236 233 292 q 295 147 267 181 q 362 99 324 114 q 444 85 400 85 q 530 99 490 85 q 599 147 569 114 q 644 236 628 181 q 661 374 661 292 l 661 911 l 710 911 q 798 937 765 918 q 831 1004 831 956 q 825 1033 831 1019 q 810 1061 819 1047 l 893 1101 m 444 -286 q 391 -265 413 -286 q 369 -211 369 -244 q 391 -158 369 -179 q 444 -137 413 -137 q 498 -158 476 -137 q 519 -211 519 -179 q 498 -265 519 -244 q 444 -286 476 -286 z "},Ẁ:{ha:1085,x_min:28,x_max:1056,o:"m 28 911 l 147 911 l 243 415 q 270 268 257 340 q 297 121 283 196 l 303 121 q 334 269 318 196 q 367 415 350 342 l 493 911 l 599 911 l 725 415 q 757 269 740 343 q 790 121 774 196 l 796 121 q 822 269 810 196 q 847 415 835 342 l 943 911 l 1056 911 l 867 0 l 726 0 l 589 549 q 567 652 578 601 q 546 756 556 703 l 540 756 q 517 652 529 703 q 494 549 506 601 l 358 0 l 221 0 l 28 911 m 360 1136 l 490 1136 l 613 981 l 517 981 l 360 1136 z "},Ẃ:{ha:1085,x_min:28,x_max:1056,o:"m 28 911 l 147 911 l 243 415 q 270 268 257 340 q 297 121 283 196 l 303 121 q 334 269 318 196 q 367 415 350 342 l 493 911 l 599 911 l 725 415 q 757 269 740 343 q 790 121 774 196 l 796 121 q 822 269 810 196 q 847 415 835 342 l 943 911 l 1056 911 l 867 0 l 726 0 l 589 549 q 567 652 578 601 q 546 756 556 703 l 540 756 q 517 652 529 703 q 494 549 506 601 l 358 0 l 221 0 l 28 911 m 567 981 l 471 981 l 593 1136 l 724 1136 l 567 981 z "},Ŵ:{ha:1085,x_min:28,x_max:1056,o:"m 28 911 l 147 911 l 243 415 q 270 268 257 340 q 297 121 283 196 l 303 121 q 334 269 318 196 q 367 415 350 342 l 493 911 l 599 911 l 725 415 q 757 269 740 343 q 790 121 774 196 l 796 121 q 822 269 810 196 q 847 415 835 342 l 943 911 l 1056 911 l 867 0 l 726 0 l 589 549 q 567 652 578 601 q 546 756 556 703 l 540 756 q 517 652 529 703 q 494 549 506 601 l 358 0 l 221 0 l 28 911 m 353 981 l 486 1136 l 597 1136 l 731 981 l 638 981 l 544 1075 l 539 1075 l 446 981 l 353 981 z "},Ẅ:{ha:1085,x_min:28,x_max:1056,o:"m 28 911 l 147 911 l 243 415 q 270 268 257 340 q 297 121 283 196 l 303 121 q 334 269 318 196 q 367 415 350 342 l 493 911 l 599 911 l 725 415 q 757 269 740 343 q 790 121 774 196 l 796 121 q 822 269 810 196 q 847 415 835 342 l 943 911 l 1056 911 l 867 0 l 726 0 l 589 549 q 567 652 578 601 q 546 756 556 703 l 540 756 q 517 652 529 703 q 494 549 506 601 l 358 0 l 221 0 l 28 911 m 422 993 q 373 1013 392 993 q 354 1061 354 1032 q 373 1110 354 1092 q 422 1129 392 1129 q 471 1110 451 1129 q 490 1061 490 1092 q 471 1013 490 1032 q 422 993 451 993 m 661 993 q 613 1013 632 993 q 593 1061 593 1032 q 613 1110 593 1092 q 661 1129 632 1129 q 710 1110 692 1129 q 729 1061 729 1092 q 710 1013 729 1032 q 661 993 692 993 z "},Ỳ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 144 1136 l 275 1136 l 397 981 l 301 981 l 144 1136 z "},Ý:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 351 981 l 256 981 l 378 1136 l 508 1136 l 351 981 z "},Ŷ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 138 981 l 271 1136 l 382 1136 l 515 981 l 422 981 l 329 1075 l 324 1075 l 231 981 l 138 981 z "},Ÿ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 207 993 q 158 1013 176 993 q 139 1061 139 1032 q 158 1110 139 1092 q 207 1129 176 1129 q 256 1110 236 1129 q 275 1061 275 1092 q 256 1013 275 1032 q 207 993 236 993 m 446 993 q 397 1013 417 993 q 378 1061 378 1032 q 397 1110 378 1092 q 446 1129 417 1129 q 495 1110 476 1129 q 514 1061 514 1092 q 495 1013 514 1032 q 446 993 476 993 z "},Ẏ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 326 992 q 270 1013 293 992 q 247 1067 247 1033 q 270 1119 247 1099 q 326 1140 293 1140 q 383 1119 360 1140 q 406 1067 406 1099 q 383 1013 406 1033 q 326 992 360 992 z "},Ỵ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 329 -286 q 276 -265 297 -286 q 254 -211 254 -244 q 276 -158 254 -179 q 329 -137 297 -137 q 383 -158 361 -137 q 404 -211 404 -179 q 383 -265 404 -244 q 329 -286 361 -286 z "},Ỷ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 275 1022 q 331 1046 308 1032 q 353 1086 353 1060 q 238 1144 353 1140 l 250 1211 q 392 1180 342 1208 q 442 1099 442 1151 q 429 1047 442 1068 q 395 1009 417 1025 q 346 984 374 993 q 288 969 318 975 l 275 1022 z "},Ỹ:{ha:654,x_min:-6,x_max:658,o:"m 269 353 l -6 911 l 119 911 l 236 654 q 280 556 258 604 q 325 456 301 507 l 331 456 q 377 556 354 507 q 421 654 400 604 l 539 911 l 658 911 l 385 353 l 385 0 l 269 0 l 269 353 m 410 988 q 360 999 382 988 q 319 1024 338 1010 q 282 1049 300 1038 q 244 1060 264 1060 q 210 1042 225 1060 q 189 988 194 1024 l 125 988 q 163 1095 132 1053 q 243 1138 193 1138 q 293 1126 271 1138 q 334 1101 315 1115 q 371 1076 353 1088 q 408 1065 389 1065 q 443 1084 428 1065 q 464 1138 458 1103 l 528 1138 q 490 1031 521 1074 q 410 988 460 988 z "},Ź:{ha:742,x_min:58,x_max:686,o:"m 58 69 l 539 814 l 101 814 l 101 911 l 682 911 l 682 843 l 201 99 l 686 99 l 686 0 l 58 0 l 58 69 m 411 981 l 315 981 l 438 1136 l 568 1136 l 411 981 z "},Ž:{ha:742,x_min:58,x_max:686,o:"m 58 69 l 539 814 l 101 814 l 101 911 l 682 911 l 682 843 l 201 99 l 686 99 l 686 0 l 58 0 l 58 69 m 575 1136 l 442 981 l 331 981 l 197 1136 l 290 1136 l 383 1042 l 389 1042 l 482 1136 l 575 1136 z "},Ż:{ha:742,x_min:58,x_max:686,o:"m 58 69 l 539 814 l 101 814 l 101 911 l 682 911 l 682 843 l 201 99 l 686 99 l 686 0 l 58 0 l 58 69 m 386 992 q 330 1013 353 992 q 307 1067 307 1033 q 330 1119 307 1099 q 386 1140 353 1140 q 442 1119 419 1140 q 465 1067 465 1099 q 442 1013 465 1033 q 386 992 419 992 z "},Ẓ:{ha:742,x_min:58,x_max:686,o:"m 58 69 l 539 814 l 101 814 l 101 911 l 682 911 l 682 843 l 201 99 l 686 99 l 686 0 l 58 0 l 58 69 m 388 -286 q 334 -265 356 -286 q 313 -211 313 -244 q 334 -158 313 -179 q 388 -137 356 -137 q 441 -158 419 -137 q 463 -211 463 -179 q 441 -265 463 -244 q 388 -286 419 -286 z "},Ð:{ha:876,x_min:42,x_max:807,o:"m 368 94 q 608 190 528 94 q 688 460 688 286 q 608 725 688 633 q 368 817 528 817 l 264 817 l 264 511 l 475 511 l 475 446 l 264 446 l 264 94 l 368 94 m 376 911 q 697 794 588 911 q 807 460 807 678 q 779 266 807 351 q 697 122 751 181 q 564 31 643 63 q 382 0 485 0 l 149 0 l 149 446 l 42 446 l 42 506 l 149 511 l 149 911 l 376 911 z "},Þ:{ha:810,x_min:124,x_max:739,o:"m 124 911 l 239 911 l 239 758 l 403 758 q 540 744 478 758 q 647 699 603 731 q 715 616 690 667 q 739 490 739 565 q 715 365 739 418 q 646 276 690 311 q 540 225 601 242 q 403 208 478 208 l 239 208 l 239 0 l 124 0 l 124 911 m 389 303 q 566 347 508 303 q 624 490 624 392 q 565 626 624 589 q 389 664 507 664 l 239 664 l 239 303 l 389 303 z "},Ə:{ha:922,x_min:89,x_max:851,o:"m 207 397 q 286 166 217 250 q 464 82 356 82 q 566 104 519 82 q 648 167 613 126 q 706 265 683 207 q 735 397 728 324 l 207 397 m 185 821 q 305 898 233 868 q 469 928 376 928 q 628 895 557 928 q 748 802 699 863 q 824 655 797 742 q 851 458 851 568 q 823 261 851 349 q 743 112 794 174 q 620 17 692 50 q 464 -17 549 -17 q 310 17 379 -17 q 192 112 240 50 q 116 260 143 174 q 89 451 89 346 q 90 467 89 458 q 92 486 90 476 l 738 486 q 660 738 731 647 q 461 829 589 829 q 336 805 393 829 q 239 742 279 781 l 185 821 z "},à:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 219 992 l 339 992 l 464 796 l 376 796 l 219 992 z "},á:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 371 796 l 283 796 l 408 992 l 528 992 l 371 796 z "},â:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 326 992 l 421 992 l 553 796 l 469 796 l 376 922 l 371 922 l 278 796 l 194 796 l 326 992 z "},ã:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 181 804 q 214 909 186 867 q 293 951 242 951 q 342 940 319 951 q 383 916 364 929 q 418 892 401 903 q 451 881 435 881 q 503 951 490 881 l 567 951 q 533 847 561 889 q 454 804 506 804 q 406 815 428 804 q 366 840 385 826 q 331 864 347 853 q 296 875 314 875 q 244 804 257 875 l 181 804 l 181 804 z "},ä:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 254 817 q 205 836 224 817 q 186 885 186 856 q 205 933 186 914 q 254 953 224 953 q 303 933 283 953 q 322 885 322 914 q 303 836 322 856 q 254 817 283 817 m 493 817 q 444 836 464 817 q 425 885 425 856 q 444 933 425 914 q 493 953 464 953 q 542 933 524 953 q 561 885 561 914 q 542 836 561 856 q 493 817 524 817 z "},ā:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 203 914 l 544 914 l 544 835 l 203 835 l 203 914 z "},ă:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 374 799 q 297 815 329 799 q 243 856 264 831 q 211 913 222 882 q 199 975 200 944 l 269 975 q 300 902 275 935 q 374 869 325 869 q 447 902 422 869 q 478 975 472 935 l 549 975 q 535 913 546 944 q 504 856 525 882 q 451 815 483 831 q 374 799 418 799 z "},å:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 374 753 q 281 788 317 753 q 244 882 244 824 q 281 975 244 940 q 374 1010 317 1010 q 467 975 431 1010 q 503 882 503 940 q 467 788 503 824 q 374 753 431 753 m 374 804 q 421 825 401 804 q 440 882 440 846 q 421 938 440 917 q 374 958 401 958 q 326 938 346 958 q 307 882 307 917 q 326 825 307 846 q 374 804 346 804 z "},ǎ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 194 992 l 278 992 l 371 864 l 376 864 l 469 992 l 553 992 l 421 796 l 326 796 l 194 992 z "},ạ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 351 -286 q 298 -265 319 -286 q 276 -211 276 -244 q 298 -158 276 -179 q 351 -137 319 -137 q 405 -158 383 -137 q 426 -211 426 -179 q 405 -265 426 -244 q 351 -286 383 -286 z "},ả:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 322 821 q 378 844 356 831 q 400 885 400 858 q 285 943 400 939 l 297 1010 q 439 978 389 1007 q 489 897 489 950 q 476 845 489 867 q 442 808 464 824 q 393 783 421 792 q 335 768 365 774 l 322 821 z "},ấ:{ha:711,x_min:81,x_max:696,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 326 961 l 421 961 l 535 796 l 457 796 l 376 897 l 371 897 l 290 796 l 213 796 l 326 961 m 599 1047 l 696 1047 l 568 889 l 497 889 l 599 1047 z "},ầ:{ha:711,x_min:81,x_max:653,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 326 961 l 421 961 l 535 796 l 457 796 l 376 897 l 371 897 l 290 796 l 213 796 l 326 961 m 653 889 l 582 889 l 454 1047 l 550 1047 l 653 889 z "},ẩ:{ha:711,x_min:81,x_max:664,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 326 961 l 421 961 l 535 796 l 457 796 l 376 897 l 371 897 l 290 796 l 213 796 l 326 961 m 522 921 q 565 940 549 928 q 581 975 581 953 q 558 1016 581 1003 q 485 1032 536 1029 l 494 1089 q 620 1061 576 1086 q 664 988 664 1036 q 653 940 664 960 q 624 908 642 921 q 583 886 606 894 q 535 872 560 878 l 522 921 z "},ẫ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 321 938 l 426 938 l 546 793 l 465 793 l 376 883 l 371 883 l 282 793 l 201 793 l 321 938 m 192 988 q 225 1078 197 1043 q 301 1114 253 1114 q 347 1105 328 1114 q 381 1084 365 1096 q 412 1063 397 1072 q 443 1054 426 1054 q 497 1114 488 1054 l 556 1114 q 522 1023 550 1058 q 446 988 494 988 q 401 997 419 988 q 366 1017 382 1006 q 335 1038 350 1029 q 304 1047 321 1047 q 250 988 260 1047 l 192 988 z "},ậ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 326 992 l 421 992 l 553 796 l 469 796 l 376 922 l 371 922 l 278 796 l 194 796 l 326 992 m 351 -286 q 298 -265 319 -286 q 276 -211 276 -244 q 298 -158 276 -179 q 351 -137 319 -137 q 405 -158 383 -137 q 426 -211 426 -179 q 405 -265 426 -244 q 351 -286 383 -286 z "},ắ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 417 1096 l 511 1096 l 389 940 l 322 940 l 417 1096 m 374 799 q 297 815 329 799 q 243 856 264 831 q 211 913 222 882 q 199 975 200 944 l 258 975 q 293 898 265 932 q 374 864 321 864 q 454 898 426 864 q 489 975 482 932 l 549 975 q 535 913 546 944 q 504 856 525 882 q 451 815 483 831 q 374 799 418 799 z "},ằ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 425 940 l 358 940 l 236 1096 l 331 1096 l 425 940 m 374 799 q 297 815 329 799 q 243 856 264 831 q 211 913 222 882 q 199 975 200 944 l 258 975 q 293 898 265 932 q 374 864 321 864 q 454 898 426 864 q 489 975 482 932 l 549 975 q 535 913 546 944 q 504 856 525 882 q 451 815 483 831 q 374 799 418 799 z "},ẳ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 374 799 q 297 815 329 799 q 243 856 264 831 q 211 913 222 882 q 199 975 200 944 l 258 975 q 293 898 265 932 q 374 864 321 864 q 454 898 426 864 q 489 975 482 932 l 549 975 q 535 913 546 944 q 504 856 525 882 q 451 815 483 831 q 374 799 418 799 m 325 997 q 367 1017 350 1004 q 383 1051 383 1029 q 361 1092 383 1079 q 288 1108 339 1106 l 297 1165 q 423 1138 379 1163 q 467 1064 467 1114 q 456 1017 467 1036 q 426 984 444 997 q 385 963 408 971 q 336 949 361 954 l 325 997 z "},ẵ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 374 799 q 297 812 329 799 q 244 846 265 825 q 213 893 224 867 q 200 947 201 919 l 263 947 q 295 888 269 914 q 374 861 321 861 q 452 888 426 861 q 485 947 478 914 l 547 947 q 534 893 544 919 q 503 846 524 867 q 450 812 482 825 q 374 799 418 799 m 192 988 q 225 1078 197 1043 q 301 1114 253 1114 q 347 1105 328 1114 q 381 1084 365 1096 q 412 1063 397 1072 q 443 1054 426 1054 q 497 1114 488 1054 l 556 1114 q 522 1023 550 1058 q 446 988 494 988 q 401 997 419 988 q 366 1017 382 1006 q 335 1038 350 1029 q 304 1047 321 1047 q 250 988 260 1047 l 192 988 z "},ặ:{ha:711,x_min:81,x_max:610,o:"m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 l 515 0 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 374 799 q 297 815 329 799 q 243 856 264 831 q 211 913 222 882 q 199 975 200 944 l 269 975 q 300 902 275 935 q 374 869 325 869 q 447 902 422 869 q 478 975 472 935 l 549 975 q 535 913 546 944 q 504 856 525 882 q 451 815 483 831 q 374 799 418 799 m 351 -286 q 298 -265 319 -286 q 276 -211 276 -244 q 298 -158 276 -179 q 351 -137 319 -137 q 405 -158 383 -137 q 426 -211 426 -179 q 405 -265 426 -244 q 351 -286 383 -286 z "},ą:{ha:711,x_min:81,x_max:639,o:"m 193 183 q 227 100 193 125 q 311 75 261 75 q 403 98 360 75 q 496 165 447 121 l 496 353 q 353 326 411 342 q 259 290 294 311 q 208 242 224 269 q 193 183 193 215 m 81 175 q 180 345 81 286 q 496 428 279 404 q 490 490 496 460 q 467 544 483 521 q 425 583 451 568 q 357 597 399 597 q 247 575 297 597 q 156 525 196 553 l 110 604 q 225 663 157 635 q 375 692 293 692 q 554 616 499 692 q 610 414 610 540 l 610 0 q 520 -65 551 -24 q 489 -146 489 -106 q 509 -194 489 -178 q 554 -210 529 -210 q 584 -205 571 -210 q 610 -192 597 -200 l 639 -249 q 588 -275 619 -264 q 531 -286 557 -286 q 442 -256 478 -286 q 406 -168 406 -226 q 415 -115 406 -140 q 441 -67 425 -89 q 476 -26 457 -44 q 517 6 496 -7 l 506 81 l 503 81 q 398 12 454 40 q 279 -17 342 -17 q 137 33 193 -17 q 81 175 81 83 z "},æ:{ha:1090,x_min:81,x_max:1038,o:"m 193 183 q 227 100 193 125 q 311 75 261 75 q 414 102 358 75 q 515 179 469 129 q 497 242 504 206 q 489 318 490 279 l 489 353 q 352 326 408 342 q 260 290 296 311 q 209 242 225 269 q 193 183 193 215 m 110 604 q 224 663 157 635 q 365 692 290 692 q 489 653 440 692 q 558 549 538 615 q 655 653 599 615 q 781 692 711 692 q 891 669 843 692 q 972 606 939 647 q 1021 505 1004 564 q 1038 374 1038 446 q 1033 310 1038 335 l 596 310 q 615 214 597 257 q 660 140 632 171 q 725 93 688 110 q 806 76 763 76 q 893 92 854 76 q 969 132 932 108 l 1011 53 q 914 4 967 25 q 792 -17 861 -17 q 650 22 707 -17 q 554 110 593 60 q 415 15 485 47 q 279 -17 344 -17 q 137 33 193 -17 q 81 175 81 83 q 179 345 81 286 q 489 428 278 404 q 483 490 489 460 q 462 544 478 521 q 419 583 446 568 q 351 597 393 597 q 246 575 296 597 q 156 525 196 553 l 110 604 m 938 386 q 897 546 938 490 q 778 601 856 601 q 656 544 707 601 q 596 386 606 486 l 938 386 z "},ç:{ha:633,x_min:64,x_max:600,o:"m 64 336 q 90 487 64 421 q 161 599 117 553 q 265 668 206 644 q 389 692 324 692 q 503 667 456 692 q 586 611 551 643 l 529 538 q 466 581 499 564 q 393 597 433 597 q 308 578 347 597 q 242 525 269 560 q 198 442 214 490 q 182 336 182 394 q 197 231 182 278 q 240 149 213 183 q 306 97 267 115 q 390 78 344 78 q 478 98 439 78 q 549 146 518 118 l 600 71 q 498 7 554 31 q 381 -17 442 -17 q 256 7 314 -17 q 155 76 197 31 q 88 187 113 121 q 64 336 64 253 m 351 4 l 425 4 l 390 -69 q 448 -103 424 -81 q 472 -168 472 -125 q 456 -221 472 -199 q 411 -258 439 -243 q 347 -283 383 -274 q 271 -296 310 -292 l 260 -239 q 349 -216 315 -232 q 383 -172 383 -200 q 360 -130 383 -144 q 296 -104 338 -115 l 351 4 z "},ć:{ha:633,x_min:64,x_max:600,o:"m 64 336 q 90 487 64 421 q 161 599 117 553 q 265 668 206 644 q 389 692 324 692 q 503 667 456 692 q 586 611 551 643 l 529 538 q 466 581 499 564 q 393 597 433 597 q 308 578 347 597 q 242 525 269 560 q 198 442 214 490 q 182 336 182 394 q 197 231 182 278 q 240 149 213 183 q 306 97 267 115 q 390 78 344 78 q 478 98 439 78 q 549 146 518 118 l 600 71 q 498 7 554 31 q 381 -17 442 -17 q 256 7 314 -17 q 155 76 197 31 q 88 187 113 121 q 64 336 64 253 m 385 796 l 297 796 l 422 992 l 542 992 l 385 796 z "},ĉ:{ha:633,x_min:64,x_max:600,o:"m 64 336 q 90 487 64 421 q 161 599 117 553 q 265 668 206 644 q 389 692 324 692 q 503 667 456 692 q 586 611 551 643 l 529 538 q 466 581 499 564 q 393 597 433 597 q 308 578 347 597 q 242 525 269 560 q 198 442 214 490 q 182 336 182 394 q 197 231 182 278 q 240 149 213 183 q 306 97 267 115 q 390 78 344 78 q 478 98 439 78 q 549 146 518 118 l 600 71 q 498 7 554 31 q 381 -17 442 -17 q 256 7 314 -17 q 155 76 197 31 q 88 187 113 121 q 64 336 64 253 m 340 992 l 435 992 l 567 796 l 483 796 l 390 922 l 385 922 l 292 796 l 208 796 l 340 992 z "},č:{ha:633,x_min:64,x_max:600,o:"m 64 336 q 90 487 64 421 q 161 599 117 553 q 265 668 206 644 q 389 692 324 692 q 503 667 456 692 q 586 611 551 643 l 529 538 q 466 581 499 564 q 393 597 433 597 q 308 578 347 597 q 242 525 269 560 q 198 442 214 490 q 182 336 182 394 q 197 231 182 278 q 240 149 213 183 q 306 97 267 115 q 390 78 344 78 q 478 98 439 78 q 549 146 518 118 l 600 71 q 498 7 554 31 q 381 -17 442 -17 q 256 7 314 -17 q 155 76 197 31 q 88 187 113 121 q 64 336 64 253 m 208 992 l 292 992 l 385 864 l 390 864 l 483 992 l 567 992 l 435 796 l 340 796 l 208 992 z "},ċ:{ha:633,x_min:64,x_max:600,o:"m 64 336 q 90 487 64 421 q 161 599 117 553 q 265 668 206 644 q 389 692 324 692 q 503 667 456 692 q 586 611 551 643 l 529 538 q 466 581 499 564 q 393 597 433 597 q 308 578 347 597 q 242 525 269 560 q 198 442 214 490 q 182 336 182 394 q 197 231 182 278 q 240 149 213 183 q 306 97 267 115 q 390 78 344 78 q 478 98 439 78 q 549 146 518 118 l 600 71 q 498 7 554 31 q 381 -17 442 -17 q 256 7 314 -17 q 155 76 197 31 q 88 187 113 121 q 64 336 64 253 m 388 814 q 334 835 356 814 q 313 889 313 856 q 334 942 313 921 q 388 964 356 964 q 441 942 419 964 q 463 889 463 921 q 441 835 463 856 q 388 814 419 814 z "},ď:{ha:796,x_min:65,x_max:813,o:"m 65 336 q 90 484 65 418 q 154 596 114 550 q 247 667 194 642 q 358 692 300 692 q 460 671 417 692 q 547 614 503 650 l 542 729 l 542 989 l 657 989 l 657 0 l 563 0 l 553 79 l 549 79 q 456 12 508 40 q 344 -17 404 -17 q 141 75 217 -17 q 65 336 65 167 m 183 338 q 232 147 183 215 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 525 q 459 580 499 564 q 378 596 419 596 q 302 577 338 596 q 240 524 267 558 q 199 443 214 490 q 183 338 183 396 m 736 761 l 731 1056 l 813 1056 l 811 976 l 792 761 l 736 761 z "},ḍ:{ha:771,x_min:65,x_max:657,o:"m 65 336 q 90 484 65 418 q 154 596 114 550 q 247 667 194 642 q 358 692 300 692 q 460 671 417 692 q 547 614 503 650 l 542 729 l 542 989 l 657 989 l 657 0 l 563 0 l 553 79 l 549 79 q 456 12 508 40 q 344 -17 404 -17 q 141 75 217 -17 q 65 336 65 167 m 183 338 q 232 147 183 215 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 525 q 459 580 499 564 q 378 596 419 596 q 302 577 338 596 q 240 524 267 558 q 199 443 214 490 q 183 338 183 396 m 419 -286 q 366 -265 388 -286 q 344 -211 344 -244 q 366 -158 344 -179 q 419 -137 388 -137 q 473 -158 451 -137 q 494 -211 494 -179 q 473 -265 494 -244 q 419 -286 451 -286 z "},ḏ:{ha:771,x_min:65,x_max:657,o:"m 65 336 q 90 484 65 418 q 154 596 114 550 q 247 667 194 642 q 358 692 300 692 q 460 671 417 692 q 547 614 503 650 l 542 729 l 542 989 l 657 989 l 657 0 l 563 0 l 553 79 l 549 79 q 456 12 508 40 q 344 -17 404 -17 q 141 75 217 -17 q 65 336 65 167 m 183 338 q 232 147 183 215 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 525 q 459 580 499 564 q 378 596 419 596 q 302 577 338 596 q 240 524 267 558 q 199 443 214 490 q 183 338 183 396 m 589 -237 l 246 -237 l 246 -157 l 589 -157 l 589 -237 z "},đ:{ha:771,x_min:65,x_max:757,o:"m 542 497 q 459 552 499 536 q 378 568 419 568 q 302 551 338 568 q 240 501 267 533 q 199 423 214 468 q 183 324 183 378 q 232 143 183 207 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 497 m 757 800 l 657 793 l 657 0 l 560 0 l 551 76 l 547 76 q 457 10 508 38 q 344 -17 406 -17 q 141 71 217 -17 q 65 322 65 158 q 90 465 65 401 q 154 572 114 528 q 247 640 194 617 q 358 664 300 664 q 460 643 417 664 q 547 586 503 622 l 542 701 l 542 793 l 318 793 l 318 860 l 542 860 l 542 989 l 657 989 l 657 860 l 757 860 l 757 800 z "},è:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 214 992 l 333 992 l 458 796 l 371 796 l 214 992 z "},é:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 365 796 l 278 796 l 403 992 l 522 992 l 365 796 z "},ê:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 321 992 l 415 992 l 547 796 l 464 796 l 371 922 l 365 922 l 272 796 l 189 796 l 321 992 z "},ě:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 189 992 l 272 992 l 365 864 l 371 864 l 464 992 l 547 992 l 415 796 l 321 796 l 189 992 z "},ë:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 249 817 q 199 836 218 817 q 181 885 181 856 q 199 933 181 914 q 249 953 218 953 q 297 933 278 953 q 317 885 317 914 q 297 836 317 856 q 249 817 278 817 m 488 817 q 439 836 458 817 q 419 885 419 856 q 439 933 419 914 q 488 953 458 953 q 537 933 518 953 q 556 885 556 914 q 537 836 556 856 q 488 817 518 817 z "},ē:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 197 914 l 539 914 l 539 835 l 197 835 l 197 914 z "},ĕ:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 368 799 q 291 815 324 799 q 238 856 258 831 q 206 913 217 882 q 193 975 194 944 l 264 975 q 294 902 269 935 q 368 869 319 869 q 442 902 417 869 q 472 975 467 935 l 543 975 q 530 913 540 944 q 499 856 519 882 q 445 815 478 831 q 368 799 413 799 z "},ė:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 368 814 q 315 835 336 814 q 293 889 293 856 q 315 942 293 921 q 368 964 336 964 q 422 942 400 964 q 443 889 443 921 q 422 835 443 856 q 368 814 400 814 z "},ẹ:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 365 -286 q 312 -265 333 -286 q 290 -211 290 -244 q 312 -158 290 -179 q 365 -137 333 -137 q 419 -158 397 -137 q 440 -211 440 -179 q 419 -265 440 -244 q 365 -286 397 -286 z "},ẻ:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 317 821 q 372 844 350 831 q 394 885 394 858 q 279 943 394 939 l 292 1010 q 433 978 383 1007 q 483 897 483 950 q 471 845 483 867 q 437 808 458 824 q 388 783 415 792 q 329 768 360 774 l 317 821 z "},ẽ:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 175 804 q 208 909 181 867 q 288 951 236 951 q 336 940 314 951 q 377 916 358 929 q 413 892 396 903 q 446 881 429 881 q 497 951 485 881 l 561 951 q 528 847 556 889 q 449 804 500 804 q 401 815 422 804 q 360 840 379 826 q 325 864 342 853 q 290 875 308 875 q 239 804 251 875 l 175 804 l 175 804 z "},ế:{ha:689,x_min:64,x_max:690,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 321 961 l 415 961 l 529 796 l 451 796 l 371 897 l 365 897 l 285 796 l 207 796 l 321 961 m 593 1047 l 690 1047 l 563 889 l 492 889 l 593 1047 z "},ề:{ha:689,x_min:64,x_max:647,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 321 961 l 415 961 l 529 796 l 451 796 l 371 897 l 365 897 l 285 796 l 207 796 l 321 961 m 647 889 l 576 889 l 449 1047 l 544 1047 l 647 889 z "},ể:{ha:689,x_min:64,x_max:658,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 321 961 l 415 961 l 529 796 l 451 796 l 371 897 l 365 897 l 285 796 l 207 796 l 321 961 m 517 921 q 559 940 543 928 q 575 975 575 953 q 553 1016 575 1003 q 479 1032 531 1029 l 489 1089 q 615 1061 571 1086 q 658 988 658 1036 q 647 940 658 960 q 618 908 636 921 q 577 886 600 894 q 529 872 554 878 l 517 921 z "},ễ:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 315 938 l 421 938 l 540 793 l 460 793 l 371 883 l 365 883 l 276 793 l 196 793 l 315 938 m 186 988 q 219 1078 192 1043 q 296 1114 247 1114 q 341 1105 322 1114 q 376 1084 360 1096 q 406 1063 392 1072 q 438 1054 421 1054 q 492 1114 482 1054 l 550 1114 q 517 1023 544 1058 q 440 988 489 988 q 395 997 414 988 q 360 1017 376 1006 q 330 1038 344 1029 q 299 1047 315 1047 q 244 988 254 1047 l 186 988 z "},ệ:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 511 4 565 25 q 388 -17 457 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 492 547 536 492 q 369 601 449 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 m 321 992 l 415 992 l 547 796 l 464 796 l 371 922 l 365 922 l 272 796 l 189 796 l 321 992 m 364 -286 q 310 -265 332 -286 q 289 -211 289 -244 q 310 -158 289 -179 q 364 -137 332 -137 q 417 -158 396 -137 q 439 -211 439 -179 q 417 -265 439 -244 q 364 -286 396 -286 z "},ę:{ha:689,x_min:64,x_max:636,o:"m 64 336 q 90 485 64 419 q 158 597 115 551 q 254 667 200 643 q 367 692 308 692 q 481 669 431 692 q 566 606 532 647 q 618 506 600 564 q 636 375 636 447 q 632 313 636 338 l 176 313 q 244 139 183 203 q 401 75 304 75 q 491 90 450 75 q 569 128 532 104 l 610 53 q 535 -6 564 21 q 488 -57 506 -33 q 463 -102 469 -81 q 456 -146 456 -124 q 475 -194 456 -178 q 521 -210 494 -210 q 551 -205 538 -210 q 576 -192 564 -200 l 606 -249 q 555 -275 586 -264 q 497 -286 524 -286 q 408 -256 444 -286 q 372 -168 372 -226 q 380 -118 372 -142 q 400 -74 388 -94 q 427 -36 413 -53 q 456 -7 442 -19 q 421 -15 438 -14 q 388 -17 404 -17 q 260 8 319 -17 q 158 77 201 32 q 89 188 114 122 q 64 336 64 253 m 536 388 q 493 547 536 492 q 369 601 450 601 q 301 587 333 601 q 242 545 268 572 q 198 478 215 518 q 175 388 181 439 l 536 388 z "},ĝ:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 m 285 992 l 379 992 l 511 796 l 428 796 l 335 922 l 329 922 l 236 796 l 153 796 l 285 992 z "},ğ:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 m 332 799 q 255 815 288 799 q 201 856 222 831 q 169 913 181 882 q 157 975 158 944 l 228 975 q 258 902 233 935 q 332 869 283 869 q 406 902 381 869 q 436 975 431 935 l 507 975 q 494 913 504 944 q 463 856 483 882 q 409 815 442 831 q 332 799 376 799 z "},ġ:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 m 332 814 q 278 835 300 814 q 257 889 257 856 q 278 942 257 921 q 332 964 300 964 q 385 942 364 964 q 407 889 407 921 q 385 835 407 856 q 332 814 364 814 z "},ģ:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 m 371 751 q 268 788 300 763 q 236 858 236 813 q 253 911 236 889 q 297 949 269 933 q 361 973 325 964 q 436 986 397 982 l 447 929 q 359 908 393 922 q 325 867 325 893 q 345 825 325 839 q 396 804 365 811 l 371 751 l 371 751 z "},ǧ:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 m 153 992 l 236 992 l 329 864 l 335 864 l 428 992 l 511 992 l 379 796 l 285 796 l 153 992 z "},ḡ:{ha:700,x_min:63,x_max:683,o:"m 163 -114 q 215 -200 163 -168 q 358 -232 267 -232 q 447 -220 407 -232 q 514 -190 486 -208 q 557 -146 542 -171 q 572 -94 572 -121 q 538 -29 572 -47 q 436 -11 503 -11 l 319 -11 q 277 -9 300 -11 q 232 0 254 -7 q 179 -56 196 -26 q 163 -114 163 -85 m 63 -129 q 89 -47 63 -86 q 161 24 115 -8 l 161 29 q 119 72 136 44 q 101 139 101 99 q 125 214 101 182 q 175 264 149 246 l 175 269 q 115 344 142 297 q 88 451 88 390 q 108 551 88 507 q 163 627 128 596 q 244 675 197 658 q 342 692 290 692 q 394 687 369 692 q 438 675 418 682 l 672 675 l 672 588 l 533 588 q 573 528 557 564 q 589 449 589 492 q 569 351 589 394 q 517 277 550 307 q 438 231 483 247 q 342 214 393 214 q 290 220 317 214 q 240 238 264 226 q 210 203 222 222 q 197 157 197 185 q 222 104 197 125 q 317 83 247 83 l 447 83 q 624 45 565 83 q 683 -78 683 7 q 660 -167 683 -125 q 592 -242 636 -210 q 484 -292 547 -274 q 342 -311 421 -311 q 228 -299 279 -311 q 140 -264 176 -287 q 83 -207 103 -240 q 63 -129 63 -174 m 342 290 q 397 301 371 290 q 442 333 422 313 q 474 384 463 354 q 485 451 485 414 q 443 567 485 526 q 342 608 401 608 q 240 567 282 608 q 199 451 199 526 q 210 384 199 414 q 241 333 221 354 q 287 301 261 313 q 342 290 313 290 m 161 914 l 503 914 l 503 835 l 161 835 l 161 914 z "},ĥ:{ha:756,x_min:-17,x_max:654,o:"m 114 989 l 228 989 l 228 719 l 224 581 q 325 659 272 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 989 m -17 1039 l 117 1194 l 228 1194 l 361 1039 l 268 1039 l 175 1133 l 169 1133 l 76 1039 l -17 1039 z "},ḥ:{ha:756,x_min:114,x_max:654,o:"m 114 989 l 228 989 l 228 719 l 224 581 q 325 659 272 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 989 m 397 -286 q 344 -265 365 -286 q 322 -211 322 -244 q 344 -158 322 -179 q 397 -137 365 -137 q 451 -158 429 -137 q 472 -211 472 -179 q 451 -265 472 -244 q 397 -286 429 -286 z "},ḫ:{ha:756,x_min:114,x_max:654,o:"m 114 989 l 228 989 l 228 719 l 224 581 q 325 659 272 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 989 m 396 -286 q 319 -270 351 -286 q 265 -228 286 -254 q 233 -172 244 -203 q 221 -110 222 -140 l 292 -110 q 322 -183 297 -150 q 396 -215 347 -215 q 469 -183 444 -215 q 500 -110 494 -150 l 571 -110 q 558 -172 568 -140 q 526 -228 547 -203 q 473 -270 506 -254 q 396 -286 440 -286 z "},ħ:{ha:756,x_min:11,x_max:654,o:"m 224 553 q 325 631 272 599 q 449 664 378 664 q 605 597 556 664 q 654 400 654 531 l 654 0 l 540 0 l 540 385 q 510 523 540 481 q 413 565 479 565 q 319 539 360 565 q 228 461 279 513 l 228 0 l 114 0 l 114 793 l 11 793 l 11 853 l 114 860 l 114 989 l 228 989 l 228 860 l 481 860 l 481 793 l 228 793 l 228 692 l 224 553 z "},ì:{ha:342,x_min:17,x_max:261,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 17 992 l 136 992 l 261 796 l 174 796 l 17 992 z "},í:{ha:342,x_min:81,x_max:325,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 168 796 l 81 796 l 206 992 l 325 992 l 168 796 z "},î:{ha:342,x_min:-8,x_max:350,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 124 992 l 218 992 l 350 796 l 267 796 l 174 922 l 168 922 l 75 796 l -8 796 l 124 992 z "},ĩ:{ha:342,x_min:-22,x_max:364,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m -22 804 q 11 909 -17 867 q 90 951 39 951 q 139 940 117 951 q 180 916 161 929 q 215 892 199 903 q 249 881 232 881 q 300 951 288 881 l 364 951 q 331 847 358 889 q 251 804 303 804 q 203 815 225 804 q 163 840 182 826 q 128 864 144 853 q 93 875 111 875 q 42 804 54 875 l -22 804 l -22 804 z "},ï:{ha:342,x_min:-17,x_max:358,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 51 817 q 2 836 21 817 q -17 885 -17 856 q 2 933 -17 914 q 51 953 21 953 q 100 933 81 953 q 119 885 119 914 q 100 836 119 856 q 51 817 81 817 m 290 817 q 242 836 261 817 q 222 885 222 856 q 242 933 222 914 q 290 953 261 953 q 340 933 321 953 q 358 885 358 914 q 340 836 358 856 q 290 817 321 817 z "},ī:{ha:342,x_min:0,x_max:342,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 0 914 l 342 914 l 342 835 l 0 835 l 0 914 z "},ǐ:{ha:342,x_min:-8,x_max:350,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m -8 992 l 75 992 l 168 864 l 174 864 l 267 992 l 350 992 l 218 796 l 124 796 l -8 992 z "},ỉ:{ha:342,x_min:82,x_max:286,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 119 821 q 175 844 153 831 q 197 885 197 858 q 82 943 197 939 l 94 1010 q 236 978 186 1007 q 286 897 286 950 q 274 845 286 867 q 240 808 261 824 q 190 783 218 792 q 132 768 163 774 l 119 821 z "},ị:{ha:342,x_min:93,x_max:251,o:"m 172 814 q 116 835 139 814 q 93 888 93 856 q 116 941 93 921 q 172 961 139 961 q 228 941 206 961 q 251 888 251 921 q 228 835 251 856 q 172 814 206 814 m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 172 -286 q 119 -265 140 -286 q 97 -211 97 -244 q 119 -158 97 -179 q 172 -137 140 -137 q 226 -158 204 -137 q 247 -211 247 -179 q 226 -265 247 -244 q 172 -286 204 -286 z "},į:{ha:342,x_min:53,x_max:288,o:"m 114 675 l 228 675 l 228 0 q 162 -68 186 -31 q 138 -146 138 -106 q 157 -194 138 -178 q 203 -210 176 -210 q 231 -205 218 -210 q 258 -192 244 -200 l 288 -249 q 237 -275 268 -264 q 179 -286 206 -286 q 90 -256 126 -286 q 53 -168 53 -226 q 83 -71 53 -112 q 142 0 113 -29 l 114 0 l 114 675 m 171 814 q 115 835 138 814 q 92 888 92 856 q 115 941 92 921 q 171 961 138 961 q 226 941 203 961 q 249 888 249 921 q 226 835 249 856 q 171 814 203 814 z "},ı:{ha:342,x_min:114,x_max:228,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 z "},ĵ:{ha:343,x_min:-56,x_max:350,o:"m 115 675 l 229 675 l 229 -76 q 188 -240 229 -179 q 44 -301 146 -301 q -12 -296 13 -301 q -56 -283 -37 -290 l -32 -197 q -3 -205 -19 -201 q 32 -208 14 -208 q 99 -174 82 -208 q 115 -76 115 -139 l 115 675 m 124 992 l 218 992 l 350 796 l 267 796 l 174 922 l 168 922 l 75 796 l -8 796 l 124 992 z "},ķ:{ha:688,x_min:114,x_max:675,o:"m 114 989 l 226 989 l 226 319 l 231 319 l 518 675 l 644 675 l 418 404 l 675 0 l 550 0 l 353 325 l 226 178 l 226 0 l 114 0 l 114 989 m 336 -67 q 439 -102 407 -78 q 471 -174 471 -126 q 454 -226 471 -204 q 410 -264 438 -249 q 345 -288 382 -279 q 269 -300 308 -297 l 258 -244 q 348 -223 314 -237 q 382 -181 382 -208 q 361 -140 382 -153 q 311 -119 340 -126 l 336 -67 l 336 -67 z "},ĸ:{ha:688,x_min:114,x_max:675,o:"m 114 675 l 228 675 l 228 317 l 232 317 l 518 675 l 644 675 l 421 404 l 675 0 l 550 0 l 353 321 l 228 174 l 228 0 l 114 0 l 114 675 z "},ĺ:{ha:354,x_min:94,x_max:347,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m 190 1053 l 94 1053 l 217 1208 l 347 1208 l 190 1053 z "},ľ:{ha:367,x_min:114,x_max:383,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m 307 761 l 301 1056 l 383 1056 l 382 976 l 363 761 l 307 761 z "},ŀ:{ha:503,x_min:114,x_max:504,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m 339 451 q 363 516 339 492 q 422 540 388 540 q 480 516 456 540 q 504 451 504 492 q 480 390 504 414 q 422 365 456 365 q 363 390 388 365 q 339 451 339 414 z "},ļ:{ha:354,x_min:114,x_max:331,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m 196 -67 q 299 -102 267 -78 q 331 -174 331 -126 q 314 -226 331 -204 q 269 -264 297 -249 q 205 -288 242 -279 q 129 -300 168 -297 l 118 -244 q 208 -223 174 -237 q 242 -181 242 -208 q 221 -140 242 -153 q 171 -119 200 -126 l 196 -67 l 196 -67 z "},ḷ:{ha:354,x_min:114,x_max:311,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m 236 -286 q 183 -265 204 -286 q 161 -211 161 -244 q 183 -158 161 -179 q 236 -137 204 -137 q 290 -158 268 -137 q 311 -211 311 -179 q 290 -265 311 -244 q 236 -286 268 -286 z "},ḹ:{ha:354,x_min:-1,x_max:340,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m -1 1221 l 340 1221 l 340 1142 l -1 1142 l -1 1221 m 236 -286 q 183 -265 204 -286 q 161 -211 161 -244 q 183 -158 161 -179 q 236 -137 204 -137 q 290 -158 268 -137 q 311 -211 311 -179 q 290 -265 311 -244 q 236 -286 268 -286 z "},ḻ:{ha:354,x_min:64,x_max:407,o:"m 114 989 l 228 989 l 228 128 q 238 89 228 100 q 260 78 247 78 q 270 78 265 78 q 285 81 275 78 l 300 -6 q 274 -14 289 -11 q 235 -17 258 -17 q 142 22 169 -17 q 114 136 114 61 l 114 989 m 407 -237 l 64 -237 l 64 -157 l 407 -157 l 407 -237 z "},ł:{ha:364,x_min:32,x_max:332,o:"m 235 519 l 235 128 q 244 89 235 100 q 267 78 254 78 q 276 78 271 78 q 292 81 281 78 l 307 -6 q 279 -14 294 -11 q 240 -17 264 -17 q 148 22 176 -17 q 119 136 119 61 l 119 460 l 32 404 l 32 501 l 119 557 l 119 989 l 235 989 l 235 617 l 332 679 l 332 582 l 235 519 z "},ṃ:{ha:1151,x_min:114,x_max:1046,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 319 659 267 626 q 432 692 371 692 q 553 658 510 692 q 618 563 597 624 q 724 656 671 621 q 840 692 778 692 q 995 625 944 692 q 1046 428 1046 558 l 1046 0 l 932 0 l 932 413 q 901 551 932 508 q 807 593 871 593 q 638 489 731 593 l 638 0 l 524 0 l 524 413 q 493 551 524 508 q 397 593 463 593 q 228 489 321 593 l 228 0 l 114 0 l 114 675 m 592 -286 q 538 -265 560 -286 q 517 -211 517 -244 q 538 -158 517 -179 q 592 -137 560 -137 q 645 -158 624 -137 q 667 -211 667 -179 q 645 -265 667 -244 q 592 -286 624 -286 z "},ń:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 403 796 l 315 796 l 440 992 l 560 992 l 403 796 z "},ň:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 226 992 l 310 992 l 403 864 l 408 864 l 501 992 l 585 992 l 453 796 l 358 796 l 226 992 z "},ñ:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 213 804 q 246 909 218 867 q 325 951 274 951 q 374 940 351 951 q 415 916 396 929 q 450 892 433 903 q 483 881 467 881 q 535 951 522 881 l 599 951 q 565 847 593 889 q 486 804 538 804 q 438 815 460 804 q 398 840 417 826 q 363 864 379 853 q 328 875 346 875 q 276 804 289 875 l 213 804 l 213 804 z "},ņ:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 347 -67 q 450 -102 418 -78 q 482 -174 482 -126 q 465 -226 482 -204 q 421 -264 449 -249 q 356 -288 393 -279 q 281 -300 319 -297 l 269 -244 q 359 -223 325 -237 q 393 -181 393 -208 q 372 -140 393 -153 q 322 -119 351 -126 l 347 -67 l 347 -67 z "},ṅ:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 406 814 q 352 835 374 814 q 331 889 331 856 q 352 942 331 921 q 406 964 374 964 q 459 942 438 964 q 481 889 481 921 q 459 835 481 856 q 406 814 438 814 z "},ṇ:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 388 -286 q 334 -265 356 -286 q 313 -211 313 -244 q 334 -158 313 -179 q 388 -137 356 -137 q 441 -158 419 -137 q 463 -211 463 -179 q 441 -265 463 -244 q 388 -286 419 -286 z "},ṉ:{ha:760,x_min:114,x_max:654,o:"m 114 675 l 208 675 l 218 578 l 222 578 q 324 659 271 626 q 449 692 378 692 q 605 625 556 692 q 654 428 654 558 l 654 0 l 540 0 l 540 413 q 510 551 540 508 q 413 593 479 593 q 319 567 360 593 q 228 489 279 540 l 228 0 l 114 0 l 114 675 m 558 -237 l 215 -237 l 215 -157 l 558 -157 l 558 -237 z "},ŉ:{ha:1076,x_min:88,x_max:963,o:"m 88 651 q 166 725 140 686 q 192 825 192 764 q 181 824 188 824 q 129 842 151 824 q 107 893 107 860 q 128 950 107 929 q 181 971 149 971 q 244 938 221 971 q 268 844 268 906 q 230 701 268 761 q 119 599 192 640 l 88 651 m 422 675 l 517 675 l 526 578 l 531 578 q 633 659 579 626 q 757 692 686 692 q 913 625 864 692 q 963 428 963 558 l 963 0 l 849 0 l 849 413 q 818 551 849 508 q 721 593 788 593 q 628 567 668 593 q 536 489 588 540 l 536 0 l 422 0 l 422 675 z "},ò:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 222 992 l 342 992 l 467 796 l 379 796 l 222 992 z "},ó:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 374 796 l 286 796 l 411 992 l 531 992 l 374 796 z "},ô:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 329 992 l 424 992 l 556 796 l 472 796 l 379 922 l 374 922 l 281 796 l 197 796 l 329 992 z "},õ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 183 804 q 217 909 189 867 q 296 951 244 951 q 344 940 322 951 q 385 916 367 929 q 421 892 404 903 q 454 881 438 881 q 506 951 493 881 l 569 951 q 536 847 564 889 q 457 804 508 804 q 409 815 431 804 q 369 840 388 826 q 333 864 350 853 q 299 875 317 875 q 247 804 260 875 l 183 804 l 183 804 z "},ö:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 257 817 q 208 836 226 817 q 189 885 189 856 q 208 933 189 914 q 257 953 226 953 q 306 933 286 953 q 325 885 325 914 q 306 836 325 856 q 257 817 286 817 m 496 817 q 447 836 467 817 q 428 885 428 856 q 447 933 428 914 q 496 953 467 953 q 545 933 526 953 q 564 885 564 914 q 545 836 564 856 q 496 817 526 817 z "},ō:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 206 914 l 547 914 l 547 835 l 206 835 l 206 914 z "},ő:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 338 992 l 439 992 l 317 793 l 240 793 l 338 992 m 543 992 l 643 992 l 521 793 l 444 793 l 543 992 z "},ǒ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 197 992 l 281 992 l 374 864 l 379 864 l 472 992 l 556 992 l 424 796 l 329 796 l 197 992 z "},ọ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 378 -286 q 324 -265 346 -286 q 303 -211 303 -244 q 324 -158 303 -179 q 378 -137 346 -137 q 431 -158 410 -137 q 453 -211 453 -179 q 431 -265 453 -244 q 378 -286 410 -286 z "},ỏ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 325 821 q 381 844 358 831 q 403 885 403 858 q 288 943 403 939 l 300 1010 q 442 978 392 1007 q 492 897 492 950 q 479 845 492 867 q 445 808 467 824 q 396 783 424 792 q 338 768 368 774 l 325 821 z "},ố:{ha:753,x_min:64,x_max:699,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 329 961 l 424 961 l 538 796 l 460 796 l 379 897 l 374 897 l 293 796 l 215 796 l 329 961 m 601 1047 l 699 1047 l 571 889 l 500 889 l 601 1047 z "},ồ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 329 961 l 424 961 l 538 796 l 460 796 l 379 897 l 374 897 l 293 796 l 215 796 l 329 961 m 656 889 l 585 889 l 457 1047 l 553 1047 l 656 889 z "},ổ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 329 961 l 424 961 l 538 796 l 460 796 l 379 897 l 374 897 l 293 796 l 215 796 l 329 961 m 525 921 q 567 940 551 928 q 583 975 583 953 q 561 1016 583 1003 q 488 1032 539 1029 l 497 1089 q 623 1061 579 1086 q 667 988 667 1036 q 656 940 667 960 q 626 908 644 921 q 585 886 608 894 q 538 872 563 878 l 525 921 z "},ỗ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 324 938 l 429 938 l 549 793 l 468 793 l 379 883 l 374 883 l 285 793 l 204 793 l 324 938 m 194 988 q 228 1078 200 1043 q 304 1114 256 1114 q 349 1105 331 1114 q 384 1084 368 1096 q 415 1063 400 1072 q 446 1054 429 1054 q 500 1114 490 1054 l 558 1114 q 525 1023 553 1058 q 449 988 497 988 q 403 997 422 988 q 369 1017 385 1006 q 338 1038 353 1029 q 307 1047 324 1047 q 253 988 263 1047 l 194 988 z "},ộ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 329 992 l 424 992 l 556 796 l 472 796 l 379 922 l 374 922 l 281 796 l 197 796 l 329 992 m 378 -286 q 324 -265 346 -286 q 303 -211 303 -244 q 324 -158 303 -179 q 378 -137 346 -137 q 431 -158 410 -137 q 453 -211 453 -179 q 431 -265 453 -244 q 378 -286 410 -286 z "},ø:{ha:753,x_min:64,x_max:689,o:"m 247 129 q 376 75 301 75 q 456 94 419 75 q 520 147 493 113 q 562 228 547 181 q 576 332 576 275 q 543 490 576 425 l 247 129 m 506 544 q 376 600 454 600 q 297 581 333 600 q 233 528 260 563 q 192 447 207 494 q 176 342 176 399 q 208 185 176 249 l 506 544 m 614 576 q 669 472 649 532 q 689 336 689 411 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 183 51 267 -17 l 115 -32 l 64 8 l 139 99 q 84 202 104 143 q 64 336 64 261 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 479 674 429 692 q 569 622 529 657 l 639 707 l 689 667 l 614 576 z "},œ:{ha:1165,x_min:64,x_max:1113,o:"m 181 336 q 194 231 181 278 q 233 149 208 183 q 293 97 258 115 q 369 78 328 78 q 446 97 411 78 q 506 149 481 115 q 544 231 531 183 q 558 336 558 278 q 544 442 558 394 q 506 525 531 490 q 446 578 481 560 q 369 597 411 597 q 293 578 328 597 q 233 525 258 560 q 194 442 208 490 q 181 336 181 394 m 64 336 q 89 487 64 421 q 156 599 114 553 q 253 668 197 644 q 369 692 308 692 q 513 649 447 692 q 614 522 578 606 q 715 647 653 601 q 851 692 776 692 q 963 669 914 692 q 1044 606 1011 647 q 1095 505 1078 564 q 1113 374 1113 446 q 1108 310 1113 335 l 665 310 q 684 214 667 257 q 730 140 701 171 q 797 93 758 110 q 878 76 835 76 q 967 92 926 76 q 1044 132 1007 108 l 1086 53 q 988 4 1042 25 q 864 -17 933 -17 q 719 28 785 -17 q 615 151 654 72 q 367 -17 536 -17 q 251 7 306 -17 q 154 76 196 31 q 88 187 113 121 q 64 336 64 253 m 1013 386 q 969 546 1013 490 q 849 601 926 601 q 726 544 778 601 q 665 386 675 486 l 1013 386 z "},ơ:{ha:753,x_min:64,x_max:704,o:"m 376 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 m 672 851 q 695 810 686 832 q 704 761 704 788 q 665 666 704 699 q 575 618 626 633 q 658 501 626 572 q 689 336 689 431 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 507 663 446 692 q 583 692 556 671 q 610 753 610 714 q 604 783 610 768 q 589 811 599 797 l 672 851 z "},ớ:{ha:753,x_min:64,x_max:704,o:"m 376 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 m 672 851 q 695 810 686 832 q 704 761 704 788 q 665 666 704 699 q 575 618 626 633 q 658 501 626 572 q 689 336 689 431 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 507 663 446 692 q 583 692 556 671 q 610 753 610 714 q 604 783 610 768 q 589 811 599 797 l 672 851 m 374 796 l 286 796 l 411 992 l 531 992 l 374 796 z "},ờ:{ha:753,x_min:64,x_max:704,o:"m 376 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 m 672 851 q 695 810 686 832 q 704 761 704 788 q 665 666 704 699 q 575 618 626 633 q 658 501 626 572 q 689 336 689 431 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 507 663 446 692 q 583 692 556 671 q 610 753 610 714 q 604 783 610 768 q 589 811 599 797 l 672 851 m 222 992 l 342 992 l 467 796 l 379 796 l 222 992 z "},ở:{ha:753,x_min:64,x_max:704,o:"m 376 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 m 672 851 q 695 810 686 832 q 704 761 704 788 q 665 666 704 699 q 575 618 626 633 q 658 501 626 572 q 689 336 689 431 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 507 663 446 692 q 583 692 556 671 q 610 753 610 714 q 604 783 610 768 q 589 811 599 797 l 672 851 m 325 821 q 381 844 358 831 q 403 885 403 858 q 288 943 403 939 l 300 1010 q 442 978 392 1007 q 492 897 492 950 q 479 845 492 867 q 445 808 467 824 q 396 783 424 792 q 338 768 368 774 l 325 821 z "},ỡ:{ha:753,x_min:64,x_max:704,o:"m 376 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 m 672 851 q 695 810 686 832 q 704 761 704 788 q 665 666 704 699 q 575 618 626 633 q 658 501 626 572 q 689 336 689 431 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 507 663 446 692 q 583 692 556 671 q 610 753 610 714 q 604 783 610 768 q 589 811 599 797 l 672 851 m 183 804 q 217 909 189 867 q 296 951 244 951 q 344 940 322 951 q 385 916 367 929 q 421 892 404 903 q 454 881 438 881 q 506 951 493 881 l 569 951 q 536 847 564 889 q 457 804 508 804 q 409 815 431 804 q 369 840 388 826 q 333 864 350 853 q 299 875 317 875 q 247 804 260 875 l 183 804 l 183 804 z "},ợ:{ha:753,x_min:64,x_max:704,o:"m 376 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 m 672 851 q 695 810 686 832 q 704 761 704 788 q 665 666 704 699 q 575 618 626 633 q 658 501 626 572 q 689 336 689 431 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 507 663 446 692 q 583 692 556 671 q 610 753 610 714 q 604 783 610 768 q 589 811 599 797 l 672 851 m 378 -286 q 324 -265 346 -286 q 303 -211 303 -244 q 324 -158 303 -179 q 378 -137 346 -137 q 431 -158 410 -137 q 453 -211 453 -179 q 431 -265 453 -244 q 378 -286 410 -286 z "},ǫ:{ha:753,x_min:64,x_max:689,o:"m 285 -168 q 292 -119 285 -142 q 312 -76 300 -96 q 337 -40 324 -56 q 363 -15 350 -25 q 247 13 301 -12 q 152 83 193 39 q 88 192 111 128 q 64 336 64 256 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 673 212 689 265 q 628 117 657 158 q 558 47 599 76 q 468 -6 518 17 q 395 -67 421 -28 q 369 -146 369 -106 q 389 -194 369 -178 q 433 -210 408 -210 q 463 -205 450 -210 q 490 -192 476 -200 l 519 -249 q 469 -275 500 -264 q 410 -286 438 -286 q 321 -256 357 -286 q 285 -168 285 -226 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 z "},ŕ:{ha:482,x_min:114,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 m 299 796 l 211 796 l 336 992 l 456 992 l 299 796 z "},ŗ:{ha:482,x_min:50,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 m 128 -67 q 231 -102 199 -78 q 263 -174 263 -126 q 246 -226 263 -204 q 201 -264 229 -249 q 137 -288 174 -279 q 61 -300 100 -297 l 50 -244 q 140 -223 106 -237 q 174 -181 174 -208 q 153 -140 174 -153 q 103 -119 132 -126 l 128 -67 l 128 -67 z "},ř:{ha:482,x_min:114,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 m 122 992 l 206 992 l 299 864 l 304 864 l 397 992 l 481 992 l 349 796 l 254 796 l 122 992 z "},ṛ:{ha:482,x_min:93,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 m 168 -286 q 115 -265 136 -286 q 93 -211 93 -244 q 115 -158 93 -179 q 168 -137 136 -137 q 222 -158 200 -137 q 243 -211 243 -179 q 222 -265 243 -244 q 168 -286 200 -286 z "},ṝ:{ha:482,x_min:93,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 m 131 914 l 472 914 l 472 835 l 131 835 l 131 914 m 168 -286 q 115 -265 136 -286 q 93 -211 93 -244 q 115 -158 93 -179 q 168 -137 136 -137 q 222 -158 200 -137 q 243 -211 243 -179 q 222 -265 243 -244 q 168 -286 200 -286 z "},ṟ:{ha:482,x_min:-4,x_max:486,o:"m 114 675 l 208 675 l 218 553 l 222 553 q 306 654 257 617 q 414 692 356 692 q 486 678 454 692 l 464 578 q 433 586 447 583 q 399 589 419 589 q 309 554 356 589 q 228 433 263 519 l 228 0 l 114 0 l 114 675 m 339 -237 l -4 -237 l -4 -157 l 339 -157 l 339 -237 z "},ś:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 301 796 l 214 796 l 339 992 l 458 992 l 301 796 z "},ŝ:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 257 992 l 351 992 l 483 796 l 400 796 l 307 922 l 301 922 l 208 796 l 125 796 l 257 992 z "},š:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 125 992 l 208 992 l 301 864 l 307 864 l 400 992 l 483 992 l 351 796 l 257 796 l 125 992 z "},ş:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 282 4 l 356 4 l 321 -69 q 378 -103 354 -81 q 403 -168 403 -125 q 386 -221 403 -199 q 342 -258 369 -243 q 277 -283 314 -274 q 201 -296 240 -292 l 190 -239 q 280 -216 246 -232 q 314 -172 314 -200 q 291 -130 314 -144 q 226 -104 268 -115 l 282 4 z "},ș:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 268 -67 q 371 -102 339 -78 q 403 -174 403 -126 q 386 -226 403 -204 q 342 -264 369 -249 q 277 -288 314 -279 q 201 -300 240 -297 l 190 -244 q 280 -223 246 -237 q 314 -181 314 -208 q 293 -140 314 -153 q 243 -119 272 -126 l 268 -67 l 268 -67 z "},ṡ:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 304 814 q 251 835 272 814 q 229 889 229 856 q 251 942 229 921 q 304 964 272 964 q 358 942 336 964 q 379 889 379 921 q 358 835 379 856 q 304 814 336 814 z "},ṣ:{ha:582,x_min:39,x_max:538,o:"m 96 153 q 187 94 140 117 q 294 72 233 72 q 394 103 361 72 q 428 178 428 133 q 414 224 428 204 q 378 258 400 243 q 329 283 357 272 q 274 306 301 294 q 201 334 238 318 q 137 373 165 350 q 90 426 108 396 q 72 500 72 457 q 88 576 72 540 q 134 637 104 611 q 207 677 164 663 q 304 692 250 692 q 422 669 368 692 q 514 615 475 647 l 460 543 q 388 586 425 569 q 306 603 350 603 q 212 574 242 603 q 182 506 182 544 q 194 465 182 482 q 228 435 207 449 q 276 410 249 421 q 332 389 303 400 q 405 360 368 375 q 471 322 442 344 q 519 265 500 299 q 538 185 538 232 q 522 107 538 143 q 474 43 506 71 q 397 -1 443 15 q 290 -17 350 -17 q 153 10 218 -17 q 39 76 88 36 l 96 153 m 310 -286 q 256 -265 278 -286 q 235 -211 235 -244 q 256 -158 235 -179 q 310 -137 278 -137 q 363 -158 342 -137 q 385 -211 385 -179 q 363 -265 385 -244 q 310 -286 342 -286 z "},ß:{ha:800,x_min:114,x_max:760,o:"m 114 715 q 185 924 114 846 q 386 1003 256 1003 q 483 987 440 1003 q 554 943 525 971 q 598 878 583 915 q 613 800 613 842 q 593 710 613 747 q 549 643 574 674 q 506 584 525 613 q 486 519 486 556 q 506 464 486 486 q 557 424 526 442 q 623 389 588 407 q 689 346 658 371 q 740 283 719 321 q 760 190 760 246 q 744 108 760 146 q 700 43 729 71 q 630 -1 671 15 q 538 -17 589 -17 q 432 1 479 -17 q 342 51 385 19 l 388 132 q 459 87 424 101 q 535 72 494 72 q 622 106 593 72 q 651 183 651 139 q 631 250 651 224 q 581 296 611 276 q 515 333 550 315 q 449 372 479 350 q 398 426 418 394 q 378 506 378 457 q 397 586 378 553 q 438 650 415 619 q 481 713 461 681 q 500 789 500 744 q 472 876 500 842 q 385 910 443 910 q 269 856 310 910 q 228 694 228 803 l 228 0 l 114 0 l 114 715 z "},ť:{ha:469,x_min:33,x_max:451,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 m 357 761 l 351 1056 l 433 1056 l 432 976 l 413 761 l 357 761 z "},ţ:{ha:469,x_min:33,x_max:451,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 m 274 4 l 347 4 l 313 -69 q 370 -103 346 -81 q 394 -168 394 -125 q 378 -221 394 -199 q 333 -258 361 -243 q 269 -283 306 -274 q 193 -296 232 -292 l 182 -239 q 272 -216 238 -232 q 306 -172 306 -200 q 283 -130 306 -144 q 218 -104 260 -115 l 274 4 z "},ț:{ha:469,x_min:33,x_max:451,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 m 256 -67 q 358 -102 326 -78 q 390 -174 390 -126 q 374 -226 390 -204 q 329 -264 357 -249 q 265 -288 301 -279 q 189 -300 228 -297 l 178 -244 q 267 -223 233 -237 q 301 -181 301 -208 q 281 -140 301 -153 q 231 -119 260 -126 l 256 -67 l 256 -67 z "},ṭ:{ha:469,x_min:33,x_max:451,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 m 297 -286 q 244 -265 265 -286 q 222 -211 222 -244 q 244 -158 222 -179 q 297 -137 265 -137 q 351 -158 329 -137 q 372 -211 372 -179 q 351 -265 372 -244 q 297 -286 329 -286 z "},ṯ:{ha:469,x_min:33,x_max:467,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 m 467 -237 l 124 -237 l 124 -157 l 467 -157 l 467 -237 z "},ẗ:{ha:469,x_min:13,x_max:451,o:"m 133 582 l 33 582 l 33 668 l 139 675 l 153 864 l 249 864 l 249 675 l 431 675 l 431 582 l 249 582 l 249 207 q 272 110 249 144 q 353 76 294 76 q 392 82 371 76 q 429 94 413 88 l 451 8 q 391 -9 424 -1 q 326 -17 358 -17 q 235 0 272 -17 q 176 46 199 17 q 143 117 153 75 q 133 208 133 158 l 133 582 m 81 1006 q 31 1025 50 1006 q 13 1074 13 1044 q 31 1122 13 1103 q 81 1142 50 1142 q 129 1122 110 1142 q 149 1074 149 1103 q 129 1025 149 1044 q 81 1006 110 1006 m 319 1006 q 271 1025 290 1006 q 251 1074 251 1044 q 271 1122 251 1103 q 319 1142 290 1142 q 369 1122 350 1142 q 388 1074 388 1103 q 369 1025 388 1044 q 319 1006 350 1006 z "},ù:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 224 992 l 343 992 l 468 796 l 381 796 l 224 992 z "},ú:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 375 796 l 288 796 l 413 992 l 532 992 l 375 796 z "},û:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 331 992 l 425 992 l 557 796 l 474 796 l 381 922 l 375 922 l 282 796 l 199 796 l 331 992 z "},ũ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 185 804 q 218 909 190 867 q 297 951 246 951 q 346 940 324 951 q 387 916 368 929 q 422 892 406 903 q 456 881 439 881 q 507 951 494 881 l 571 951 q 538 847 565 889 q 458 804 510 804 q 410 815 432 804 q 370 840 389 826 q 335 864 351 853 q 300 875 318 875 q 249 804 261 875 l 185 804 l 185 804 z "},ü:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 258 817 q 209 836 228 817 q 190 885 190 856 q 209 933 190 914 q 258 953 228 953 q 307 933 288 953 q 326 885 326 914 q 307 836 326 856 q 258 817 288 817 m 497 817 q 449 836 468 817 q 429 885 429 856 q 449 933 429 914 q 497 953 468 953 q 547 933 528 953 q 565 885 565 914 q 547 836 565 856 q 497 817 528 817 z "},ū:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 203 914 l 544 914 l 544 835 l 203 835 l 203 914 z "},ŭ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 378 799 q 301 815 333 799 q 247 856 268 831 q 215 913 226 882 q 203 975 204 944 l 274 975 q 304 902 279 935 q 378 869 329 869 q 451 902 426 869 q 482 975 476 935 l 553 975 q 540 913 550 944 q 508 856 529 882 q 455 815 488 831 q 378 799 422 799 z "},ů:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 378 753 q 285 788 321 753 q 249 882 249 824 q 285 975 249 940 q 378 1010 321 1010 q 471 975 435 1010 q 507 882 507 940 q 471 788 507 824 q 378 753 435 753 m 378 804 q 425 825 406 804 q 444 882 444 846 q 425 938 444 917 q 378 958 406 958 q 331 938 350 958 q 311 882 311 917 q 331 825 311 846 q 378 804 350 804 z "},ű:{ha:756,x_min:104,x_max:644,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 339 992 l 440 992 l 318 793 l 242 793 l 339 992 m 544 992 l 644 992 l 522 793 l 446 793 l 544 992 z "},ǔ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 199 992 l 282 992 l 375 864 l 381 864 l 474 992 l 557 992 l 425 796 l 331 796 l 199 992 z "},ǖ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 258 817 q 213 835 231 817 q 194 879 194 853 q 213 925 194 907 q 258 943 231 943 q 303 925 286 943 q 321 879 321 907 q 303 835 321 853 q 258 817 286 817 m 497 817 q 452 835 469 817 q 435 879 435 853 q 452 925 435 907 q 497 943 469 943 q 543 925 525 943 q 561 879 561 907 q 543 835 561 853 q 497 817 525 817 m 206 1107 l 549 1107 l 549 1042 l 206 1042 l 206 1107 z "},ǘ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 418 1143 l 528 1143 l 385 1000 l 304 1000 l 418 1143 m 258 817 q 213 835 231 817 q 194 879 194 853 q 213 925 194 907 q 258 943 231 943 q 303 925 286 943 q 321 879 321 907 q 303 835 321 853 q 258 817 286 817 m 497 817 q 452 835 469 817 q 435 879 435 853 q 452 925 435 907 q 497 943 469 943 q 543 925 525 943 q 561 879 561 907 q 543 835 561 853 q 497 817 525 817 z "},ǚ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 203 1143 l 288 1143 l 375 1054 l 381 1054 l 468 1143 l 553 1143 l 426 1000 l 329 1000 l 203 1143 m 258 817 q 213 835 231 817 q 194 879 194 853 q 213 925 194 907 q 258 943 231 943 q 303 925 286 943 q 321 879 321 907 q 303 835 321 853 q 258 817 286 817 m 497 817 q 452 835 469 817 q 435 879 435 853 q 452 925 435 907 q 497 943 469 943 q 543 925 525 943 q 561 879 561 907 q 543 835 561 853 q 497 817 525 817 z "},ǜ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 451 1000 l 371 1000 l 228 1143 l 338 1143 l 451 1000 m 497 817 q 452 835 469 817 q 435 879 435 853 q 452 925 435 907 q 497 943 469 943 q 543 925 525 943 q 561 879 561 907 q 543 835 561 853 q 497 817 525 817 m 258 817 q 213 835 231 817 q 194 879 194 853 q 213 925 194 907 q 258 943 231 943 q 303 925 286 943 q 321 879 321 907 q 303 835 321 853 q 258 817 286 817 z "},ụ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 403 -286 q 349 -265 371 -286 q 328 -211 328 -244 q 349 -158 328 -179 q 403 -137 371 -137 q 456 -158 435 -137 q 478 -211 478 -179 q 456 -265 478 -244 q 403 -286 435 -286 z "},ủ:{ha:756,x_min:104,x_max:642,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 m 326 821 q 382 844 360 831 q 404 885 404 858 q 289 943 404 939 l 301 1010 q 443 978 393 1007 q 493 897 493 950 q 481 845 493 867 q 447 808 468 824 q 397 783 425 792 q 339 768 369 774 l 326 821 z "},ų:{ha:756,x_min:104,x_max:671,o:"m 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 278 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 642 675 l 642 0 q 550 -68 579 -31 q 521 -146 521 -106 q 541 -194 521 -178 q 585 -210 561 -210 q 615 -205 601 -210 q 642 -192 629 -200 l 671 -249 q 620 -275 651 -264 q 563 -286 589 -286 q 473 -256 510 -286 q 436 -168 436 -226 q 470 -69 436 -111 q 549 6 504 -26 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 z "},ư:{ha:756,x_min:104,x_max:768,o:"m 736 865 q 759 824 750 846 q 768 775 768 801 q 757 719 768 743 q 728 678 746 696 q 688 650 711 661 q 642 632 665 639 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 557 675 q 640 700 606 681 q 674 767 674 719 q 668 797 674 782 q 654 825 663 811 l 736 865 z "},ứ:{ha:756,x_min:104,x_max:768,o:"m 736 865 q 759 824 750 846 q 768 775 768 801 q 757 719 768 743 q 728 678 746 696 q 688 650 711 661 q 642 632 665 639 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 557 675 q 640 700 606 681 q 674 767 674 719 q 668 797 674 782 q 654 825 663 811 l 736 865 m 367 796 l 279 796 l 404 992 l 524 992 l 367 796 z "},ừ:{ha:756,x_min:104,x_max:768,o:"m 736 865 q 759 824 750 846 q 768 775 768 801 q 757 719 768 743 q 728 678 746 696 q 688 650 711 661 q 642 632 665 639 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 557 675 q 640 700 606 681 q 674 767 674 719 q 668 797 674 782 q 654 825 663 811 l 736 865 m 215 992 l 335 992 l 460 796 l 372 796 l 215 992 z "},ử:{ha:756,x_min:104,x_max:768,o:"m 736 865 q 759 824 750 846 q 768 775 768 801 q 757 719 768 743 q 728 678 746 696 q 688 650 711 661 q 642 632 665 639 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 557 675 q 640 700 606 681 q 674 767 674 719 q 668 797 674 782 q 654 825 663 811 l 736 865 m 318 821 q 374 844 351 831 q 396 885 396 858 q 281 943 396 939 l 293 1010 q 435 978 385 1007 q 485 897 485 950 q 472 845 485 867 q 438 808 460 824 q 389 783 417 792 q 331 768 361 774 l 318 821 z "},ữ:{ha:756,x_min:104,x_max:768,o:"m 736 865 q 759 824 750 846 q 768 775 768 801 q 757 719 768 743 q 728 678 746 696 q 688 650 711 661 q 642 632 665 639 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 557 675 q 640 700 606 681 q 674 767 674 719 q 668 797 674 782 q 654 825 663 811 l 736 865 m 176 804 q 210 909 182 867 q 289 951 238 951 q 338 940 315 951 q 378 916 360 929 q 414 892 397 903 q 447 881 431 881 q 499 951 486 881 l 563 951 q 529 847 557 889 q 450 804 501 804 q 402 815 424 804 q 362 840 381 826 q 326 864 343 853 q 292 875 310 875 q 240 804 253 875 l 176 804 l 176 804 z "},ự:{ha:756,x_min:104,x_max:768,o:"m 736 865 q 759 824 750 846 q 768 775 768 801 q 757 719 768 743 q 728 678 746 696 q 688 650 711 661 q 642 632 665 639 l 642 0 l 547 0 l 538 106 l 533 106 q 434 17 486 50 q 311 -17 382 -17 q 153 50 203 -17 q 104 247 104 117 l 104 675 l 219 675 l 219 263 q 249 124 219 167 q 346 82 279 82 q 439 109 399 82 q 528 196 479 136 l 528 675 l 557 675 q 640 700 606 681 q 674 767 674 719 q 668 797 674 782 q 654 825 663 811 l 736 865 m 394 -286 q 341 -265 363 -286 q 319 -211 319 -244 q 341 -158 319 -179 q 394 -137 363 -137 q 448 -158 426 -137 q 469 -211 469 -179 q 448 -265 469 -244 q 394 -286 426 -286 z "},ẁ:{ha:997,x_min:33,x_max:964,o:"m 33 675 l 150 675 l 250 285 q 271 190 261 236 q 290 97 281 144 l 296 97 q 318 191 307 144 q 342 285 329 238 l 446 675 l 557 675 l 663 285 q 687 190 675 236 q 710 97 699 144 l 715 97 q 736 190 726 144 q 757 285 746 236 l 856 675 l 964 675 l 783 0 l 644 0 l 547 363 q 524 458 535 411 q 501 557 514 506 l 496 557 q 474 458 485 506 q 449 361 463 410 l 354 0 l 221 0 l 33 675 m 346 992 l 465 992 l 590 796 l 503 796 l 346 992 z "},ẃ:{ha:997,x_min:33,x_max:964,o:"m 33 675 l 150 675 l 250 285 q 271 190 261 236 q 290 97 281 144 l 296 97 q 318 191 307 144 q 342 285 329 238 l 446 675 l 557 675 l 663 285 q 687 190 675 236 q 710 97 699 144 l 715 97 q 736 190 726 144 q 757 285 746 236 l 856 675 l 964 675 l 783 0 l 644 0 l 547 363 q 524 458 535 411 q 501 557 514 506 l 496 557 q 474 458 485 506 q 449 361 463 410 l 354 0 l 221 0 l 33 675 m 497 796 l 410 796 l 535 992 l 654 992 l 497 796 z "},ŵ:{ha:997,x_min:33,x_max:964,o:"m 33 675 l 150 675 l 250 285 q 271 190 261 236 q 290 97 281 144 l 296 97 q 318 191 307 144 q 342 285 329 238 l 446 675 l 557 675 l 663 285 q 687 190 675 236 q 710 97 699 144 l 715 97 q 736 190 726 144 q 757 285 746 236 l 856 675 l 964 675 l 783 0 l 644 0 l 547 363 q 524 458 535 411 q 501 557 514 506 l 496 557 q 474 458 485 506 q 449 361 463 410 l 354 0 l 221 0 l 33 675 m 453 992 l 547 992 l 679 796 l 596 796 l 503 922 l 497 922 l 404 796 l 321 796 l 453 992 z "},ẅ:{ha:997,x_min:33,x_max:964,o:"m 33 675 l 150 675 l 250 285 q 271 190 261 236 q 290 97 281 144 l 296 97 q 318 191 307 144 q 342 285 329 238 l 446 675 l 557 675 l 663 285 q 687 190 675 236 q 710 97 699 144 l 715 97 q 736 190 726 144 q 757 285 746 236 l 856 675 l 964 675 l 783 0 l 644 0 l 547 363 q 524 458 535 411 q 501 557 514 506 l 496 557 q 474 458 485 506 q 449 361 463 410 l 354 0 l 221 0 l 33 675 m 381 817 q 331 836 350 817 q 313 885 313 856 q 331 933 313 914 q 381 953 350 953 q 429 933 410 953 q 449 885 449 914 q 429 836 449 856 q 381 817 410 817 m 619 817 q 571 836 590 817 q 551 885 551 856 q 571 933 551 914 q 619 953 590 953 q 669 933 650 953 q 688 885 688 914 q 669 836 688 856 q 619 817 650 817 z "},ỳ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 182 992 l 301 992 l 426 796 l 339 796 l 182 992 z "},ý:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 333 796 l 246 796 l 371 992 l 490 992 l 333 796 z "},ŷ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 289 992 l 383 992 l 515 796 l 432 796 l 339 922 l 333 922 l 240 796 l 157 796 l 289 992 z "},ÿ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 217 817 q 167 836 186 817 q 149 885 149 856 q 167 933 149 914 q 217 953 186 953 q 265 933 246 953 q 285 885 285 914 q 265 836 285 856 q 217 817 246 817 m 456 817 q 407 836 426 817 q 388 885 388 856 q 407 933 388 914 q 456 953 426 953 q 505 933 486 953 q 524 885 524 914 q 505 836 524 856 q 456 817 486 817 z "},ẏ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 336 814 q 283 835 304 814 q 261 889 261 856 q 283 942 261 921 q 336 964 304 964 q 390 942 368 964 q 411 889 411 921 q 390 835 411 856 q 336 814 368 814 z "},ỵ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 543 -281 q 490 -260 511 -281 q 468 -206 468 -239 q 490 -153 468 -174 q 543 -132 511 -132 q 597 -153 575 -132 q 618 -206 618 -174 q 597 -260 618 -239 q 543 -281 575 -281 z "},ỷ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 285 821 q 340 844 318 831 q 363 885 363 858 q 247 943 363 939 l 260 1010 q 401 978 351 1007 q 451 897 451 950 q 439 845 451 867 q 405 808 426 824 q 356 783 383 792 q 297 768 328 774 l 285 821 z "},ỹ:{ha:649,x_min:17,x_max:632,o:"m 68 -186 q 93 -192 79 -189 q 119 -196 107 -196 q 215 -155 178 -196 q 272 -51 251 -114 l 288 -1 l 17 675 l 135 675 l 272 301 q 305 208 288 257 q 338 111 322 158 l 343 111 q 372 207 358 157 q 400 301 386 257 l 521 675 l 632 675 l 378 -56 q 338 -149 360 -106 q 285 -223 315 -192 q 215 -272 254 -254 q 125 -290 176 -290 q 82 -287 101 -290 q 46 -276 63 -283 l 68 -186 l 68 -186 m 143 804 q 176 909 149 867 q 256 951 204 951 q 304 940 282 951 q 345 916 326 929 q 381 892 364 903 q 414 881 397 881 q 465 951 453 881 l 529 951 q 496 847 524 889 q 417 804 468 804 q 369 815 390 804 q 328 840 347 826 q 293 864 310 853 q 258 875 276 875 q 207 804 219 875 l 143 804 l 143 804 z "},ź:{ha:590,x_min:43,x_max:554,o:"m 43 61 l 399 582 l 82 582 l 82 675 l 543 675 l 543 614 l 188 93 l 554 93 l 554 0 l 43 0 l 43 61 m 314 796 l 226 796 l 351 992 l 471 992 l 314 796 z "},ž:{ha:590,x_min:43,x_max:554,o:"m 43 61 l 399 582 l 82 582 l 82 675 l 543 675 l 543 614 l 188 93 l 554 93 l 554 0 l 43 0 l 43 61 m 138 992 l 221 992 l 314 864 l 319 864 l 413 992 l 496 992 l 364 796 l 269 796 l 138 992 z "},ż:{ha:590,x_min:43,x_max:554,o:"m 43 61 l 399 582 l 82 582 l 82 675 l 543 675 l 543 614 l 188 93 l 554 93 l 554 0 l 43 0 l 43 61 m 317 814 q 263 835 285 814 q 242 889 242 856 q 263 942 242 921 q 317 964 285 964 q 370 942 349 964 q 392 889 392 921 q 370 835 392 856 q 317 814 349 814 z "},ẓ:{ha:590,x_min:43,x_max:554,o:"m 43 61 l 399 582 l 82 582 l 82 675 l 543 675 l 543 614 l 188 93 l 554 93 l 554 0 l 43 0 l 43 61 m 317 -286 q 263 -265 285 -286 q 242 -211 242 -244 q 263 -158 242 -179 q 317 -137 285 -137 q 370 -158 349 -137 q 392 -211 392 -179 q 370 -265 392 -244 q 317 -286 349 -286 z "},ð:{ha:757,x_min:74,x_max:674,o:"m 376 78 q 458 98 424 78 q 517 154 493 118 q 552 241 540 190 q 564 353 564 292 q 563 392 564 372 q 561 429 563 411 q 469 511 515 490 q 376 532 424 532 q 294 515 331 532 q 233 468 258 499 q 195 397 208 438 q 182 308 182 356 q 197 213 182 256 q 240 141 213 171 q 301 94 267 111 q 376 78 336 78 m 485 840 q 621 639 568 756 q 674 357 674 522 q 652 205 674 274 q 591 87 631 136 q 497 10 551 38 q 374 -17 442 -17 q 261 6 315 -17 q 165 70 207 28 q 99 173 124 113 q 74 308 74 233 q 96 437 74 379 q 156 535 118 494 q 247 599 194 576 q 360 621 299 621 q 461 599 413 621 q 546 529 510 576 q 488 679 526 615 q 397 796 450 743 l 201 694 l 168 751 l 344 842 q 189 942 272 897 l 242 1014 q 340 956 292 986 q 433 888 389 925 l 631 989 l 664 932 l 485 840 z "},þ:{ha:771,x_min:114,x_max:704,o:"m 228 -285 l 114 -285 l 114 989 l 228 989 l 228 719 l 226 604 q 324 666 271 640 q 432 692 376 692 q 549 667 499 692 q 635 598 600 643 q 687 490 669 553 q 704 347 704 426 q 681 194 704 261 q 617 79 657 126 q 524 8 576 32 q 413 -17 471 -17 q 318 3 364 -17 q 226 58 272 22 l 228 -57 l 228 -285 m 228 150 q 317 95 274 111 q 393 79 360 79 q 470 98 435 79 q 531 151 506 117 q 572 235 557 185 q 586 347 586 285 q 576 449 586 403 q 545 527 567 494 q 490 578 524 560 q 408 596 456 596 q 322 572 365 596 q 228 504 278 549 l 228 150 z "},"ȷ":{ha:343,x_min:-56,x_max:229,o:"m 115 675 l 229 675 l 229 -76 q 188 -240 229 -179 q 44 -301 146 -301 q -12 -296 13 -301 q -56 -283 -37 -290 l -32 -197 q -3 -205 -19 -201 q 32 -208 14 -208 q 99 -174 82 -208 q 115 -76 115 -139 l 115 675 z "},ɑ:{ha:771,x_min:65,x_max:657,o:"m 183 338 q 232 147 183 215 q 369 79 281 79 q 458 102 417 79 q 542 172 500 125 l 542 525 q 459 580 499 564 q 378 596 419 596 q 302 577 338 596 q 240 524 267 558 q 199 443 214 490 q 183 338 183 396 m 65 336 q 90 484 65 418 q 155 596 114 550 q 249 667 196 642 q 360 692 301 692 q 461 671 417 692 q 551 610 506 650 l 554 610 l 564 675 l 657 675 l 657 0 l 563 0 l 553 79 l 549 79 q 456 12 508 40 q 344 -17 404 -17 q 141 75 217 -17 q 65 336 65 167 z "},ə:{ha:689,x_min:51,x_max:625,o:"m 51 308 q 53 344 51 328 q 57 372 54 360 l 511 372 q 453 539 506 476 q 310 601 401 601 q 217 585 258 601 q 135 543 175 569 l 94 618 q 199 671 142 650 q 328 692 257 692 q 446 668 392 692 q 540 599 500 644 q 602 488 579 553 q 625 339 625 422 q 602 190 625 256 q 540 78 579 124 q 446 8 500 32 q 331 -17 392 -17 q 215 6 267 -17 q 127 70 164 28 q 71 173 90 113 q 51 308 51 233 m 153 296 q 200 129 153 183 q 328 75 247 75 q 455 132 407 75 q 513 296 503 189 l 153 296 z "},ɡ:{ha:776,x_min:69,x_max:660,o:"m 160 -146 q 260 -194 210 -179 q 360 -208 311 -208 q 498 -160 453 -208 q 546 -31 543 -112 l 547 97 q 458 33 508 60 q 347 7 407 7 q 232 31 283 7 q 144 98 181 54 q 89 205 108 142 q 69 347 69 268 q 94 490 69 426 q 158 599 118 554 q 252 667 199 643 q 363 692 306 692 q 465 672 421 692 q 551 613 508 651 l 554 613 l 564 675 l 660 675 l 660 -33 q 582 -230 660 -160 q 360 -300 504 -300 q 234 -281 297 -300 q 118 -226 171 -262 l 160 -146 m 372 101 q 460 124 419 101 q 546 194 501 147 l 546 525 q 462 580 501 564 q 381 596 422 596 q 305 578 340 596 q 243 526 269 560 q 201 448 217 493 q 186 349 186 403 q 235 168 186 235 q 372 101 283 101 z "},ﬀ:{ha:797,x_min:42,x_max:838,o:"m 814 896 q 738 913 774 913 q 642 782 642 913 l 642 675 l 785 675 l 785 582 l 642 582 l 642 0 l 528 0 l 528 582 l 247 582 l 247 0 l 133 0 l 133 582 l 42 582 l 42 668 l 133 675 l 133 764 q 185 931 133 869 q 343 992 238 992 q 409 985 376 992 q 467 967 442 978 l 443 881 q 353 899 401 899 q 275 863 303 899 q 247 761 247 828 l 247 675 l 528 675 l 528 782 q 576 946 528 886 q 725 1006 624 1006 q 785 999 757 1006 q 838 983 814 993 l 814 896 z "},ﬁ:{ha:772,x_min:42,x_max:682,o:"m 418 896 q 342 913 381 913 q 247 782 247 913 l 247 675 l 390 675 l 390 582 l 247 582 l 247 0 l 133 0 l 133 582 l 42 582 l 42 668 l 133 675 l 133 782 q 181 946 133 886 q 331 1006 229 1006 q 391 999 363 1006 q 443 983 419 993 l 418 896 m 603 814 q 547 835 569 814 q 524 888 524 856 q 547 941 524 921 q 603 961 569 961 q 659 941 636 961 q 682 888 682 921 q 659 835 682 856 q 603 814 636 814 m 544 675 l 658 675 l 658 0 l 544 0 l 544 675 z "},ﬂ:{ha:760,x_min:42,x_max:706,o:"m 418 896 q 342 913 381 913 q 247 782 247 913 l 247 675 l 390 675 l 390 582 l 247 582 l 247 0 l 133 0 l 133 582 l 42 582 l 42 668 l 133 675 l 133 782 q 181 946 133 886 q 331 1006 229 1006 q 391 999 363 1006 q 443 983 419 993 l 418 896 m 519 989 l 633 989 l 633 128 q 643 89 633 100 q 665 78 653 78 q 676 78 671 78 q 690 81 681 78 l 706 -6 q 679 -14 694 -11 q 640 -17 664 -17 q 547 22 575 -17 q 519 136 519 61 l 519 989 z "},"&":{ha:846,x_min:44,x_max:825,o:"m 156 243 q 169 174 156 206 q 208 121 183 143 q 265 87 232 99 q 335 75 297 75 q 425 94 382 75 q 508 149 468 114 q 380 276 442 207 q 269 419 318 346 q 188 338 221 381 q 156 243 156 296 m 263 714 q 274 636 263 676 q 306 554 286 596 q 365 597 336 575 q 415 641 393 618 q 449 690 436 664 q 461 746 461 715 q 441 816 461 786 q 375 846 421 846 q 293 808 324 846 q 263 714 263 771 m 794 -17 q 693 23 746 -3 q 585 88 640 49 q 467 12 532 40 q 322 -17 403 -17 q 209 2 260 -17 q 122 54 158 21 q 65 134 85 88 q 44 236 44 181 q 59 319 44 282 q 99 389 74 357 q 156 448 124 421 q 224 499 189 475 q 180 609 196 556 q 164 713 164 663 q 179 797 164 758 q 222 865 194 836 q 289 911 250 894 q 375 928 328 928 q 507 878 460 928 q 554 747 554 828 q 536 665 554 703 q 489 595 518 628 q 423 534 460 563 q 349 478 386 506 q 453 342 393 407 q 579 222 514 276 q 653 346 621 279 q 707 492 686 413 l 814 492 q 747 319 786 401 q 654 165 708 238 q 744 111 701 133 q 825 78 788 89 l 794 -17 z "},".":{ha:346,x_min:90,x_max:256,o:"m 90 69 q 115 134 90 110 q 174 158 139 158 q 231 134 207 158 q 256 69 256 110 q 231 8 256 32 q 174 -17 207 -17 q 115 8 139 -17 q 90 69 90 32 z "},",":{ha:346,x_min:65,x_max:275,o:"m 65 -169 q 157 -100 124 -143 q 190 0 190 -57 q 176 -1 186 -1 q 119 19 143 -1 q 94 78 94 39 q 119 137 94 115 q 179 158 144 158 q 249 122 224 158 q 275 24 275 86 q 226 -133 275 -67 q 93 -236 178 -200 l 65 -169 z "},":":{ha:346,x_min:90,x_max:256,o:"m 90 571 q 115 635 90 611 q 174 660 139 660 q 231 635 207 660 q 256 571 256 611 q 231 509 256 533 q 174 485 207 485 q 115 509 139 485 q 90 571 90 533 m 90 69 q 115 134 90 110 q 174 158 139 158 q 231 134 207 158 q 256 69 256 110 q 231 8 256 32 q 174 -17 207 -17 q 115 8 139 -17 q 90 69 90 32 z "},";":{ha:346,x_min:65,x_max:275,o:"m 90 571 q 115 635 90 611 q 174 660 139 660 q 231 635 207 660 q 256 571 256 611 q 231 509 256 533 q 174 485 207 485 q 115 509 139 485 q 90 571 90 533 m 65 -169 q 157 -100 124 -143 q 190 0 190 -57 q 176 -1 186 -1 q 119 19 143 -1 q 94 78 94 39 q 119 137 94 115 q 179 158 144 158 q 249 122 224 158 q 275 24 275 86 q 226 -133 275 -67 q 93 -236 178 -200 l 65 -169 z "},"…":{ha:1317,x_min:131,x_max:1226,o:"m 131 69 q 155 134 131 110 q 214 158 179 158 q 272 134 247 158 q 296 69 296 110 q 272 8 296 32 q 214 -17 247 -17 q 155 8 179 -17 q 131 69 131 32 m 596 69 q 620 134 596 110 q 679 158 644 158 q 737 134 713 158 q 761 69 761 110 q 737 8 761 32 q 679 -17 713 -17 q 620 8 644 -17 q 596 69 596 32 m 1061 69 q 1085 134 1061 110 q 1144 158 1110 158 q 1202 134 1178 158 q 1226 69 1226 110 q 1202 8 1226 32 q 1144 -17 1178 -17 q 1085 8 1110 -17 q 1061 69 1061 32 z "},"!":{ha:401,x_min:118,x_max:283,o:"m 146 800 l 143 931 l 258 931 l 256 800 l 240 275 l 161 275 l 146 800 m 118 69 q 142 134 118 110 q 201 158 167 158 q 259 134 235 158 q 283 69 283 110 q 259 8 283 32 q 201 -17 235 -17 q 142 8 167 -17 q 118 69 118 32 z "},"¡":{ha:401,x_min:118,x_max:283,o:"m 256 -125 l 258 -256 l 143 -256 l 146 -125 l 161 400 l 240 400 l 256 -125 m 283 606 q 259 541 283 565 q 201 517 235 517 q 142 541 167 517 q 118 606 118 565 q 142 667 118 643 q 201 692 167 692 q 259 667 235 692 q 283 606 283 643 z "},"?":{ha:590,x_min:53,x_max:524,o:"m 222 275 q 226 373 214 329 q 258 453 238 417 q 306 522 279 490 q 357 585 333 554 q 397 649 381 617 q 413 718 413 681 q 378 813 413 774 q 278 853 344 853 q 191 831 232 853 q 118 772 150 810 l 53 832 q 154 915 97 882 q 286 947 211 947 q 459 888 394 947 q 524 725 524 829 q 507 642 524 679 q 466 571 490 604 q 415 505 442 538 q 365 438 388 472 q 329 363 342 403 q 322 275 317 324 l 222 275 m 193 69 q 217 134 193 110 q 275 158 240 158 q 334 134 310 158 q 358 69 358 110 q 334 8 358 32 q 275 -17 310 -17 q 217 8 240 -17 q 193 69 193 32 z "},"¿":{ha:590,x_min:67,x_max:538,o:"m 368 400 q 364 302 375 346 q 332 222 353 258 q 284 153 311 185 q 233 90 257 121 q 194 26 210 58 q 178 -43 178 -7 q 211 -137 178 -99 q 313 -176 244 -176 q 399 -156 358 -176 q 471 -97 439 -135 l 538 -157 q 436 -239 493 -206 q 304 -272 379 -272 q 131 -213 196 -272 q 67 -50 67 -154 q 83 33 67 -4 q 124 104 100 71 q 176 170 149 138 q 225 238 203 203 q 260 312 247 272 q 267 400 272 351 l 368 400 m 397 606 q 373 541 397 565 q 315 517 349 517 q 256 541 281 517 q 232 606 232 565 q 256 667 232 643 q 315 692 281 692 q 373 667 349 692 q 397 606 397 643 z "},"'":{ha:346,x_min:111,x_max:233,o:"m 115 831 l 111 958 l 233 958 l 229 831 l 207 599 l 138 599 l 115 831 z "},'"':{ha:590,x_min:111,x_max:478,o:"m 115 831 l 111 958 l 233 958 l 229 831 l 207 599 l 138 599 l 115 831 m 360 831 l 356 958 l 478 958 l 474 831 l 451 599 l 382 599 l 360 831 z "},"‘":{ha:346,x_min:79,x_max:260,o:"m 260 913 q 181 839 207 878 q 154 740 154 800 q 167 742 158 742 q 217 724 194 742 q 240 671 240 706 q 219 615 240 635 q 167 594 199 594 q 102 626 125 594 q 79 719 79 658 q 117 864 79 803 q 226 967 154 925 l 260 913 z "},"’":{ha:346,x_min:88,x_max:268,o:"m 88 651 q 166 725 140 686 q 192 825 192 764 q 181 824 188 824 q 129 842 151 824 q 107 893 107 860 q 128 950 107 929 q 181 971 149 971 q 244 938 221 971 q 268 844 268 906 q 230 701 268 761 q 119 599 192 640 l 88 651 z "},"“":{ha:590,x_min:79,x_max:504,o:"m 260 913 q 181 839 207 878 q 154 740 154 800 q 167 742 158 742 q 217 724 194 742 q 240 671 240 706 q 219 615 240 635 q 167 594 199 594 q 102 626 125 594 q 79 719 79 658 q 117 864 79 803 q 226 967 154 925 l 260 913 m 504 913 q 425 839 451 878 q 399 740 399 800 q 411 742 403 742 q 462 724 439 742 q 485 671 485 706 q 464 615 485 635 q 411 594 443 594 q 347 626 369 594 q 324 719 324 658 q 361 864 324 803 q 471 967 399 925 l 504 913 z "},"”":{ha:590,x_min:88,x_max:513,o:"m 88 651 q 166 725 140 686 q 192 825 192 764 q 181 824 188 824 q 129 842 151 824 q 107 893 107 860 q 128 950 107 929 q 181 971 149 971 q 244 938 221 971 q 268 844 268 906 q 230 701 268 761 q 119 599 192 640 l 88 651 m 332 651 q 410 725 385 686 q 436 825 436 764 q 425 824 432 824 q 374 842 396 824 q 351 893 351 860 q 372 950 351 929 q 425 971 393 971 q 489 938 465 971 q 513 844 513 906 q 474 701 513 761 q 364 599 436 640 l 332 651 z "},"‚":{ha:346,x_min:88,x_max:268,o:"m 88 -147 q 166 -74 140 -112 q 192 26 192 -35 q 181 25 188 25 q 129 43 151 25 q 107 94 107 61 q 128 151 107 131 q 181 172 149 172 q 244 140 221 172 q 268 46 268 107 q 230 -98 268 -37 q 119 -200 192 -158 l 88 -147 z "},"„":{ha:590,x_min:88,x_max:513,o:"m 88 -147 q 166 -74 140 -112 q 192 26 192 -35 q 181 25 188 25 q 129 43 151 25 q 107 94 107 61 q 128 151 107 131 q 181 172 149 172 q 244 140 221 172 q 268 46 268 107 q 230 -98 268 -37 q 119 -200 192 -158 l 88 -147 m 332 -147 q 410 -74 385 -112 q 436 26 436 -35 q 425 25 432 25 q 374 43 396 25 q 351 94 351 61 q 372 151 351 131 q 425 172 393 172 q 489 140 465 172 q 513 46 513 107 q 474 -98 513 -37 q 364 -200 436 -158 l 332 -147 z "},"‹":{ha:376,x_min:63,x_max:301,o:"m 63 307 l 63 393 l 251 608 l 301 567 l 138 350 l 301 131 l 251 92 l 63 307 z "},"›":{ha:376,x_min:75,x_max:314,o:"m 239 350 l 75 567 l 124 608 l 314 393 l 314 307 l 124 92 l 75 131 l 239 350 z "},"«":{ha:596,x_min:63,x_max:521,o:"m 63 307 l 63 393 l 251 608 l 301 567 l 138 350 l 301 131 l 251 92 l 63 307 m 282 307 l 282 393 l 471 608 l 521 567 l 357 350 l 521 131 l 471 92 l 282 307 z "},"»":{ha:596,x_min:75,x_max:533,o:"m 239 350 l 75 567 l 124 608 l 314 393 l 314 307 l 124 92 l 75 131 l 239 350 m 458 350 l 294 567 l 343 608 l 533 393 l 533 307 l 343 92 l 294 131 l 458 350 z "},"-":{ha:432,x_min:57,x_max:376,o:"m 57 392 l 376 392 l 376 304 l 57 304 l 57 392 z "},"­":{ha:432,x_min:57,x_max:376,o:"m 57 392 l 376 392 l 376 304 l 57 304 l 57 392 z "},"–":{ha:667,x_min:57,x_max:610,o:"m 57 389 l 610 389 l 610 310 l 57 310 l 57 389 z "},"—":{ha:1111,x_min:57,x_max:1054,o:"m 57 389 l 1054 389 l 1054 310 l 57 310 l 57 389 z "},"‒":{ha:690,x_min:57,x_max:635,o:"m 57 389 l 635 389 l 635 310 l 57 310 l 57 389 z "},"―":{ha:1111,x_min:57,x_max:1054,o:"m 57 389 l 1054 389 l 1054 310 l 57 310 l 57 389 z "},"·":{ha:346,x_min:90,x_max:256,o:"m 90 446 q 115 510 90 486 q 174 535 139 535 q 231 510 207 535 q 256 446 256 486 q 231 384 256 408 q 174 360 207 360 q 115 384 139 360 q 90 446 90 408 z "},"•":{ha:422,x_min:56,x_max:367,o:"m 211 199 q 151 210 179 199 q 102 244 124 222 q 68 297 81 267 q 56 365 56 328 q 68 434 56 403 q 102 487 81 465 q 151 521 124 508 q 211 533 179 533 q 270 521 242 533 q 320 487 299 508 q 354 434 342 465 q 367 365 367 403 q 354 297 367 328 q 320 244 342 267 q 270 210 299 222 q 211 199 242 199 z "},_:{ha:694,x_min:17,x_max:678,o:"m 678 -99 l 678 -175 l 17 -175 l 17 -99 l 678 -99 z "},"(":{ha:421,x_min:114,x_max:368,o:"m 297 -244 q 163 49 211 -106 q 114 386 114 203 q 163 723 114 569 q 297 1017 211 876 l 368 983 q 248 698 288 850 q 208 386 208 546 q 248 74 208 226 q 368 -211 288 -78 l 297 -244 l 297 -244 z "},")":{ha:421,x_min:53,x_max:307,o:"m 53 -211 q 173 74 133 -78 q 213 386 213 226 q 173 698 213 546 q 53 983 133 850 l 124 1017 q 258 723 210 876 q 307 386 307 569 q 258 49 307 203 q 124 -244 210 -106 l 53 -211 l 53 -211 z "},"[":{ha:421,x_min:131,x_max:379,o:"m 131 983 l 379 983 l 379 917 l 217 917 l 217 -146 l 379 -146 l 379 -211 l 131 -211 l 131 983 z "},"]":{ha:421,x_min:43,x_max:290,o:"m 204 -146 l 204 917 l 43 917 l 43 983 l 290 983 l 290 -211 l 43 -211 l 43 -146 l 204 -146 z "},"{":{ha:421,x_min:47,x_max:379,o:"m 154 -26 q 156 45 154 11 q 160 111 158 79 q 165 175 163 143 q 167 242 167 207 q 161 281 167 263 q 142 315 156 300 q 106 340 129 331 q 47 350 82 350 l 47 422 q 106 432 82 422 q 142 456 129 442 q 161 490 156 471 q 167 529 167 510 q 160 661 167 596 q 154 799 154 726 q 164 887 154 851 q 194 944 174 922 q 244 974 214 965 q 315 983 275 983 l 379 983 l 379 917 l 340 917 q 266 888 285 917 q 247 792 247 860 q 251 667 247 731 q 256 540 256 604 q 236 437 256 472 q 172 389 217 401 l 172 383 q 236 335 217 371 q 256 232 256 299 q 251 103 256 161 q 247 -19 247 44 q 266 -117 247 -87 q 340 -146 285 -146 l 379 -146 l 379 -211 l 315 -211 q 244 -202 275 -211 q 194 -172 214 -193 q 164 -116 174 -151 q 154 -26 154 -81 z "},"}":{ha:421,x_min:43,x_max:374,o:"m 79 -146 q 155 -117 136 -146 q 174 -19 174 -87 q 170 103 174 44 q 167 232 167 161 q 185 335 167 299 q 249 383 204 371 l 249 389 q 185 437 204 401 q 167 540 167 472 q 170 667 167 604 q 174 792 174 731 q 155 888 174 860 q 79 917 136 917 l 43 917 l 43 983 l 104 983 q 227 944 188 983 q 267 799 267 904 q 260 661 267 726 q 254 529 254 596 q 279 456 254 489 q 374 422 304 424 l 374 350 q 316 340 339 350 q 279 315 293 331 q 260 281 265 300 q 254 242 254 263 q 256 175 254 207 q 260 111 258 143 q 265 45 263 79 q 267 -26 267 11 q 257 -116 267 -81 q 227 -172 247 -151 q 176 -202 207 -193 q 104 -211 146 -211 l 43 -211 l 43 -146 l 79 -146 z "},"/":{ha:486,x_min:14,x_max:468,o:"m 385 986 l 468 986 l 99 -222 l 14 -222 l 385 986 z "},"|":{ha:335,x_min:128,x_max:208,o:"m 128 1042 l 208 1042 l 208 -347 l 128 -347 l 128 1042 z "},"\\":{ha:486,x_min:19,x_max:472,o:"m 19 986 l 101 986 l 472 -222 l 389 -222 l 19 986 z "},"¦":{ha:335,x_min:128,x_max:208,o:"m 128 1042 l 208 1042 l 208 404 l 128 404 l 128 1042 m 208 297 l 208 -347 l 128 -347 l 128 297 l 208 297 z "},"*":{ha:581,x_min:81,x_max:500,o:"m 136 624 l 215 754 l 81 810 l 101 874 l 243 839 l 256 989 l 324 989 l 336 840 l 479 874 l 500 810 l 365 754 l 443 624 l 389 583 l 290 703 l 192 583 l 136 624 z "},"†":{ha:631,x_min:75,x_max:556,o:"m 274 682 l 75 675 l 75 774 l 274 767 l 267 989 l 364 989 l 357 767 l 556 774 l 556 675 l 357 682 l 364 -111 l 267 -111 l 274 682 z "},"‡":{ha:631,x_min:75,x_max:556,o:"m 75 203 l 274 193 l 267 439 l 274 685 l 75 675 l 75 774 l 274 767 l 267 989 l 364 989 l 357 767 l 556 774 l 556 675 l 357 685 l 364 439 l 357 193 l 556 203 l 556 104 l 357 111 l 364 -111 l 267 -111 l 274 111 l 75 104 l 75 203 z "},"§":{ha:690,x_min:63,x_max:628,o:"m 444 268 q 506 314 485 288 q 528 386 528 340 q 500 464 528 433 q 431 517 472 494 q 340 560 389 540 q 247 604 290 579 q 185 554 207 582 q 163 483 163 526 q 190 408 163 438 q 260 356 218 378 q 352 313 303 333 q 444 268 401 293 m 507 797 q 436 843 474 825 q 353 861 399 861 q 269 835 294 861 q 243 774 243 810 q 272 711 243 736 q 343 665 300 686 q 435 624 386 644 q 528 573 485 603 q 599 501 571 543 q 628 394 628 458 q 595 287 628 328 q 510 215 563 246 q 540 165 529 192 q 551 101 551 138 q 535 25 551 60 q 488 -35 518 -10 q 417 -74 458 -60 q 328 -89 376 -89 q 192 -62 253 -89 q 88 10 131 -36 l 157 72 q 232 19 192 39 q 328 0 272 0 q 415 28 383 0 q 446 96 446 56 q 417 161 446 135 q 347 208 389 188 q 254 249 304 229 q 162 299 204 269 q 91 370 119 328 q 63 476 63 413 q 96 582 63 538 q 182 656 129 626 q 149 706 161 678 q 138 769 138 733 q 151 838 138 806 q 191 896 164 871 q 257 935 218 921 q 349 950 296 950 q 469 926 415 950 q 563 871 522 903 l 507 797 z "},"¶":{ha:778,x_min:57,x_max:644,o:"m 528 911 l 644 911 l 644 -111 l 528 -111 l 528 911 m 407 314 q 267 331 332 314 q 156 385 203 349 q 83 479 110 422 q 57 615 57 536 q 82 753 57 697 q 152 845 107 810 q 258 896 197 881 q 392 911 319 911 l 453 911 l 453 314 l 407 314 z "},"©":{ha:1033,x_min:68,x_max:965,o:"m 68 449 q 104 639 68 554 q 201 783 140 724 q 344 875 263 843 q 517 907 426 907 q 688 875 607 907 q 831 783 769 843 q 929 639 893 724 q 965 449 965 554 q 929 256 965 342 q 831 110 893 171 q 688 17 769 50 q 517 -15 607 -15 q 344 17 426 -15 q 201 110 263 50 q 104 256 140 171 q 68 449 68 342 m 133 449 q 164 283 133 357 q 247 155 194 208 q 368 72 299 101 q 517 43 438 43 q 665 72 596 43 q 787 155 735 101 q 869 283 839 208 q 900 449 900 357 q 869 613 900 539 q 787 740 839 688 q 665 822 735 793 q 517 850 596 850 q 368 822 438 850 q 247 740 299 793 q 164 613 194 688 q 133 449 133 539 m 275 449 q 297 557 275 508 q 353 640 318 606 q 435 693 389 675 q 532 711 482 711 q 631 688 590 711 q 706 632 672 665 l 657 578 q 601 620 629 606 q 536 635 572 635 q 413 583 460 635 q 367 449 367 531 q 412 303 367 357 q 532 250 457 250 q 610 267 576 250 q 674 311 643 285 l 715 253 q 633 197 676 219 q 528 174 590 174 q 429 192 475 174 q 349 247 383 211 q 294 333 314 282 q 275 449 275 383 z "},"℗":{ha:1032,x_min:68,x_max:965,o:"m 351 694 l 543 694 q 624 685 586 694 q 689 656 661 675 q 733 605 717 636 q 749 532 749 574 q 733 452 749 486 q 689 395 717 418 q 624 361 661 372 q 543 350 586 350 l 442 350 l 442 190 l 351 190 l 351 694 m 528 419 q 624 445 590 419 q 658 529 658 471 q 624 601 658 579 q 528 624 590 624 l 442 624 l 442 419 l 528 419 m 68 449 q 104 639 68 554 q 201 783 140 724 q 344 875 263 843 q 517 907 426 907 q 688 875 607 907 q 831 783 769 843 q 929 639 893 724 q 965 449 965 554 q 929 256 965 342 q 831 110 893 171 q 688 17 769 50 q 517 -15 607 -15 q 344 17 426 -15 q 201 110 263 50 q 104 256 140 171 q 68 449 68 342 m 133 449 q 164 283 133 357 q 247 155 194 208 q 368 72 299 101 q 517 43 438 43 q 665 72 596 43 q 787 155 735 101 q 869 283 839 208 q 900 449 900 357 q 869 613 900 539 q 787 740 839 688 q 665 822 735 793 q 517 850 596 850 q 368 822 438 850 q 247 740 299 793 q 164 613 194 688 q 133 449 133 539 z "},"®":{ha:588,x_min:32,x_max:556,o:"m 293 443 q 192 463 239 443 q 109 519 144 483 q 53 606 74 556 q 32 717 32 656 q 53 828 32 778 q 109 914 74 878 q 192 970 144 950 q 293 990 239 990 q 395 970 347 990 q 478 914 443 950 q 535 828 514 878 q 556 717 556 778 q 535 606 556 656 q 478 519 514 556 q 395 463 443 483 q 293 443 347 443 m 293 494 q 374 510 336 494 q 440 556 413 526 q 484 626 468 585 q 500 717 500 667 q 484 806 500 765 q 440 877 468 847 q 374 924 413 907 q 293 940 336 940 q 211 924 249 940 q 147 877 174 907 q 103 806 119 847 q 88 717 88 765 q 103 626 88 667 q 147 556 119 585 q 211 510 174 526 q 293 494 249 494 m 193 861 l 299 861 q 375 841 343 861 q 407 771 407 821 q 393 724 407 746 q 356 694 379 703 l 419 579 l 356 579 l 307 676 l 250 676 l 250 579 l 193 579 l 193 861 m 286 721 q 346 768 346 721 q 333 801 346 789 q 289 814 321 814 l 250 814 l 250 721 l 286 721 z "},"™":{ha:885,x_min:4,x_max:844,o:"m 431 939 l 535 939 l 599 783 l 636 674 l 642 674 l 679 783 l 742 939 l 844 939 l 844 508 l 765 508 l 765 699 l 774 844 l 768 844 l 669 575 l 607 575 l 507 844 l 501 844 l 511 699 l 511 508 l 431 508 l 431 939 m 142 864 l 4 864 l 4 939 l 364 939 l 364 864 l 225 864 l 225 508 l 142 508 l 142 864 z "},"℠":{ha:885,x_min:38,x_max:844,o:"m 194 492 q 109 509 149 492 q 38 558 69 526 l 83 610 q 137 572 108 586 q 200 557 165 557 q 250 572 232 557 q 268 611 268 586 q 253 649 268 639 q 208 675 239 660 l 143 707 q 85 750 111 722 q 60 826 60 778 q 100 915 60 881 q 206 949 140 949 q 279 933 244 949 q 338 896 314 918 l 297 842 q 250 871 275 858 q 201 883 225 883 q 153 867 169 883 q 136 831 136 851 q 151 797 136 810 q 194 771 167 783 l 258 739 q 322 694 299 721 q 346 618 346 667 q 335 571 346 593 q 305 531 325 549 q 257 502 285 513 q 194 492 229 492 m 431 939 l 535 939 l 599 783 l 636 674 l 642 674 l 679 783 l 742 939 l 844 939 l 844 508 l 765 508 l 765 699 l 774 844 l 768 844 l 669 575 l 607 575 l 507 844 l 501 844 l 511 699 l 511 508 l 431 508 l 431 939 z "},"@":{ha:1176,x_min:71,x_max:1106,o:"m 71 282 q 117 535 71 421 q 244 729 164 649 q 428 853 324 810 q 650 897 533 897 q 840 864 756 897 q 983 770 924 831 q 1074 625 1042 710 q 1106 438 1106 540 q 1080 277 1106 346 q 1014 162 1054 208 q 924 92 974 115 q 828 68 875 68 q 731 94 771 68 q 685 174 692 121 l 682 174 q 603 106 647 133 q 513 79 558 79 q 394 129 442 79 q 346 275 346 179 q 365 388 346 331 q 418 492 383 446 q 502 568 453 539 q 613 597 551 597 q 676 581 649 597 q 724 531 704 565 l 726 531 l 742 586 l 818 586 l 764 308 q 839 146 722 146 q 905 165 872 146 q 965 222 938 185 q 1008 312 992 258 q 1025 433 1025 365 q 1001 588 1025 517 q 928 711 976 660 q 807 792 879 763 q 640 821 735 821 q 460 783 547 821 q 304 675 372 744 q 195 507 236 606 q 154 286 154 408 q 185 106 154 185 q 272 -28 217 26 q 403 -110 328 -82 q 568 -139 479 -139 q 689 -122 632 -139 q 793 -76 746 -104 l 824 -144 q 560 -215 706 -215 q 368 -183 457 -215 q 213 -88 279 -151 q 109 68 147 -25 q 71 282 71 161 m 438 282 q 465 186 438 215 q 535 157 493 157 q 595 176 564 157 q 663 239 626 196 l 703 460 q 663 505 683 492 q 614 518 642 518 q 540 496 572 518 q 484 439 507 474 q 449 363 461 404 q 438 282 438 321 z "},"#":{ha:690,x_min:49,x_max:649,o:"m 160 283 l 49 283 l 49 363 l 169 363 l 194 568 l 76 568 l 76 649 l 204 649 l 236 903 l 310 903 l 278 649 l 463 649 l 496 903 l 569 903 l 536 649 l 649 649 l 649 568 l 528 568 l 503 363 l 621 363 l 621 283 l 493 283 l 458 0 l 385 0 l 418 283 l 235 283 l 200 0 l 125 0 l 160 283 m 428 363 l 453 568 l 269 568 l 244 363 l 428 363 z "},"⁰":{ha:510,x_min:49,x_max:463,o:"m 256 594 q 105 669 161 594 q 49 883 49 744 q 105 1095 49 1021 q 256 1169 161 1169 q 406 1095 349 1169 q 463 883 463 1021 q 406 669 463 744 q 256 594 349 594 m 256 665 q 342 720 308 665 q 375 883 375 775 q 342 1045 375 992 q 256 1099 308 1099 q 168 1045 201 1099 q 135 883 135 992 q 168 720 135 775 q 256 665 201 665 z "},"¹":{ha:510,x_min:121,x_max:328,o:"m 239 1039 l 121 1039 l 121 1097 q 197 1119 167 1106 q 256 1153 228 1132 l 328 1153 l 328 611 l 239 611 l 239 1039 z "},"²":{ha:510,x_min:56,x_max:444,o:"m 72 663 q 183 765 135 719 q 264 847 232 810 q 313 917 296 885 q 329 981 329 950 q 301 1064 329 1033 q 225 1094 274 1094 q 161 1072 190 1094 q 108 1015 132 1049 l 56 1064 q 134 1140 88 1111 q 236 1169 181 1169 q 367 1125 318 1169 q 417 994 417 1081 q 401 919 417 956 q 359 847 386 883 q 295 771 332 810 q 215 688 258 732 l 444 688 l 444 611 l 72 611 l 72 663 z "},"³":{ha:510,x_min:49,x_max:443,o:"m 108 746 q 168 687 133 708 q 246 665 203 665 q 322 690 290 665 q 354 763 354 715 q 310 834 354 810 q 186 858 265 858 l 186 915 q 295 943 257 915 q 333 1013 333 971 q 306 1075 333 1051 q 235 1099 279 1099 q 176 1080 204 1099 q 125 1033 149 1061 l 71 1081 q 149 1145 107 1121 q 249 1169 192 1169 q 315 1160 283 1169 q 369 1131 346 1150 q 407 1085 393 1113 q 421 1024 421 1058 q 394 942 421 975 q 326 890 368 910 q 408 845 372 879 q 443 757 443 811 q 428 690 443 719 q 386 638 413 660 q 324 606 360 617 q 250 594 289 594 q 132 624 183 594 q 49 700 81 654 l 108 746 z "},"⁴":{ha:510,x_min:58,x_max:467,o:"m 306 819 l 306 917 l 311 1068 l 306 1068 l 236 956 l 151 819 l 306 819 m 467 756 l 386 756 l 386 611 l 306 611 l 306 756 l 58 756 l 58 801 l 286 1153 l 386 1153 l 386 819 l 467 819 l 467 756 z "},"⁵":{ha:510,x_min:49,x_max:449,o:"m 108 746 q 168 687 135 708 q 249 665 201 665 q 328 699 297 665 q 360 785 360 732 q 328 872 360 840 q 246 904 296 904 q 190 892 214 904 q 143 860 165 879 l 100 892 l 125 1153 l 421 1153 l 421 1075 l 199 1075 l 183 943 q 225 958 203 951 q 271 964 247 964 q 340 952 307 964 q 397 917 372 940 q 435 859 421 893 q 449 782 449 825 q 433 706 449 740 q 392 647 418 671 q 331 608 367 622 q 254 594 296 594 q 131 624 182 594 q 49 700 81 654 l 108 746 z "},"⁶":{ha:510,x_min:63,x_max:453,o:"m 271 665 q 342 697 315 665 q 369 776 369 728 q 343 856 369 825 q 265 886 317 886 q 207 873 235 886 q 147 826 179 860 q 188 706 154 746 q 271 665 221 665 m 394 1065 q 352 1089 375 1079 q 301 1099 329 1099 q 197 1049 240 1099 q 147 896 154 1000 q 283 951 207 951 q 409 903 365 951 q 453 778 453 856 q 439 706 453 739 q 401 647 425 672 q 344 608 376 622 q 272 594 311 594 q 119 667 176 594 q 63 868 63 739 q 81 1001 63 944 q 131 1096 99 1058 q 206 1151 163 1133 q 299 1169 249 1169 q 376 1157 346 1169 q 431 1128 407 1144 l 394 1065 z "},"⁷":{ha:510,x_min:69,x_max:449,o:"m 182 611 q 197 742 186 682 q 228 857 208 801 q 277 966 247 913 q 349 1076 307 1019 l 69 1076 l 69 1153 l 449 1153 l 449 1103 q 367 982 399 1040 q 317 865 336 924 q 288 744 297 806 q 275 611 279 682 l 182 611 l 182 611 z "},"⁸":{ha:510,x_min:63,x_max:444,o:"m 146 754 q 175 689 146 718 q 253 660 204 660 q 329 687 297 660 q 361 753 361 714 q 349 794 361 778 q 318 824 338 811 q 274 846 299 836 q 221 867 249 856 q 146 754 146 822 m 285 921 q 329 970 315 944 q 343 1024 343 996 q 317 1081 343 1060 q 253 1101 290 1101 q 192 1080 217 1101 q 167 1025 167 1058 q 201 960 167 983 q 285 921 236 936 m 63 746 q 94 835 63 797 q 165 897 125 874 l 165 903 q 107 955 129 926 q 85 1026 85 983 q 98 1085 85 1058 q 134 1130 111 1111 q 188 1159 157 1149 q 253 1169 218 1169 q 376 1131 326 1169 q 426 1026 426 1093 q 419 983 426 1003 q 399 947 411 964 q 372 918 386 931 q 343 896 357 906 l 343 890 q 417 833 390 867 q 444 750 444 799 q 430 688 444 717 q 390 639 415 660 q 329 606 364 618 q 253 594 294 594 q 175 606 210 594 q 115 639 140 618 q 76 688 90 660 q 63 746 63 715 z "},"⁹":{ha:510,x_min:54,x_max:444,o:"m 240 878 q 300 891 272 878 q 360 938 328 904 q 319 1058 353 1018 q 235 1099 286 1099 q 164 1067 192 1099 q 136 988 136 1036 q 163 908 136 939 q 240 878 190 878 m 113 699 q 155 675 132 685 q 206 665 178 665 q 310 715 267 665 q 360 869 353 765 q 224 813 300 813 q 98 860 142 813 q 54 986 54 908 q 68 1058 54 1025 q 106 1117 82 1092 q 163 1156 129 1142 q 233 1169 196 1169 q 388 1097 331 1169 q 444 896 444 1025 q 426 763 444 819 q 376 668 408 706 q 301 613 344 631 q 208 594 258 594 q 130 607 161 594 q 75 636 99 619 l 113 699 z "},"⁽":{ha:329,x_min:90,x_max:275,o:"m 213 501 q 122 675 153 586 q 90 882 90 764 q 122 1087 90 999 q 213 1260 153 1175 l 275 1229 q 199 1060 222 1147 q 176 882 176 974 q 199 702 176 789 q 275 532 222 615 l 213 501 l 213 501 z "},"⁾":{ha:329,x_min:54,x_max:239,o:"m 54 532 q 130 702 107 615 q 153 882 153 789 q 130 1060 153 974 q 54 1229 107 1147 l 119 1260 q 208 1087 176 1175 q 239 882 239 999 q 208 675 239 764 q 119 501 178 586 l 54 532 l 54 532 z "},"₀":{ha:510,x_min:49,x_max:463,o:"m 256 -304 q 105 -229 161 -304 q 49 -15 49 -154 q 105 197 49 122 q 256 271 161 271 q 406 197 349 271 q 463 -15 463 122 q 406 -229 463 -154 q 256 -304 349 -304 m 256 -233 q 342 -178 308 -233 q 375 -15 375 -124 q 342 147 375 93 q 256 200 308 200 q 168 147 201 200 q 135 -15 135 93 q 168 -178 135 -124 q 256 -233 201 -233 z "},"₁":{ha:510,x_min:121,x_max:328,o:"m 239 140 l 121 140 l 121 199 q 197 220 167 207 q 256 254 228 233 l 328 254 l 328 -287 l 239 -287 l 239 140 z "},"₂":{ha:510,x_min:56,x_max:444,o:"m 72 -236 q 183 -134 135 -179 q 264 -51 232 -89 q 313 19 296 -14 q 329 82 329 51 q 301 165 329 135 q 225 196 274 196 q 161 173 190 196 q 108 117 132 150 l 56 165 q 134 242 88 213 q 236 271 181 271 q 367 226 318 271 q 417 96 417 182 q 401 21 417 57 q 359 -52 386 -15 q 295 -128 332 -89 q 215 -211 258 -167 l 444 -211 l 444 -287 l 72 -287 l 72 -236 z "},"₃":{ha:510,x_min:49,x_max:443,o:"m 108 -153 q 168 -212 133 -190 q 246 -233 203 -233 q 322 -208 290 -233 q 354 -136 354 -183 q 310 -65 354 -89 q 186 -40 265 -40 l 186 17 q 295 44 257 17 q 333 114 333 72 q 306 176 333 153 q 235 200 279 200 q 176 181 204 200 q 125 135 149 163 l 71 182 q 149 247 107 222 q 249 271 192 271 q 315 261 283 271 q 369 233 346 251 q 407 187 393 214 q 421 125 421 160 q 394 44 421 76 q 326 -8 368 11 q 408 -53 372 -19 q 443 -142 443 -87 q 428 -209 443 -179 q 386 -260 413 -239 q 324 -293 360 -282 q 250 -304 289 -304 q 132 -274 183 -304 q 49 -199 81 -244 l 108 -153 z "},"₄":{ha:510,x_min:58,x_max:467,o:"m 306 -79 l 306 18 l 311 169 l 306 169 l 236 57 l 151 -79 l 306 -79 m 467 -143 l 386 -143 l 386 -287 l 306 -287 l 306 -143 l 58 -143 l 58 -97 l 286 254 l 386 254 l 386 -79 l 467 -79 l 467 -143 z "},"₅":{ha:510,x_min:49,x_max:449,o:"m 108 -153 q 168 -212 135 -190 q 249 -233 201 -233 q 328 -200 297 -233 q 360 -114 360 -167 q 328 -26 360 -58 q 246 6 296 6 q 190 -7 214 6 q 143 -39 165 -19 l 100 -7 l 125 254 l 421 254 l 421 176 l 199 176 l 183 44 q 225 59 203 53 q 271 65 247 65 q 340 53 307 65 q 397 18 372 42 q 435 -40 421 -6 q 449 -117 449 -74 q 433 -193 449 -158 q 392 -252 418 -228 q 331 -290 367 -276 q 254 -304 296 -304 q 131 -274 182 -304 q 49 -199 81 -244 l 108 -153 z "},"₆":{ha:510,x_min:63,x_max:453,o:"m 271 -233 q 342 -202 315 -233 q 369 -122 369 -171 q 343 -43 369 -74 q 265 -12 317 -12 q 207 -26 235 -12 q 147 -72 179 -39 q 188 -193 154 -153 q 271 -233 221 -233 m 394 167 q 352 190 375 181 q 301 200 329 200 q 197 151 240 200 q 147 -3 154 101 q 283 53 207 53 q 409 5 365 53 q 453 -121 453 -43 q 439 -193 453 -160 q 401 -251 425 -226 q 344 -290 376 -276 q 272 -304 311 -304 q 119 -232 176 -304 q 63 -31 63 -160 q 81 103 63 46 q 131 197 99 160 q 206 253 163 235 q 299 271 249 271 q 376 258 346 271 q 431 229 407 246 l 394 167 z "},"₇":{ha:510,x_min:69,x_max:449,o:"m 182 -287 q 197 -157 186 -217 q 228 -42 208 -97 q 277 67 247 14 q 349 178 307 121 l 69 178 l 69 254 l 449 254 l 449 204 q 367 83 399 142 q 317 -34 336 25 q 288 -155 297 -93 q 275 -287 279 -217 l 182 -287 l 182 -287 z "},"₈":{ha:510,x_min:63,x_max:444,o:"m 146 -144 q 175 -210 146 -181 q 253 -239 204 -239 q 329 -212 297 -239 q 361 -146 361 -185 q 349 -104 361 -121 q 318 -75 338 -87 q 274 -53 299 -62 q 221 -32 249 -43 q 146 -144 146 -76 m 285 22 q 329 72 315 46 q 343 125 343 97 q 317 182 343 161 q 253 203 290 203 q 192 181 217 203 q 167 126 167 160 q 201 61 167 85 q 285 22 236 38 m 63 -153 q 94 -63 63 -101 q 165 -1 125 -25 l 165 4 q 107 56 129 28 q 85 128 85 85 q 98 186 85 160 q 134 231 111 213 q 188 260 157 250 q 253 271 218 271 q 376 233 326 271 q 426 128 426 194 q 419 85 426 104 q 399 49 411 65 q 372 19 386 32 q 343 -3 357 7 l 343 -8 q 417 -66 390 -32 q 444 -149 444 -100 q 430 -210 444 -182 q 390 -260 415 -239 q 329 -292 364 -281 q 253 -304 294 -304 q 175 -292 210 -304 q 115 -260 140 -281 q 76 -211 90 -239 q 63 -153 63 -183 z "},"₉":{ha:510,x_min:54,x_max:444,o:"m 240 -21 q 300 -8 272 -21 q 360 39 328 6 q 319 160 353 119 q 235 200 286 200 q 164 169 192 200 q 136 89 136 138 q 163 10 136 40 q 240 -21 190 -21 m 113 -200 q 155 -224 132 -214 q 206 -233 178 -233 q 310 -183 267 -233 q 360 -29 353 -133 q 224 -86 300 -86 q 98 -38 142 -86 q 54 88 54 10 q 68 160 54 126 q 106 218 82 193 q 163 257 129 243 q 233 271 196 271 q 388 199 331 271 q 444 -3 444 126 q 426 -136 444 -79 q 376 -231 408 -193 q 301 -286 344 -268 q 208 -304 258 -304 q 130 -292 161 -304 q 75 -262 99 -279 l 113 -200 z "},"₍":{ha:329,x_min:90,x_max:275,o:"m 213 -397 q 122 -224 153 -312 q 90 -17 90 -135 q 122 188 90 100 q 213 361 153 276 l 275 331 q 199 162 222 249 q 176 -17 176 75 q 199 -197 176 -110 q 275 -367 222 -283 l 213 -397 l 213 -397 z "},"₎":{ha:329,x_min:54,x_max:239,o:"m 54 -367 q 130 -197 107 -283 q 153 -17 153 -110 q 130 162 153 75 q 54 331 107 249 l 119 361 q 208 188 176 276 q 239 -17 239 100 q 208 -224 239 -135 q 119 -397 178 -312 l 54 -367 l 54 -367 z "},ª:{ha:479,x_min:51,x_max:414,o:"m 189 350 q 89 386 126 350 q 51 481 51 422 q 117 593 51 554 q 328 646 183 632 q 308 719 326 690 q 242 749 290 749 q 167 733 206 749 q 101 701 129 718 l 69 760 q 152 801 104 782 q 254 819 200 819 q 376 771 338 819 q 414 633 414 722 l 414 361 l 344 361 l 335 413 l 329 413 q 267 369 301 388 q 189 350 232 350 m 214 419 q 328 475 268 419 l 328 592 q 178 553 221 581 q 136 488 136 526 q 157 435 136 451 q 214 419 178 419 z "},º:{ha:507,x_min:42,x_max:464,o:"m 253 350 q 172 366 210 350 q 104 412 133 382 q 58 485 75 442 q 42 585 42 529 q 58 684 42 640 q 104 758 75 728 q 172 803 133 788 q 253 819 210 819 q 334 803 296 819 q 401 758 372 788 q 447 684 431 728 q 464 585 464 640 q 447 485 464 529 q 401 412 431 442 q 334 366 372 382 q 253 350 296 350 m 253 421 q 343 466 311 421 q 375 585 375 511 q 343 704 375 660 q 253 749 311 749 q 162 704 194 749 q 129 585 129 660 q 162 466 129 511 q 253 421 194 421 z "},"ᵃ":{ha:479,x_min:51,x_max:414,o:"m 189 350 q 89 386 126 350 q 51 481 51 422 q 117 593 51 554 q 328 646 183 632 q 308 719 326 690 q 242 749 290 749 q 167 733 206 749 q 101 701 129 718 l 69 760 q 152 801 104 782 q 254 819 200 819 q 376 771 338 819 q 414 633 414 722 l 414 361 l 344 361 l 335 413 l 329 413 q 267 369 301 388 q 189 350 232 350 m 214 419 q 328 475 268 419 l 328 592 q 178 553 221 581 q 136 488 136 526 q 157 435 136 451 q 214 419 178 419 z "},"ᵇ":{ha:519,x_min:72,x_max:474,o:"m 72 1013 l 158 1013 l 158 836 l 154 757 q 220 801 186 783 q 293 819 254 819 q 427 758 381 819 q 474 593 474 697 q 458 490 474 535 q 415 413 442 444 q 353 366 388 382 q 279 350 318 350 q 214 364 247 350 q 153 406 181 378 l 147 406 l 139 361 l 72 361 l 72 1013 m 158 465 q 215 431 186 442 q 267 421 243 421 q 351 465 317 421 q 385 592 385 510 q 358 706 385 664 q 272 747 331 747 q 158 689 219 747 l 158 465 z "},"ᶜ":{ha:425,x_min:42,x_max:403,o:"m 256 350 q 102 411 163 350 q 42 585 42 472 q 59 684 42 640 q 106 758 76 728 q 176 803 136 788 q 258 819 215 819 q 341 804 307 819 q 396 771 375 789 l 354 714 q 314 740 333 731 q 264 749 294 749 q 167 703 206 749 q 129 585 129 657 q 167 466 129 511 q 264 421 204 421 q 324 433 300 421 q 367 460 347 444 l 403 403 q 344 367 379 383 q 256 350 308 350 z "},"ᵈ":{ha:519,x_min:46,x_max:447,o:"m 236 350 q 97 413 147 350 q 46 593 46 475 q 62 687 46 644 q 105 758 78 729 q 167 803 132 788 q 240 819 203 819 q 307 806 276 819 q 365 768 338 792 l 361 846 l 361 1013 l 447 1013 l 447 361 l 378 361 l 368 410 l 364 410 q 306 368 336 386 q 236 350 275 350 m 256 421 q 308 436 283 421 q 361 479 333 451 l 361 703 q 306 738 333 728 q 254 749 279 749 q 170 706 206 749 q 135 593 135 663 q 164 465 135 510 q 256 421 193 421 z "},"ᵉ":{ha:467,x_min:39,x_max:431,o:"m 258 350 q 172 365 213 350 q 103 411 132 381 q 56 485 74 442 q 39 585 39 528 q 56 682 39 639 q 101 756 72 725 q 167 803 129 786 q 247 819 206 819 q 334 799 299 819 q 391 749 369 779 q 422 683 413 719 q 431 614 431 647 q 429 590 431 599 q 425 565 428 581 l 124 565 q 167 458 128 496 q 268 419 206 419 q 329 429 300 419 q 382 454 358 439 l 415 399 q 344 365 383 379 q 258 350 304 350 m 354 621 q 349 667 354 644 q 331 709 343 690 q 298 739 318 728 q 247 750 278 750 q 164 717 197 750 q 122 621 131 683 l 354 621 z "},"ᶠ":{ha:279,x_min:26,x_max:306,o:"m 288 949 q 265 955 278 951 q 236 958 253 958 q 190 935 206 958 q 175 872 175 913 l 175 808 l 269 808 l 269 740 l 175 740 l 175 361 l 89 361 l 89 740 l 26 740 l 26 804 l 89 808 l 89 867 q 122 982 89 936 q 228 1028 156 1028 q 269 1024 251 1028 q 306 1013 288 1019 l 288 949 z "},"ᵍ":{ha:476,x_min:42,x_max:461,o:"m 115 290 q 149 237 115 256 q 242 218 182 218 q 340 243 303 218 q 378 301 378 268 q 355 340 378 329 q 290 351 332 351 l 217 351 q 190 352 206 351 q 158 357 174 353 q 115 290 115 326 m 42 278 q 106 374 42 335 l 106 379 q 76 408 88 390 q 65 454 65 426 q 81 501 65 479 q 115 535 96 522 l 115 540 q 74 588 92 557 q 56 658 56 618 q 69 726 56 696 q 108 776 83 756 q 163 808 132 797 q 231 819 194 819 q 301 807 269 819 l 454 807 l 454 740 l 368 740 q 391 703 382 726 q 400 657 400 681 q 387 590 400 619 q 351 541 374 561 q 297 510 328 521 q 231 500 265 500 q 198 503 215 500 q 164 515 181 507 q 145 494 153 506 q 138 467 138 483 q 154 434 138 446 q 215 422 171 422 l 301 422 q 422 397 383 422 q 461 314 461 372 q 445 253 461 282 q 399 204 429 225 q 325 171 368 183 q 228 158 282 158 q 93 188 144 158 q 42 278 42 218 m 231 558 q 295 585 268 558 q 322 658 322 613 q 295 731 322 706 q 231 757 268 757 q 164 731 190 757 q 138 658 138 706 q 164 585 138 613 q 231 558 190 558 z "},ʰ:{ha:508,x_min:72,x_max:446,o:"m 72 1013 l 158 1013 l 158 838 l 154 744 q 221 797 182 775 q 304 819 260 819 q 414 770 382 819 q 446 643 446 721 l 446 361 l 360 361 l 360 631 q 344 715 360 683 q 275 746 328 746 q 158 681 224 746 l 158 361 l 72 361 l 72 1013 z "},"ⁱ":{ha:231,x_min:58,x_max:175,o:"m 117 894 q 75 910 92 894 q 58 949 58 925 q 75 988 58 972 q 117 1003 92 1003 q 158 988 142 1003 q 175 949 175 972 q 158 910 175 925 q 117 894 142 894 m 72 808 l 158 808 l 158 361 l 72 361 l 72 808 z "},ʲ:{ha:235,x_min:-36,x_max:178,o:"m 32 160 q -6 163 8 160 q -36 171 -21 165 l -18 239 q -1 234 -10 236 q 21 232 7 232 q 64 253 53 232 q 75 314 75 274 l 75 808 l 161 808 l 161 319 q 132 202 161 244 q 32 160 103 160 m 119 894 q 78 910 94 894 q 61 949 61 925 q 78 988 61 972 q 119 1003 94 1003 q 161 988 144 1003 q 178 949 178 972 q 161 910 178 925 q 119 894 144 894 z "},"ᵏ":{ha:468,x_min:72,x_max:461,o:"m 72 1013 l 158 1013 l 158 585 l 164 585 l 346 808 l 442 808 l 286 625 l 461 361 l 365 361 l 236 567 l 158 474 l 158 361 l 72 361 l 72 1013 z "},ˡ:{ha:242,x_min:72,x_max:213,o:"m 72 1013 l 158 1013 l 158 456 q 181 421 158 421 q 189 421 185 421 q 200 424 193 421 l 213 358 q 192 353 203 356 q 163 350 181 350 q 92 380 113 350 q 72 463 72 410 l 72 1013 z "},"ᵐ":{ha:776,x_min:72,x_max:710,o:"m 72 808 l 142 808 l 149 744 l 154 744 q 215 798 182 776 q 294 819 249 819 q 419 736 388 819 q 488 794 451 768 q 569 819 525 819 q 677 771 644 819 q 710 643 710 722 l 710 361 l 624 361 l 624 631 q 607 715 624 683 q 542 746 590 746 q 491 730 517 746 q 433 681 465 714 l 433 361 l 347 361 l 347 631 q 331 715 347 683 q 265 746 314 746 q 216 730 242 746 q 158 681 190 714 l 158 361 l 72 361 l 72 808 z "},ⁿ:{ha:513,x_min:72,x_max:446,o:"m 72 808 l 140 808 l 149 744 l 154 744 q 222 798 183 776 q 304 819 260 819 q 414 770 382 819 q 446 643 446 721 l 446 361 l 360 361 l 360 631 q 344 715 360 683 q 276 746 328 746 q 158 681 224 746 l 158 361 l 72 361 l 72 808 z "},"ᵒ":{ha:507,x_min:42,x_max:464,o:"m 253 350 q 172 366 210 350 q 104 412 133 382 q 58 485 75 442 q 42 585 42 529 q 58 684 42 640 q 104 758 75 728 q 172 803 133 788 q 253 819 210 819 q 334 803 296 819 q 401 758 372 788 q 447 684 431 728 q 464 585 464 640 q 447 485 464 529 q 401 412 431 442 q 334 366 372 382 q 253 350 296 350 m 253 421 q 343 466 311 421 q 375 585 375 511 q 343 704 375 660 q 253 749 311 749 q 162 704 194 749 q 129 585 129 660 q 162 466 129 511 q 253 421 194 421 z "},"ᵖ":{ha:519,x_min:72,x_max:474,o:"m 72 808 l 140 808 l 150 757 l 154 757 q 217 800 182 781 q 293 819 253 819 q 427 758 381 819 q 474 593 474 697 q 458 490 474 535 q 415 413 442 444 q 353 366 388 382 q 279 350 318 350 q 215 363 249 350 q 153 401 181 376 l 158 315 l 158 171 l 72 171 l 72 808 m 158 465 q 215 431 186 442 q 267 421 243 421 q 351 465 317 421 q 385 592 385 510 q 358 706 385 664 q 272 747 331 747 q 158 689 219 747 l 158 465 z "},ʳ:{ha:333,x_min:72,x_max:335,o:"m 72 808 l 142 808 l 151 729 l 156 729 q 282 819 210 819 q 335 810 315 819 l 318 733 q 297 738 310 736 q 274 740 285 740 q 214 719 244 740 q 160 643 183 697 l 160 361 l 72 361 l 72 808 z "},ˢ:{ha:393,x_min:26,x_max:365,o:"m 68 468 q 131 431 99 444 q 201 417 164 417 q 261 435 240 417 q 282 481 282 453 q 274 508 282 496 q 251 528 265 519 q 218 544 236 536 q 181 558 200 551 q 133 578 157 567 q 91 605 110 589 q 60 642 72 621 q 49 692 49 663 q 89 781 49 743 q 203 819 129 819 q 288 804 251 819 q 351 768 324 789 l 308 714 q 260 742 283 732 q 206 753 238 753 q 149 735 168 753 q 131 696 131 718 q 139 669 131 681 q 161 650 147 658 q 193 635 175 642 q 231 621 211 628 q 278 601 254 611 q 322 576 303 590 q 353 540 342 561 q 365 488 365 518 q 321 389 365 428 q 200 350 276 350 q 105 367 150 350 q 26 411 60 385 l 68 468 z "},"ᵗ":{ha:322,x_min:22,x_max:313,o:"m 89 739 l 22 739 l 22 804 l 92 808 l 103 933 l 175 933 l 175 808 l 297 808 l 297 739 l 175 739 l 175 506 q 243 419 175 419 q 294 431 268 419 l 313 367 q 269 355 293 360 q 222 350 246 350 q 119 394 149 350 q 89 507 89 438 l 89 739 z "},"ᵘ":{ha:514,x_min:69,x_max:443,o:"m 213 350 q 102 399 135 350 q 69 525 69 447 l 69 808 l 156 808 l 156 538 q 172 454 156 485 q 240 424 188 424 q 357 489 293 424 l 357 808 l 443 808 l 443 361 l 375 361 l 365 424 l 361 424 q 295 372 333 394 q 213 350 257 350 z "},"ᵛ":{ha:446,x_min:11,x_max:435,o:"m 11 808 l 97 808 l 178 564 l 221 429 l 226 429 l 269 564 l 350 808 l 435 808 l 274 361 l 172 361 l 11 808 z "},ʷ:{ha:676,x_min:22,x_max:654,o:"m 22 808 l 111 808 l 172 560 l 199 432 l 204 432 l 235 560 l 300 808 l 378 808 l 447 560 l 478 432 l 483 432 l 513 560 l 572 808 l 654 808 l 533 361 l 429 361 l 369 589 l 340 715 l 338 715 l 308 589 l 249 361 l 146 361 l 22 808 z "},ˣ:{ha:426,x_min:11,x_max:414,o:"m 161 594 l 24 808 l 118 808 l 175 717 l 218 644 l 224 644 l 261 717 l 313 808 l 404 808 l 268 586 l 414 361 l 319 361 l 260 457 l 211 533 l 206 533 l 160 457 l 103 361 l 11 361 l 161 594 z "},ʸ:{ha:443,x_min:11,x_max:432,o:"m 51 253 q 85 246 67 246 q 146 271 121 246 q 183 336 171 296 l 193 364 l 11 808 l 99 808 l 186 572 q 208 510 197 542 q 229 444 218 478 l 235 444 q 254 509 244 478 q 275 572 264 540 l 347 808 l 432 808 l 267 335 q 201 219 242 264 q 90 175 161 175 q 33 183 58 175 l 51 253 l 51 253 z "},"ᶻ":{ha:403,x_min:29,x_max:378,o:"m 29 408 l 263 739 l 57 739 l 57 808 l 371 808 l 371 760 l 139 431 l 378 431 l 378 361 l 29 361 l 29 408 z "},"ₔ":{ha:467,x_min:35,x_max:426,o:"m 222 350 q 133 370 169 350 q 75 421 97 390 q 44 489 53 451 q 35 561 35 526 q 36 585 35 576 q 40 610 38 594 l 342 610 q 306 712 339 674 q 211 750 274 750 q 151 740 178 750 q 99 715 124 731 l 67 769 q 135 805 99 790 q 217 819 172 819 q 369 758 313 819 q 426 585 426 696 q 410 487 426 531 q 367 413 394 443 q 302 367 339 383 q 222 350 265 350 m 221 419 q 305 452 272 419 q 342 553 338 485 l 111 553 q 136 458 111 497 q 221 419 161 419 z "},"°":{ha:460,x_min:57,x_max:404,o:"m 231 596 q 165 608 196 596 q 109 644 133 621 q 71 699 85 667 q 57 772 57 732 q 71 847 57 814 q 109 903 85 879 q 165 939 133 926 q 231 951 196 951 q 297 939 265 951 q 352 903 328 926 q 390 847 376 879 q 404 772 404 814 q 390 699 404 732 q 352 644 376 667 q 297 608 328 621 q 231 596 265 596 m 231 660 q 306 692 276 660 q 335 772 335 724 q 306 856 335 824 q 231 888 276 888 q 156 856 185 888 q 126 772 126 824 q 156 692 126 724 q 231 660 185 660 z "},"¤":{ha:690,x_min:36,x_max:654,o:"m 36 206 l 125 296 q 88 368 101 328 q 75 457 75 408 q 88 547 75 506 q 125 619 101 588 l 36 711 l 97 774 l 192 676 q 346 728 258 728 q 426 715 386 728 q 499 676 467 701 l 593 774 l 654 711 l 564 619 q 601 547 588 588 q 615 457 615 506 q 601 368 615 408 q 564 296 588 328 l 654 206 l 593 143 l 499 239 q 426 199 467 213 q 346 186 386 186 q 192 239 257 186 l 97 143 l 36 206 m 181 457 q 194 381 181 415 q 229 322 207 347 q 282 284 251 297 q 346 271 313 271 q 409 284 379 271 q 461 322 439 297 q 497 381 483 347 q 510 457 510 415 q 497 533 510 499 q 461 592 483 567 q 409 630 439 617 q 346 643 379 643 q 282 630 313 643 q 229 592 251 617 q 194 533 207 567 q 181 457 181 499 z "},$:{ha:690,x_min:72,x_max:607,o:"m 528 728 q 452 786 489 765 q 358 807 415 807 q 257 771 294 807 q 219 674 219 735 q 248 592 219 624 q 319 535 276 560 q 413 488 363 511 q 507 433 464 465 q 578 352 550 400 q 607 229 607 304 q 549 65 607 129 q 392 -12 492 1 l 392 -153 l 308 -153 l 308 -15 q 179 22 242 -8 q 72 92 117 51 l 125 171 q 223 105 169 132 q 340 78 276 78 q 456 117 418 78 q 494 221 494 156 q 466 313 494 276 q 394 377 438 350 q 301 428 351 404 q 207 482 250 451 q 135 556 164 513 q 107 668 107 600 q 162 823 107 761 q 308 900 217 885 l 308 1039 l 392 1039 l 392 901 q 505 865 458 894 q 589 796 551 836 l 528 728 z "},"£":{ha:690,x_min:74,x_max:629,o:"m 629 99 l 629 0 l 75 0 l 75 69 q 184 174 146 108 q 222 319 222 240 q 219 358 222 339 q 213 396 217 376 l 74 396 l 74 468 l 167 474 l 192 474 q 166 560 178 518 q 154 647 154 603 q 173 753 154 706 q 226 833 192 800 q 307 885 260 867 q 413 903 354 903 q 540 873 488 903 q 628 799 592 843 l 561 733 q 501 786 535 765 q 421 807 468 807 q 306 762 346 807 q 267 644 267 717 q 277 559 267 600 q 300 474 288 518 l 521 474 l 521 396 l 318 396 q 323 358 321 376 q 325 318 325 339 q 303 196 325 244 q 239 104 281 147 l 239 99 l 629 99 z "},"¥":{ha:690,x_min:32,x_max:658,o:"m 151 886 l 260 649 q 301 556 281 603 q 343 461 321 510 l 349 461 q 392 556 372 510 q 433 649 413 603 l 542 886 l 658 886 l 431 442 l 628 442 l 628 376 l 401 376 l 401 286 l 628 286 l 628 219 l 401 219 l 401 0 l 288 0 l 288 219 l 63 219 l 63 286 l 288 286 l 288 376 l 63 376 l 63 442 l 258 442 l 32 886 l 151 886 z "},"€":{ha:690,x_min:32,x_max:682,o:"m 682 113 q 578 17 636 51 q 443 -17 519 -17 q 327 6 381 -17 q 232 74 274 29 q 162 181 190 118 q 121 326 133 244 l 32 326 l 32 386 l 114 392 q 113 417 113 404 q 113 442 113 429 q 113 464 113 453 q 114 486 113 475 l 32 486 l 32 547 l 121 554 q 163 701 133 636 q 235 810 192 765 q 337 879 279 856 q 463 903 394 903 q 579 872 525 903 q 669 794 633 840 l 601 729 q 538 788 572 765 q 458 811 503 811 q 310 743 367 811 q 238 554 254 675 l 590 554 l 590 486 l 232 486 q 231 467 231 476 q 231 446 231 457 q 231 419 231 432 q 232 393 231 406 l 535 393 l 535 326 l 239 326 q 310 142 257 208 q 450 75 364 75 q 540 100 501 75 q 614 174 578 125 l 682 113 z "},"¢":{ha:690,x_min:85,x_max:631,o:"m 364 663 q 243 583 288 644 q 199 431 199 522 q 242 276 199 338 q 364 197 285 215 l 364 663 m 631 185 q 540 125 590 149 q 436 97 490 101 l 436 -46 l 364 -46 l 364 99 q 250 131 301 106 q 162 199 199 157 q 105 299 125 240 q 85 431 85 357 q 106 560 85 503 q 165 658 128 617 q 254 726 203 700 q 364 760 306 751 l 364 907 l 436 907 l 436 764 q 542 738 497 761 q 618 683 586 714 l 563 611 q 503 651 535 636 q 436 669 472 667 l 436 192 q 517 213 481 194 q 581 257 553 232 l 631 185 z "},ƒ:{ha:690,x_min:25,x_max:642,o:"m 617 815 q 583 828 601 822 q 539 835 565 835 q 485 819 507 835 q 448 779 463 804 q 424 722 433 754 q 411 654 415 689 l 401 567 l 576 567 l 576 479 l 392 479 l 356 150 q 333 34 349 86 q 292 -56 318 -18 q 225 -114 265 -93 q 126 -135 185 -135 q 68 -129 94 -135 q 25 -114 42 -124 l 46 -28 q 115 -42 78 -42 q 209 13 181 -42 q 249 175 238 68 l 282 479 l 161 479 l 161 561 l 257 567 l 292 567 l 300 644 q 369 856 315 783 q 533 928 422 928 q 593 920 564 928 q 642 903 622 913 l 617 815 z "},"₡":{ha:690,x_min:85,x_max:664,o:"m 319 108 q 397 78 354 83 l 483 806 q 463 810 472 808 q 442 811 453 811 q 422 810 431 811 q 403 808 413 810 l 319 108 m 349 790 q 240 665 278 754 q 203 446 203 576 q 221 278 203 351 q 274 157 239 206 l 349 790 m 664 113 q 565 22 619 56 q 439 -17 510 -12 l 422 -153 l 369 -153 l 386 -15 q 307 4 347 -11 l 289 -153 l 236 -153 l 258 29 q 131 187 178 82 q 85 442 85 292 q 159 745 85 628 q 361 893 233 863 l 378 1039 l 431 1039 l 414 901 q 429 903 421 903 q 444 903 438 903 q 494 897 472 903 l 511 1039 l 564 1039 l 544 881 q 606 841 578 865 q 657 789 635 817 l 589 725 q 533 779 563 758 l 450 76 q 530 106 494 82 q 597 174 565 131 l 664 113 z "},"₤":{ha:690,x_min:74,x_max:629,o:"m 629 99 l 629 0 l 75 0 l 75 69 q 184 174 146 108 q 222 319 222 240 l 222 326 l 74 326 l 74 388 l 169 394 l 214 394 q 203 435 208 415 q 190 476 197 456 l 74 476 l 74 538 l 158 544 l 171 544 q 159 596 164 571 q 154 647 154 621 q 173 753 154 706 q 226 833 192 800 q 307 885 260 867 q 413 903 354 903 q 540 873 488 903 q 628 799 592 843 l 561 733 q 501 786 535 765 q 421 807 468 807 q 306 762 346 807 q 267 644 267 717 q 270 594 267 618 q 281 544 274 569 l 521 544 l 521 476 l 299 476 q 318 394 313 433 l 521 394 l 521 326 l 325 326 l 325 318 q 303 196 325 244 q 239 104 281 147 l 239 99 l 629 99 z "},"₦":{ha:690,x_min:15,x_max:671,o:"m 481 440 l 481 476 l 381 476 l 403 413 l 408 393 l 483 393 l 481 440 m 488 333 l 426 333 l 497 103 l 503 103 l 488 333 m 317 393 l 288 475 l 288 476 l 208 476 l 210 446 l 210 393 l 317 393 m 204 535 l 269 535 l 193 782 l 188 782 l 204 535 m 571 476 l 571 393 l 671 393 l 671 333 l 571 333 l 571 0 l 454 0 l 338 333 l 210 333 l 210 0 l 119 0 l 119 333 l 15 333 l 15 386 l 119 393 l 119 476 l 15 476 l 15 528 l 119 535 l 119 886 l 236 886 l 360 535 l 481 535 l 481 886 l 571 886 l 571 535 l 671 535 l 671 476 l 571 476 z "},"₧":{ha:690,x_min:14,x_max:672,o:"m 269 418 q 414 459 361 418 q 476 579 467 500 l 225 579 l 225 418 l 269 418 m 225 807 l 225 657 l 476 657 q 413 773 465 739 q 269 807 361 807 l 225 807 m 672 579 l 586 579 q 554 473 579 518 q 489 398 529 428 q 396 353 449 368 q 283 339 343 339 l 225 339 l 225 0 l 115 0 l 115 579 l 14 579 l 14 650 l 115 657 l 115 886 l 283 886 q 397 874 344 886 q 490 834 450 861 q 554 763 529 807 q 586 657 579 719 l 672 657 l 672 579 z "},"₫":{ha:690,x_min:94,x_max:672,o:"m 110 68 l 608 68 l 608 0 l 110 0 l 110 68 m 467 524 q 404 567 432 554 q 338 581 376 581 q 283 568 308 581 q 238 533 257 556 q 207 481 218 511 q 196 417 196 451 q 231 283 196 331 q 332 235 267 235 q 401 252 368 235 q 467 308 433 269 l 467 524 m 672 831 l 672 769 l 564 763 l 564 167 l 483 167 l 475 226 l 471 226 q 401 174 440 194 q 313 153 361 153 q 153 220 213 153 q 94 415 94 288 q 113 518 94 472 q 164 597 132 564 q 236 647 196 629 q 321 664 276 664 q 405 647 372 664 q 472 600 438 631 l 467 715 l 467 763 l 264 763 l 264 831 l 467 831 l 467 924 l 564 924 l 564 831 l 672 831 z "},"₱":{ha:690,x_min:14,x_max:672,o:"m 476 581 q 478 598 478 589 q 479 617 479 607 q 478 640 479 629 q 476 663 478 651 l 225 663 l 225 581 l 476 581 m 269 418 q 463 524 418 418 l 225 524 l 225 418 l 269 418 m 225 807 l 225 719 l 460 719 q 388 787 436 767 q 269 807 340 807 l 225 807 m 672 663 l 585 663 q 587 640 586 651 q 588 617 588 629 q 588 598 588 607 q 586 581 588 589 l 672 581 l 672 524 l 575 524 q 469 384 547 429 q 283 339 390 339 l 225 339 l 225 0 l 115 0 l 115 524 l 14 524 l 14 574 l 115 581 l 115 663 l 14 663 l 14 714 l 115 719 l 115 886 l 283 886 q 467 848 389 886 q 574 719 544 810 l 672 719 l 672 663 z "},"₲":{ha:690,x_min:65,x_max:639,o:"m 639 460 l 639 85 q 549 18 599 43 q 443 -14 500 -7 l 443 -153 l 360 -153 l 360 -14 q 240 29 294 -6 q 147 122 186 64 q 87 261 108 181 q 65 442 65 342 q 86 618 65 539 q 145 756 107 697 q 238 851 183 814 q 360 899 292 888 l 360 1039 l 443 1039 l 443 901 q 550 865 501 896 q 635 792 599 835 l 567 728 q 499 788 535 765 q 417 811 464 811 q 316 785 360 811 q 242 713 272 760 q 197 597 213 665 q 182 446 182 529 q 241 176 182 275 q 407 78 300 78 q 481 93 447 78 q 535 129 515 108 l 535 364 l 394 364 l 394 460 l 639 460 z "},"₵":{ha:690,x_min:85,x_max:664,o:"m 388 804 q 250 688 297 782 q 203 446 203 593 q 251 194 203 290 q 388 79 299 97 l 388 804 m 664 113 q 574 27 624 60 q 460 -14 524 -6 l 460 -153 l 388 -153 l 388 -15 q 264 26 319 -8 q 169 118 208 60 q 107 258 129 176 q 85 442 85 340 q 106 619 85 539 q 167 757 128 699 q 263 851 207 815 q 388 899 318 888 l 388 1035 l 460 1035 l 460 903 q 567 868 518 899 q 651 794 617 838 l 583 729 q 528 784 558 763 q 460 810 499 806 l 460 78 q 533 109 500 85 q 597 174 567 133 l 664 113 z "},"₹":{ha:690,x_min:100,x_max:626,o:"m 626 818 l 429 818 q 496 760 469 797 q 532 675 522 724 l 626 675 l 626 607 l 535 607 q 471 442 528 503 q 324 361 414 382 l 585 0 l 454 0 l 207 350 l 100 350 l 100 443 l 199 443 q 356 483 299 443 q 421 607 414 524 l 100 607 l 100 668 l 196 675 l 418 675 q 347 765 403 739 q 199 792 290 792 l 100 792 l 100 886 l 626 886 l 626 818 z "},"₺":{ha:690,x_min:32,x_max:646,o:"m 276 92 q 370 108 322 93 q 457 152 418 124 q 521 223 496 181 q 546 319 546 265 q 545 345 546 331 q 539 379 544 360 l 636 404 q 646 325 646 360 q 609 172 646 238 q 507 64 572 107 q 353 1 442 21 q 160 -17 264 -19 l 160 363 l 32 296 l 32 369 l 160 436 l 160 536 l 32 469 l 32 542 l 160 610 l 160 886 l 276 886 l 276 667 l 504 786 l 504 713 l 276 593 l 276 493 l 504 613 l 504 540 l 276 419 l 276 92 l 276 92 z "},"⁄":{ha:119,x_min:-232,x_max:349,o:"m -232 -17 l 271 928 l 349 928 l -154 -17 l -232 -17 z "},"∕":{ha:119,x_min:-232,x_max:349,o:"m -232 -17 l 271 928 l 349 928 l -154 -17 l -232 -17 z "},"%":{ha:1144,x_min:49,x_max:1097,o:"m 256 353 q 105 428 161 353 q 49 642 49 503 q 105 853 49 779 q 256 928 161 928 q 406 853 349 928 q 463 642 463 779 q 406 428 463 503 q 256 353 349 353 m 256 424 q 342 478 308 424 q 375 642 375 533 q 342 803 375 750 q 256 857 308 857 q 168 803 201 857 q 135 642 135 750 q 168 478 135 533 q 256 424 201 424 m 281 -17 l 783 928 l 861 928 l 358 -17 l 281 -17 m 890 -17 q 740 58 796 -17 q 683 272 683 133 q 740 484 683 410 q 890 558 796 558 q 1040 484 983 558 q 1097 272 1097 410 q 1040 58 1097 133 q 890 -17 983 -17 m 890 54 q 976 109 943 54 q 1010 272 1010 164 q 976 434 1010 381 q 890 488 943 488 q 803 434 836 488 q 769 272 769 381 q 803 109 769 164 q 890 54 836 54 z "},"‰":{ha:1658,x_min:49,x_max:1611,o:"m 278 -17 l 781 928 l 858 928 l 356 -17 l 278 -17 m 256 353 q 105 428 161 353 q 49 642 49 503 q 105 854 49 781 q 256 928 161 928 q 406 854 349 928 q 463 642 463 781 q 406 428 463 503 q 256 353 349 353 m 256 424 q 342 478 308 424 q 375 642 375 533 q 342 804 375 751 q 256 857 308 857 q 168 804 201 857 q 135 642 135 751 q 168 478 135 533 q 256 424 201 424 m 886 -17 q 736 58 793 -17 q 679 272 679 133 q 736 484 679 410 q 886 558 793 558 q 1037 484 981 558 q 1093 272 1093 410 q 1037 58 1093 133 q 886 -17 981 -17 m 886 54 q 974 109 940 54 q 1007 272 1007 164 q 974 434 1007 381 q 886 488 940 488 q 800 434 833 488 q 767 272 767 381 q 800 109 767 164 q 886 54 833 54 m 1403 -17 q 1253 58 1310 -17 q 1196 272 1196 133 q 1253 484 1196 410 q 1403 558 1310 558 q 1554 484 1497 558 q 1611 272 1611 410 q 1554 58 1611 133 q 1403 -17 1497 -17 m 1403 54 q 1490 109 1457 54 q 1524 272 1524 164 q 1490 434 1524 381 q 1403 488 1457 488 q 1317 434 1350 488 q 1283 272 1283 381 q 1317 109 1283 164 q 1403 54 1350 54 z "},"¼":{ha:1085,x_min:89,x_max:1040,o:"m 207 797 l 89 797 l 89 856 q 165 877 135 864 q 224 911 196 890 l 296 911 l 296 369 l 207 369 l 207 797 m 250 -17 l 753 928 l 831 928 l 328 -17 l 250 -17 m 879 208 l 879 306 l 885 457 l 879 457 l 810 344 l 725 208 l 879 208 m 1040 144 l 960 144 l 960 0 l 879 0 l 879 144 l 632 144 l 632 190 l 860 542 l 960 542 l 960 208 l 1040 208 l 1040 144 z "},"½":{ha:1122,x_min:89,x_max:1057,o:"m 207 797 l 89 797 l 89 856 q 165 877 135 864 q 224 911 196 890 l 296 911 l 296 369 l 207 369 l 207 797 m 221 -17 l 724 928 l 801 928 l 299 -17 l 221 -17 m 685 51 q 796 153 747 108 q 876 236 844 199 q 925 306 908 274 q 942 369 942 339 q 914 453 942 422 q 838 483 886 483 q 774 460 803 483 q 721 404 744 438 l 668 453 q 747 529 700 500 q 849 558 793 558 q 980 514 931 558 q 1029 383 1029 469 q 1014 308 1029 344 q 972 235 999 272 q 908 160 944 199 q 828 76 871 121 l 1057 76 l 1057 0 l 685 0 l 685 51 z "},"¾":{ha:1106,x_min:49,x_max:1061,o:"m 108 504 q 168 445 133 467 q 246 424 203 424 q 322 449 290 424 q 354 521 354 474 q 310 592 354 568 q 186 617 265 617 l 186 674 q 295 701 257 674 q 333 771 333 729 q 306 833 333 810 q 235 857 279 857 q 176 838 204 857 q 125 792 149 819 l 71 839 q 149 903 107 879 q 249 928 192 928 q 315 918 283 928 q 369 890 346 908 q 407 844 393 871 q 421 782 421 817 q 394 701 421 733 q 326 649 368 668 q 408 603 372 638 q 443 515 443 569 q 428 448 443 478 q 386 397 413 418 q 324 364 360 375 q 250 353 289 353 q 132 383 183 353 q 49 458 81 413 l 108 504 m 301 -17 l 804 928 l 882 928 l 379 -17 l 301 -17 m 900 208 l 900 306 l 906 457 l 900 457 l 831 344 l 746 208 l 900 208 m 1061 144 l 981 144 l 981 0 l 900 0 l 900 144 l 653 144 l 653 190 l 881 542 l 981 542 l 981 208 l 1061 208 l 1061 144 z "},"⅓":{ha:1117,x_min:89,x_max:1050,o:"m 207 797 l 89 797 l 89 856 q 165 877 135 864 q 224 911 196 890 l 296 911 l 296 369 l 207 369 l 207 797 m 213 -17 l 715 928 l 793 928 l 290 -17 l 213 -17 m 715 135 q 775 76 740 97 q 853 54 810 54 q 929 79 897 54 q 961 151 961 104 q 917 223 961 199 q 793 247 872 247 l 793 304 q 902 332 864 304 q 940 401 940 360 q 913 464 940 440 q 842 488 886 488 q 783 469 811 488 q 732 422 756 450 l 678 469 q 756 534 714 510 q 856 558 799 558 q 922 549 890 558 q 976 520 953 539 q 1014 474 1000 501 q 1028 413 1028 447 q 1001 331 1028 364 q 933 279 975 299 q 1015 234 979 268 q 1050 146 1050 200 q 1035 78 1050 108 q 993 27 1019 49 q 931 -6 967 6 q 857 -17 896 -17 q 739 13 790 -17 q 656 89 688 43 l 715 135 z "},"⅔":{ha:1140,x_min:57,x_max:1072,o:"m 74 421 q 185 523 136 478 q 265 606 233 568 q 314 676 297 643 q 331 739 331 708 q 303 822 331 792 q 226 853 275 853 q 163 830 192 853 q 110 774 133 807 l 57 822 q 135 899 89 869 q 238 928 182 928 q 369 883 319 928 q 418 753 418 839 q 403 678 418 714 q 360 605 388 642 q 297 529 333 568 q 217 446 260 490 l 446 446 l 446 369 l 74 369 l 74 421 m 282 -17 l 785 928 l 863 928 l 360 -17 l 282 -17 m 738 135 q 797 76 763 97 q 875 54 832 54 q 951 79 919 54 q 983 151 983 104 q 939 223 983 199 q 815 247 894 247 l 815 304 q 924 332 886 304 q 963 401 963 360 q 935 464 963 440 q 864 488 908 488 q 806 469 833 488 q 754 422 778 450 l 700 469 q 778 534 736 510 q 878 558 821 558 q 944 549 913 558 q 999 520 975 539 q 1036 474 1022 501 q 1050 413 1050 447 q 1024 331 1050 364 q 956 279 997 299 q 1037 234 1001 268 q 1072 146 1072 200 q 1057 78 1072 108 q 1015 27 1042 49 q 953 -6 989 6 q 879 -17 918 -17 q 761 13 813 -17 q 678 89 710 43 l 738 135 z "},"⅛":{ha:1117,x_min:89,x_max:1051,o:"m 207 797 l 89 797 l 89 856 q 165 877 135 864 q 224 911 196 890 l 296 911 l 296 369 l 207 369 l 207 797 m 226 -17 l 729 928 l 807 928 l 304 -17 l 226 -17 m 753 143 q 782 78 753 107 q 860 49 811 49 q 936 76 904 49 q 968 142 968 103 q 956 183 968 167 q 925 213 944 200 q 881 235 906 225 q 828 256 856 244 q 753 143 753 211 m 892 310 q 936 359 922 333 q 950 413 950 385 q 924 469 950 449 q 860 490 897 490 q 799 469 824 490 q 774 414 774 447 q 808 349 774 372 q 892 310 843 325 m 669 135 q 701 224 669 186 q 772 286 732 263 l 772 292 q 714 344 736 315 q 692 415 692 372 q 705 474 692 447 q 741 519 718 500 q 794 548 764 538 q 860 558 825 558 q 983 520 933 558 q 1033 415 1033 482 q 1026 372 1033 392 q 1006 336 1018 353 q 978 307 993 319 q 950 285 964 294 l 950 279 q 1024 222 997 256 q 1051 139 1051 188 q 1037 77 1051 106 q 997 28 1022 49 q 936 -5 971 7 q 860 -17 901 -17 q 782 -5 817 -17 q 722 28 747 7 q 683 76 697 49 q 669 135 669 104 z "},"⅜":{ha:1140,x_min:49,x_max:1074,o:"m 108 504 q 168 445 133 467 q 246 424 203 424 q 322 449 290 424 q 354 521 354 474 q 310 592 354 568 q 186 617 265 617 l 186 674 q 295 701 257 674 q 333 771 333 729 q 306 833 333 810 q 235 857 279 857 q 176 838 204 857 q 125 792 149 819 l 71 839 q 149 903 107 879 q 249 928 192 928 q 315 918 283 928 q 369 890 346 908 q 407 844 393 871 q 421 782 421 817 q 394 701 421 733 q 326 649 368 668 q 408 603 372 638 q 443 515 443 569 q 428 448 443 478 q 386 397 413 418 q 324 364 360 375 q 250 353 289 353 q 132 383 183 353 q 49 458 81 413 l 108 504 m 278 -17 l 781 928 l 858 928 l 356 -17 l 278 -17 m 775 143 q 804 78 775 107 q 882 49 833 49 q 958 76 926 49 q 990 142 990 103 q 978 183 990 167 q 947 213 967 200 q 903 235 928 225 q 850 256 878 244 q 775 143 775 211 m 914 310 q 958 359 944 333 q 972 413 972 385 q 946 469 972 449 q 882 490 919 490 q 821 469 846 490 q 796 414 796 447 q 831 349 796 372 q 914 310 865 325 m 692 135 q 723 224 692 186 q 794 286 754 263 l 794 292 q 736 344 758 315 q 714 415 714 372 q 727 474 714 447 q 763 519 740 500 q 817 548 786 538 q 882 558 847 558 q 1006 520 956 558 q 1056 415 1056 482 q 1048 372 1056 392 q 1028 336 1040 353 q 1001 307 1015 319 q 972 285 986 294 l 972 279 q 1047 222 1019 256 q 1074 139 1074 188 q 1059 77 1074 106 q 1019 28 1044 49 q 958 -5 993 7 q 882 -17 924 -17 q 804 -5 839 -17 q 744 28 769 7 q 706 76 719 49 q 692 135 692 104 z "},"⅝":{ha:1140,x_min:49,x_max:1074,o:"m 108 504 q 168 445 135 467 q 249 424 201 424 q 328 457 297 424 q 360 543 360 490 q 328 631 360 599 q 246 663 296 663 q 190 650 214 663 q 143 618 165 638 l 100 650 l 125 911 l 421 911 l 421 833 l 199 833 l 183 701 q 225 716 203 710 q 271 722 247 722 q 340 710 307 722 q 397 675 372 699 q 435 617 421 651 q 449 540 449 583 q 433 464 449 499 q 392 405 418 429 q 331 367 367 381 q 254 353 296 353 q 131 383 182 353 q 49 458 81 413 l 108 504 m 278 -17 l 781 928 l 858 928 l 356 -17 l 278 -17 m 775 143 q 804 78 775 107 q 882 49 833 49 q 958 76 926 49 q 990 142 990 103 q 978 183 990 167 q 947 213 967 200 q 903 235 928 225 q 850 256 878 244 q 775 143 775 211 m 914 310 q 958 359 944 333 q 972 413 972 385 q 946 469 972 449 q 882 490 919 490 q 821 469 846 490 q 796 414 796 447 q 831 349 796 372 q 914 310 865 325 m 692 135 q 723 224 692 186 q 794 286 754 263 l 794 292 q 736 344 758 315 q 714 415 714 372 q 727 474 714 447 q 763 519 740 500 q 817 548 786 538 q 882 558 847 558 q 1006 520 956 558 q 1056 415 1056 482 q 1048 372 1056 392 q 1028 336 1040 353 q 1001 307 1015 319 q 972 285 986 294 l 972 279 q 1047 222 1019 256 q 1074 139 1074 188 q 1059 77 1074 106 q 1019 28 1044 49 q 958 -5 993 7 q 882 -17 924 -17 q 804 -5 839 -17 q 744 28 769 7 q 706 76 719 49 q 692 135 692 104 z "},"⅞":{ha:1113,x_min:43,x_max:1046,o:"m 156 369 q 171 500 160 440 q 201 615 182 560 q 251 724 221 671 q 322 835 281 778 l 43 835 l 43 911 l 422 911 l 422 861 q 341 740 372 799 q 290 623 310 682 q 262 502 271 564 q 249 369 253 440 l 156 369 l 156 369 m 208 -17 l 711 928 l 789 928 l 286 -17 l 208 -17 m 747 143 q 776 78 747 107 q 854 49 806 49 q 931 76 899 49 q 963 142 963 103 q 951 183 963 167 q 919 213 939 200 q 875 235 900 225 q 822 256 850 244 q 747 143 747 211 m 886 310 q 931 359 917 333 q 944 413 944 385 q 918 469 944 449 q 854 490 892 490 q 793 469 818 490 q 768 414 768 447 q 803 349 768 372 q 886 310 838 325 m 664 135 q 695 224 664 186 q 767 286 726 263 l 767 292 q 708 344 731 315 q 686 415 686 372 q 699 474 686 447 q 735 519 713 500 q 789 548 758 538 q 854 558 819 558 q 978 520 928 558 q 1028 415 1028 482 q 1020 372 1028 392 q 1000 336 1013 353 q 973 307 988 319 q 944 285 958 294 l 944 279 q 1019 222 992 256 q 1046 139 1046 188 q 1031 77 1046 106 q 991 28 1017 49 q 931 -5 965 7 q 854 -17 896 -17 q 776 -5 811 -17 q 717 28 742 7 q 678 76 692 49 q 664 135 664 104 z "},"+":{ha:690,x_min:47,x_max:643,o:"m 300 415 l 47 415 l 47 501 l 300 501 l 300 772 l 390 772 l 390 501 l 643 501 l 643 415 l 390 415 l 390 144 l 300 144 l 300 415 z "},"−":{ha:690,x_min:47,x_max:643,o:"m 47 501 l 643 501 l 643 415 l 47 415 l 47 501 z "},"×":{ha:690,x_min:69,x_max:621,o:"m 69 238 l 285 458 l 69 678 l 131 740 l 346 519 l 560 740 l 621 678 l 406 458 l 621 238 l 560 175 l 346 397 l 131 175 l 69 238 z "},"÷":{ha:690,x_min:47,x_max:643,o:"m 346 633 q 292 654 314 633 q 269 708 269 675 q 292 761 269 740 q 346 782 314 782 q 399 761 378 782 q 421 708 421 740 q 399 654 421 675 q 346 633 378 633 m 269 208 q 292 261 269 240 q 346 282 314 282 q 399 261 378 282 q 421 208 421 240 q 399 154 421 175 q 346 133 378 133 q 292 154 314 133 q 269 208 269 175 m 47 501 l 643 501 l 643 415 l 47 415 l 47 501 z "},"∙":{ha:697,x_min:261,x_max:426,o:"m 261 451 q 285 516 261 492 q 344 540 310 540 q 402 516 378 540 q 426 451 426 492 q 402 390 426 414 q 344 365 378 365 q 285 390 310 365 q 261 451 261 414 z "},"=":{ha:690,x_min:47,x_max:643,o:"m 47 650 l 643 650 l 643 564 l 47 564 l 47 650 m 47 354 l 643 354 l 643 268 l 47 268 l 47 354 z "},"<":{ha:690,x_min:47,x_max:643,o:"m 47 507 l 643 740 l 643 642 l 350 533 l 164 464 l 164 458 l 350 389 l 643 281 l 643 182 l 47 415 l 47 507 z "},">":{ha:690,x_min:47,x_max:643,o:"m 643 415 l 47 182 l 47 281 l 340 389 l 526 458 l 526 464 l 340 533 l 47 642 l 47 740 l 643 507 l 643 415 z "},"≤":{ha:690,x_min:47,x_max:643,o:"m 47 86 l 643 86 l 643 0 l 47 0 l 47 86 m 47 528 l 643 740 l 643 642 l 351 540 l 164 479 l 164 474 l 351 413 l 643 311 l 643 213 l 47 425 l 47 528 z "},"≥":{ha:690,x_min:47,x_max:643,o:"m 47 86 l 643 86 l 643 0 l 47 0 l 47 86 m 643 425 l 47 213 l 47 311 l 339 413 l 526 474 l 526 479 l 339 540 l 47 642 l 47 740 l 643 528 l 643 425 z "},"±":{ha:690,x_min:47,x_max:643,o:"m 300 422 l 47 422 l 47 508 l 300 508 l 300 772 l 390 772 l 390 508 l 643 508 l 643 422 l 390 422 l 390 176 l 300 176 l 300 422 m 47 86 l 643 86 l 643 0 l 47 0 l 47 86 z "},"^":{ha:690,x_min:83,x_max:607,o:"m 294 931 l 396 931 l 607 394 l 507 394 l 417 639 l 349 824 l 343 824 l 274 639 l 183 394 l 83 394 l 294 931 z "},"≠":{ha:690,x_min:47,x_max:643,o:"m 190 267 l 47 267 l 47 353 l 240 353 l 367 564 l 47 564 l 47 650 l 417 650 l 522 826 l 606 826 l 500 650 l 643 650 l 643 564 l 450 564 l 324 353 l 643 353 l 643 267 l 274 267 l 168 90 l 85 90 l 190 267 z "},"~":{ha:690,x_min:50,x_max:640,o:"m 50 435 q 133 531 88 501 q 224 560 179 560 q 298 542 265 560 q 359 501 331 524 q 414 461 388 479 q 469 443 440 443 q 526 463 500 443 q 576 528 553 483 l 640 481 q 557 385 603 414 q 467 357 511 357 q 392 375 425 357 q 331 415 360 393 q 276 456 303 438 q 221 474 250 474 q 164 453 190 474 q 114 389 138 433 l 50 435 z "},"≈":{ha:690,x_min:50,x_max:640,o:"m 50 583 q 133 679 88 650 q 224 708 179 708 q 298 690 265 708 q 359 650 331 672 q 414 610 388 628 q 469 592 440 592 q 526 612 500 592 q 576 676 553 632 l 640 629 q 557 534 603 563 q 467 506 511 506 q 392 524 425 506 q 331 564 360 542 q 276 604 303 586 q 221 622 250 622 q 164 602 190 622 q 114 538 138 582 l 50 583 m 50 288 q 133 383 88 354 q 224 413 179 413 q 298 394 265 413 q 359 354 331 376 q 414 314 388 332 q 469 296 440 296 q 526 316 500 296 q 576 381 553 336 l 640 333 q 557 238 603 267 q 467 210 511 210 q 392 228 425 210 q 331 268 360 246 q 276 308 303 290 q 221 326 250 326 q 164 306 190 326 q 114 242 138 286 l 50 288 z "},"¬":{ha:690,x_min:47,x_max:643,o:"m 47 501 l 643 501 l 643 144 l 551 144 l 551 415 l 47 415 l 47 501 z "},π:{ha:779,x_min:33,x_max:736,o:"m 153 581 l 33 581 l 33 668 l 129 675 l 736 675 l 736 581 l 633 581 l 633 149 q 645 97 633 115 q 681 78 657 78 q 695 80 688 78 q 714 85 703 82 l 729 -3 q 653 -17 697 -17 q 548 30 578 -17 q 518 157 518 76 l 518 581 l 265 581 l 265 0 l 153 0 l 153 581 z "},"∞":{ha:1086,x_min:56,x_max:1031,o:"m 265 231 q 184 248 222 231 q 117 295 146 265 q 72 365 89 325 q 56 450 56 404 q 73 549 56 506 q 120 624 90 593 q 192 671 150 654 q 282 688 233 688 q 359 674 324 688 q 424 640 394 661 q 476 592 453 618 q 518 542 499 567 l 524 542 q 577 605 549 575 q 639 658 606 635 q 710 696 672 682 q 793 710 749 710 q 888 692 844 710 q 963 641 932 674 q 1013 564 994 608 q 1031 467 1031 519 q 1013 358 1031 407 q 963 276 994 310 q 887 223 931 242 q 792 204 843 204 q 638 249 703 204 q 511 374 574 294 l 506 374 q 464 328 488 353 q 410 281 440 303 q 344 245 381 260 q 265 231 308 231 m 565 472 q 676 353 624 394 q 793 313 728 313 q 856 324 828 313 q 902 357 883 336 q 931 405 921 378 q 940 463 940 432 q 899 577 940 533 q 782 621 857 621 q 669 583 722 621 q 565 472 617 544 m 276 318 q 381 356 335 318 q 463 446 426 393 q 372 542 418 506 q 274 578 326 578 q 181 545 217 578 q 144 454 144 513 q 183 357 144 396 q 276 318 221 318 z "},µ:{ha:764,x_min:114,x_max:650,o:"m 114 675 l 228 675 l 228 263 q 258 124 228 167 q 356 82 289 82 q 448 109 408 82 q 536 196 488 136 l 536 675 l 650 675 l 650 0 l 556 0 l 546 106 l 543 106 q 455 20 503 51 q 349 -11 407 -11 q 276 1 308 -11 q 221 49 244 13 l 228 -76 l 228 -278 l 114 -278 l 114 675 z "},"∂":{ha:733,x_min:56,x_max:676,o:"m 319 78 q 472 153 410 78 q 556 367 533 228 q 460 449 508 425 q 367 472 413 472 q 277 456 315 472 q 214 410 239 439 q 176 342 189 382 q 164 257 164 303 q 176 183 164 215 q 210 126 189 150 q 260 90 232 103 q 319 78 288 78 m 163 840 q 262 909 207 885 q 382 933 317 933 q 597 828 517 933 q 676 507 676 722 q 650 294 676 390 q 575 128 624 197 q 458 22 526 60 q 308 -17 390 -17 q 213 2 258 -17 q 132 55 167 21 q 76 138 97 89 q 56 250 56 188 q 76 376 56 318 q 136 475 97 433 q 231 540 175 517 q 357 564 286 564 q 469 538 414 564 q 564 464 524 511 q 565 487 565 475 q 565 510 565 499 q 513 761 565 683 q 371 839 460 839 q 287 820 326 839 q 215 768 247 801 l 163 840 z "},"∫":{ha:461,x_min:72,x_max:426,o:"m 86 -124 q 133 -129 101 -129 q 210 -72 193 -129 q 226 93 226 -15 q 217 257 226 169 q 197 435 208 344 q 177 613 186 525 q 168 779 168 701 q 176 904 168 846 q 205 1005 183 963 q 264 1072 226 1047 q 361 1096 301 1096 q 400 1093 382 1096 q 426 1088 418 1090 l 413 1001 q 391 1006 403 1004 q 364 1007 379 1007 q 290 948 307 1007 q 274 782 274 889 q 283 619 274 707 q 302 442 292 532 q 322 263 313 351 q 331 99 331 175 q 323 -28 331 31 q 294 -128 315 -86 q 236 -195 274 -171 q 139 -219 199 -219 q 72 -210 94 -219 l 86 -124 l 86 -124 z "},"√":{ha:774,x_min:57,x_max:779,o:"m 403 82 q 415 38 410 60 q 426 -7 421 15 l 432 -7 q 440 38 436 15 q 449 82 444 60 l 696 1139 l 779 1139 l 478 -132 l 390 -132 l 182 463 l 83 418 l 57 481 l 242 563 l 403 82 z "},"∆":{ha:822,x_min:42,x_max:782,o:"m 42 69 l 344 917 l 478 917 l 782 69 l 782 0 l 42 0 l 42 69 m 651 99 l 504 519 l 415 797 l 410 797 l 319 519 l 172 99 l 651 99 z "},Ω:{ha:953,x_min:60,x_max:893,o:"m 60 94 l 244 94 l 244 100 q 185 168 215 129 q 132 255 156 207 q 94 361 108 303 q 79 489 79 419 q 108 673 79 590 q 188 813 136 756 q 313 902 240 871 q 476 933 386 933 q 639 902 565 933 q 765 813 713 871 q 845 673 817 756 q 874 489 874 590 q 859 361 874 419 q 821 255 844 303 q 767 168 797 207 q 708 100 738 129 l 708 94 l 893 94 l 893 0 l 563 0 l 563 78 q 638 149 603 108 q 699 239 674 189 q 740 350 725 289 q 754 485 754 411 q 735 626 754 563 q 680 736 715 690 q 592 807 644 782 q 476 832 540 832 q 360 807 411 832 q 272 736 308 782 q 217 626 236 690 q 199 485 199 563 q 213 350 199 411 q 253 239 228 289 q 315 149 279 189 q 390 78 350 108 l 390 0 l 60 0 l 60 94 z "},"∑":{ha:700,x_min:31,x_max:696,o:"m 361 360 l 46 813 l 46 886 l 657 886 l 657 788 l 189 788 l 189 782 l 483 361 l 175 -62 l 175 -68 l 696 -68 l 696 -167 l 31 -167 l 31 -93 l 361 360 z "},"∏":{ha:935,x_min:124,x_max:813,o:"m 124 886 l 813 886 l 813 -167 l 694 -167 l 694 785 l 239 785 l 239 -167 l 124 -167 l 124 886 z "},ℓ:{ha:568,x_min:29,x_max:558,o:"m 261 426 q 389 599 343 510 q 435 785 435 688 q 412 883 435 854 q 354 913 389 913 q 289 866 317 913 q 261 718 261 819 l 261 426 m 558 71 q 476 11 522 39 q 369 -17 431 -17 q 219 43 282 -17 q 149 221 156 103 q 113 196 131 208 q 75 171 94 183 l 29 243 q 91 285 61 264 q 149 328 121 306 l 149 699 q 164 836 149 779 q 206 930 179 893 q 271 983 233 967 q 351 1000 308 1000 q 481 944 431 1000 q 532 785 532 889 q 460 535 532 654 q 261 307 389 415 l 261 258 q 297 121 261 161 q 385 81 333 81 q 458 99 428 81 q 513 142 488 118 l 558 71 z "},"℮":{ha:1111,x_min:64,x_max:1047,o:"m 256 150 q 390 48 313 85 q 558 11 468 11 q 735 53 653 11 q 875 167 817 96 l 947 167 q 776 33 878 83 q 556 -17 675 -17 q 363 20 453 -17 q 207 120 274 57 q 102 268 140 183 q 64 450 64 353 q 102 632 64 547 q 207 780 140 717 q 363 880 274 843 q 556 917 453 917 q 747 880 657 917 q 903 780 836 843 q 1008 632 969 717 q 1047 450 1047 547 l 1047 439 l 250 439 q 244 433 244 439 l 244 178 q 248 163 244 169 q 256 150 251 157 m 861 464 q 869 472 869 464 l 869 728 q 856 758 869 744 q 721 854 797 819 q 558 889 644 889 q 391 852 468 889 q 256 753 314 815 q 248 738 251 746 q 244 722 244 731 l 244 472 q 250 464 244 464 l 861 464 z "},"←":{ha:860,x_min:36,x_max:804,o:"m 36 353 l 415 721 l 474 657 l 194 397 l 804 397 l 804 303 l 194 303 l 474 43 l 415 -21 l 36 347 l 36 353 z "},"↑":{ha:860,x_min:58,x_max:801,o:"m 432 732 l 801 354 l 736 296 l 476 575 l 476 -35 l 382 -35 l 382 575 l 122 296 l 58 354 l 426 732 l 432 732 z "},"→":{ha:860,x_min:54,x_max:821,o:"m 821 347 l 443 -21 l 383 43 l 663 303 l 54 303 l 54 397 l 663 397 l 383 657 l 443 721 l 821 353 l 821 347 z "},"↓":{ha:860,x_min:58,x_max:801,o:"m 426 -35 l 58 344 l 122 403 l 382 124 l 382 732 l 476 732 l 476 124 l 736 403 l 801 344 l 432 -35 l 426 -35 z "},"■":{ha:425,x_min:75,x_max:350,o:"m 75 507 l 350 507 l 350 225 l 75 225 l 75 507 z "},"◆":{ha:425,x_min:17,x_max:407,o:"m 17 365 l 213 560 l 407 365 l 213 171 l 17 365 z "},"◉":{ha:617,x_min:57,x_max:560,o:"m 308 281 q 253 304 276 281 q 229 365 229 328 q 253 426 229 403 q 308 449 276 449 q 365 426 340 449 q 389 365 389 403 q 365 304 389 328 q 308 281 340 281 m 308 110 q 211 128 257 110 q 131 179 165 146 q 77 260 97 213 q 57 365 57 307 q 77 471 57 424 q 131 551 97 518 q 211 603 165 585 q 308 621 257 621 q 406 603 360 621 q 485 551 451 585 q 540 471 519 518 q 560 365 560 424 q 540 260 560 307 q 485 179 519 213 q 406 128 451 146 q 308 110 360 110 m 308 178 q 376 190 343 178 q 433 227 408 203 q 473 286 458 251 q 488 365 488 321 q 473 445 488 410 q 433 505 458 481 q 376 542 408 529 q 308 554 343 554 q 242 542 274 554 q 185 505 210 529 q 145 445 160 481 q 131 365 131 410 q 145 286 131 321 q 185 227 160 251 q 242 190 210 203 q 308 178 274 178 z "},"❒":{ha:522,x_min:75,x_max:447,o:"m 347 219 l 347 449 l 128 449 l 128 219 l 347 219 m 75 481 l 157 549 l 447 549 l 447 250 l 379 169 l 75 169 l 75 481 z "},"▲":{ha:793,x_min:32,x_max:761,o:"m 32 56 l 394 742 l 400 742 l 761 56 l 761 53 l 32 53 l 32 56 z "},"△":{ha:793,x_min:32,x_max:761,o:"m 619 133 l 397 568 l 176 133 l 619 133 m 32 56 l 394 742 l 400 742 l 761 56 l 761 53 l 32 53 l 32 56 z "},"▶":{ha:793,x_min:79,x_max:768,o:"m 79 756 l 82 756 l 768 394 l 768 389 l 82 26 l 79 26 l 79 756 z "},"▷":{ha:793,x_min:79,x_max:768,o:"m 592 392 l 161 613 l 161 169 l 592 392 m 79 756 l 82 756 l 768 394 l 768 389 l 82 26 l 79 26 l 79 756 z "},"▼":{ha:793,x_min:32,x_max:761,o:"m 32 726 l 32 729 l 761 729 l 761 726 l 400 42 l 394 42 l 32 726 z "},"▽":{ha:793,x_min:32,x_max:761,o:"m 176 649 l 397 213 l 619 649 l 176 649 m 32 729 l 761 729 l 761 726 l 400 40 l 394 40 l 32 726 l 32 729 z "},"◀":{ha:793,x_min:25,x_max:714,o:"m 25 394 l 711 756 l 714 756 l 714 26 l 711 26 l 25 389 l 25 394 z "},"◁":{ha:793,x_min:25,x_max:714,o:"m 631 169 l 631 613 l 201 392 l 631 169 m 714 26 l 711 26 l 25 389 l 25 394 l 711 756 l 714 756 l 714 26 z "},"☐":{ha:1110,x_min:103,x_max:1007,o:"m 903 46 l 903 829 l 163 829 l 163 46 l 903 46 m 103 861 l 188 932 l 1007 932 l 1007 71 l 933 -14 l 103 -14 l 103 861 z "},"☑":{ha:1110,x_min:103,x_max:1118,o:"m 903 786 q 731 497 808 654 q 604 158 654 339 l 485 144 q 399 346 447 251 q 290 529 350 440 l 368 582 q 462 414 419 501 q 532 239 504 326 l 538 239 q 655 543 582 392 q 819 829 728 694 l 163 829 l 163 46 l 903 46 l 903 786 m 1118 1035 q 1007 919 1061 982 l 1007 71 l 933 -14 l 103 -14 l 103 861 l 188 932 l 893 932 q 967 1023 929 981 q 1044 1104 1006 1065 l 1118 1035 z "},"✓":{ha:850,x_min:0,x_max:856,o:"m 210 -28 q 117 187 168 88 q 0 382 67 286 l 78 435 q 183 253 136 347 q 261 67 229 160 l 267 67 q 358 314 304 190 q 479 552 413 438 q 622 768 546 667 q 781 950 699 869 l 856 881 q 696 708 774 804 q 550 497 618 611 q 425 255 482 383 q 329 -14 368 126 l 210 -28 z "},"♪":{ha:699,x_min:40,x_max:668,o:"m 40 72 q 56 133 40 104 q 101 185 72 163 q 171 222 131 208 q 260 235 211 235 q 310 230 288 235 q 343 218 333 225 l 343 964 l 413 964 q 424 940 418 950 q 440 919 429 929 q 467 895 450 908 q 510 864 483 882 q 588 799 557 831 q 636 734 618 767 q 661 666 654 701 q 668 592 668 631 q 653 490 668 538 q 624 410 639 442 l 575 428 q 590 490 586 461 q 593 556 593 518 q 548 680 593 622 q 419 764 503 738 l 419 199 q 400 98 419 142 q 348 25 381 54 q 272 -19 315 -4 q 181 -33 228 -33 q 82 -7 124 -33 q 40 72 40 19 z "},"◊":{ha:718,x_min:78,x_max:640,o:"m 78 458 l 307 931 l 411 931 l 640 458 l 411 -14 l 307 -14 l 78 458 m 363 82 l 449 267 l 539 458 l 449 649 l 363 835 l 357 835 l 269 649 l 179 458 l 269 267 l 357 82 l 363 82 z "},"′":{ha:346,x_min:113,x_max:257,o:"m 144 958 l 257 958 l 235 819 l 188 603 l 113 603 l 144 958 z "},"″":{ha:592,x_min:113,x_max:503,o:"m 144 958 l 257 958 l 235 819 l 188 603 l 113 603 l 144 958 m 390 958 l 503 958 l 481 819 l 433 603 l 358 603 l 390 958 z "},ʻ:{ha:346,x_min:79,x_max:260,o:"m 260 913 q 181 839 207 878 q 154 740 154 800 q 167 742 158 742 q 217 724 194 742 q 240 671 240 706 q 219 615 240 635 q 167 594 199 594 q 102 626 125 594 q 79 719 79 658 q 117 864 79 803 q 226 967 154 925 l 260 913 z "},ʼ:{ha:346,x_min:88,x_max:268,o:"m 88 651 q 166 725 140 686 q 192 825 192 764 q 181 824 188 824 q 129 842 151 824 q 107 893 107 860 q 128 950 107 929 q 181 971 149 971 q 244 938 221 971 q 268 844 268 906 q 230 701 268 761 q 119 599 192 640 l 88 651 z "},ʾ:{ha:208,x_min:42,x_max:196,o:"m 42 803 q 110 824 90 803 q 131 882 131 846 q 110 938 131 917 q 42 960 90 960 l 42 1010 q 156 977 117 1013 q 196 882 196 942 q 156 785 196 821 q 42 753 117 750 l 42 803 z "},ʿ:{ha:225,x_min:28,x_max:182,o:"m 182 960 q 113 938 133 960 q 93 882 93 917 q 113 824 93 846 q 182 803 133 803 l 182 753 q 67 785 107 750 q 28 882 28 821 q 67 977 28 942 q 182 1010 107 1013 l 182 960 z "},"`":{ha:753,x_min:222,x_max:467,o:"m 222 992 l 342 992 l 467 796 l 379 796 l 222 992 z "},"´":{ha:753,x_min:286,x_max:531,o:"m 374 796 l 286 796 l 411 992 l 531 992 l 374 796 z "},"ˆ":{ha:753,x_min:197,x_max:556,o:"m 329 992 l 424 992 l 556 796 l 472 796 l 379 922 l 374 922 l 281 796 l 197 796 l 329 992 z "},"ˇ":{ha:753,x_min:197,x_max:556,o:"m 197 992 l 281 992 l 374 864 l 379 864 l 472 992 l 556 992 l 424 796 l 329 796 l 197 992 z "},"ˈ":{ha:158,x_min:31,x_max:128,o:"m 31 994 l 128 994 l 119 740 l 39 740 l 31 994 z "},"ˉ":{ha:385,x_min:22,x_max:364,o:"m 22 914 l 364 914 l 364 835 l 22 835 l 22 914 z "},"ˊ":{ha:313,x_min:64,x_max:308,o:"m 151 796 l 64 796 l 189 992 l 308 992 l 151 796 z "},"ˋ":{ha:313,x_min:0,x_max:244,o:"m 0 992 l 119 992 l 244 796 l 157 796 l 0 992 z "},"ˌ":{ha:158,x_min:31,x_max:128,o:"m 119 -99 l 128 -353 l 31 -353 l 39 -99 l 119 -99 z "},"˜":{ha:753,x_min:183,x_max:569,o:"m 183 804 q 217 909 189 867 q 296 951 244 951 q 344 940 322 951 q 385 916 367 929 q 421 892 404 903 q 454 881 438 881 q 506 951 493 881 l 569 951 q 536 847 564 889 q 457 804 508 804 q 409 815 431 804 q 369 840 388 826 q 333 864 350 853 q 299 875 317 875 q 247 804 260 875 l 183 804 l 183 804 z "},"¨":{ha:753,x_min:189,x_max:564,o:"m 257 817 q 208 836 226 817 q 189 885 189 856 q 208 933 189 914 q 257 953 226 953 q 306 933 286 953 q 325 885 325 914 q 306 836 325 856 q 257 817 286 817 m 496 817 q 447 836 467 817 q 428 885 428 856 q 447 933 428 914 q 496 953 467 953 q 545 933 526 953 q 564 885 564 914 q 545 836 564 856 q 496 817 526 817 z "},"¯":{ha:753,x_min:206,x_max:547,o:"m 206 914 l 547 914 l 547 835 l 206 835 l 206 914 z "},"˘":{ha:753,x_min:201,x_max:551,o:"m 376 799 q 299 815 332 799 q 246 856 267 831 q 214 913 225 882 q 201 975 203 944 l 272 975 q 303 902 278 935 q 376 869 328 869 q 450 902 425 869 q 481 975 475 935 l 551 975 q 538 913 549 944 q 507 856 528 882 q 453 815 486 831 q 376 799 421 799 z "},"˚":{ha:753,x_min:247,x_max:506,o:"m 376 753 q 283 788 319 753 q 247 882 247 824 q 283 975 247 940 q 376 1010 319 1010 q 469 975 433 1010 q 506 882 506 940 q 469 788 506 824 q 376 753 433 753 m 376 804 q 424 825 404 804 q 443 882 443 846 q 424 938 443 917 q 376 958 404 958 q 329 938 349 958 q 310 882 310 917 q 329 825 310 846 q 376 804 349 804 z "},"˝":{ha:753,x_min:240,x_max:643,o:"m 338 992 l 439 992 l 317 793 l 240 793 l 338 992 m 543 992 l 643 992 l 521 793 l 444 793 l 543 992 z "},"˙":{ha:753,x_min:301,x_max:451,o:"m 376 814 q 323 835 344 814 q 301 889 301 856 q 323 942 301 921 q 376 964 344 964 q 430 942 408 964 q 451 889 451 921 q 430 835 451 856 q 376 814 408 814 z "},"¸":{ha:753,x_min:267,x_max:479,o:"m 358 4 l 432 4 l 397 -69 q 455 -103 431 -81 q 479 -168 479 -125 q 463 -221 479 -199 q 418 -258 446 -243 q 353 -283 390 -274 q 278 -296 317 -292 l 267 -239 q 356 -216 322 -232 q 390 -172 390 -200 q 367 -130 390 -144 q 303 -104 344 -115 l 358 4 z "},"˛":{ha:753,x_min:285,x_max:519,o:"m 285 -168 q 317 -67 285 -111 q 383 4 349 -22 l 464 4 q 394 -67 419 -29 q 369 -146 369 -106 q 389 -194 369 -178 q 433 -210 408 -210 q 489 -192 464 -210 l 519 -249 q 468 -275 500 -264 q 410 -286 436 -286 q 321 -256 357 -286 q 285 -168 285 -226 z "},"̀":{ha:0,x_min:-154,x_max:90,o:"m -154 992 l -35 992 l 90 796 l 3 796 l -154 992 z "},"́":{ha:0,x_min:-90,x_max:154,o:"m -3 796 l -90 796 l 35 992 l 154 992 l -3 796 z "},"̂":{ha:0,x_min:-179,x_max:179,o:"m -47 992 l 47 992 l 179 796 l 96 796 l 3 922 l -3 922 l -96 796 l -179 796 l -47 992 z "},"̃":{ha:0,x_min:-193,x_max:193,o:"m -193 804 q -160 909 -187 867 q -81 951 -132 951 q -32 940 -54 951 q 9 916 -10 929 q 44 892 28 903 q 78 881 61 881 q 129 951 117 881 l 193 951 q 160 847 188 889 q 81 804 132 804 q 33 815 54 804 q -8 840 11 826 q -43 864 -26 853 q -78 875 -60 875 q -129 804 -117 875 l -193 804 l -193 804 z "},"̄":{ha:0,x_min:-171,x_max:171,o:"m -171 914 l 171 914 l 171 835 l -171 835 l -171 914 z "},"̆":{ha:0,x_min:-175,x_max:175,o:"m 0 799 q -77 815 -44 799 q -131 856 -110 831 q -162 913 -151 882 q -175 975 -174 944 l -104 975 q -74 902 -99 935 q 0 869 -49 869 q 74 902 49 869 q 104 975 99 935 l 175 975 q 162 913 172 944 q 131 856 151 882 q 77 815 110 831 q 0 799 44 799 z "},"̇":{ha:0,x_min:-75,x_max:75,o:"m 0 814 q -53 835 -32 814 q -75 889 -75 856 q -53 942 -75 921 q 0 964 -32 964 q 53 942 32 964 q 75 889 75 921 q 53 835 75 856 q 0 814 32 814 z "},"̈":{ha:0,x_min:-187,x_max:188,o:"m -119 817 q -169 836 -150 817 q -187 885 -187 856 q -169 933 -187 914 q -119 953 -150 953 q -71 933 -90 953 q -51 885 -51 914 q -71 836 -51 856 q -119 817 -90 817 m 119 817 q 71 836 90 817 q 51 885 51 856 q 71 933 51 914 q 119 953 90 953 q 169 933 150 953 q 188 885 188 914 q 169 836 188 856 q 119 817 150 817 z "},"̉":{ha:0,x_min:-89,x_max:115,o:"m -51 821 q 4 844 -18 831 q 26 885 26 858 q -89 943 26 939 l -76 1010 q 65 978 15 1007 q 115 897 115 950 q 103 845 115 867 q 69 808 90 824 q 19 783 47 792 q -39 768 -8 774 l -51 821 z "},"̊":{ha:0,x_min:-129,x_max:129,o:"m 0 753 q -93 788 -57 753 q -129 882 -129 824 q -93 975 -129 940 q 0 1010 -57 1010 q 93 975 57 1010 q 129 882 129 940 q 93 788 129 824 q 0 753 57 753 m 0 804 q 47 825 28 804 q 67 882 67 846 q 47 938 67 917 q 0 958 28 958 q -47 938 -28 958 q -67 882 -67 917 q -47 825 -67 846 q 0 804 -28 804 z "},"̋":{ha:0,x_min:-136,x_max:267,o:"m -39 992 l 63 992 l -60 793 l -136 793 l -39 992 m 167 992 l 267 992 l 144 793 l 68 793 l 167 992 z "},"̌":{ha:0,x_min:-179,x_max:179,o:"m -179 992 l -96 992 l -3 864 l 3 864 l 96 992 l 179 992 l 47 796 l -47 796 l -179 992 z "},"̏":{ha:0,x_min:-267,x_max:136,o:"m 136 793 l 60 793 l -62 992 l 39 992 l 136 793 m -68 793 l -144 793 l -267 992 l -167 992 l -68 793 z "},"̒":{ha:0,x_min:-74,x_max:64,o:"m 64 972 q 6 928 24 953 q -15 872 -12 904 q -4 874 -11 874 q 35 860 17 874 q 53 819 53 847 q 37 772 53 788 q -3 757 21 757 q -74 853 -74 757 q -47 945 -74 901 q 39 1017 -21 989 l 64 972 z "},"̓":{ha:0,x_min:-65,x_max:71,o:"m -65 800 q 14 900 10 836 q 1 899 10 899 q -37 912 -19 899 q -56 953 -56 925 q -39 999 -56 983 q 1 1014 -22 1014 q 71 918 71 1014 q 44 826 71 869 q -42 756 18 783 l -65 800 z "},"̛":{ha:0,x_min:-12,x_max:199,o:"m -12 661 q 75 690 46 669 q 104 753 104 711 q 99 783 104 768 q 85 811 93 797 l 167 851 q 190 810 181 832 q 199 761 199 788 q 183 696 199 724 q 141 649 168 668 q 78 619 114 631 q -1 604 42 608 l -12 661 z "},"̣":{ha:0,x_min:-75,x_max:75,o:"m 0 -286 q -53 -265 -32 -286 q -75 -211 -75 -244 q -53 -158 -75 -179 q 0 -137 -32 -137 q 53 -158 32 -137 q 75 -211 75 -179 q 53 -265 75 -244 q 0 -286 32 -286 z "},"̤":{ha:0,x_min:-187,x_max:188,o:"m -119 -279 q -169 -259 -150 -279 q -187 -211 -187 -239 q -169 -162 -187 -182 q -119 -143 -150 -143 q -71 -162 -90 -143 q -51 -211 -51 -182 q -71 -259 -51 -239 q -119 -279 -90 -279 m 119 -279 q 71 -259 90 -279 q 51 -211 51 -239 q 71 -162 51 -182 q 119 -143 90 -143 q 169 -162 150 -143 q 188 -211 188 -182 q 169 -259 188 -239 q 119 -279 150 -279 z "},"̦":{ha:0,x_min:-118,x_max:94,o:"m -40 -67 q 63 -102 31 -78 q 94 -174 94 -126 q 78 -226 94 -204 q 33 -264 61 -249 q -31 -288 6 -279 q -107 -300 -68 -297 l -118 -244 q -28 -223 -62 -237 q 6 -181 6 -208 q -15 -140 6 -153 q -65 -119 -36 -126 l -40 -67 l -40 -67 z "},"̧":{ha:0,x_min:-118,x_max:94,o:"m -26 4 l 47 4 l 13 -69 q 70 -103 46 -81 q 94 -168 94 -125 q 78 -221 94 -199 q 33 -258 61 -243 q -31 -283 6 -274 q -107 -296 -68 -292 l -118 -239 q -28 -216 -62 -232 q 6 -172 6 -200 q -17 -130 6 -144 q -82 -104 -40 -115 l -26 4 z "},"̨":{ha:0,x_min:-92,x_max:143,o:"m -92 -168 q -60 -67 -92 -111 q 7 4 -28 -22 l 88 4 q 18 -67 43 -29 q -7 -146 -7 -106 q 13 -194 -7 -178 q 57 -210 32 -210 q 113 -192 88 -210 l 143 -249 q 92 -275 124 -264 q 33 -286 60 -286 q -56 -256 -19 -286 q -92 -168 -92 -226 z "},"̮":{ha:0,x_min:-175,x_max:175,o:"m 0 -286 q -77 -270 -44 -286 q -131 -228 -110 -254 q -162 -172 -151 -203 q -175 -110 -174 -140 l -104 -110 q -74 -183 -99 -150 q 0 -215 -49 -215 q 74 -183 49 -215 q 104 -110 99 -150 l 175 -110 q 162 -172 172 -140 q 131 -228 151 -203 q 77 -270 110 -254 q 0 -286 44 -286 z "},"̱":{ha:0,x_min:-172,x_max:171,o:"m 171 -237 l -172 -237 l -172 -157 l 171 -157 l 171 -237 z "}," ":{ha:281,x_min:0,x_max:0,o:""}," ":{ha:690,x_min:0,x_max:0,o:""},"Ƀ":{ha:838,x_min:42,x_max:785,o:"m 424 88 q 607 134 542 88 q 672 278 672 181 q 608 410 672 368 q 424 451 543 451 l 264 451 l 264 311 l 475 311 l 475 246 l 264 246 l 264 88 l 424 88 m 264 528 l 400 528 q 569 567 517 528 q 621 683 621 607 q 566 792 621 758 q 404 825 511 825 l 264 825 l 264 528 m 574 494 q 729 424 674 479 q 785 272 785 368 q 760 152 785 203 q 689 67 735 101 q 580 17 643 33 q 440 0 517 0 l 149 0 l 149 246 l 42 246 l 42 306 l 149 311 l 149 911 l 419 911 q 547 899 489 911 q 645 860 604 886 q 709 792 686 833 q 732 692 732 750 q 693 573 732 625 q 574 500 654 521 l 574 494 z "},Ĭ:{ha:358,x_min:8,x_max:350,o:"m 121 911 l 238 911 l 238 0 l 121 0 l 121 911 m 179 983 q 107 997 138 983 q 56 1031 76 1010 q 24 1079 35 1051 q 8 1136 13 1107 l 78 1136 q 108 1076 85 1103 q 179 1049 132 1049 q 250 1076 226 1049 q 281 1136 274 1103 l 350 1136 q 335 1079 346 1107 q 303 1031 324 1051 q 251 997 282 1010 q 179 983 221 983 z "},Ŏ:{ha:915,x_min:68,x_max:847,o:"m 458 -17 q 301 17 372 -17 q 177 112 229 50 q 97 262 125 174 q 68 460 68 350 q 97 656 68 569 q 177 803 125 743 q 301 896 229 864 q 458 928 372 928 q 615 895 543 928 q 738 802 686 863 q 819 655 790 742 q 847 460 847 568 q 819 262 847 350 q 738 112 790 174 q 615 17 686 50 q 458 -17 543 -17 m 458 85 q 569 111 519 85 q 653 187 618 138 q 708 305 689 236 q 728 460 728 374 q 708 613 728 544 q 653 728 689 681 q 569 801 618 775 q 458 826 519 826 q 347 801 397 826 q 262 728 297 775 q 207 613 226 681 q 188 460 188 544 q 207 305 188 374 q 262 187 226 236 q 347 111 297 138 q 458 85 397 85 m 457 983 q 385 997 415 983 q 333 1031 354 1010 q 301 1079 313 1051 q 286 1136 290 1107 l 356 1136 q 386 1076 363 1103 q 457 1049 410 1049 q 528 1076 504 1049 q 558 1136 551 1103 l 628 1136 q 613 1079 624 1107 q 581 1031 601 1051 q 529 997 560 1010 q 457 983 499 983 z "},ƀ:{ha:756,x_min:11,x_max:704,o:"m 228 150 q 316 95 272 111 q 393 79 360 79 q 470 97 435 79 q 531 147 506 114 q 572 226 557 179 q 586 333 586 274 q 545 503 586 439 q 408 568 504 568 q 228 476 326 568 l 228 150 m 225 569 q 325 637 271 610 q 436 664 379 664 q 551 640 501 664 q 635 574 601 617 q 687 471 669 532 q 704 335 704 410 q 681 186 704 251 q 617 76 657 121 q 524 7 576 31 q 413 -17 471 -17 q 315 5 365 -17 q 219 67 264 26 l 215 67 l 206 0 l 114 0 l 114 793 l 11 793 l 11 853 l 114 860 l 114 989 l 228 989 l 228 860 l 481 860 l 481 793 l 228 793 l 228 692 l 225 569 z "},ĭ:{ha:342,x_min:-3,x_max:347,o:"m 114 675 l 228 675 l 228 0 l 114 0 l 114 675 m 172 799 q 95 815 128 799 q 42 856 63 831 q 10 913 21 882 q -3 975 -1 944 l 68 975 q 99 902 74 935 q 172 869 124 869 q 246 902 221 869 q 276 975 271 935 l 347 975 q 334 913 344 944 q 303 856 324 882 q 249 815 282 831 q 172 799 217 799 z "},ŏ:{ha:753,x_min:64,x_max:689,o:"m 64 336 q 90 487 64 421 q 158 599 115 553 q 258 668 201 644 q 376 692 314 692 q 495 668 439 692 q 594 599 551 644 q 663 487 638 553 q 689 336 689 421 q 663 187 689 253 q 594 76 638 121 q 495 7 551 31 q 376 -17 439 -17 q 258 7 314 -17 q 158 76 201 31 q 90 187 115 121 q 64 336 64 253 m 182 336 q 196 231 182 278 q 235 149 210 183 q 297 97 261 115 q 376 78 333 78 q 456 97 419 78 q 517 149 492 115 q 557 231 543 183 q 571 336 571 278 q 557 442 571 394 q 517 525 543 490 q 456 578 492 560 q 376 597 419 597 q 297 578 333 597 q 235 525 261 560 q 196 442 210 490 q 182 336 182 394 m 376 799 q 299 815 332 799 q 246 856 267 831 q 214 913 225 882 q 201 975 203 944 l 272 975 q 303 902 278 935 q 376 869 328 869 q 450 902 425 869 q 481 975 475 935 l 551 975 q 538 913 549 944 q 507 856 528 882 q 453 815 486 831 q 376 799 421 799 z "}},ime="Source Sans Pro",rme=1367,ome=-379,ame=-104,sme=69,lme={yMin:-449,xMin:-267,yMax:1322,xMax:1611},cme=1e3,gme={format:0,copyright:"Copyright 2010, 2012 Adobe Systems Incorporated. All Rights Reserved.",fontFamily:"Source Sans Pro",fontSubfamily:"Regular",uniqueID:"1.036;ADBE;SourceSansPro-Regular;ADOBE",fullName:"Source Sans Pro",version:"Version 1.036;PS Version 1.000;hotconv 1.0.70;makeotf.lib2.5.5900",postScriptName:"SourceSansPro-Regular",trademark:"Source is a trademark of Adobe Systems Incorporated in the United States and/or other countries.",manufacturer:"Adobe Systems Incorporated",designer:"Paul D. Hunt",manufacturerURL:"http://www.adobe.com/type",licence:`Copyright 2010, 2012 Adobe Systems Incorporated (http://www.adobe.com/), with Reserved Font Name 'Source'. All Rights Reserved. Source is a trademark of Adobe Systems Incorporated in the United States and/or other countries.\r
\r
This Font Software is licensed under the SIL Open Font License, Version 1.1.\r
\r
This license is copied below, and is also available with a FAQ at: http://scripts.sil.org/OFL\r
\r
-----------------------------------------------------------\r
SIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\r
-----------------------------------------------------------\r
\r
PREAMBLE\r
The goals of the Open Font License (OFL) are to stimulate worldwide development of collaborative font projects, to support the font creation efforts of academic and linguistic communities, and to provide a free and open framework in which fonts may be shared and improved in partnership with others.\r
\r
The OFL allows the licensed fonts to be used, studied, modified and redistributed freely as long as they are not sold by themselves. The fonts, including any derivative works, can be bundled, embedded, redistributed and/or sold with any software provided that any reserved names are not used by derivative works. The fonts and derivatives, however, cannot be released under any other type of license. The requirement for fonts to remain under this license does not apply to any document created using the fonts or their derivatives.\r
\r
DEFINITIONS\r
"Font Software" refers to the set of files released by the Copyright Holder(s) under this license and clearly marked as such. This may include source files, build scripts and documentation.\r
\r
"Reserved Font Name" refers to any names specified as such after the copyright statement(s).\r
\r
"Original Version" refers to the collection of Font Software components as distributed by the Copyright Holder(s).\r
\r
"Modified Version" refers to any derivative made by adding to, deleting, or substituting -- in part or in whole -- any of the components of the Original Version, by changing formats or by porting the Font Software to a new environment.\r
\r
"Author" refers to any designer, engineer, programmer, technical writer or other person who contributed to the Font Software.\r
\r
PERMISSION & CONDITIONS\r
Permission is hereby granted, free of charge, to any person obtaining a copy of the Font Software, to use, study, copy, merge, embed, modify, redistribute, and sell modified and unmodified copies of the Font Software, subject to the following conditions:\r
\r
1) Neither the Font Software nor any of its individual components, in Original or Modified Versions, may be sold by itself.\r
\r
2) Original or Modified Versions of the Font Software may be bundled, redistributed and/or sold with any software, provided that each copy contains the above copyright notice and this license. These can be included either as stand-alone text files, human-readable headers or in the appropriate machine-readable metadata fields within text or binary files as long as those fields can be easily viewed by the user.\r
\r
3) No Modified Version of the Font Software may use the Reserved Font Name(s) unless explicit written permission is granted by the corresponding Copyright Holder. This restriction only applies to the primary font name as presented to the users.\r
\r
4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font Software shall not be used to promote, endorse or advertise any Modified Version, except to acknowledge the contribution(s) of the Copyright Holder(s) and the Author(s) or with their explicit written permission.\r
\r
5) The Font Software, modified or unmodified, in part or in whole, must be distributed entirely under this license, and must not be distributed under any other license. The requirement for fonts to remain under this license does not apply to any document created using the Font Software.\r
\r
TERMINATION\r
This license becomes null and void if any of the above conditions are not met.\r
\r
DISCLAIMER\r
THE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.\r
`,licenceURL:"http://www.adobe.com/type/legal.html",unknown1:"Straight l",unknown2:"Alternate a",unknown3:"Alternate g",unknown4:"Serifed I"},ume="normal",dme="normal",so={glyphs:nme,familyName:ime,ascender:rme,descender:ome,underlinePosition:ame,underlineThickness:sme,boundingBox:lme,resolution:cme,original_font_information:gme,cssFontWeight:ume,cssFontStyle:dme};xr({TextGeometry:ao});function Ime(n){const e="/recorrido-virtual-espe/audios/hover1.mp3",{nodes:t,materials:i}=fe("/recorrido-virtual-espe/models/planta_baja/cartelera.glb"),r=Ai(Fr,"/recorrido-virtual-espe/img/carteleras/agropecuaria.png");r.rotation=Math.PI,r.wrapS=ws,r.repeat.x=-1,r.center.set(.5,.5);const[o,a]=v.useState(!1),s=v.useRef(null),l=f=>{new Audio(f).play()},c=()=>{l(e),a(!0),s.current&&s.current.play()},g=()=>{a(!1),s.current&&s.current.pause()};v.useEffect(()=>{const f=b=>{b.key==="Enter"&&g()};return o?document.addEventListener("keydown",f):document.removeEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[o]);const u=v.useRef(null),d=v.useRef(null);Pi(()=>{const f=Date.now()*.003,b=Math.sin(f)*.1;u.current&&(u.current.position.y=4.2+b),d.current&&(d.current.position.y=4.05+b)});const C=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{position:[71.849,5.603,-27.5],onClick:c,children:[I.jsxs("mesh",{ref:u,position:[.5,4.2,0],rotation:[0,Math.PI/2,0],children:[I.jsx("circleGeometry",{args:[.4,32]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{ref:d,position:[.51,4.05,.07],rotation:[0,Math.PI/2,0],children:[I.jsx("textGeometry",{args:["i",{font:C,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]}),I.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Plano021.geometry,material:i.mat20}),I.jsx("mesh",{name:"Plano021_1",castShadow:!0,receiveShadow:!0,geometry:t.Plano021_1.geometry,children:I.jsx("meshBasicMaterial",{map:r})})]})}),I.jsx(ba,{children:I.jsx(Hr,{title:"TÍTULO A OBTENER: INGENIERO/A AGROPECUARIO",open:o,onCancel:g,width:1e3,centered:!0,footer:[I.jsxs(I.Fragment,{children:[I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Enter' para cerrar"})," ",I.jsx("br",{}),I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Esc' para habilitar mouse"})]})],children:I.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[I.jsxs("div",{style:{paddingRight:"3%",display:"flex",flexDirection:"column",width:"70%"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexDirection:"row",gap:"5%"},children:[I.jsxs("div",{children:[I.jsx("strong",{children:"Modalidad: "})," ",I.jsx("br",{}),I.jsx("span",{children:"Presencial"})]}),I.jsxs("div",{children:[I.jsx("strong",{children:"Duración: "})," ",I.jsx("br",{}),I.jsx("span",{children:"8 semestres"})]})]}),I.jsx("br",{}),I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",gap:"5%"},children:[I.jsx("a",{href:"https://www.espe.edu.ec/ingenieria-agropecuaria/",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none"},children:"Más información"}),I.jsx("a",{href:"https://www.facebook.com/ESPE.SD.Ingenieria.Agropecuaria",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none"},children:"Redes sociales"})]}),I.jsx("br",{}),I.jsxs("div",{children:[I.jsx("strong",{children:"Perfil profesional: "})," ",I.jsx("br",{}),I.jsx("span",{children:"El Ingeniero Agropecuario es un profesional con competencias para crear, innovar y administrar sistemas agroproductivos en el marco de la soberanía alimentaria con responsabilidad social, ética y ambiental."}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("strong",{children:"Malla curricular"})," ",I.jsx("br",{}),I.jsx("a",{href:"https://www.espe.edu.ec/wp-content/uploads/2020/11/MallaIngenieriaAgropecuaria2020.pdf",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none",display:"block"},children:"Click para ver Malla curricular PDF"})]})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"30%"},children:[I.jsx("img",{style:{margin:"auto"},src:"/recorrido-virtual-espe/img/carreras/agropecuaria2.jpg",alt:"Biotecnologia",width:"100%"}),I.jsx("img",{style:{margin:"auto"},src:"/recorrido-virtual-espe/img/carreras/agropecuaria8.jpg",alt:"Biotecnologia",width:"100%"})]})]})})})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/cartelera.glb");xr({TextGeometry:ao});function Cme(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/cartelera.glb"),i="/recorrido-virtual-espe/audios/hover1.mp3",r=new oo().parse(so),o=Ai(Fr,"/recorrido-virtual-espe/img/carteleras/biotecnologia.png");o.rotation=Math.PI,o.wrapS=ws,o.repeat.x=-1,o.center.set(.5,.5);const[a,s]=v.useState(!1),l=v.useRef(null),c=f=>{new Audio(f).play()},g=()=>{c(i),s(!0),l.current&&l.current.play()},u=()=>{s(!1),l.current&&l.current.pause()};v.useEffect(()=>{const f=b=>{b.key==="Enter"&&u()};return a?document.addEventListener("keydown",f):document.removeEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[a]);const d=v.useRef(null),C=v.useRef(null);return Pi(()=>{const f=Date.now()*.003,b=Math.sin(f)*.1;d.current&&(d.current.position.y=4.2+b),C.current&&(C.current.position.y=4.05+b)}),I.jsxs(I.Fragment,{children:[I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{position:[71.849,5.603,-11.5],onClick:g,children:[I.jsxs("mesh",{ref:d,position:[.5,4.2,0],rotation:[0,Math.PI/2,0],children:[I.jsx("circleGeometry",{args:[.4,32]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{ref:C,position:[.51,4.05,.07],rotation:[0,Math.PI/2,0],children:[I.jsx("textGeometry",{args:["i",{font:r,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]}),I.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Plano021.geometry,material:t.mat20}),I.jsx("mesh",{name:"Plano021_1",castShadow:!0,receiveShadow:!0,geometry:e.Plano021_1.geometry,children:I.jsx("meshBasicMaterial",{map:o})})]})}),I.jsx(ba,{children:I.jsx(Hr,{title:"TÍTULO A OBTENER: INGENIERO/A BIOTECNÓLOGO/A",open:a,onCancel:u,width:1e3,centered:!0,footer:[I.jsxs(I.Fragment,{children:[I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Enter' para cerrar"})," ",I.jsx("br",{}),I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Esc' para habilitar mouse"})]})],children:I.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[I.jsxs("div",{style:{paddingRight:"3%",display:"flex",flexDirection:"column",width:"60%"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexDirection:"row",gap:"5%"},children:[I.jsxs("div",{children:[I.jsx("strong",{children:"Modalidad: "})," ",I.jsx("br",{}),I.jsx("span",{children:"Presencial"})]}),I.jsxs("div",{children:[I.jsx("strong",{children:"Duración: "})," ",I.jsx("br",{}),I.jsx("span",{children:"9 semestres"})]})]}),I.jsx("br",{}),I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",gap:"5%"},children:[I.jsx("a",{href:"https://www.espe.edu.ec/ingenieria-en-biotecnologia/",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none"},children:"Más información"}),I.jsx("a",{href:"https://www.facebook.com/IBIOSD",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none"},children:"Redes sociales"})]}),I.jsx("br",{}),I.jsxs("div",{children:[I.jsx("strong",{children:"Perfil profesional: "})," ",I.jsx("br",{}),I.jsx("span",{children:"El Ingeniero Biotecnólogo es un profesional que diseña y aplica sistemas biotecnológicos, dirigidos a la solución de problemas de salud, ambiente, biodiversidad e industria, a nivel de investigación y producción, con conciencia social y respeto a los derechos humanos y ambientales."}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("strong",{children:"Malla curricular"})," ",I.jsx("br",{}),I.jsx("a",{href:"https://www.espe.edu.ec/wp-content/uploads/2023/08/MALLA_REAJUSTE_CODIFICADA_19102020_BIOTECNOLOGIA_MATRIZ_RV.pdf",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none",display:"block"},children:"Click para ver Malla curricular PDF"})]})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"40%"},children:[I.jsx("img",{style:{margin:"auto"},src:"/recorrido-virtual-espe/img/carreras/biotecnologia2.jpg",alt:"Biotecnologia",width:"100%"}),I.jsx("img",{style:{margin:"auto"},src:"/recorrido-virtual-espe/img/carreras/biotecnologia3.jpg",alt:"Biotecnologia",width:"100%"})]})]})})})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/cartelera.glb");xr({TextGeometry:ao});function hme(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/planta_baja/cartelera.glb"),i="/recorrido-virtual-espe/audios/hover1.mp3",r=Ai(Fr,"/recorrido-virtual-espe/img/carteleras/itin.png");r.rotation=Math.PI,r.wrapS=ws,r.repeat.x=-1,r.center.set(.5,.5);const[o,a]=v.useState(!1),s=v.useRef(null),l=f=>{new Audio(f).play()},c=()=>{l(i),a(!0),s.current&&s.current.play()},g=()=>{a(!1),s.current&&s.current.pause()};v.useEffect(()=>{const f=b=>{b.key==="Enter"&&g()};return o?document.addEventListener("keydown",f):document.removeEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[o]);const u=v.useRef(null),d=v.useRef(null);Pi(()=>{const f=Date.now()*.003,b=Math.sin(f)*.1;u.current&&(u.current.position.y=4.2+b),d.current&&(d.current.position.y=4.05+b)});const C=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{position:[71.849,5.603,-19.5],onClick:c,children:[I.jsxs("mesh",{ref:u,position:[.5,4.2,0],rotation:[0,Math.PI/2,0],children:[I.jsx("circleGeometry",{args:[.4,32]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{ref:d,position:[.51,4.05,.07],rotation:[0,Math.PI/2,0],children:[I.jsx("textGeometry",{args:["i",{font:C,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]}),I.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:e.Plano021.geometry,material:t.mat20}),I.jsx("mesh",{name:"Plano021_1",castShadow:!0,receiveShadow:!0,geometry:e.Plano021_1.geometry,children:I.jsx("meshBasicMaterial",{map:r})})]})}),I.jsx(ba,{children:I.jsx(Hr,{title:"TÍTULO A OBTENER: INGENIERO/A EN TECNOLOGÍAS DE LA INFORMACIÓN",open:o,onCancel:g,width:1e3,centered:!0,footer:[I.jsxs(I.Fragment,{children:[I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Enter' para cerrar"})," ",I.jsx("br",{}),I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Esc' para habilitar mouse"})]})],children:I.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[I.jsxs("div",{style:{paddingRight:"3%",display:"flex",flexDirection:"column",width:"40%"},children:[I.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexDirection:"row",gap:"5%"},children:[I.jsxs("div",{children:[I.jsx("strong",{children:"Modalidad: "})," ",I.jsx("br",{}),I.jsx("span",{children:"Presencial"})]}),I.jsxs("div",{children:[I.jsx("strong",{children:"Duración: "})," ",I.jsx("br",{}),I.jsx("span",{children:"8 semestres"})]})]}),I.jsx("br",{}),I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",gap:"5%"},children:[I.jsx("a",{href:"https://santodomingo.espe.edu.ec/ingenieria-en-tecnologias-de-la-informacion/",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none"},children:"Más información"}),I.jsx("a",{href:"https://www.facebook.com/ITINSD",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none"},children:"Redes sociales"})]}),I.jsx("br",{}),I.jsxs("div",{children:[I.jsx("strong",{children:"Perfil profesional: "})," ",I.jsx("br",{}),I.jsx("span",{children:"El Ingeniero en Tecnologías de la Información (TI), responde a una necesidad nacional como un profesional competente para aportar directamente en la materialización del cambio de modelo de producción del país, y en el soporte transversal que pueda brindar a las políticas expresadas en el Plan Nacional de Desarrollo."}),I.jsx("br",{}),I.jsx("br",{}),I.jsx("strong",{children:"Malla curricular"})," ",I.jsx("br",{}),I.jsx("a",{href:"https://santodomingo.espe.edu.ec/wp-content/uploads/2024/05/0-MALLA-ITIN-ajustada-actualizada-12jul2022.pdf",target:"_blank",rel:"noreferrer",style:{background:"rgb(0, 112, 60)",color:"white",width:"100%",padding:"2%",borderRadius:"5px",textAlign:"center",textDecoration:"none",display:"block"},children:"Click para ver Malla curricular PDF"})]})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"row",width:"60%"},children:[I.jsx("img",{style:{width:"50%",height:"100%",margin:"auto",objectFit:"cover"},src:"/recorrido-virtual-espe/img/carreras/itin1.jpg",alt:"Biotecnologia"}),I.jsx("img",{style:{width:"50%",height:"100%",margin:"auto",objectFit:"cover"},src:"/recorrido-virtual-espe/img/carreras/itin2.jpg",alt:"Biotecnologia"})]})]})})})]})}fe.preload("/recorrido-virtual-espe/models/planta_baja/cartelera.glb");const mme=()=>I.jsxs(I.Fragment,{children:[I.jsx(Cme,{}),I.jsx(Ime,{}),I.jsx(hme,{})]}),fme=({positionCharacter:n})=>I.jsxs(I.Fragment,{children:[I.jsxs(YCe,{gravity:[0,-100,0],iterations:2,children:[I.jsx(LCe,{controls:!0,positionCharacter:n,args:[2.2],altura:6.5,velocidad:20,salto:20,color:"white"}),I.jsx(U2e,{}),I.jsx(T2e,{}),I.jsx(TCe,{}),I.jsx(E2e,{}),I.jsx(Q2e,{}),I.jsx(jCe,{}),I.jsx(JCe,{}),I.jsx(DCe,{}),I.jsx(PCe,{}),I.jsx(Dhe,{}),I.jsx(hhe,{})]}),I.jsx(i2e,{}),I.jsx(v2e,{}),I.jsx(n2e,{}),I.jsx(fhe,{}),I.jsx(u2e,{}),I.jsx(kCe,{}),I.jsx(Jhe,{}),I.jsx(V2e,{}),I.jsx(UCe,{}),I.jsx(OCe,{}),I.jsx(mme,{})]}),pme=({started:n,onStarted:e,onHover:t})=>{const{progress:i}=cte();return I.jsxs("div",{style:{backgroundImage:"/recorrido-virtual-espe/img/sede_santodomingo.webp"},className:`loadingScreen ${n?"loadingScreen--started":""}`,children:[I.jsxs("div",{className:"loadingScreen__board",children:[I.jsxs("div",{className:"content",children:[I.jsx("span",{className:"loadingScreen__title1",children:"Bienvenidos a la"}),I.jsx("span",{className:"loadingScreen__title2",children:"Universidad de las Fuerzas Armadas"}),I.jsx("span",{className:"loadingScreen__title3",children:"ESPE"}),I.jsx("span",{className:"loadingScreen__title4",children:"Sede Santo Domingo de los Tsáchilas"}),I.jsx("span",{className:"loadingScreen__title5",children:"Descubre nuestro Bloque A a través de un recorrido virtual interactivo, donde podrás explorar nuestras instalaciones de manera inmersiva y detallada."})]}),I.jsx("button",{className:"loadingScreen__button",disabled:i<100,onClick:e,onMouseEnter:t,children:i<100?`Cargando... ${i.toFixed(2)}%`:"Empezar"})]}),I.jsx("div",{className:"loadingScreen__progress",children:I.jsx("div",{className:"loadingScreen__progress__value",style:{width:`${i}%`}})})]})};function Rl(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qz(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ia={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},m0={duration:.5,overwrite:!1,delay:0},XB,Vr,fi,La=1e8,ni=1/La,Mv=Math.PI*2,Ame=Mv/4,bme=0,$z=Math.sqrt,vme=Math.cos,yme=Math.sin,yr=function(e){return typeof e=="string"},Fi=function(e){return typeof e=="function"},Ql=function(e){return typeof e=="number"},zB=function(e){return typeof e>"u"},dl=function(e){return typeof e=="object"},Ko=function(e){return e!==!1},YB=function(){return typeof window<"u"},Mf=function(e){return Fi(e)||yr(e)},eY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},to=Array.isArray,_v=/(?:-?\.?\d|\.)+/gi,tY=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Sd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,zb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,nY=/[+-]=-?[.\d]+/,iY=/[^,'"\[\]\s]+/gi,Bme=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Bi,Ps,Wv,KB,ma={},E3={},rY,oY=function(e){return(E3=f0(e,ma))&&Uo},LB=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},bh=function(e,t){return!t&&console.warn(e)},aY=function(e,t){return e&&(ma[e]=t)&&E3&&(E3[e]=t)||ma},vh=function(){return 0},xme={suppressEvents:!0,isStart:!0,kill:!1},sp={suppressEvents:!0,kill:!1},Gme={suppressEvents:!0},TB={},eg=[],Vv={},sY,aa={},Yb={},YM=30,lp=[],kB="",PB=function(e){var t=e[0],i,r;if(dl(t)||Fi(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=lp.length;r--&&!lp[r].targetTest(t););i=lp[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new MY(e[r],i)))||e.splice(r,1);return e},_u=function(e){return e._gsap||PB(Ta(e))[0]._gsap},lY=function(e,t,i){return(i=e[t])&&Fi(i)?e[t]():zB(i)&&e.getAttribute&&e.getAttribute(t)||i},Lo=function(e,t){return(e=e.split(",")).forEach(t)||e},zi=function(e){return Math.round(e*1e5)/1e5||0},Ji=function(e){return Math.round(e*1e7)/1e7||0},Kd=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},wme=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},X3=function(){var e=eg.length,t=eg.slice(0),i,r;for(Vv={},eg.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},cY=function(e,t,i,r){eg.length&&!Vr&&X3(),e.render(t,i,Vr&&t<0&&(e._initted||e._startAt)),eg.length&&!Vr&&X3()},gY=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(iY).length<2?t:yr(e)?e.trim():e},uY=function(e){return e},fa=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Sme=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},f0=function(e,t){for(var i in t)e[i]=t[i];return e},KM=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=dl(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},z3=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},GC=function(e){var t=e.parent||Bi,i=e.keyframes?Sme(to(e.keyframes)):fa;if(Ko(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},Zme=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},dY=function(e,t,i,r,o){var a=e[r],s;if(o)for(s=t[o];a&&a[o]>s;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},b5=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var o=t._prev,a=t._next;o?o._next=a:e[i]===t&&(e[i]=a),a?a._prev=o:e[r]===t&&(e[r]=o),t._next=t._prev=t.parent=null},cg=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Wu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},qme=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Nv=function(e,t,i,r){return e._startAt&&(Vr?e._startAt.revert(sp):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Rme=function n(e){return!e||e._ts&&n(e.parent)},LM=function(e){return e._repeat?p0(e._tTime,e=e.duration()+e._rDelay)*e:0},p0=function(e,t){var i=Math.floor(e=Ji(e/t));return e&&i===e?i-1:i},Y3=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},v5=function(e){return e._end=Ji(e._start+(e._tDur/Math.abs(e._ts||e._rts||ni)||0))},y5=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Ji(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),v5(e),i._dirty||Wu(i,e)),e},IY=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Y3(e.rawTime(),t),(!t._dur||s2(0,t.totalDuration(),i)-t._tTime>ni)&&t.render(i,!0)),Wu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-ni}},Us=function(e,t,i,r){return t.parent&&cg(t),t._start=Ji((Ql(i)?i:i||e!==Bi?Fa(e,i,t):e._time)+t._delay),t._end=Ji(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),dY(e,t,"_first","_last",e._sort?"_start":0),Fv(t)||(e._recent=t),r||IY(e,t),e._ts<0&&y5(e,e._tTime),e},CY=function(e,t){return(ma.ScrollTrigger||LB("scrollTrigger",t))&&ma.ScrollTrigger.create(t,e)},hY=function(e,t,i,r,o){if(UB(e,t,o),!e._initted)return 1;if(!i&&e._pt&&!Vr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&sY!==sa.frame)return eg.push(e),e._lazy=[o,r],1},Mme=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Fv=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},_me=function(e,t,i,r){var o=e.ratio,a=t<0||!t&&(!e._start&&Mme(e)&&!(!e._initted&&Fv(e))||(e._ts<0||e._dp._ts<0)&&!Fv(e))?0:1,s=e._rDelay,l=0,c,g,u;if(s&&e._repeat&&(l=s2(0,e._tDur,t),g=p0(l,s),e._yoyo&&g&1&&(a=1-a),g!==p0(e._tTime,s)&&(o=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==o||Vr||r||e._zTime===ni||!t&&e._zTime){if(!e._initted&&hY(e,t,r,i,l))return;for(u=e._zTime,e._zTime=t||(i?ni:0),i||(i=t&&!u),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,c=e._pt;c;)c.r(a,c.d),c=c._next;t<0&&Nv(e,t,i,!0),e._onUpdate&&!i&&ga(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&ga(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&cg(e,1),!i&&!Vr&&(ga(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Wme=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},A0=function(e,t,i,r){var o=e._repeat,a=Ji(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=o?o<0?1e10:Ji(a*(o+1)+e._rDelay*o):a,s>0&&!r&&y5(e,e._tTime=e._tDur*s),e.parent&&v5(e),i||Wu(e.parent,e),e},TM=function(e){return e instanceof po?Wu(e):A0(e,e._dur)},Vme={_start:0,endTime:vh,totalDuration:vh},Fa=function n(e,t,i){var r=e.labels,o=e._recent||Vme,a=e.duration()>=La?o.endTime(!1):e._dur,s,l,c;return yr(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",s=t.indexOf("="),l==="<"||l===">"?(s>=0&&(t=t.replace(/=/,"")),(l==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(s<0?o:i).totalDuration()/100:1)):s<0?(t in r||(r[t]=a),r[t]):(l=parseFloat(t.charAt(s-1)+t.substr(s+1)),c&&i&&(l=l/100*(to(i)?i[0]:i).totalDuration()),s>1?n(e,t.substr(0,s-1),i)+l:a+l)):t==null?a:+t},wC=function(e,t,i){var r=Ql(t[1]),o=(r?2:1)+(e<2?0:1),a=t[o],s,l;if(r&&(a.duration=t[1]),a.parent=i,e){for(s=a,l=i;l&&!("immediateRender"in s);)s=l.vars.defaults||{},l=Ko(l.vars.inherit)&&l.parent;a.immediateRender=Ko(s.immediateRender),e<2?a.runBackwards=1:a.startAt=t[o-1]}return new ji(t[0],a,t[o+1])},bg=function(e,t){return e||e===0?t(e):t},s2=function(e,t,i){return i<e?e:i>t?t:i},Jr=function(e,t){return!yr(e)||!(t=Bme.exec(e))?"":t[1]},Nme=function(e,t,i){return bg(i,function(r){return s2(e,t,r)})},Hv=[].slice,mY=function(e,t){return e&&dl(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&dl(e[0]))&&!e.nodeType&&e!==Ps},Fme=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var o;return yr(r)&&!t||mY(r,1)?(o=i).push.apply(o,Ta(r)):i.push(r)})||i},Ta=function(e,t,i){return fi&&!t&&fi.selector?fi.selector(e):yr(e)&&!i&&(Wv||!b0())?Hv.call((t||KB).querySelectorAll(e),0):to(e)?Fme(e,i):mY(e)?Hv.call(e,0):e?[e]:[]},Ev=function(e){return e=Ta(e)[0]||bh("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ta(t,i.querySelectorAll?i:i===e?bh("Invalid scope")||KB.createElement("div"):e)}},fY=function(e){return e.sort(function(){return .5-Math.random()})},pY=function(e){if(Fi(e))return e;var t=dl(e)?e:{each:e},i=Vu(t.ease),r=t.from||0,o=parseFloat(t.base)||0,a={},s=r>0&&r<1,l=isNaN(r)||s,c=t.axis,g=r,u=r;return yr(r)?g=u={center:.5,edges:.5,end:1}[r]||0:!s&&l&&(g=r[0],u=r[1]),function(d,C,f){var b=(f||t).length,A=a[b],p,y,B,x,w,S,Z,M,q;if(!A){if(q=t.grid==="auto"?0:(t.grid||[1,La])[1],!q){for(Z=-La;Z<(Z=f[q++].getBoundingClientRect().left)&&q<b;);q<b&&q--}for(A=a[b]=[],p=l?Math.min(q,b)*g-.5:r%q,y=q===La?0:l?b*u/q-.5:r/q|0,Z=0,M=La,S=0;S<b;S++)B=S%q-p,x=y-(S/q|0),A[S]=w=c?Math.abs(c==="y"?x:B):$z(B*B+x*x),w>Z&&(Z=w),w<M&&(M=w);r==="random"&&fY(A),A.max=Z-M,A.min=M,A.v=b=(parseFloat(t.amount)||parseFloat(t.each)*(q>b?b-1:c?c==="y"?b/q:q:Math.max(q,b/q))||0)*(r==="edges"?-1:1),A.b=b<0?o-b:o,A.u=Jr(t.amount||t.each)||0,i=i&&b<0?ZY(i):i}return b=(A[d]-A.min)/A.max||0,Ji(A.b+(i?i(b):b)*A.v)+A.u}},Xv=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Ji(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Ql(i)?0:Jr(i))}},AY=function(e,t){var i=to(e),r,o;return!i&&dl(e)&&(r=i=e.radius||La,e.values?(e=Ta(e.values),(o=!Ql(e[0]))&&(r*=r)):e=Xv(e.increment)),bg(t,i?Fi(e)?function(a){return o=e(a),Math.abs(o-a)<=r?o:a}:function(a){for(var s=parseFloat(o?a.x:a),l=parseFloat(o?a.y:0),c=La,g=0,u=e.length,d,C;u--;)o?(d=e[u].x-s,C=e[u].y-l,d=d*d+C*C):d=Math.abs(e[u]-s),d<c&&(c=d,g=u);return g=!r||c<=r?e[g]:a,o||g===a||Ql(a)?g:g+Jr(a)}:Xv(e))},bY=function(e,t,i,r){return bg(to(e)?!t:i===!0?!!(i=0):!r,function(){return to(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},Hme=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(o,a){return a(o)},r)}},Eme=function(e,t){return function(i){return e(parseFloat(i))+(t||Jr(i))}},Xme=function(e,t,i){return yY(e,t,0,1,i)},vY=function(e,t,i){return bg(i,function(r){return e[~~t(r)]})},zme=function n(e,t,i){var r=t-e;return to(e)?vY(e,n(0,e.length),t):bg(i,function(o){return(r+(o-e)%r)%r+e})},Yme=function n(e,t,i){var r=t-e,o=r*2;return to(e)?vY(e,n(0,e.length-1),t):bg(i,function(a){return a=(o+(a-e)%o)%o||0,e+(a>r?o-a:a)})},yh=function(e){for(var t=0,i="",r,o,a,s;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),s=e.charAt(r+7)==="[",o=e.substr(r+7,a-r-7).match(s?iY:_v),i+=e.substr(t,r-t)+bY(s?o:+o[0],s?0:+o[1],+o[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},yY=function(e,t,i,r,o){var a=t-e,s=r-i;return bg(o,function(l){return i+((l-e)/a*s||0)})},Kme=function n(e,t,i,r){var o=isNaN(e+t)?0:function(C){return(1-C)*e+C*t};if(!o){var a=yr(e),s={},l,c,g,u,d;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(to(e)&&!to(t)){for(g=[],u=e.length,d=u-2,c=1;c<u;c++)g.push(n(e[c-1],e[c]));u--,o=function(f){f*=u;var b=Math.min(d,~~f);return g[b](f-b)},i=t}else r||(e=f0(to(e)?[]:{},e));if(!g){for(l in t)DB.call(s,e,l,"get",t[l]);o=function(f){return JB(f,s)||(a?e.p:e)}}}return bg(i,o)},kM=function(e,t,i){var r=e.labels,o=La,a,s,l;for(a in r)s=r[a]-t,s<0==!!i&&s&&o>(s=Math.abs(s))&&(l=a,o=s);return l},ga=function(e,t,i){var r=e.vars,o=r[t],a=fi,s=e._ctx,l,c,g;if(o)return l=r[t+"Params"],c=r.callbackScope||e,i&&eg.length&&X3(),s&&(fi=s),g=l?o.apply(c,l):o.call(c),fi=a,g},QI=function(e){return cg(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Vr),e.progress()<1&&ga(e,"onInterrupt"),e},Zd,BY=[],xY=function(e){if(e)if(e=!e.name&&e.default||e,YB()||e.headless){var t=e.name,i=Fi(e),r=t&&!i&&e.init?function(){this._props=[]}:e,o={init:vh,render:JB,add:DB,kill:rfe,modifier:ife,rawVars:0},a={targetTest:0,get:0,getSetter:jB,aliases:{},register:0};if(b0(),e!==r){if(aa[t])return;fa(r,fa(z3(e,o),a)),f0(r.prototype,f0(o,z3(e,a))),aa[r.prop=t]=r,e.targetTest&&(lp.push(r),TB[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}aY(t,r),e.register&&e.register(Uo,r,To)}else BY.push(e)},ti=255,$I={aqua:[0,ti,ti],lime:[0,ti,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ti],navy:[0,0,128],white:[ti,ti,ti],olive:[128,128,0],yellow:[ti,ti,0],orange:[ti,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ti,0,0],pink:[ti,192,203],cyan:[0,ti,ti],transparent:[ti,ti,ti,0]},Kb=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*ti+.5|0},GY=function(e,t,i){var r=e?Ql(e)?[e>>16,e>>8&ti,e&ti]:0:$I.black,o,a,s,l,c,g,u,d,C,f;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),$I[e])r=$I[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),a=e.charAt(2),s=e.charAt(3),e="#"+o+o+a+a+s+s+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&ti,r&ti,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&ti,e&ti]}else if(e.substr(0,3)==="hsl"){if(r=f=e.match(_v),!t)l=+r[0]%360/360,c=+r[1]/100,g=+r[2]/100,a=g<=.5?g*(c+1):g+c-g*c,o=g*2-a,r.length>3&&(r[3]*=1),r[0]=Kb(l+1/3,o,a),r[1]=Kb(l,o,a),r[2]=Kb(l-1/3,o,a);else if(~e.indexOf("="))return r=e.match(tY),i&&r.length<4&&(r[3]=1),r}else r=e.match(_v)||$I.transparent;r=r.map(Number)}return t&&!f&&(o=r[0]/ti,a=r[1]/ti,s=r[2]/ti,u=Math.max(o,a,s),d=Math.min(o,a,s),g=(u+d)/2,u===d?l=c=0:(C=u-d,c=g>.5?C/(2-u-d):C/(u+d),l=u===o?(a-s)/C+(a<s?6:0):u===a?(s-o)/C+2:(o-a)/C+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(g*100+.5)),i&&r.length<4&&(r[3]=1),r},wY=function(e){var t=[],i=[],r=-1;return e.split(tg).forEach(function(o){var a=o.match(Sd)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},PM=function(e,t,i){var r="",o=(e+r).match(tg),a=t?"hsla(":"rgba(",s=0,l,c,g,u;if(!o)return e;if(o=o.map(function(d){return(d=GY(d,t,1))&&a+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(g=wY(e),l=i.c,l.join(r)!==g.c.join(r)))for(c=e.replace(tg,"1").split(Sd),u=c.length-1;s<u;s++)r+=c[s]+(~l.indexOf(s)?o.shift()||a+"0,0,0,0)":(g.length?g:o.length?o:i).shift());if(!c)for(c=e.split(tg),u=c.length-1;s<u;s++)r+=c[s]+o[s];return r+c[u]},tg=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in $I)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Lme=/hsl[a]?\(/,SY=function(e){var t=e.join(" "),i;if(tg.lastIndex=0,tg.test(t))return i=Lme.test(t),e[1]=PM(e[1],i),e[0]=PM(e[0],i,wY(e[1])),!0},Bh,sa=function(){var n=Date.now,e=500,t=33,i=n(),r=i,o=1e3/240,a=o,s=[],l,c,g,u,d,C,f=function b(A){var p=n()-r,y=A===!0,B,x,w,S;if((p>e||p<0)&&(i+=p-t),r+=p,w=r-i,B=w-a,(B>0||y)&&(S=++u.frame,d=w-u.time*1e3,u.time=w=w/1e3,a+=B+(B>=o?4:o-B),x=1),y||(l=c(b)),x)for(C=0;C<s.length;C++)s[C](w,d,S,A)};return u={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(A){return d/(1e3/(A||60))},wake:function(){rY&&(!Wv&&YB()&&(Ps=Wv=window,KB=Ps.document||{},ma.gsap=Uo,(Ps.gsapVersions||(Ps.gsapVersions=[])).push(Uo.version),oY(E3||Ps.GreenSockGlobals||!Ps.gsap&&Ps||{}),BY.forEach(xY)),g=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&u.sleep(),c=g||function(A){return setTimeout(A,a-u.time*1e3+1|0)},Bh=1,f(2))},sleep:function(){(g?cancelAnimationFrame:clearTimeout)(l),Bh=0,c=vh},lagSmoothing:function(A,p){e=A||1/0,t=Math.min(p||33,e)},fps:function(A){o=1e3/(A||240),a=u.time*1e3+o},add:function(A,p,y){var B=p?function(x,w,S,Z){A(x,w,S,Z),u.remove(B)}:A;return u.remove(A),s[y?"unshift":"push"](B),b0(),B},remove:function(A,p){~(p=s.indexOf(A))&&s.splice(p,1)&&C>=p&&C--},_listeners:s},u}(),b0=function(){return!Bh&&sa.wake()},Vn={},Tme=/^[\d.\-M][\d.\-,\s]/,kme=/["']/g,Pme=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],o=1,a=i.length,s,l,c;o<a;o++)l=i[o],s=o!==a-1?l.lastIndexOf(","):l.length,c=l.substr(0,s),t[r]=isNaN(c)?c.replace(kme,"").trim():+c,r=l.substr(s+1).trim();return t},Dme=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},Ume=function(e){var t=(e+"").split("("),i=Vn[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Pme(t[1])]:Dme(e).split(",").map(gY)):Vn._CE&&Tme.test(e)?Vn._CE("",e):i},ZY=function(e){return function(t){return 1-e(1-t)}},qY=function n(e,t){for(var i=e._first,r;i;)i instanceof po?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Vu=function(e,t){return e&&(Fi(e)?e:Vn[e]||Ume(e))||t},d1=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var o={easeIn:t,easeOut:i,easeInOut:r},a;return Lo(e,function(s){Vn[s]=ma[s]=o,Vn[a=s.toLowerCase()]=i;for(var l in o)Vn[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Vn[s+"."+l]=o[l]}),o},RY=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Lb=function n(e,t,i){var r=t>=1?t:1,o=(i||(e?.3:.45))/(t<1?t:1),a=o/Mv*(Math.asin(1/r)||0),s=function(g){return g===1?1:r*Math.pow(2,-10*g)*yme((g-a)*o)+1},l=e==="out"?s:e==="in"?function(c){return 1-s(1-c)}:RY(s);return o=Mv/o,l.config=function(c,g){return n(e,c,g)},l},Tb=function n(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(o){return 1-i(1-o)}:RY(i);return r.config=function(o){return n(e,o)},r};Lo("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;d1(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Vn.Linear.easeNone=Vn.none=Vn.Linear.easeIn;d1("Elastic",Lb("in"),Lb("out"),Lb());(function(n,e){var t=1/e,i=2*t,r=2.5*t,o=function(s){return s<t?n*s*s:s<i?n*Math.pow(s-1.5/e,2)+.75:s<r?n*(s-=2.25/e)*s+.9375:n*Math.pow(s-2.625/e,2)+.984375};d1("Bounce",function(a){return 1-o(1-a)},o)})(7.5625,2.75);d1("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});d1("Circ",function(n){return-($z(1-n*n)-1)});d1("Sine",function(n){return n===1?1:-vme(n*Ame)+1});d1("Back",Tb("in"),Tb("out"),Tb());Vn.SteppedEase=Vn.steps=ma.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),o=t?1:0,a=1-ni;return function(s){return((r*s2(0,a,s)|0)+o)*i}}};m0.ease=Vn["quad.out"];Lo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return kB+=n+","+n+"Params,"});var MY=function(e,t){this.id=bme++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:lY,this.set=t?t.getSetter:jB},xh=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,A0(this,+t.duration,1,1),this.data=t.data,fi&&(this._ctx=fi,fi.data.push(this)),Bh||sa.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,A0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(b0(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(y5(this,i),!o._dp||o.parent||IY(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Us(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ni||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),cY(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+LM(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+LM(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,r):this._repeat?p0(this._tTime,o)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-ni?0:this._rts;if(this._rts===i)return this;var o=this.parent&&this._ts?Y3(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ni?0:this._rts,this.totalTime(s2(-Math.abs(this._delay),this._tDur,o),r!==!1),v5(this),qme(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(b0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ni&&(this._tTime-=ni)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Us(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Ko(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Y3(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Gme);var r=Vr;return Vr=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Vr=r,this},e.globalTime=function(i){for(var r=this,o=arguments.length?i:r.rawTime();r;)o=r._start+o/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):o},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,TM(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,TM(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Fa(this,i),Ko(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Ko(r)),this._dur||(this._zTime=-ni),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ni:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ni,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,o;return!!(!i||this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=r&&o<this.endTime(!0)-ni)},e.eventCallback=function(i,r,o){var a=this.vars;return arguments.length>1?(r?(a[i]=r,o&&(a[i+"Params"]=o),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this;return new Promise(function(o){var a=Fi(i)?i:uY,s=function(){var c=r.then;r.then=null,Fi(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=c),o(a),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?s():r._prom=s})},e.kill=function(){QI(this)},n}();fa(xh.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ni,_prom:0,_ps:!1,_rts:1});var po=function(n){Qz(e,n);function e(i,r){var o;return i===void 0&&(i={}),o=n.call(this,i)||this,o.labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=Ko(i.sortChildren),Bi&&Us(i.parent||Bi,Rl(o),r),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&CY(Rl(o),i.scrollTrigger),o}var t=e.prototype;return t.to=function(r,o,a){return wC(0,arguments,this),this},t.from=function(r,o,a){return wC(1,arguments,this),this},t.fromTo=function(r,o,a,s){return wC(2,arguments,this),this},t.set=function(r,o,a){return o.duration=0,o.parent=this,GC(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new ji(r,o,Fa(this,a),1),this},t.call=function(r,o,a){return Us(this,ji.delayedCall(0,r,o),a)},t.staggerTo=function(r,o,a,s,l,c,g){return a.duration=o,a.stagger=a.stagger||s,a.onComplete=c,a.onCompleteParams=g,a.parent=this,new ji(r,a,Fa(this,l)),this},t.staggerFrom=function(r,o,a,s,l,c,g){return a.runBackwards=1,GC(a).immediateRender=Ko(a.immediateRender),this.staggerTo(r,o,a,s,l,c,g)},t.staggerFromTo=function(r,o,a,s,l,c,g,u){return s.startAt=a,GC(s).immediateRender=Ko(s.immediateRender),this.staggerTo(r,o,s,l,c,g,u)},t.render=function(r,o,a){var s=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,g=r<=0?0:Ji(r),u=this._zTime<0!=r<0&&(this._initted||!c),d,C,f,b,A,p,y,B,x,w,S,Z;if(this!==Bi&&g>l&&r>=0&&(g=l),g!==this._tTime||a||u){if(s!==this._time&&c&&(g+=this._time-s,r+=this._time-s),d=g,x=this._start,B=this._ts,p=!B,u&&(c||(s=this._zTime),(r||!o)&&(this._zTime=r)),this._repeat){if(S=this._yoyo,A=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(A*100+r,o,a);if(d=Ji(g%A),g===l?(b=this._repeat,d=c):(w=Ji(g/A),b=~~w,b&&b===w&&(d=c,b--),d>c&&(d=c)),w=p0(this._tTime,A),!s&&this._tTime&&w!==b&&this._tTime-w*A-this._dur<=0&&(w=b),S&&b&1&&(d=c-d,Z=1),b!==w&&!this._lock){var M=S&&w&1,q=M===(S&&b&1);if(b<w&&(M=!M),s=M?0:g%c?c:g,this._lock=1,this.render(s||(Z?0:Ji(b*A)),o,!c)._lock=0,this._tTime=g,!o&&this.parent&&ga(this,"onRepeat"),this.vars.repeatRefresh&&!Z&&(this.invalidate()._lock=1),s&&s!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,q&&(this._lock=2,s=M?c:-1e-4,this.render(s,!0),this.vars.repeatRefresh&&!Z&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;qY(this,Z)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=Wme(this,Ji(s),Ji(d)),y&&(g-=d-(d=y._start))),this._tTime=g,this._time=d,this._act=!B,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,s=0),!s&&d&&!o&&!b&&(ga(this,"onStart"),this._tTime!==g))return this;if(d>=s&&r>=0)for(C=this._first;C;){if(f=C._next,(C._act||d>=C._start)&&C._ts&&y!==C){if(C.parent!==this)return this.render(r,o,a);if(C.render(C._ts>0?(d-C._start)*C._ts:(C._dirty?C.totalDuration():C._tDur)+(d-C._start)*C._ts,o,a),d!==this._time||!this._ts&&!p){y=0,f&&(g+=this._zTime=-ni);break}}C=f}else{C=this._last;for(var _=r<0?r:d;C;){if(f=C._prev,(C._act||_<=C._end)&&C._ts&&y!==C){if(C.parent!==this)return this.render(r,o,a);if(C.render(C._ts>0?(_-C._start)*C._ts:(C._dirty?C.totalDuration():C._tDur)+(_-C._start)*C._ts,o,a||Vr&&(C._initted||C._startAt)),d!==this._time||!this._ts&&!p){y=0,f&&(g+=this._zTime=_?-ni:ni);break}}C=f}}if(y&&!o&&(this.pause(),y.render(d>=s?0:-ni)._zTime=d>=s?1:-1,this._ts))return this._start=x,v5(this),this.render(r,o,a);this._onUpdate&&!o&&ga(this,"onUpdate",!0),(g===l&&this._tTime>=this.totalDuration()||!g&&s)&&(x===this._start||Math.abs(B)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(g===l&&this._ts>0||!g&&this._ts<0)&&cg(this,1),!o&&!(r<0&&!s)&&(g||s||!l)&&(ga(this,g===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,o){var a=this;if(Ql(o)||(o=Fa(this,o,r)),!(r instanceof xh)){if(to(r))return r.forEach(function(s){return a.add(s,o)}),this;if(yr(r))return this.addLabel(r,o);if(Fi(r))r=ji.delayedCall(0,r);else return this}return this!==r?Us(this,r,o):this},t.getChildren=function(r,o,a,s){r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=!0),s===void 0&&(s=-La);for(var l=[],c=this._first;c;)c._start>=s&&(c instanceof ji?o&&l.push(c):(a&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,o,a)))),c=c._next;return l},t.getById=function(r){for(var o=this.getChildren(1,1,1),a=o.length;a--;)if(o[a].vars.id===r)return o[a]},t.remove=function(r){return yr(r)?this.removeLabel(r):Fi(r)?this.killTweensOf(r):(r.parent===this&&b5(this,r),r===this._recent&&(this._recent=this._last),Wu(this))},t.totalTime=function(r,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ji(sa.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,o),this._forcing=0,this):this._tTime},t.addLabel=function(r,o){return this.labels[r]=Fa(this,o),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,o,a){var s=ji.delayedCall(0,o||vh,a);return s.data="isPause",this._hasPause=1,Us(this,s,Fa(this,r))},t.removePause=function(r){var o=this._first;for(r=Fa(this,r);o;)o._start===r&&o.data==="isPause"&&cg(o),o=o._next},t.killTweensOf=function(r,o,a){for(var s=this.getTweensOf(r,a),l=s.length;l--;)Yc!==s[l]&&s[l].kill(r,o);return this},t.getTweensOf=function(r,o){for(var a=[],s=Ta(r),l=this._first,c=Ql(o),g;l;)l instanceof ji?wme(l._targets,s)&&(c?(!Yc||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&a.push(l):(g=l.getTweensOf(s,o)).length&&a.push.apply(a,g),l=l._next;return a},t.tweenTo=function(r,o){o=o||{};var a=this,s=Fa(a,r),l=o,c=l.startAt,g=l.onStart,u=l.onStartParams,d=l.immediateRender,C,f=ji.to(a,fa({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:o.duration||Math.abs((s-(c&&"time"in c?c.time:a._time))/a.timeScale())||ni,onStart:function(){if(a.pause(),!C){var A=o.duration||Math.abs((s-(c&&"time"in c?c.time:a._time))/a.timeScale());f._dur!==A&&A0(f,A,0,1).render(f._time,!0,!0),C=1}g&&g.apply(f,u||[])}},o));return d?f.render(0):f},t.tweenFromTo=function(r,o,a){return this.tweenTo(o,fa({startAt:{time:Fa(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),kM(this,Fa(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),kM(this,Fa(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ni)},t.shiftChildren=function(r,o,a){a===void 0&&(a=0);for(var s=this._first,l=this.labels,c;s;)s._start>=a&&(s._start+=r,s._end+=r),s=s._next;if(o)for(c in l)l[c]>=a&&(l[c]+=r);return Wu(this)},t.invalidate=function(r){var o=this._first;for(this._lock=0;o;)o.invalidate(r),o=o._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var o=this._first,a;o;)a=o._next,this.remove(o),o=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Wu(this)},t.totalDuration=function(r){var o=0,a=this,s=a._last,l=La,c,g,u;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(u=a.parent;s;)c=s._prev,s._dirty&&s.totalDuration(),g=s._start,g>l&&a._sort&&s._ts&&!a._lock?(a._lock=1,Us(a,s,g-s._delay,1)._lock=0):l=g,g<0&&s._ts&&(o-=g,(!u&&!a._dp||u&&u.smoothChildTiming)&&(a._start+=g/a._ts,a._time-=g,a._tTime-=g),a.shiftChildren(-g,!1,-1/0),l=0),s._end>o&&s._ts&&(o=s._end),s=c;A0(a,a===Bi&&a._time>o?a._time:o,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Bi._ts&&(cY(Bi,Y3(r,Bi)),sY=sa.frame),sa.frame>=YM){YM+=Ia.autoSleep||120;var o=Bi._first;if((!o||!o._ts)&&Ia.autoSleep&&sa._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||sa.sleep()}}},e}(xh);fa(po.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ome=function(e,t,i,r,o,a,s){var l=new To(this._pt,e,t,0,1,HY,null,o),c=0,g=0,u,d,C,f,b,A,p,y;for(l.b=i,l.e=r,i+="",r+="",(p=~r.indexOf("random("))&&(r=yh(r)),a&&(y=[i,r],a(y,e,t),i=y[0],r=y[1]),d=i.match(zb)||[];u=zb.exec(r);)f=u[0],b=r.substring(c,u.index),C?C=(C+1)%5:b.substr(-5)==="rgba("&&(C=1),f!==d[g++]&&(A=parseFloat(d[g-1])||0,l._pt={_next:l._pt,p:b||g===1?b:",",s:A,c:f.charAt(1)==="="?Kd(A,f)-A:parseFloat(f)-A,m:C&&C<4?Math.round:0},c=zb.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=s,(nY.test(r)||p)&&(l.e=0),this._pt=l,l},DB=function(e,t,i,r,o,a,s,l,c,g){Fi(r)&&(r=r(o||0,e,a));var u=e[t],d=i!=="get"?i:Fi(u)?c?e[t.indexOf("set")||!Fi(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():u,C=Fi(u)?c?efe:NY:OB,f;if(yr(r)&&(~r.indexOf("random(")&&(r=yh(r)),r.charAt(1)==="="&&(f=Kd(d,r)+(Jr(d)||0),(f||f===0)&&(r=f))),!g||d!==r||zv)return!isNaN(d*r)&&r!==""?(f=new To(this._pt,e,t,+d||0,r-(d||0),typeof u=="boolean"?nfe:FY,0,C),c&&(f.fp=c),s&&f.modifier(s,this,e),this._pt=f):(!u&&!(t in e)&&LB(t,r),Ome.call(this,e,t,d,r,C,l||Ia.stringFilter,c))},jme=function(e,t,i,r,o){if(Fi(e)&&(e=SC(e,o,t,i,r)),!dl(e)||e.style&&e.nodeType||to(e)||eY(e))return yr(e)?SC(e,o,t,i,r):e;var a={},s;for(s in e)a[s]=SC(e[s],o,t,i,r);return a},_Y=function(e,t,i,r,o,a){var s,l,c,g;if(aa[e]&&(s=new aa[e]).init(o,s.rawVars?t[e]:jme(t[e],r,o,a,i),i,r,a)!==!1&&(i._pt=l=new To(i._pt,o,e,0,1,s.render,s,0,s.priority),i!==Zd))for(c=i._ptLookup[i._targets.indexOf(o)],g=s._props.length;g--;)c[s._props[g]]=l;return s},Yc,zv,UB=function n(e,t,i){var r=e.vars,o=r.ease,a=r.startAt,s=r.immediateRender,l=r.lazy,c=r.onUpdate,g=r.runBackwards,u=r.yoyoEase,d=r.keyframes,C=r.autoRevert,f=e._dur,b=e._startAt,A=e._targets,p=e.parent,y=p&&p.data==="nested"?p.vars.targets:A,B=e._overwrite==="auto"&&!XB,x=e.timeline,w,S,Z,M,q,_,V,Y,X,K,Q,z,D;if(x&&(!d||!o)&&(o="none"),e._ease=Vu(o,m0.ease),e._yEase=u?ZY(Vu(u===!0?o:u,m0.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!x&&!!r.runBackwards,!x||d&&!r.stagger){if(Y=A[0]?_u(A[0]).harness:0,z=Y&&r[Y.prop],w=z3(r,TB),b&&(b._zTime<0&&b.progress(1),t<0&&g&&s&&!C?b.render(-1,!0):b.revert(g&&f?sp:xme),b._lazy=0),a){if(cg(e._startAt=ji.set(A,fa({data:"isStart",overwrite:!1,parent:p,immediateRender:!0,lazy:!b&&Ko(l),startAt:null,delay:0,onUpdate:c&&function(){return ga(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Vr||!s&&!C)&&e._startAt.revert(sp),s&&f&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(g&&f&&!b){if(t&&(s=!1),Z=fa({overwrite:!1,data:"isFromStart",lazy:s&&!b&&Ko(l),immediateRender:s,stagger:0,parent:p},w),z&&(Z[Y.prop]=z),cg(e._startAt=ji.set(A,Z)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Vr?e._startAt.revert(sp):e._startAt.render(-1,!0)),e._zTime=t,!s)n(e._startAt,ni,ni);else if(!t)return}for(e._pt=e._ptCache=0,l=f&&Ko(l)||l&&!f,S=0;S<A.length;S++){if(q=A[S],V=q._gsap||PB(A)[S]._gsap,e._ptLookup[S]=K={},Vv[V.id]&&eg.length&&X3(),Q=y===A?S:y.indexOf(q),Y&&(X=new Y).init(q,z||w,e,Q,y)!==!1&&(e._pt=M=new To(e._pt,q,X.name,0,1,X.render,X,0,X.priority),X._props.forEach(function(N){K[N]=M}),X.priority&&(_=1)),!Y||z)for(Z in w)aa[Z]&&(X=_Y(Z,w,e,Q,q,y))?X.priority&&(_=1):K[Z]=M=DB.call(e,q,Z,"get",w[Z],Q,y,0,r.stringFilter);e._op&&e._op[S]&&e.kill(q,e._op[S]),B&&e._pt&&(Yc=e,Bi.killTweensOf(q,K,e.globalTime(t)),D=!e.parent,Yc=0),e._pt&&l&&(Vv[V.id]=1)}_&&EY(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!D,d&&t<=0&&x.render(La,!0,!0)},Jme=function(e,t,i,r,o,a,s,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],g,u,d,C;if(!c)for(c=e._ptCache[t]=[],d=e._ptLookup,C=e._targets.length;C--;){if(g=d[C][t],g&&g.d&&g.d._pt)for(g=g.d._pt;g&&g.p!==t&&g.fp!==t;)g=g._next;if(!g)return zv=1,e.vars[t]="+=0",UB(e,s),zv=0,l?bh(t+" not eligible for reset"):1;c.push(g)}for(C=c.length;C--;)u=c[C],g=u._pt||u,g.s=(r||r===0)&&!o?r:g.s+(r||0)+a*g.c,g.c=i-g.s,u.e&&(u.e=zi(i)+Jr(u.e)),u.b&&(u.b=g.s+Jr(u.b))},Qme=function(e,t){var i=e[0]?_u(e[0]).harness:0,r=i&&i.aliases,o,a,s,l;if(!r)return t;o=f0({},t);for(a in r)if(a in o)for(l=r[a].split(","),s=l.length;s--;)o[l[s]]=o[a];return o},$me=function(e,t,i,r){var o=t.ease||r||"power1.inOut",a,s;if(to(t))s=i[e]||(i[e]=[]),t.forEach(function(l,c){return s.push({t:c/(t.length-1)*100,v:l,e:o})});else for(a in t)s=i[a]||(i[a]=[]),a==="ease"||s.push({t:parseFloat(e),v:t[a],e:o})},SC=function(e,t,i,r,o){return Fi(e)?e.call(t,i,r,o):yr(e)&&~e.indexOf("random(")?yh(e):e},WY=kB+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",VY={};Lo(WY+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return VY[n]=1});var ji=function(n){Qz(e,n);function e(i,r,o,a){var s;typeof r=="number"&&(o.duration=r,r=o,o=null),s=n.call(this,a?r:GC(r))||this;var l=s.vars,c=l.duration,g=l.delay,u=l.immediateRender,d=l.stagger,C=l.overwrite,f=l.keyframes,b=l.defaults,A=l.scrollTrigger,p=l.yoyoEase,y=r.parent||Bi,B=(to(i)||eY(i)?Ql(i[0]):"length"in r)?[i]:Ta(i),x,w,S,Z,M,q,_,V;if(s._targets=B.length?PB(B):bh("GSAP target "+i+" not found. https://gsap.com",!Ia.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=C,f||d||Mf(c)||Mf(g)){if(r=s.vars,x=s.timeline=new po({data:"nested",defaults:b||{},targets:y&&y.data==="nested"?y.vars.targets:B}),x.kill(),x.parent=x._dp=Rl(s),x._start=0,d||Mf(c)||Mf(g)){if(Z=B.length,_=d&&pY(d),dl(d))for(M in d)~WY.indexOf(M)&&(V||(V={}),V[M]=d[M]);for(w=0;w<Z;w++)S=z3(r,VY),S.stagger=0,p&&(S.yoyoEase=p),V&&f0(S,V),q=B[w],S.duration=+SC(c,Rl(s),w,q,B),S.delay=(+SC(g,Rl(s),w,q,B)||0)-s._delay,!d&&Z===1&&S.delay&&(s._delay=g=S.delay,s._start+=g,S.delay=0),x.to(q,S,_?_(w,q,B):0),x._ease=Vn.none;x.duration()?c=g=0:s.timeline=0}else if(f){GC(fa(x.vars.defaults,{ease:"none"})),x._ease=Vu(f.ease||r.ease||"none");var Y=0,X,K,Q;if(to(f))f.forEach(function(z){return x.to(B,z,">")}),x.duration();else{S={};for(M in f)M==="ease"||M==="easeEach"||$me(M,f[M],S,f.easeEach);for(M in S)for(X=S[M].sort(function(z,D){return z.t-D.t}),Y=0,w=0;w<X.length;w++)K=X[w],Q={ease:K.e,duration:(K.t-(w?X[w-1].t:0))/100*c},Q[M]=K.v,x.to(B,Q,Y),Y+=Q.duration;x.duration()<c&&x.to({},{duration:c-x.duration()})}}c||s.duration(c=x.duration())}else s.timeline=0;return C===!0&&!XB&&(Yc=Rl(s),Bi.killTweensOf(B),Yc=0),Us(y,Rl(s),o),r.reversed&&s.reverse(),r.paused&&s.paused(!0),(u||!c&&!f&&s._start===Ji(y._time)&&Ko(u)&&Rme(Rl(s))&&y.data!=="nested")&&(s._tTime=-ni,s.render(Math.max(0,-g)||0)),A&&CY(Rl(s),A),s}var t=e.prototype;return t.render=function(r,o,a){var s=this._time,l=this._tDur,c=this._dur,g=r<0,u=r>l-ni&&!g?l:r<ni?0:r,d,C,f,b,A,p,y,B,x;if(!c)_me(this,r,o,a);else if(u!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(d=u,B=this.timeline,this._repeat){if(b=c+this._rDelay,this._repeat<-1&&g)return this.totalTime(b*100+r,o,a);if(d=Ji(u%b),u===l?(f=this._repeat,d=c):(A=Ji(u/b),f=~~A,f&&f===A?(d=c,f--):d>c&&(d=c)),p=this._yoyo&&f&1,p&&(x=this._yEase,d=c-d),A=p0(this._tTime,b),d===s&&!a&&this._initted&&f===A)return this._tTime=u,this;f!==A&&(B&&this._yEase&&qY(B,p),this.vars.repeatRefresh&&!p&&!this._lock&&d!==b&&this._initted&&(this._lock=a=1,this.render(Ji(b*f),!0).invalidate()._lock=0))}if(!this._initted){if(hY(this,g?r:d,a,o,u))return this._tTime=0,this;if(s!==this._time&&!(a&&this.vars.repeatRefresh&&f!==A))return this;if(c!==this._dur)return this.render(r,o,a)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(x||this._ease)(d/c),this._from&&(this.ratio=y=1-y),d&&!s&&!o&&!f&&(ga(this,"onStart"),this._tTime!==u))return this;for(C=this._pt;C;)C.r(y,C.d),C=C._next;B&&B.render(r<0?r:B._dur*B._ease(d/this._dur),o,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!o&&(g&&Nv(this,r,o,a),ga(this,"onUpdate")),this._repeat&&f!==A&&this.vars.onRepeat&&!o&&this.parent&&ga(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(g&&!this._onUpdate&&Nv(this,r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&cg(this,1),!o&&!(g&&!s)&&(u||s||p)&&(ga(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,o,a,s,l){Bh||sa.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),g;return this._initted||UB(this,c),g=this._ease(c/this._dur),Jme(this,r,o,a,s,g,c,l)?this.resetTo(r,o,a,s,1):(y5(this,0),this.parent||dY(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,o){if(o===void 0&&(o="all"),!r&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?QI(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Vr),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,o,Yc&&Yc.vars.overwrite!==!0)._first||QI(this),this.parent&&a!==this.timeline.totalDuration()&&A0(this,this._dur*this.timeline._tDur/a,0,1),this}var s=this._targets,l=r?Ta(r):s,c=this._ptLookup,g=this._pt,u,d,C,f,b,A,p;if((!o||o==="all")&&Zme(s,l))return o==="all"&&(this._pt=0),QI(this);for(u=this._op=this._op||[],o!=="all"&&(yr(o)&&(b={},Lo(o,function(y){return b[y]=1}),o=b),o=Qme(s,o)),p=s.length;p--;)if(~l.indexOf(s[p])){d=c[p],o==="all"?(u[p]=o,f=d,C={}):(C=u[p]=u[p]||{},f=o);for(b in f)A=d&&d[b],A&&((!("kill"in A.d)||A.d.kill(b)===!0)&&b5(this,A,"_pt"),delete d[b]),C!=="all"&&(C[b]=1)}return this._initted&&!this._pt&&g&&QI(this),this},e.to=function(r,o){return new e(r,o,arguments[2])},e.from=function(r,o){return wC(1,arguments)},e.delayedCall=function(r,o,a,s){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:o,onReverseComplete:o,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:s})},e.fromTo=function(r,o,a){return wC(2,arguments)},e.set=function(r,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(r,o)},e.killTweensOf=function(r,o,a){return Bi.killTweensOf(r,o,a)},e}(xh);fa(ji.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Lo("staggerTo,staggerFrom,staggerFromTo",function(n){ji[n]=function(){var e=new po,t=Hv.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var OB=function(e,t,i){return e[t]=i},NY=function(e,t,i){return e[t](i)},efe=function(e,t,i,r){return e[t](r.fp,i)},tfe=function(e,t,i){return e.setAttribute(t,i)},jB=function(e,t){return Fi(e[t])?NY:zB(e[t])&&e.setAttribute?tfe:OB},FY=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},nfe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},HY=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},JB=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},ife=function(e,t,i,r){for(var o=this._pt,a;o;)a=o._next,o.p===r&&o.modifier(e,t,i),o=a},rfe=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?b5(this,t,"_pt"):t.dep||(i=1),t=r;return!i},ofe=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},EY=function(e){for(var t=e._pt,i,r,o,a;t;){for(i=t._next,r=o;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:o=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=o},To=function(){function n(t,i,r,o,a,s,l,c,g){this.t=i,this.s=o,this.c=a,this.p=r,this.r=s||FY,this.d=l||this,this.set=c||OB,this.pr=g||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,o){this.mSet=this.mSet||this.set,this.set=ofe,this.m=i,this.mt=o,this.tween=r},n}();Lo(kB+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return TB[n]=1});ma.TweenMax=ma.TweenLite=ji;ma.TimelineLite=ma.TimelineMax=po;Bi=new po({sortChildren:!1,defaults:m0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ia.stringFilter=SY;var Nu=[],cp={},afe=[],DM=0,sfe=0,kb=function(e){return(cp[e]||afe).map(function(t){return t()})},Yv=function(){var e=Date.now(),t=[];e-DM>2&&(kb("matchMediaInit"),Nu.forEach(function(i){var r=i.queries,o=i.conditions,a,s,l,c;for(s in r)a=Ps.matchMedia(r[s]).matches,a&&(l=1),a!==o[s]&&(o[s]=a,c=1);c&&(i.revert(),l&&t.push(i))}),kb("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),DM=e,kb("matchMedia"))},XY=function(){function n(t,i){this.selector=i&&Ev(i),this.data=[],this._r=[],this.isReverted=!1,this.id=sfe++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,o){Fi(i)&&(o=r,r=i,i=Fi);var a=this,s=function(){var c=fi,g=a.selector,u;return c&&c!==a&&c.data.push(a),o&&(a.selector=Ev(o)),fi=a,u=r.apply(a,arguments),Fi(u)&&a._r.push(u),fi=c,a.selector=g,a.isReverted=!1,u};return a.last=s,i===Fi?s(a,function(l){return a.add(null,l)}):i?a[i]=s:s},e.ignore=function(i){var r=fi;fi=null,i(this),fi=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof ji&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var o=this;if(i?function(){for(var s=o.getTweens(),l=o.data.length,c;l--;)c=o.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(g){return s.splice(s.indexOf(g),1)}));for(s.map(function(g){return{g:g._dur||g._delay||g._sat&&!g._sat.vars.immediateRender?g.globalTime(0):-1/0,t:g}}).sort(function(g,u){return u.g-g.g||-1/0}).forEach(function(g){return g.t.revert(i)}),l=o.data.length;l--;)c=o.data[l],c instanceof po?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof ji)&&c.revert&&c.revert(i);o._r.forEach(function(g){return g(i,o)}),o.isReverted=!0}():this.data.forEach(function(s){return s.kill&&s.kill()}),this.clear(),r)for(var a=Nu.length;a--;)Nu[a].id===this.id&&Nu.splice(a,1)},e.revert=function(i){this.kill(i||{})},n}(),lfe=function(){function n(t){this.contexts=[],this.scope=t,fi&&fi.data.push(this)}var e=n.prototype;return e.add=function(i,r,o){dl(i)||(i={matches:i});var a=new XY(0,o||this.scope),s=a.conditions={},l,c,g;fi&&!a.selector&&(a.selector=fi.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(c in i)c==="all"?g=1:(l=Ps.matchMedia(i[c]),l&&(Nu.indexOf(a)<0&&Nu.push(a),(s[c]=l.matches)&&(g=1),l.addListener?l.addListener(Yv):l.addEventListener("change",Yv)));return g&&r(a,function(u){return a.add(null,u)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),K3={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return xY(r)})},timeline:function(e){return new po(e)},getTweensOf:function(e,t){return Bi.getTweensOf(e,t)},getProperty:function(e,t,i,r){yr(e)&&(e=Ta(e)[0]);var o=_u(e||{}).get,a=i?uY:gY;return i==="native"&&(i=""),e&&(t?a((aa[t]&&aa[t].get||o)(e,t,i,r)):function(s,l,c){return a((aa[s]&&aa[s].get||o)(e,s,l,c))})},quickSetter:function(e,t,i){if(e=Ta(e),e.length>1){var r=e.map(function(g){return Uo.quickSetter(g,t,i)}),o=r.length;return function(g){for(var u=o;u--;)r[u](g)}}e=e[0]||{};var a=aa[t],s=_u(e),l=s.harness&&(s.harness.aliases||{})[t]||t,c=a?function(g){var u=new a;Zd._pt=0,u.init(e,i?g+i:g,Zd,0,[e]),u.render(1,u),Zd._pt&&JB(1,Zd)}:s.set(e,l);return a?c:function(g){return c(e,l,i?g+i:g,s,1)}},quickTo:function(e,t,i){var r,o=Uo.to(e,fa((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function(l,c,g){return o.resetTo(t,l,c,g)};return a.tween=o,a},isTweening:function(e){return Bi.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Vu(e.ease,m0.ease)),KM(m0,e||{})},config:function(e){return KM(Ia,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,o=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(s){return s&&!aa[s]&&!ma[s]&&bh(t+" effect requires "+s+" plugin.")}),Yb[t]=function(s,l,c){return i(Ta(s),fa(l||{},o),c)},a&&(po.prototype[t]=function(s,l,c){return this.add(Yb[t](s,dl(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Vn[e]=Vu(t)},parseEase:function(e,t){return arguments.length?Vu(e,t):Vn},getById:function(e){return Bi.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new po(e),r,o;for(i.smoothChildTiming=Ko(e.smoothChildTiming),Bi.remove(i),i._dp=0,i._time=i._tTime=Bi._time,r=Bi._first;r;)o=r._next,(t||!(!r._dur&&r instanceof ji&&r.vars.onComplete===r._targets[0]))&&Us(i,r,r._start-r._delay),r=o;return Us(Bi,i,0),i},context:function(e,t){return e?new XY(e,t):fi},matchMedia:function(e){return new lfe(e)},matchMediaRefresh:function(){return Nu.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||Yv()},addEventListener:function(e,t){var i=cp[e]||(cp[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=cp[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:zme,wrapYoyo:Yme,distribute:pY,random:bY,snap:AY,normalize:Xme,getUnit:Jr,clamp:Nme,splitColor:GY,toArray:Ta,selector:Ev,mapRange:yY,pipe:Hme,unitize:Eme,interpolate:Kme,shuffle:fY},install:oY,effects:Yb,ticker:sa,updateRoot:po.updateRoot,plugins:aa,globalTimeline:Bi,core:{PropTween:To,globals:aY,Tween:ji,Timeline:po,Animation:xh,getCache:_u,_removeLinkedListItem:b5,reverting:function(){return Vr},context:function(e){return e&&fi&&(fi.data.push(e),e._ctx=fi),fi},suppressOverwrites:function(e){return XB=e}}};Lo("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return K3[n]=ji[n]});sa.add(po.updateRoot);Zd=K3.to({},{duration:0});var cfe=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},gfe=function(e,t){var i=e._targets,r,o,a;for(r in t)for(o=i.length;o--;)a=e._ptLookup[o][r],a&&(a=a.d)&&(a._pt&&(a=cfe(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[o],r))},Pb=function(e,t){return{name:e,rawVars:1,init:function(r,o,a){a._onInit=function(s){var l,c;if(yr(o)&&(l={},Lo(o,function(g){return l[g]=1}),o=l),t){l={};for(c in o)l[c]=t(o[c]);o=l}gfe(s,o)}}}},Uo=K3.registerPlugin({name:"attr",init:function(e,t,i,r,o){var a,s,l;this.tween=i;for(a in t)l=e.getAttribute(a)||"",s=this.add(e,"setAttribute",(l||0)+"",t[a],r,o,0,0,a),s.op=a,s.b=l,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)Vr?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Pb("roundProps",Xv),Pb("modifiers"),Pb("snap",AY))||K3;ji.version=po.version=Uo.version="3.12.7";rY=1;YB()&&b0();Vn.Power0;Vn.Power1;Vn.Power2;Vn.Power3;Vn.Power4;Vn.Linear;Vn.Quad;Vn.Cubic;Vn.Quart;Vn.Quint;Vn.Strong;Vn.Elastic;Vn.Back;Vn.SteppedEase;Vn.Bounce;Vn.Sine;Vn.Expo;Vn.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var UM,Kc,Ld,QB,yu,OM,$B,ufe=function(){return typeof window<"u"},$l={},tu=180/Math.PI,Td=Math.PI/180,id=Math.atan2,jM=1e8,ex=/([A-Z])/g,dfe=/(left|right|width|margin|padding|x)/i,Ife=/[\s,\(]\S/,Js={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Kv=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Cfe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},hfe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},mfe=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},zY=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},YY=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},ffe=function(e,t,i){return e.style[t]=i},pfe=function(e,t,i){return e.style.setProperty(t,i)},Afe=function(e,t,i){return e._gsap[t]=i},bfe=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},vfe=function(e,t,i,r,o){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(o,a)},yfe=function(e,t,i,r,o){var a=e._gsap;a[t]=i,a.renderTransform(o,a)},Gi="transform",ko=Gi+"Origin",Bfe=function n(e,t){var i=this,r=this.target,o=r.style,a=r._gsap;if(e in $l&&o){if(this.tfm=this.tfm||{},e!=="transform")e=Js[e]||e,~e.indexOf(",")?e.split(",").forEach(function(s){return i.tfm[s]=Wl(r,s)}):this.tfm[e]=a.x?a[e]:Wl(r,e),e===ko&&(this.tfm.zOrigin=a.zOrigin);else return Js.transform.split(",").forEach(function(s){return n.call(i,s,t)});if(this.props.indexOf(Gi)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(ko,t,"")),e=Gi}(o||t)&&this.props.push(e,t,o[e])},KY=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},xfe=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,o,a;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?t[e[o]](e[o+2]):t[e[o]]=e[o+2]:e[o+2]?i[e[o]]=e[o+2]:i.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(ex,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),o=$B(),(!o||!o.isStart)&&!i[Gi]&&(KY(i),r.zOrigin&&i[ko]&&(i[ko]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},LY=function(e,t){var i={target:e,props:[],revert:xfe,save:Bfe};return e._gsap||Uo.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},TY,Lv=function(e,t){var i=Kc.createElementNS?Kc.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Kc.createElement(e);return i&&i.style?i:Kc.createElement(e)},rl=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(ex,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,v0(t)||t,1)||""},JM="O,Moz,ms,Ms,Webkit".split(","),v0=function(e,t,i){var r=t||yu,o=r.style,a=5;if(e in o&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(JM[a]+e in o););return a<0?null:(a===3?"ms":a>=0?JM[a]:"")+e},Tv=function(){ufe()&&window.document&&(UM=window,Kc=UM.document,Ld=Kc.documentElement,yu=Lv("div")||{style:{}},Lv("div"),Gi=v0(Gi),ko=Gi+"Origin",yu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",TY=!!v0("perspective"),$B=Uo.core.reverting,QB=1)},QM=function(e){var t=e.ownerSVGElement,i=Lv("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),o;r.style.display="block",i.appendChild(r),Ld.appendChild(i);try{o=r.getBBox()}catch{}return i.removeChild(r),Ld.removeChild(i),o},$M=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},kY=function(e){var t,i;try{t=e.getBBox()}catch{t=QM(e),i=1}return t&&(t.width||t.height)||i||(t=QM(e)),t&&!t.width&&!t.x&&!t.y?{x:+$M(e,["x","cx","x1"])||0,y:+$M(e,["y","cy","y1"])||0,width:0,height:0}:t},PY=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&kY(e))},Qu=function(e,t){if(t){var i=e.style,r;t in $l&&t!==ko&&(t=Gi),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(ex,"-$1").toLowerCase())):i.removeAttribute(t)}},Lc=function(e,t,i,r,o,a){var s=new To(e._pt,t,i,0,1,a?YY:zY);return e._pt=s,s.b=r,s.e=o,e._props.push(i),s},e_={deg:1,rad:1,turn:1},Gfe={grid:1,flex:1},gg=function n(e,t,i,r){var o=parseFloat(i)||0,a=(i+"").trim().substr((o+"").length)||"px",s=yu.style,l=dfe.test(t),c=e.tagName.toLowerCase()==="svg",g=(c?"client":"offset")+(l?"Width":"Height"),u=100,d=r==="px",C=r==="%",f,b,A,p;if(r===a||!o||e_[r]||e_[a])return o;if(a!=="px"&&!d&&(o=n(e,t,i,"px")),p=e.getCTM&&PY(e),(C||a==="%")&&($l[t]||~t.indexOf("adius")))return f=p?e.getBBox()[l?"width":"height"]:e[g],zi(C?o/f*u:o/100*f);if(s[l?"width":"height"]=u+(d?a:r),b=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,p&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===Kc||!b.appendChild)&&(b=Kc.body),A=b._gsap,A&&C&&A.width&&l&&A.time===sa.time&&!A.uncache)return zi(o/A.width*u);if(C&&(t==="height"||t==="width")){var y=e.style[t];e.style[t]=u+r,f=e[g],y?e.style[t]=y:Qu(e,t)}else(C||a==="%")&&!Gfe[rl(b,"display")]&&(s.position=rl(e,"position")),b===e&&(s.position="static"),b.appendChild(yu),f=yu[g],b.removeChild(yu),s.position="absolute";return l&&C&&(A=_u(b),A.time=sa.time,A.width=b[g]),zi(d?f*o/u:f&&o?u/f*o:0)},Wl=function(e,t,i,r){var o;return QB||Tv(),t in Js&&t!=="transform"&&(t=Js[t],~t.indexOf(",")&&(t=t.split(",")[0])),$l[t]&&t!=="transform"?(o=wh(e,r),o=t!=="transformOrigin"?o[t]:o.svg?o.origin:T3(rl(e,ko))+" "+o.zOrigin+"px"):(o=e.style[t],(!o||o==="auto"||r||~(o+"").indexOf("calc("))&&(o=L3[t]&&L3[t](e,t,i)||rl(e,t)||lY(e,t)||(t==="opacity"?1:0))),i&&!~(o+"").trim().indexOf(" ")?gg(e,t,o,i)+i:o},wfe=function(e,t,i,r){if(!i||i==="none"){var o=v0(t,e,1),a=o&&rl(e,o,1);a&&a!==i?(t=o,i=a):t==="borderColor"&&(i=rl(e,"borderTopColor"))}var s=new To(this._pt,e.style,t,0,1,HY),l=0,c=0,g,u,d,C,f,b,A,p,y,B,x,w;if(s.b=i,s.e=r,i+="",r+="",r==="auto"&&(b=e.style[t],e.style[t]=r,r=rl(e,t)||r,b?e.style[t]=b:Qu(e,t)),g=[i,r],SY(g),i=g[0],r=g[1],d=i.match(Sd)||[],w=r.match(Sd)||[],w.length){for(;u=Sd.exec(r);)A=u[0],y=r.substring(l,u.index),f?f=(f+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(f=1),A!==(b=d[c++]||"")&&(C=parseFloat(b)||0,x=b.substr((C+"").length),A.charAt(1)==="="&&(A=Kd(C,A)+x),p=parseFloat(A),B=A.substr((p+"").length),l=Sd.lastIndex-B.length,B||(B=B||Ia.units[t]||x,l===r.length&&(r+=B,s.e+=B)),x!==B&&(C=gg(e,t,b,B)||0),s._pt={_next:s._pt,p:y||c===1?y:",",s:C,c:p-C,m:f&&f<4||t==="zIndex"?Math.round:0});s.c=l<r.length?r.substring(l,r.length):""}else s.r=t==="display"&&r==="none"?YY:zY;return nY.test(r)&&(s.e=0),this._pt=s,s},t_={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Sfe=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=t_[i]||i,t[1]=t_[r]||r,t.join(" ")},Zfe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,o=t.u,a=i._gsap,s,l,c;if(o==="all"||o===!0)r.cssText="",l=1;else for(o=o.split(","),c=o.length;--c>-1;)s=o[c],$l[s]&&(l=1,s=s==="transformOrigin"?ko:Gi),Qu(i,s);l&&(Qu(i,Gi),a&&(a.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",wh(i,1),a.uncache=1,KY(r)))}},L3={clearProps:function(e,t,i,r,o){if(o.data!=="isFromStart"){var a=e._pt=new To(e._pt,t,i,0,0,Zfe);return a.u=r,a.pr=-10,a.tween=o,e._props.push(i),1}}},Gh=[1,0,0,1,0,0],DY={},UY=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},n_=function(e){var t=rl(e,Gi);return UY(t)?Gh:t.substr(7).match(tY).map(zi)},tx=function(e,t){var i=e._gsap||_u(e),r=e.style,o=n_(e),a,s,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,o=[l.a,l.b,l.c,l.d,l.e,l.f],o.join(",")==="1,0,0,1,0,0"?Gh:o):(o===Gh&&!e.offsetParent&&e!==Ld&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,s=e.nextElementSibling,Ld.appendChild(e)),o=n_(e),l?r.display=l:Qu(e,"display"),c&&(s?a.insertBefore(e,s):a?a.appendChild(e):Ld.removeChild(e))),t&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},kv=function(e,t,i,r,o,a){var s=e._gsap,l=o||tx(e,!0),c=s.xOrigin||0,g=s.yOrigin||0,u=s.xOffset||0,d=s.yOffset||0,C=l[0],f=l[1],b=l[2],A=l[3],p=l[4],y=l[5],B=t.split(" "),x=parseFloat(B[0])||0,w=parseFloat(B[1])||0,S,Z,M,q;i?l!==Gh&&(Z=C*A-f*b)&&(M=x*(A/Z)+w*(-b/Z)+(b*y-A*p)/Z,q=x*(-f/Z)+w*(C/Z)-(C*y-f*p)/Z,x=M,w=q):(S=kY(e),x=S.x+(~B[0].indexOf("%")?x/100*S.width:x),w=S.y+(~(B[1]||B[0]).indexOf("%")?w/100*S.height:w)),r||r!==!1&&s.smooth?(p=x-c,y=w-g,s.xOffset=u+(p*C+y*b)-p,s.yOffset=d+(p*f+y*A)-y):s.xOffset=s.yOffset=0,s.xOrigin=x,s.yOrigin=w,s.smooth=!!r,s.origin=t,s.originIsAbsolute=!!i,e.style[ko]="0px 0px",a&&(Lc(a,s,"xOrigin",c,x),Lc(a,s,"yOrigin",g,w),Lc(a,s,"xOffset",u,s.xOffset),Lc(a,s,"yOffset",d,s.yOffset)),e.setAttribute("data-svg-origin",x+" "+w)},wh=function(e,t){var i=e._gsap||new MY(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,o=i.scaleX<0,a="px",s="deg",l=getComputedStyle(e),c=rl(e,ko)||"0",g,u,d,C,f,b,A,p,y,B,x,w,S,Z,M,q,_,V,Y,X,K,Q,z,D,N,L,P,O,ie,ge,J,Ce;return g=u=d=b=A=p=y=B=x=0,C=f=1,i.svg=!!(e.getCTM&&PY(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Gi]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Gi]!=="none"?l[Gi]:"")),r.scale=r.rotate=r.translate="none"),Z=tx(e,i.svg),i.svg&&(i.uncache?(N=e.getBBox(),c=i.xOrigin-N.x+"px "+(i.yOrigin-N.y)+"px",D=""):D=!t&&e.getAttribute("data-svg-origin"),kv(e,D||c,!!D||i.originIsAbsolute,i.smooth!==!1,Z)),w=i.xOrigin||0,S=i.yOrigin||0,Z!==Gh&&(V=Z[0],Y=Z[1],X=Z[2],K=Z[3],g=Q=Z[4],u=z=Z[5],Z.length===6?(C=Math.sqrt(V*V+Y*Y),f=Math.sqrt(K*K+X*X),b=V||Y?id(Y,V)*tu:0,y=X||K?id(X,K)*tu+b:0,y&&(f*=Math.abs(Math.cos(y*Td))),i.svg&&(g-=w-(w*V+S*X),u-=S-(w*Y+S*K))):(Ce=Z[6],ge=Z[7],P=Z[8],O=Z[9],ie=Z[10],J=Z[11],g=Z[12],u=Z[13],d=Z[14],M=id(Ce,ie),A=M*tu,M&&(q=Math.cos(-M),_=Math.sin(-M),D=Q*q+P*_,N=z*q+O*_,L=Ce*q+ie*_,P=Q*-_+P*q,O=z*-_+O*q,ie=Ce*-_+ie*q,J=ge*-_+J*q,Q=D,z=N,Ce=L),M=id(-X,ie),p=M*tu,M&&(q=Math.cos(-M),_=Math.sin(-M),D=V*q-P*_,N=Y*q-O*_,L=X*q-ie*_,J=K*_+J*q,V=D,Y=N,X=L),M=id(Y,V),b=M*tu,M&&(q=Math.cos(M),_=Math.sin(M),D=V*q+Y*_,N=Q*q+z*_,Y=Y*q-V*_,z=z*q-Q*_,V=D,Q=N),A&&Math.abs(A)+Math.abs(b)>359.9&&(A=b=0,p=180-p),C=zi(Math.sqrt(V*V+Y*Y+X*X)),f=zi(Math.sqrt(z*z+Ce*Ce)),M=id(Q,z),y=Math.abs(M)>2e-4?M*tu:0,x=J?1/(J<0?-J:J):0),i.svg&&(D=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!UY(rl(e,Gi)),D&&e.setAttribute("transform",D))),Math.abs(y)>90&&Math.abs(y)<270&&(o?(C*=-1,y+=b<=0?180:-180,b+=b<=0?180:-180):(f*=-1,y+=y<=0?180:-180)),t=t||i.uncache,i.x=g-((i.xPercent=g&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-g)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=u-((i.yPercent=u&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=d+a,i.scaleX=zi(C),i.scaleY=zi(f),i.rotation=zi(b)+s,i.rotationX=zi(A)+s,i.rotationY=zi(p)+s,i.skewX=y+s,i.skewY=B+s,i.transformPerspective=x+a,(i.zOrigin=parseFloat(c.split(" ")[2])||!t&&i.zOrigin||0)&&(r[ko]=T3(c)),i.xOffset=i.yOffset=0,i.force3D=Ia.force3D,i.renderTransform=i.svg?Rfe:TY?OY:qfe,i.uncache=0,i},T3=function(e){return(e=e.split(" "))[0]+" "+e[1]},Db=function(e,t,i){var r=Jr(t);return zi(parseFloat(t)+parseFloat(gg(e,"x",i+"px",r)))+r},qfe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,OY(e,t)},Dg="0deg",KI="0px",Ug=") ",OY=function(e,t){var i=t||this,r=i.xPercent,o=i.yPercent,a=i.x,s=i.y,l=i.z,c=i.rotation,g=i.rotationY,u=i.rotationX,d=i.skewX,C=i.skewY,f=i.scaleX,b=i.scaleY,A=i.transformPerspective,p=i.force3D,y=i.target,B=i.zOrigin,x="",w=p==="auto"&&e&&e!==1||p===!0;if(B&&(u!==Dg||g!==Dg)){var S=parseFloat(g)*Td,Z=Math.sin(S),M=Math.cos(S),q;S=parseFloat(u)*Td,q=Math.cos(S),a=Db(y,a,Z*q*-B),s=Db(y,s,-Math.sin(S)*-B),l=Db(y,l,M*q*-B+B)}A!==KI&&(x+="perspective("+A+Ug),(r||o)&&(x+="translate("+r+"%, "+o+"%) "),(w||a!==KI||s!==KI||l!==KI)&&(x+=l!==KI||w?"translate3d("+a+", "+s+", "+l+") ":"translate("+a+", "+s+Ug),c!==Dg&&(x+="rotate("+c+Ug),g!==Dg&&(x+="rotateY("+g+Ug),u!==Dg&&(x+="rotateX("+u+Ug),(d!==Dg||C!==Dg)&&(x+="skew("+d+", "+C+Ug),(f!==1||b!==1)&&(x+="scale("+f+", "+b+Ug),y.style[Gi]=x||"translate(0, 0)"},Rfe=function(e,t){var i=t||this,r=i.xPercent,o=i.yPercent,a=i.x,s=i.y,l=i.rotation,c=i.skewX,g=i.skewY,u=i.scaleX,d=i.scaleY,C=i.target,f=i.xOrigin,b=i.yOrigin,A=i.xOffset,p=i.yOffset,y=i.forceCSS,B=parseFloat(a),x=parseFloat(s),w,S,Z,M,q;l=parseFloat(l),c=parseFloat(c),g=parseFloat(g),g&&(g=parseFloat(g),c+=g,l+=g),l||c?(l*=Td,c*=Td,w=Math.cos(l)*u,S=Math.sin(l)*u,Z=Math.sin(l-c)*-d,M=Math.cos(l-c)*d,c&&(g*=Td,q=Math.tan(c-g),q=Math.sqrt(1+q*q),Z*=q,M*=q,g&&(q=Math.tan(g),q=Math.sqrt(1+q*q),w*=q,S*=q)),w=zi(w),S=zi(S),Z=zi(Z),M=zi(M)):(w=u,M=d,S=Z=0),(B&&!~(a+"").indexOf("px")||x&&!~(s+"").indexOf("px"))&&(B=gg(C,"x",a,"px"),x=gg(C,"y",s,"px")),(f||b||A||p)&&(B=zi(B+f-(f*w+b*Z)+A),x=zi(x+b-(f*S+b*M)+p)),(r||o)&&(q=C.getBBox(),B=zi(B+r/100*q.width),x=zi(x+o/100*q.height)),q="matrix("+w+","+S+","+Z+","+M+","+B+","+x+")",C.setAttribute("transform",q),y&&(C.style[Gi]=q)},Mfe=function(e,t,i,r,o){var a=360,s=yr(o),l=parseFloat(o)*(s&&~o.indexOf("rad")?tu:1),c=l-r,g=r+c+"deg",u,d;return s&&(u=o.split("_")[1],u==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),u==="cw"&&c<0?c=(c+a*jM)%a-~~(c/a)*a:u==="ccw"&&c>0&&(c=(c-a*jM)%a-~~(c/a)*a)),e._pt=d=new To(e._pt,t,i,r,c,Cfe),d.e=g,d.u="deg",e._props.push(i),d},i_=function(e,t){for(var i in t)e[i]=t[i];return e},_fe=function(e,t,i){var r=i_({},i._gsap),o="perspective,force3D,transformOrigin,svgOrigin",a=i.style,s,l,c,g,u,d,C,f;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),a[Gi]=t,s=wh(i,1),Qu(i,Gi),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Gi],a[Gi]=t,s=wh(i,1),a[Gi]=c);for(l in $l)c=r[l],g=s[l],c!==g&&o.indexOf(l)<0&&(C=Jr(c),f=Jr(g),u=C!==f?gg(i,l,c,f):parseFloat(c),d=parseFloat(g),e._pt=new To(e._pt,s,l,u,d-u,Kv),e._pt.u=f||0,e._props.push(l));i_(s,r)};Lo("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",o="Left",a=(e<3?[t,i,r,o]:[t+o,t+i,r+i,r+o]).map(function(s){return e<2?n+s:"border"+s+n});L3[e>1?"border"+n:n]=function(s,l,c,g,u){var d,C;if(arguments.length<4)return d=a.map(function(f){return Wl(s,f,c)}),C=d.join(" "),C.split(d[0]).length===5?d[0]:C;d=(g+"").split(" "),C={},a.forEach(function(f,b){return C[f]=d[b]=d[b]||d[(b-1)/2|0]}),s.init(l,C,u)}});var jY={name:"css",register:Tv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,o){var a=this._props,s=e.style,l=i.vars.startAt,c,g,u,d,C,f,b,A,p,y,B,x,w,S,Z,M;QB||Tv(),this.styles=this.styles||LY(e),M=this.styles.props,this.tween=i;for(b in t)if(b!=="autoRound"&&(g=t[b],!(aa[b]&&_Y(b,t,i,r,e,o)))){if(C=typeof g,f=L3[b],C==="function"&&(g=g.call(i,r,e,o),C=typeof g),C==="string"&&~g.indexOf("random(")&&(g=yh(g)),f)f(this,e,b,g,i)&&(Z=1);else if(b.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(b)+"").trim(),g+="",tg.lastIndex=0,tg.test(c)||(A=Jr(c),p=Jr(g)),p?A!==p&&(c=gg(e,b,c,p)+p):A&&(g+=A),this.add(s,"setProperty",c,g,r,o,0,0,b),a.push(b),M.push(b,0,s[b]);else if(C!=="undefined"){if(l&&b in l?(c=typeof l[b]=="function"?l[b].call(i,r,e,o):l[b],yr(c)&&~c.indexOf("random(")&&(c=yh(c)),Jr(c+"")||c==="auto"||(c+=Ia.units[b]||Jr(Wl(e,b))||""),(c+"").charAt(1)==="="&&(c=Wl(e,b))):c=Wl(e,b),d=parseFloat(c),y=C==="string"&&g.charAt(1)==="="&&g.substr(0,2),y&&(g=g.substr(2)),u=parseFloat(g),b in Js&&(b==="autoAlpha"&&(d===1&&Wl(e,"visibility")==="hidden"&&u&&(d=0),M.push("visibility",0,s.visibility),Lc(this,s,"visibility",d?"inherit":"hidden",u?"inherit":"hidden",!u)),b!=="scale"&&b!=="transform"&&(b=Js[b],~b.indexOf(",")&&(b=b.split(",")[0]))),B=b in $l,B){if(this.styles.save(b),x||(w=e._gsap,w.renderTransform&&!t.parseTransform||wh(e,t.parseTransform),S=t.smoothOrigin!==!1&&w.smooth,x=this._pt=new To(this._pt,s,Gi,0,1,w.renderTransform,w,0,-1),x.dep=1),b==="scale")this._pt=new To(this._pt,w,"scaleY",w.scaleY,(y?Kd(w.scaleY,y+u):u)-w.scaleY||0,Kv),this._pt.u=0,a.push("scaleY",b),b+="X";else if(b==="transformOrigin"){M.push(ko,0,s[ko]),g=Sfe(g),w.svg?kv(e,g,0,S,0,this):(p=parseFloat(g.split(" ")[2])||0,p!==w.zOrigin&&Lc(this,w,"zOrigin",w.zOrigin,p),Lc(this,s,b,T3(c),T3(g)));continue}else if(b==="svgOrigin"){kv(e,g,1,S,0,this);continue}else if(b in DY){Mfe(this,w,b,d,y?Kd(d,y+g):g);continue}else if(b==="smoothOrigin"){Lc(this,w,"smooth",w.smooth,g);continue}else if(b==="force3D"){w[b]=g;continue}else if(b==="transform"){_fe(this,g,e);continue}}else b in s||(b=v0(b)||b);if(B||(u||u===0)&&(d||d===0)&&!Ife.test(g)&&b in s)A=(c+"").substr((d+"").length),u||(u=0),p=Jr(g)||(b in Ia.units?Ia.units[b]:A),A!==p&&(d=gg(e,b,c,p)),this._pt=new To(this._pt,B?w:s,b,d,(y?Kd(d,y+u):u)-d,!B&&(p==="px"||b==="zIndex")&&t.autoRound!==!1?mfe:Kv),this._pt.u=p||0,A!==p&&p!=="%"&&(this._pt.b=c,this._pt.r=hfe);else if(b in s)wfe.call(this,e,b,c,y?y+g:g);else if(b in e)this.add(e,b,c||e[b],y?y+g:g,r,o);else if(b!=="parseTransform"){LB(b,g);continue}B||(b in s?M.push(b,0,s[b]):typeof e[b]=="function"?M.push(b,2,e[b]()):M.push(b,1,c||e[b])),a.push(b)}}Z&&EY(this)},render:function(e,t){if(t.tween._time||!$B())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Wl,aliases:Js,getSetter:function(e,t,i){var r=Js[t];return r&&r.indexOf(",")<0&&(t=r),t in $l&&t!==ko&&(e._gsap.x||Wl(e,"x"))?i&&OM===i?t==="scale"?bfe:Afe:(OM=i||{})&&(t==="scale"?vfe:yfe):e.style&&!zB(e.style[t])?ffe:~t.indexOf("-")?pfe:jB(e,t)},core:{_removeProperty:Qu,_getMatrix:tx}};Uo.utils.checkPrefix=v0;Uo.core.getStyleSaver=LY;(function(n,e,t,i){var r=Lo(n+","+e+","+t,function(o){$l[o]=1});Lo(e,function(o){Ia.units[o]="deg",DY[o]=1}),Js[r[13]]=n+","+e,Lo(i,function(o){var a=o.split(":");Js[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Lo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ia.units[n]="px"});Uo.registerPlugin(jY);var gp=Uo.registerPlugin(jY)||Uo;gp.core.Tween;function Wfe(n){const{nodes:e,materials:t}=fe("/recorrido-virtual-espe/models/minimapa.glb");return I.jsx("group",{...n,dispose:null,children:I.jsxs("group",{name:"minimapa",position:[0,0,0],children:[I.jsx("mesh",{name:"Cubo384",geometry:e.Cubo384.geometry,material:t.techo}),I.jsx("mesh",{name:"Cubo384_1",geometry:e.Cubo384_1.geometry,material:t["vidrio sala"]}),I.jsx("mesh",{name:"Cubo384_2",geometry:e.Cubo384_2.geometry,material:t.barras}),I.jsx("mesh",{name:"Cubo384_3",geometry:e.Cubo384_3.geometry,material:t["barras cuartos.001"]}),I.jsx("mesh",{name:"Cubo384_4",geometry:e.Cubo384_4.geometry,material:t["madera paredes"]}),I.jsx("mesh",{name:"Cubo384_5",geometry:e.Cubo384_5.geometry,material:t["barras cuartos"]}),I.jsx("mesh",{name:"Cubo384_6",geometry:e.Cubo384_6.geometry,material:t["cafe oscuro"]}),I.jsx("mesh",{name:"Cubo384_7",geometry:e.Cubo384_7.geometry,material:t["pared bordes negro"]}),I.jsx("mesh",{name:"Cubo384_8",geometry:e.Cubo384_8.geometry,material:t.vidrio}),I.jsx("mesh",{name:"Cubo384_9",geometry:e.Cubo384_9.geometry,material:t["pared negro"]}),I.jsx("mesh",{name:"Cubo384_10",geometry:e.Cubo384_10.geometry,material:t["pared blanca"]}),I.jsx("mesh",{name:"Cubo384_11",geometry:e.Cubo384_11.geometry,material:t["madera clara 2"]}),I.jsx("mesh",{name:"Cubo384_12",geometry:e.Cubo384_12.geometry,material:t["madera clara 2.004"]}),I.jsx("mesh",{name:"Cubo384_13",geometry:e.Cubo384_13.geometry,material:t["plateado columnas"]}),I.jsx("mesh",{name:"Cubo384_14",geometry:e.Cubo384_14.geometry,material:t["Material.009"]}),I.jsx("mesh",{name:"Cubo384_15",geometry:e.Cubo384_15.geometry,material:t["piso aulas"]}),I.jsx("mesh",{name:"Cubo384_16",geometry:e.Cubo384_16.geometry,material:t["pared blanca externa"]}),I.jsx("mesh",{name:"Cubo384_17",geometry:e.Cubo384_17.geometry,material:t["blanca externa pisos"]}),I.jsx("mesh",{name:"Cubo384_18",geometry:e.Cubo384_18.geometry,material:t["verde.001"]}),I.jsx("mesh",{name:"Cubo384_19",geometry:e.Cubo384_19.geometry,material:t["madera clara 1"]}),I.jsx("mesh",{name:"Cubo384_20",geometry:e.Cubo384_20.geometry,material:t["04_-_Default"]}),I.jsx("mesh",{name:"Cubo384_21",geometry:e.Cubo384_21.geometry,material:t["madera clara 1.001"]}),I.jsx("mesh",{name:"Cubo384_22",geometry:e.Cubo384_22.geometry,material:t["led techo"]}),I.jsx("mesh",{name:"Cubo384_23",geometry:e.Cubo384_23.geometry,material:t.acera}),I.jsx("mesh",{name:"Cubo384_24",geometry:e.Cubo384_24.geometry,material:t.escaleras}),I.jsx("mesh",{name:"Cubo384_25",geometry:e.Cubo384_25.geometry,material:t["piso base"]}),I.jsx("mesh",{name:"Cubo384_26",geometry:e.Cubo384_26.geometry,material:t["Material.001"]}),I.jsx("mesh",{name:"Cubo384_27",geometry:e.Cubo384_27.geometry,material:t["Material.002"]}),I.jsx("mesh",{name:"Cubo384_28",geometry:e.Cubo384_28.geometry,material:t.terreno}),I.jsx("mesh",{name:"Cubo384_29",geometry:e.Cubo384_29.geometry,material:t.Material}),I.jsx("mesh",{name:"Cubo384_30",geometry:e.Cubo384_30.geometry,material:t.terreno2}),I.jsx("mesh",{name:"Cubo384_31",geometry:e.Cubo384_31.geometry,material:t.terreno3}),I.jsx("mesh",{name:"Cubo384_32",geometry:e.Cubo384_32.geometry,material:t.mat15}),I.jsx("mesh",{name:"Cubo384_33",geometry:e.Cubo384_33.geometry,material:t.mat10}),I.jsx("mesh",{name:"Cubo384_34",geometry:e.Cubo384_34.geometry,material:t["03___Default"]}),I.jsx("mesh",{name:"Cubo384_35",geometry:e.Cubo384_35.geometry,material:t.mat20}),I.jsx("mesh",{name:"Cubo384_36",geometry:e.Cubo384_36.geometry,material:t.Mat}),I.jsx("mesh",{name:"Cubo384_37",geometry:e.Cubo384_37.geometry,material:t.tronco}),I.jsx("mesh",{name:"Cubo384_38",geometry:e.Cubo384_38.geometry,material:t.logo}),I.jsx("mesh",{name:"Cubo384_39",geometry:e.Cubo384_39.geometry,material:t.figura})]})})}fe.preload("/recorrido-virtual-espe/models/minimapa.glb");const Vfe=({marker:n})=>{const[e,t]=v.useState(null),i={position:"absolute",top:"50%",left:"50%",cursor:"pointer",borderRadius:"50%"},r={box1:{backgroundColor:"rgba(0, 0, 0, 0.6)",transform:e==="box1"?"scale(4)":"scale(2)"},box1_2:{backgroundColor:"rgba(0, 0, 0, 0.6)",transform:e==="box1_2"?"scale(8)":"scale(3)"},box1_3:{backgroundColor:"rgba(0, 0, 0, 0.6)",transform:e==="box1_3"?"scale(9)":"scale(4)"},box2:{backgroundColor:"rgba(0, 0, 0, 0.6)",transform:e==="box2"?"scale(1.3)":"scale(1.1)"},box3:{backgroundColor:"rgba(0, 0, 0, 0.6)",transform:e==="box3"?"scale(1.8)":"scale(1.2)"},box4:{backgroundColor:"rgba(0, 0, 0, 0.6)",transform:e==="box4"?"scale(2.2)":"scale(1.5)"}},o={width:"100px",height:"100px",borderRadius:"50%",color:"#fff",fontSize:"4rem",fontWeight:"bold",textAlign:"center",lineHeight:"90px",transition:"0.3s all ease"},a={box1:{}},s={width:"180px",padding:"1rem",position:"absolute",top:"90px",left:"-60px",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#fff",fontSize:"2rem",fontWeight:"bold",textAlign:"center",lineHeight:"40px",transition:"0.3s all ease",pointerEvents:"none"},l={box1:{opacity:e==="box1"?1:0,width:"230px"},box1_2:{opacity:e==="box1_2"?1:0,width:"260px"},box1_3:{opacity:e==="box1_3"?1:0,width:"250px"},box2:{opacity:e==="box2"?1:0,width:"230px"},box3:{opacity:e==="box3"?1:0,width:"240px"},box4:{opacity:e==="box4"?1:0,width:"240px"}},c=(g,u,d,C,f)=>I.jsx("group",{position:C,rotation:f,children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{style:{...i,...r[d]},onMouseEnter:()=>t(d),onMouseLeave:()=>t(null),children:[I.jsx("div",{style:{...o,...a[d]},children:g}),I.jsx("div",{style:{...s,...l[d]},children:u})]})})});return n==="box1"?I.jsxs(I.Fragment,{children:[c("i","Parqueadero y gradas","box1",[0,-15,335],[-.8,0,0]),c("ii","Edificio Administrativo","box1_2",[-20,50,240],[0,0,0]),c("ii","Sala de docentes","box1_3",[-120,10,245],[0,.3,0])]}):n==="box2"?I.jsx(I.Fragment,{children:c("i","Sala de Docentes","box2",[-105,-22,220],[0,.9,0])}):n==="box3"?I.jsxs(I.Fragment,{children:[c("i","Labs de Biotecnología","box3",[-195,-40,120],[.2,2.4,-.2]),c("i","Labs de Biotecnología","box3",[-175,-40,50],[0,0,0])]}):n==="box4"?I.jsxs(I.Fragment,{children:[c("i","Labs de ITIN","box4",[-130,-40,-140],[.2,2.4,-.2]),c("i","Labs de ITIN","box4",[-120,-40,-260],[0,0,0])]}):null};function Nfe({targetPosition:n,targetFov:e,marker:t}){const{camera:i,gl:r}=Qn(),o=v.useRef();return v.useEffect(()=>{n&&(gp.to(i.position,{x:n.x+30,y:n.y+30,z:n.z+30,duration:1.5,onUpdate:()=>{i.lookAt(n),i.updateProjectionMatrix()}}),gp.to(i,{fov:e,duration:1.5,onUpdate:()=>i.updateProjectionMatrix()}),gp.to(o.current.target,{x:n.x,y:n.y,z:n.z,duration:1.5,onUpdate:()=>o.current.update()}))},[n,e]),I.jsxs(I.Fragment,{children:[I.jsx("ambientLight",{intensity:1.5}),I.jsx(Vfe,{marker:t}),I.jsx(Wfe,{}),I.jsx(s1,{ref:o,args:[i,r.domElement],enableDamping:!0,dampingFactor:.1,enablePan:!1,enableRotate:!0,enableZoom:!0,minDistance:50,maxDistance:200})]})}const Ffe=()=>{const[n,e]=v.useState({position:new k(0,0,320),fov:100,marker:"box1"}),t=i=>{const r={box1:{position:new k(0,0,320),fov:100,marker:"box1"},box2:{position:new k(-120,-38,200),fov:60,marker:"box2"},box3:{position:new k(-185,-44,80),fov:35,marker:"box3"},box4:{position:new k(-120,-44,-200),fov:35,marker:"box4"},box5:{position:new k(-165,-20,0),fov:35,marker:"box5"}};e(r[i])};return I.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[I.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[I.jsx("span",{style:{padding:"1%",fontWeight:"bold",textAlign:"center",fontSize:"1.6rem"},children:"Bienvenido a la Universidad de las Fuerzas Armadas ESPE "}),I.jsx("br",{}),I.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[I.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},children:[I.jsx("span",{style:{fontWeight:"bold",textAlign:"center"},children:"Activar control"}),I.jsx("img",{style:{filter:"contrast(60%)",margin:"auto",width:"50%"},src:"/recorrido-virtual-espe/img/UI/mouse.gif",alt:"Mouse Interaction"})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},children:[I.jsx("span",{style:{fontWeight:"bold",textAlign:"center"},children:"Activar puntero mouse"}),I.jsx("img",{style:{margin:"auto",width:"35%"},src:"/recorrido-virtual-espe/img/UI/esc.gif",alt:"esc"})]})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[I.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},children:[I.jsx("span",{style:{fontWeight:"bold",textAlign:"center"},children:"Movimiento"}),I.jsx("img",{style:{margin:"auto",width:"50%"},src:"/recorrido-virtual-espe/img/UI/wasd.gif",alt:"wasd"})]}),I.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%"},children:[I.jsx("span",{style:{fontWeight:"bold",textAlign:"center"},children:"Menú de opciones"}),I.jsx("img",{style:{margin:"auto",width:"50%"},src:"/recorrido-virtual-espe/img/UI/space.gif",alt:"espacio"})]})]})]}),I.jsxs("div",{style:{width:"100%",height:"400px",position:"relative"},children:[I.jsx(X0,{defaultValue:"box1",style:{position:"absolute",zIndex:1,top:10,right:10,width:"40%"},onChange:t,options:[{value:"box1",label:"General"},{value:"box2",label:"Sala de Docentes"},{value:"box3",label:"Laboratorios Biotecnología"},{value:"box4",label:"Labs Tecnologías de la Información"},{value:"box5",label:"Aulas"}]}),I.jsx(pg,{children:I.jsx(Nfe,{targetPosition:n.position,targetFov:n.fov,marker:n.marker})})]})]})},Hfe=({open:n,onClose:e,setPositionCharacter:t,openMapa:i})=>{const[r,o]=v.useState(!1),a=()=>{o(!0)},s=()=>{o(!1)},l=[{key:"1",icon:I.jsx(BIe,{}),label:"Controles y vista panorámica",onClick:i},{key:"2",icon:I.jsx(wIe,{}),label:"Acerca de",onClick:a}],c=[{key:"1",icon:I.jsx(bIe,{}),label:I.jsx("a",{href:"https://github.com/Sammy593",target:"_blank",rel:"noopener noreferrer",children:"Más proyectos"})}],g=[{key:"1",label:"Sobre este proyecto",children:"Este proyecto fue desarrollado como parte de Proyecto de grado de la carrera de Ingeniería en Tecnologías de la Información de la Universidad de las Fuerzas Armadas ESPE, con el objetivo de contribuir en la promoción de la institución y su oferta académica."},{key:"2",label:"Desarrollado por",children:I.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[I.jsx("p",{children:"Samuel Ledesma"}),I.jsx("small",{children:"- Carrera de Ingeniería en Tecnologías de la Información"})]})},{key:"3",label:"Bajo la dirección de",children:I.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[I.jsx("p",{children:"Ing. Christian Coronel"}),I.jsx("small",{children:"- Docente de la carrera de Ingeniería en Tecnologías de la Información"})]})}];return I.jsxs(Zv,{title:"Menú",width:520,closable:!1,onClose:e,open:n,maskClosable:!1,extra:I.jsx(wz,{style:{display:"flex",justifyContent:"flex-end",color:"gray"},children:I.jsx("small",{children:"Presione 'Espacio' para cerrar"})}),children:[I.jsxs(V0e,{gutter:[24,12],children:[I.jsx(Sl,{span:24,style:{textAlign:"center"},children:I.jsx("img",{style:{width:"50%",height:"90%",margin:"0"},src:"/recorrido-virtual-espe/img/logo_espe.webp",alt:"ESPE"})}),I.jsx(Sl,{span:24,children:I.jsx("strong",{children:" Ir a "})}),I.jsx(Sl,{span:12,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([431.413,5,50]),children:"Inicio"})}),I.jsx(Sl,{span:12,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([0,7,0]),children:"Sala de Docentes"})}),I.jsx(Sl,{span:12,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([15,7,-370]),children:"Aulas"})}),I.jsx(Sl,{span:12,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([-55,-8,-85]),children:"Laboratorios de Biotecnología"})}),I.jsx(Sl,{span:24,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([17,-8.5,-357]),children:"Laboratorios de Tecnologías de la Información"})}),I.jsx(Sl,{span:12,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([-120,7,-20]),children:"Área de Estudiantes"})}),I.jsx(Sl,{span:12,children:I.jsx(oa,{style:{width:"100%"},type:"default",onClick:()=>t([165,7,-9]),children:"Lab de Fabricación Digital"})})]}),I.jsx(IM,{style:{borderColor:"#7cb305"}}),I.jsx(Ju,{style:{width:"100%"},items:l,mode:"inline",theme:"light"}),I.jsx("div",{style:{width:"100%",height:"100%",overflow:"hidden",position:"absolute"},children:I.jsx("img",{style:{width:"90%",height:"12%"},src:"/recorrido-virtual-espe/img/espe-fondo.webp",alt:"ESPE"})}),I.jsxs(Zv,{title:"Acerca de",width:320,closable:!0,onClose:s,open:r,children:[I.jsx(pz,{title:"",column:1,layout:"vertical",items:g}),I.jsx(IM,{}),I.jsx(Ju,{style:{width:"100%"},items:c,mode:"inline",theme:"light"})]})]})};xr({TextGeometry:ao});const Efe=()=>{const n=new oo().parse(so),e=Ai(Fr,"/recorrido-virtual-espe/img/carteleras/estudiantes1.png");return I.jsx(I.Fragment,{children:I.jsxs("group",{position:[-117,10,-15],rotation:[0,-1.55,0],scale:2,children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[4,1]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-1.72,.32,.01],children:[I.jsx("textGeometry",{args:["Area de Estudiantes",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[0,-1,0],children:[I.jsx("planeGeometry",{args:[4.5,1.5]}),I.jsx("meshBasicMaterial",{map:e})]})]})})};xr({TextGeometry:ao});const Xfe=({setPositionCharacter:n})=>{const e="/recorrido-virtual-espe/audios/hover1.mp3",[t,i]=v.useState(!1),r=[{key:"grp",label:"Selecciona un piso para visitar",type:"group",children:[{key:"0",label:"Planta baja",title:"Planta baja",onClick:()=>n([123,10,-60])},{key:"1",label:"Piso 1",title:"Piso 1",onClick:()=>n([124,32,-35])},{key:"2",label:"Piso 2",onClick:()=>n([124,50,-35])},{key:"3",label:"Piso 3",onClick:()=>n([124,65,-35])},{key:"4",label:"Piso 4",onClick:()=>n([124,88,-37])}]}],o=c=>{new Audio(c).play()},a=()=>{o(e),i(!0)},s=()=>{i(!1)};v.useEffect(()=>{const c=g=>{g.key==="Enter"&&s()};return t?document.addEventListener("keydown",c):document.removeEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[t]);const l=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[124.581,8,-27],rotation:[.55,3.11,0],scale:2,children:[I.jsxs("mesh",{position:[0,.15,0],onClick:a,children:[I.jsx("planeGeometry",{args:[1.5,.22]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[1.5,.2]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-.2,.35,.01],children:[I.jsx("textGeometry",{args:["Ascensor",{font:l,size:.09,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[-.3,.13,.01],children:[I.jsx("textGeometry",{args:["-- Seleccionar piso --",{font:l,size:.05,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[124.581,28,-27],rotation:[.55,3.11,0],scale:2,children:[I.jsxs("mesh",{position:[0,.15,0],onClick:a,children:[I.jsx("planeGeometry",{args:[1.5,.22]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[1.5,.2]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-.2,.35,.01],children:[I.jsx("textGeometry",{args:["Ascensor",{font:l,size:.09,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[-.3,.13,.01],children:[I.jsx("textGeometry",{args:["-- Seleccionar piso --",{font:l,size:.05,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[124.581,48,-27],rotation:[.55,3.11,0],scale:2,children:[I.jsxs("mesh",{position:[0,.15,0],onClick:a,children:[I.jsx("planeGeometry",{args:[1.5,.22]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[1.5,.2]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-.2,.35,.01],children:[I.jsx("textGeometry",{args:["Ascensor",{font:l,size:.09,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[-.3,.13,.01],children:[I.jsx("textGeometry",{args:["-- Seleccionar piso --",{font:l,size:.05,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[124.581,68,-27],rotation:[.55,3.11,0],scale:2,children:[I.jsxs("mesh",{position:[0,.15,0],onClick:a,children:[I.jsx("planeGeometry",{args:[1.5,.22]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[1.5,.2]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-.2,.35,.01],children:[I.jsx("textGeometry",{args:["Ascensor",{font:l,size:.09,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[-.3,.13,.01],children:[I.jsx("textGeometry",{args:["-- Seleccionar piso --",{font:l,size:.05,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[124.581,85,-27],rotation:[.55,3.11,0],scale:2,children:[I.jsxs("mesh",{position:[0,.15,0],onClick:a,children:[I.jsx("planeGeometry",{args:[1.5,.22]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[1.5,.2]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-.2,.35,.01],children:[I.jsx("textGeometry",{args:["Ascensor",{font:l,size:.09,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[-.3,.13,.01],children:[I.jsx("textGeometry",{args:["-- Seleccionar piso --",{font:l,size:.05,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsx(ba,{children:I.jsx(Hr,{title:"Edificio Administrativo ESPE",open:t,onCancel:s,width:350,centered:!0,footer:[I.jsxs(I.Fragment,{children:[I.jsx("span",{style:{color:"gray"},children:"Presiona 'Enter' para cerrar"}),I.jsx("br",{}),I.jsx("span",{style:{color:"gray"},children:"Presiona 'Esc' para habilitar mouse"})]})],children:I.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"left"},children:I.jsx("div",{style:{display:"flex",flexDirection:"column"},children:I.jsx(Ju,{style:{width:300},mode:"inline",items:r})})})})})]})};xr({TextGeometry:ao});const Gc=n=>{const e=new oo().parse(so),[t,i]=v.useState(n.position),r=v.useCallback(()=>{i(s=>[s[0],s[1]+(s[1]===n.position[1]?1:-1),s[2]]),window.open("http://localhost:5173/aula1","_blank")},[n.position]),o=Ai(Fr,"/recorrido-virtual-espe/img/UI/mouse2.png"),a=v.useRef(null);return Pi(()=>{const s=Date.now()*.008,l=Math.sin(s)*.03;a.current&&(a.current.position.y=1.1+l)}),I.jsxs("group",{position:t,rotation:n.rotation,children:[I.jsxs("mesh",{ref:a,position:[0,1.1,0],scale:[.7,1,1],children:[I.jsx("circleGeometry",{args:[.3,32]}),I.jsx("meshBasicMaterial",{map:o})]}),I.jsxs("mesh",{position:[0,.4,0],onClick:r,children:[I.jsx("planeGeometry",{args:[2.2,.8]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-.75,.25,.01],onClick:r,children:[I.jsx("textGeometry",{args:["- Ver aula -",{font:e,size:.25,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})};xr({TextGeometry:ao});const zfe=()=>{const n=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[405,2,30],rotation:[0,.4,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[17,4]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-7.5,.1,.01],children:[I.jsx("textGeometry",{args:["Estas en el ingreso a la ESPE",{font:n,size:.9,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]})]}),I.jsxs("group",{position:[310,3,20],rotation:[0,.2,0],children:[I.jsxs("mesh",{position:[0,-2.6,0],children:[I.jsx("cylinderGeometry",{args:[.2,.2,3.5,32]}),I.jsx("meshBasicMaterial",{color:new ke("#4B4B4B")})]}),I.jsxs("mesh",{position:[0,1,0],children:[I.jsx("boxGeometry",{args:[10,5,.1]})," ",I.jsx("meshBasicMaterial",{color:new ke("#FFFFFF")})]}),I.jsxs("mesh",{position:[-3,2,.1],children:[I.jsx("textGeometry",{args:["Abre el menú para ",{font:n,size:.6,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]}),I.jsxs("mesh",{position:[-4.5,1,.1],children:[I.jsx("textGeometry",{args:["seleccionar una ubicación,",{font:n,size:.6,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]}),I.jsxs("mesh",{position:[-3.5,0,.1],children:[I.jsx("textGeometry",{args:["o continua explorando",{font:n,size:.6,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[175,15,-16],rotation:[0,-1.6,0],children:[I.jsxs("mesh",{position:[-2.5,.9,.01],children:[I.jsx("textGeometry",{args:["Laboratorio de",{font:n,size:.7,depth:.03}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"green"})]}),I.jsxs("mesh",{position:[-4,-.4,.01],children:[I.jsx("textGeometry",{args:["Fabricación Digital",{font:n,size:.9,depth:.03}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"green"})]})]})]})};xr({TextGeometry:ao});const Yfe=()=>{const n="/recorrido-virtual-espe/audios/hover1.mp3",[e,t]=v.useState(!1),i=v.useRef(null),r=u=>{new Audio(u).play()},o=()=>{r(n),t(!0),i.current&&i.current.play()},a=()=>{t(!1),i.current&&i.current.pause()};v.useEffect(()=>{const u=d=>{d.key==="Enter"&&a()};return e?document.addEventListener("keydown",u):document.removeEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[e]);const s=new oo().parse(so),l=Ai(Fr,"/recorrido-virtual-espe/img/logo_espe.webp"),c=v.useRef(null),g=v.useRef(null);return Pi(()=>{const u=Date.now()*.003,d=Math.sin(u)*.01;c.current&&(c.current.position.y=.4+d),g.current&&(g.current.position.y=.35+d)}),I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[124.407,8.207,3.01],rotation:[-.55,0,0],children:[I.jsxs("mesh",{position:[0,-.25,0],onClick:o,children:[I.jsx("planeGeometry",{args:[1.5,1]}),I.jsx("meshBasicMaterial",{map:l})]}),I.jsxs("mesh",{position:[0,.4,0],ref:c,children:[I.jsx("planeGeometry",{args:[1.5,.2]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-.5,.35,.01],ref:g,children:[I.jsx("textGeometry",{args:["Himno de la ESPE",{font:s,size:.09,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]}),I.jsxs("mesh",{position:[-.35,-.7,.01],children:[I.jsx("textGeometry",{args:["- Click aqui para escuchar -",{font:s,size:.05,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsx(ba,{children:I.jsx(Hr,{title:"Himno de la ESPE",open:e,onCancel:a,width:1e3,centered:!0,footer:[I.jsx("span",{style:{color:"gray"},children:"Presiona la tecla 'Enter' para cerrar"})],children:I.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[I.jsxs("video",{ref:i,width:"500",controls:!0,autoPlay:!0,loop:!0,style:{border:"0.5px solid black",borderRadius:"5px"},children:[I.jsx("source",{src:"/recorrido-virtual-espe/video/himno_espe.mp4",type:"video/mp4"}),"Tu navegador no soporta la reproduccion de video para este sitio."]}),I.jsxs("div",{style:{marginLeft:"3%",display:"flex",flexDirection:"column"},children:[I.jsx("span",{style:{fontWeight:"bold",textAlign:"center"},children:"CORO"}),I.jsx("span",{style:{textAlign:"center"},children:"Bajo el sacro pendón de la Patria, Alma Máter escribes la historia; y es eterna tu egregia memoria de progreso, trabajo y honor."}),I.jsx("br",{}),I.jsx("span",{style:{fontWeight:"bold",textAlign:"center"},children:"ESTROFAS"}),I.jsx("span",{style:{textAlign:"center"},children:"Las trompetas anuncian tu nombre en sonoros compases de plata; y tu nombre se vuelve sonata, en los campos de mirto y laurel."}),I.jsx("br",{}),I.jsx("span",{style:{textAlign:"center"},children:"Templo vivo de un sueño de gloria, esperanza de un pueblo en granito, juramento de amor infinito, a la Patria, la ciencia y al bien."}),I.jsx("br",{}),I.jsx("span",{style:{textAlign:"center"},children:"Forjadora del arte y la ciencia, de las Fuerzas Armadas seguro, tú serás más allá del futuro, el baluarte del nuevo Ecuador."})]})]})})})]})};xr({TextGeometry:ao});const _f=n=>{const e=new oo().parse(so),[t,i]=v.useState(n.position),r=v.useCallback(()=>{i(s=>[s[0],s[1]+(s[1]===n.position[1]?1:-1),s[2]]),window.open(n.url,"_blank")},[n.position]),o=Ai(Fr,"/recorrido-virtual-espe/img/UI/mouse2.png"),a=v.useRef(null);return Pi(()=>{const s=Date.now()*.008,l=Math.sin(s)*.03;a.current&&(a.current.position.y=1.1+l)}),I.jsxs("group",{position:t,rotation:n.rotation,children:[I.jsxs("mesh",{ref:a,position:[0,1.1,0],scale:[.7,1,1],children:[I.jsx("circleGeometry",{args:[.3,32]}),I.jsx("meshBasicMaterial",{map:o})]}),I.jsxs("mesh",{position:[0,.4,0],onClick:r,children:[I.jsx("planeGeometry",{args:n.args}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:n.p2,onClick:r,children:[I.jsx("textGeometry",{args:[n.txt,{font:e,size:.25,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})};xr({TextGeometry:ao});const Wf=n=>{const e=new oo().parse(so),[t,i]=v.useState(n.position),r=v.useCallback(()=>{i(s=>[s[0],s[1]+(s[1]===n.position[1]?1:-1),s[2]]),window.open(n.url,"_blank")},[n.position]),o=Ai(Fr,"/recorrido-virtual-espe/img/UI/mouse2.png"),a=v.useRef(null);return Pi(()=>{const s=Date.now()*.008,l=Math.sin(s)*.03;a.current&&(a.current.position.y=1.1+l)}),I.jsxs("group",{position:t,rotation:n.rotation,children:[I.jsxs("mesh",{ref:a,position:[0,1.1,0],scale:[.7,1,1],children:[I.jsx("circleGeometry",{args:[.3,32]}),I.jsx("meshBasicMaterial",{map:o})]}),I.jsxs("mesh",{position:[0,.4,0],onClick:r,children:[I.jsx("planeGeometry",{args:[3,.8]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.25,.25,.01],onClick:r,children:[I.jsx("textGeometry",{args:["- Ver laboratorio -",{font:e,size:.25,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})};xr({TextGeometry:ao});const Kfe=()=>{const n=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[138,30,-43],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[12,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-5.4,.25,.01],children:[I.jsx("textGeometry",{args:["Unidad de Tecnologías de la Información y Comunicaciones",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,30,-67],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.5,.25,.01],children:[I.jsx("textGeometry",{args:["Unidad de Talento Humano",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,28.8,-80],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.8,.25,.01],children:[I.jsx("textGeometry",{args:["Seguridad Integrada",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,30,-80],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.8,.25,.01],children:[I.jsx("textGeometry",{args:["Trabajo Social",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,30,-105],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[4,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1,.25,.01],children:[I.jsx("textGeometry",{args:["Psicología",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,30,-126],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[4,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1,.25,.01],children:[I.jsx("textGeometry",{args:["Tesorería",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,30,-135],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.7,.25,.01],children:[I.jsx("textGeometry",{args:["Dirección Financiera",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,30,-90],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[12,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-4.5,.25,.01],children:[I.jsx("textGeometry",{args:["HUB: Centro de transferencia, innovación y desarrollo",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})]})};xr({TextGeometry:ao});const Lfe=()=>{const n=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[138,50,-46],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.5,.25,.01],children:[I.jsx("textGeometry",{args:["Compras Públicas",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,50,-67],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.1,.25,.01],children:[I.jsx("textGeometry",{args:["Unidad de Logística",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,50,-80],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.1,.25,.01],children:[I.jsx("textGeometry",{args:["Unidad de Bienes",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,50,-100],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.9,.25,.01],children:[I.jsx("textGeometry",{args:["Unidad de Remanentes",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,50,-108.2],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.4,.25,.01],children:[I.jsx("textGeometry",{args:["Unidad de Desarrollo Físico",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,50,-130],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5.5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.1,.25,.01],children:[I.jsx("textGeometry",{args:["Área de comercialización",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,50,-140],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6.5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-3,.25,.01],children:[I.jsx("textGeometry",{args:["Jefatura administrativa financiera",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,50,-135],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[7,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.5,.25,.01],children:[I.jsx("textGeometry",{args:["Contabilidad",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,50,-105],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.1,.25,.01],children:[I.jsx("textGeometry",{args:["Contabilidad",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,50,-90],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.1,.25,.01],children:[I.jsx("textGeometry",{args:["Presupuesto",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,50,-75],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.1,.25,.01],children:[I.jsx("textGeometry",{args:["Presupuesto",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,50,-64],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.1,.25,.01],children:[I.jsx("textGeometry",{args:["Desarrollo Físico",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})]})};xr({TextGeometry:ao});const Tfe=()=>{const n=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[138,70,-46],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.7,.25,.01],children:[I.jsx("textGeometry",{args:["Jefatura Académica",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,70,-67],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1,.25,.01],children:[I.jsx("textGeometry",{args:["Jurídico",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,70,-80],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.1,.25,.01],children:[I.jsx("textGeometry",{args:["Comunición Social",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,70,-105],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[9,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-3.5,.25,.01],children:[I.jsx("textGeometry",{args:["Jefatura de Vinculación e Investigación",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,70,-130],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.5,.25,.01],children:[I.jsx("textGeometry",{args:["Sala de reuniones",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,70,-135],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[7,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.5,.25,.01],children:[I.jsx("textGeometry",{args:["Subdirección",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,70,-105],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.1,.25,.01],children:[I.jsx("textGeometry",{args:["Planificación",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[118.1,70,-89],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[4,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.1,.25,.01],children:[I.jsx("textGeometry",{args:["",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[108,67,-75],rotation:[0,1,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2,.25,.01],children:[I.jsx("textGeometry",{args:["Secretaría Subdirección",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})]})};xr({TextGeometry:ao});const kfe=()=>{const n=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[138,88,-40],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1.7,.25,.01],children:[I.jsx("textGeometry",{args:["Secretaría Dirección",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131,88,-67],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1,.25,.01],children:[I.jsx("textGeometry",{args:["Dirección",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[124.5,89,-83],rotation:[0,0,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-1,.25,.01],children:[I.jsx("textGeometry",{args:["Auditorio",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})]})};xr({TextGeometry:ao});const Pfe=()=>{const n=new oo().parse(so);return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[131.5,10,-74],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[8,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-3.5,.25,.01],children:[I.jsx("textGeometry",{args:["Dtpo. Ciencias de la vida y la agricultura",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131.5,10,-95],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[7,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-3,.25,.01],children:[I.jsx("textGeometry",{args:["Dtpo. Ciencias de la comunicación",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131.5,10,-123],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.2,.25,.01],children:[I.jsx("textGeometry",{args:["Carrera de Biotecnología",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[131.5,10,-137],rotation:[0,-Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.2,.25,.01],children:[I.jsx("textGeometry",{args:["Carrera de Agropecuaria",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[121.4,10,-137],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.2,.25,.01],children:[I.jsx("textGeometry",{args:["Dpto. Ciencias Exactas",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[121.4,10,-105.5],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[6,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.9,.25,.01],children:[I.jsx("textGeometry",{args:["Carrera de Tecnologías de la Información",{font:n,size:.24,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]}),I.jsxs("group",{position:[121.4,10,-93.7],rotation:[0,Math.PI/2,0],children:[I.jsxs("mesh",{position:[0,.4,0],children:[I.jsx("planeGeometry",{args:[5.5,1]}),I.jsx("meshBasicMaterial",{color:new ke("white")})]}),I.jsxs("mesh",{position:[-2.1,.25,.01],children:[I.jsx("textGeometry",{args:["Secretaría Académica",{font:n,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"black"})]})]})]})};xr({TextGeometry:ao});const Dfe=()=>{const n="/recorrido-virtual-espe/audios/hover1.mp3",e=new oo().parse(so),[t,i]=v.useState(!1),r=v.useRef(new Audio(n)),o=a=>{i(a),a&&r.current.play()};return I.jsxs(I.Fragment,{children:[I.jsxs("group",{position:[71,13,-2.258],rotation:[0,1.55,0],children:[I.jsxs("mesh",{position:[0,.4,0],onPointerOver:()=>o(!0),onPointerOut:()=>o(!1),children:[I.jsx("planeGeometry",{args:[3.5,1]}),I.jsx("meshBasicMaterial",{color:new ke("#2D2B2B")})]}),I.jsxs("mesh",{position:[-1.5,.32,.01],children:[I.jsx("textGeometry",{args:["Sala de Docentes",{font:e,size:.3,depth:.01}]}),I.jsx("meshBasicMaterial",{attach:"material",color:"white"})]})]}),I.jsx(ba,{children:I.jsx(Hr,{title:"",open:t,width:600,centered:!0,closable:!1,footer:null,children:I.jsx("div",{style:{padding:"3%"},children:"En esta sala se encuentran más de 60 docentes de los departamentos de Ciencias de la Computación, Ciencias de la Vida, y Ciencias Exactas."})})})]})},Ufe=({setPositionCharacter:n})=>I.jsxs(I.Fragment,{children:[I.jsx(Yfe,{}),I.jsx(Dfe,{}),I.jsx(Efe,{}),I.jsx(Xfe,{setPositionCharacter:e=>n(e)}),I.jsx(zfe,{}),I.jsx(Gc,{position:[-71.5,9,-86],rotation:[0,1.27,0]}),I.jsx(Gc,{position:[-125,9,-100],rotation:[0,-1.7,0]}),I.jsx(Gc,{position:[-40,9,-210],rotation:[0,1.27,0]}),I.jsx(Gc,{position:[-97,9,-210],rotation:[0,-1.75,0]}),I.jsx(Gc,{position:[.7,9,-372],rotation:[0,1.27,0]}),I.jsx(Gc,{position:[-56,9,-372],rotation:[0,-1.7,0]}),I.jsx(Gc,{position:[25,9,-468],rotation:[0,1.27,0]}),I.jsx(Gc,{position:[-31,9,-468],rotation:[0,-1.7,0]}),I.jsx(Wf,{position:[27,-10,-468],rotation:[0,1.27,0],url:"#/itin01"}),I.jsx(Wf,{position:[29,-10,-481],rotation:[0,1.27,0],url:"#/itin01"}),I.jsx(Wf,{position:[3,-10,-371],rotation:[0,1.27,0],url:"#/itin03"}),I.jsx(Wf,{position:[0,-10,-357],rotation:[0,1.27,0],url:"#/itin03"}),I.jsx(_f,{p2:[-1.5,.25,.01],args:[4,.8],txt:"Laboratorio Química",position:[-37,-10,-209],rotation:[0,1.27,0],url:"#/b01"}),I.jsx(_f,{p2:[-1.5,.25,.01],args:[5,.8],txt:"Biotecnología Vegetal",position:[-40,-10,-196],rotation:[0,1.27,0],url:"#/b01"}),I.jsx(_f,{p2:[-2.7,.25,.01],args:[7,.8],txt:"Biotecnología industrial y alimentaria",position:[-65,-10,-100],rotation:[0,1.27,0],url:"#/b03"}),I.jsx(_f,{p2:[-1.1,.25,.01],args:[4,.8],txt:"Biología Celular",position:[-70,-10,-86],rotation:[0,1.27,0],url:"#/b01"}),I.jsx(Pfe,{}),I.jsx(Kfe,{}),I.jsx(Lfe,{}),I.jsx(Tfe,{}),I.jsx(kfe,{})]}),Ofe=()=>{const[n,e]=v.useState(.8),[t,i]=v.useState(!1),[r,o]=v.useState(!1),[a,s]=v.useState(!1),[l,c]=v.useState(!1),g=v.useRef(null),[u,d]=v.useState([431.413,5,50]),C="/recorrido-virtual-espe/audios/click2.mp3",f="/recorrido-virtual-espe/audios/hover1.mp3",b=B=>{new Audio(B).play()},A=()=>{b(C),i(!0),o(!0)},p=()=>{b(C),o(!1),l&&c(!1),s(!0)},y=B=>{B.code==="Space"&&(l?(c(!1),s(!0)):(c(!0),s(!1),document.exitPointerLock()))};return v.useEffect(()=>(window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)),[l]),I.jsxs(I.Fragment,{children:[I.jsx(pme,{started:t,onStarted:A,onHover:()=>b(f)}),I.jsxs(pg,{dpr:n,performance:{min:.36,max:.8},camera:{fov:45,near:.1,far:1e3},gl:{antialias:!0,toneMapping:cA},children:[t&&I.jsx(Gne,{}),I.jsx(kne,{onIncline:()=>e(.8),onDecline:()=>e(.36)}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(fme,{positionCharacter:u}),I.jsx(Ufe,{setPositionCharacter:B=>d(B)})]}),a&&t&&!r&&!l&&I.jsx(vne,{ref:g})]}),t&&I.jsxs("div",{style:{bottom:"0",width:"100%",position:"absolute",display:"flex",justifyContent:"right",padding:"1%"},children:[I.jsx("span",{style:{width:"10%",color:"white",fontWeight:"700",textAlign:"center",fontSize:"1rem"},children:"Menú"}),I.jsx("img",{style:{width:"10%"},src:"/recorrido-virtual-espe/img/UI/space2.png",alt:"espacio"})]}),t&&I.jsx(Hr,{title:"",open:r,onCancel:p,width:1200,closable:!1,destroyOnClose:!0,maskClosable:!1,centered:!0,footer:I.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center",padding:"16px"},children:I.jsx(oa,{type:"primary",style:{width:"40%"},onClick:p,children:"Empezar"})}),children:I.jsx(Ffe,{})}),t&&!r&&I.jsx(Hfe,{open:l,onClose:()=>c(!1),setPositionCharacter:B=>d(B),openMapa:()=>o(!0)})]})};function jfe(){const n=v.useRef(null);Pi(({camera:t})=>{n.current&&n.current.lookAt(t.position)});const e=()=>{window.close()};return I.jsx(I.Fragment,{children:I.jsx("group",{ref:n,position:[30,4,-25],children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{className:"floatPoint floatPoint-0",onClick:e,children:[I.jsx("div",{className:"floatLabel",children:"🔻"}),I.jsx("div",{className:"floatText",children:"Salir"})]})})})})}const Ub=[{name:"1",url:"/recorrido-virtual-espe/img/360/aulaA01_2.webp",link:1}];function Jfe({texture:n}){return I.jsxs("group",{children:[I.jsxs("mesh",{scale:[-1,1,1],children:[I.jsx("sphereGeometry",{args:[500,60,40]}),I.jsx("meshBasicMaterial",{map:n,side:ki})]}),I.jsx(jfe,{})]})}function Qfe(){const[n,e]=v.useState(0),t=Ai(Fr,Ub.map(o=>o.url)),i=()=>{Ub[n].link!==null&&e(Ub[n].link)},r=()=>{n>0&&e(n-1)};return I.jsx(Jfe,{texture:t[n],onClickNext:i,onClickPrev:r})}const $fe=()=>I.jsxs(pg,{frameloop:"demand",camera:{position:[0,0,.1]},children:[I.jsx(s1,{enableZoom:!1,enablePan:!1,enableDamping:!0,dampingFactor:.2,autoRotate:!1,rotateSpeed:-.4}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(_0,{all:!0}),I.jsx(Qfe,{})]})]});function epe(){const n=v.useRef(null);Pi(({camera:t})=>{n.current&&n.current.lookAt(t.position)});const e=()=>{window.close()};return I.jsx(I.Fragment,{children:I.jsx("group",{ref:n,position:[30,4,-25],children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{className:"floatPoint floatPoint-0",onClick:e,children:[I.jsx("div",{className:"floatLabel",children:"🔻"}),I.jsx("div",{className:"floatText",children:"Salir"})]})})})})}const Ob=[{name:"1",url:"/recorrido-virtual-espe/img/360/ITIN01.webp",link:1}];function tpe({texture:n}){return I.jsxs("group",{children:[I.jsxs("mesh",{scale:[-1,1,1],children:[I.jsx("sphereGeometry",{args:[500,60,40]}),I.jsx("meshBasicMaterial",{map:n,side:ki})]}),I.jsx(epe,{})]})}function npe(){const[n,e]=v.useState(0),t=Ai(Fr,Ob.map(o=>o.url)),i=()=>{Ob[n].link!==null&&e(Ob[n].link)},r=()=>{n>0&&e(n-1)};return I.jsx(tpe,{texture:t[n],onClickNext:i,onClickPrev:r})}const ipe=()=>I.jsxs(pg,{frameloop:"demand",camera:{position:[0,0,.1]},children:[I.jsx(s1,{enableZoom:!1,enablePan:!1,enableDamping:!0,dampingFactor:.2,autoRotate:!1,rotateSpeed:-.4}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(_0,{all:!0}),I.jsx(npe,{})]})]});function rpe(){const n=v.useRef(null);Pi(({camera:t})=>{n.current&&n.current.lookAt(t.position)});const e=()=>{window.close()};return I.jsx(I.Fragment,{children:I.jsx("group",{ref:n,position:[30,4,-5],children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{className:"floatPoint floatPoint-0",onClick:e,children:[I.jsx("div",{className:"floatLabel",children:"🔻"}),I.jsx("div",{className:"floatText",children:"Salir"})]})})})})}const jb=[{name:"1",url:"/recorrido-virtual-espe/img/360/ITIN03.webp",link:1}];function ope({texture:n}){return I.jsxs("group",{children:[I.jsxs("mesh",{scale:[-1,1,1],children:[I.jsx("sphereGeometry",{args:[500,60,40]}),I.jsx("meshBasicMaterial",{map:n,side:ki})]}),I.jsx(rpe,{})]})}function ape(){const[n,e]=v.useState(0),t=Ai(Fr,jb.map(o=>o.url)),i=()=>{jb[n].link!==null&&e(jb[n].link)},r=()=>{n>0&&e(n-1)};return I.jsx(ope,{texture:t[n],onClickNext:i,onClickPrev:r})}const spe=()=>I.jsxs(pg,{frameloop:"demand",camera:{position:[0,0,.1]},children:[I.jsx(s1,{enableZoom:!1,enablePan:!1,enableDamping:!0,dampingFactor:.2,autoRotate:!1,rotateSpeed:-.4}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(_0,{all:!0}),I.jsx(ape,{})]})]});function lpe(){const n=v.useRef(null);Pi(({camera:t})=>{n.current&&n.current.lookAt(t.position)});const e=()=>{window.close()};return I.jsx(I.Fragment,{children:I.jsx("group",{ref:n,position:[30,4,-25],children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{className:"floatPoint floatPoint-0",onClick:e,children:[I.jsx("div",{className:"floatLabel",children:"🔻"}),I.jsx("div",{className:"floatText",children:"Salir"})]})})})})}const Jb=[{name:"1",url:"/recorrido-virtual-espe/img/360/B01.webp",link:1}];function cpe({texture:n}){return I.jsxs("group",{children:[I.jsxs("mesh",{scale:[-1,1,1],children:[I.jsx("sphereGeometry",{args:[500,60,40]}),I.jsx("meshBasicMaterial",{map:n,side:ki})]}),I.jsx(lpe,{})]})}function gpe(){const[n,e]=v.useState(0),t=Ai(Fr,Jb.map(o=>o.url)),i=()=>{Jb[n].link!==null&&e(Jb[n].link)},r=()=>{n>0&&e(n-1)};return I.jsx(cpe,{texture:t[n],onClickNext:i,onClickPrev:r})}const upe=()=>I.jsxs(pg,{frameloop:"demand",camera:{position:[0,0,.1]},children:[I.jsx(s1,{enableZoom:!1,enablePan:!1,enableDamping:!0,dampingFactor:.2,autoRotate:!1,rotateSpeed:-.4}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(_0,{all:!0}),I.jsx(gpe,{})]})]});function dpe(){const n=v.useRef(null);Pi(({camera:t})=>{n.current&&n.current.lookAt(t.position)});const e=()=>{window.close()};return I.jsx(I.Fragment,{children:I.jsx("group",{ref:n,position:[30,4,-25],children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{className:"floatPoint floatPoint-0",onClick:e,children:[I.jsx("div",{className:"floatLabel",children:"🔻"}),I.jsx("div",{className:"floatText",children:"Salir"})]})})})})}const Qb=[{name:"1",url:"/recorrido-virtual-espe/img/360/B03.webp",link:1}];function Ipe({texture:n}){return I.jsxs("group",{children:[I.jsxs("mesh",{scale:[-1,1,1],children:[I.jsx("sphereGeometry",{args:[500,60,40]}),I.jsx("meshBasicMaterial",{map:n,side:ki})]}),I.jsx(dpe,{})]})}function Cpe(){const[n,e]=v.useState(0),t=Ai(Fr,Qb.map(o=>o.url)),i=()=>{Qb[n].link!==null&&e(Qb[n].link)},r=()=>{n>0&&e(n-1)};return I.jsx(Ipe,{texture:t[n],onClickNext:i,onClickPrev:r})}const hpe=()=>I.jsxs(pg,{frameloop:"demand",camera:{position:[0,0,.1]},children:[I.jsx(s1,{enableZoom:!1,enablePan:!1,enableDamping:!0,dampingFactor:.2,autoRotate:!1,rotateSpeed:-.4}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(_0,{all:!0}),I.jsx(Cpe,{})]})]});function mpe(){const n=v.useRef(null);Pi(({camera:t})=>{n.current&&n.current.lookAt(t.position)});const e=()=>{window.close()};return I.jsx(I.Fragment,{children:I.jsx("group",{ref:n,position:[30,4,-25],children:I.jsx(ba,{transform:!0,children:I.jsxs("div",{className:"floatPoint floatPoint-0",onClick:e,children:[I.jsx("div",{className:"floatLabel",children:"🔻"}),I.jsx("div",{className:"floatText",children:"Salir"})]})})})})}const $b=[{name:"1",url:"/recorrido-virtual-espe/img/360/edificio/PB01.webp",link:1},{name:"2",url:"/recorrido-virtual-espe/img/360/edificio/PB02.webp",link:null}];function fpe({texture:n,onClickNext:e,onClickPrev:t}){return I.jsxs("group",{children:[I.jsxs("mesh",{scale:[-1,1,1],children:[I.jsx("sphereGeometry",{args:[.5,32,16]}),I.jsx("meshBasicMaterial",{map:n,side:ki})]}),I.jsxs("mesh",{position:[.6,0,.1],onClick:e,castShadow:!0,receiveShadow:!0,children:[I.jsx("sphereGeometry",{args:[.13,64,32]}),I.jsx("meshStandardMaterial",{color:"green",roughness:.5,metalness:.1})]}),I.jsxs("mesh",{position:[-.6,0,-.13],onClick:t,children:[I.jsx("sphereGeometry",{args:[.13,64,32]}),I.jsx("meshStandardMaterial",{color:"red",roughness:.5,metalness:.1})]}),I.jsx(mpe,{})]})}function ppe(){const[n,e]=v.useState(0),t=Ai(Fr,$b.map(o=>o.url)),i=()=>{$b[n].link!==null&&e($b[n].link)},r=()=>{n>0&&e(n-1)};return I.jsx(fpe,{texture:t[n],onClickNext:i,onClickPrev:r})}const Ape=()=>{let n=Fk();return n.piso!=="pb"&&n.piso!=="p1"&&n.piso!=="p2"&&n.piso!=="p3"&&n.piso!=="p4"?(window.location.replace("/notfound"),null):I.jsxs(pg,{camera:{position:[0,0,.1],fov:80},children:[I.jsx(s1,{enableZoom:!1,enablePan:!1,enableDamping:!0,dampingFactor:.2,autoRotate:!1,rotateSpeed:-.4}),I.jsxs(v.Suspense,{fallback:null,children:[I.jsx(_0,{all:!0}),I.jsx("ambientLight",{intensity:.3}),I.jsx("directionalLight",{position:[10,10,10],intensity:1.2,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),I.jsx("directionalLight",{position:[-10,10,-10],intensity:.6}),I.jsx("pointLight",{position:[5,5,5],intensity:.8}),I.jsx("axesHelper",{args:[5]}),n.piso==="pb"&&I.jsx(ppe,{})]})]})};function bpe(){let e=Hk([{path:"/",element:I.jsx(vpe,{}),children:[{index:!0,element:I.jsx(Ofe,{})},{path:"aula1",element:I.jsx($fe,{})},{path:"itin01",element:I.jsx(ipe,{})},{path:"itin03",element:I.jsx(spe,{})},{path:"b01",element:I.jsx(upe,{})},{path:"b03",element:I.jsx(hpe,{})},{path:"edificio/:piso",element:I.jsx(Ape,{})},{path:"*",element:I.jsx(ype,{})}]}]);return I.jsx(I.Fragment,{children:e})}function vpe(){return I.jsxs(I.Fragment,{children:[I.jsx(Qk,{}),I.jsx("div",{className:"dot"})]})}function ype(){return I.jsxs("div",{children:[I.jsx("h2",{children:"It looks like you're lost..."}),I.jsx("p",{children:I.jsx(cP,{to:"/recorrido-virtual-espe/",children:"Go to the home page"})})]})}const Bpe=console.warn;console.warn=function(n,...e){typeof n=="string"&&n.includes("THREE.BufferGeometry.computeVertexNormals():")&&n.includes("has normals facing inwards")||Bpe.apply(console,[n,...e])};zy(document.getElementById("root")).render(I.jsx(aP,{children:I.jsx(rc,{theme:{token:{colorPrimary:"#006935",borderRadius:2,colorBgContainer:"#f6ffed"}},children:I.jsx(bpe,{})})}));
